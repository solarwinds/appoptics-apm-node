npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:49.595Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:49.596Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:49.596Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:49.597Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:49.674Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:49.727Z appoptics:patching patched crypto 
2021-09-13T19:03:49.754Z appoptics:patching patched https 
2021-09-13T19:03:49.754Z appoptics:patching patched http 
2021-09-13T19:03:49.818Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:49.818Z appoptics:patching patched fs 
2021-09-13T19:03:49.839Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v16.9.1)
2021-09-13T19:03:49.850Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-09-13T19:03:50.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-1efb548165b3eb98fa46d101b97ba9fe95671d21-19d53b7518406b54-01 outer:exit 2b-1efb548165b3eb98fa46d101b97ba9fe95671d21-3748012527dbe4d5-01
2021-09-13T19:03:50.065Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:03:50.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-75af7a7a15f104431bdfdef4b7628fffdda1c82c-1e3a7d8c8db28a95-01 outer:exit 2b-75af7a7a15f104431bdfdef4b7628fffdda1c82c-7c7200bfb5dfb69c-01
2021-09-13T19:03:50.146Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:03:50.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb0b2719eece40be4db4977c0e0f9c1fefe62311-461d6c8a61a3e9bf-01 outer:exit 2b-cb0b2719eece40be4db4977c0e0f9c1fefe62311-361a187e8e1d383a-01
2021-09-13T19:03:50.153Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:03:50.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-571f477cca47b7081d2f3420214a6cfd1d68d827-cc40467cdd12a4c4-01 outer:exit 2b-571f477cca47b7081d2f3420214a6cfd1d68d827-13114c87502e3dea-01
2021-09-13T19:03:50.157Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:03:50.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d465959b55ea453847c7512a4892a5bee69d8e-eafc182ec7946697-01 outer:exit 2b-d1d465959b55ea453847c7512a4892a5bee69d8e-25ed388ef9641d31-01
2021-09-13T19:03:50.164Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:03:50.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd71ad1e8e6b25d6aae4fdf8ce39418bdddf938f-732498c92d682219-01 outer:exit 2b-fd71ad1e8e6b25d6aae4fdf8ce39418bdddf938f-39ed8ca74a7e6be3-01
2021-09-13T19:03:50.169Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:03:50.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab2c8c8be0f9d5edc59200c617144d2a5c3340f7-4fd64e0cf02b37bc-01 outer:exit 2b-ab2c8c8be0f9d5edc59200c617144d2a5c3340f7-632db8c1f25eedfd-01
2021-09-13T19:03:50.173Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:03:50.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-33eceeafb262ff29ff72714311800feb4557801a-ff5e89310cbaa224-01 outer:exit 2b-33eceeafb262ff29ff72714311800feb4557801a-1a359151b46af2e2-01
2021-09-13T19:03:50.177Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:03:50.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-5388db6f2ff8c8629d09316811e9bcabac0e2b18-aa62af9aac5950bc-01 outer:exit 2b-5388db6f2ff8c8629d09316811e9bcabac0e2b18-64ec38098e59b4f6-01
2021-09-13T19:03:50.180Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:03:50.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-d944b41431bc7566cfce5b99e6ad16d5f36958fa-afaae6ac95402039-01 outer:exit 2b-d944b41431bc7566cfce5b99e6ad16d5f36958fa-a81966dffc937951-01
2021-09-13T19:03:50.183Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:03:50.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a0e1948995d8e0cf67ea40f1213cbfd9aa3df38-0ac73581215b8d9a-01 outer:exit 2b-4a0e1948995d8e0cf67ea40f1213cbfd9aa3df38-7ad0849dd8219d65-01
2021-09-13T19:03:50.198Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:03:50.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-07aedb7a9758250888bad1bc168515dd7274fe2d-0ee3c1a6d8261c29-01 outer:exit 2b-07aedb7a9758250888bad1bc168515dd7274fe2d-5b3ea31cf5e22b5b-01
2021-09-13T19:03:50.245Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:03:50.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f62727c6594a46f2880bdb5ac2e5f8e84a4fe8f-86efff4412a8aa96-01 outer:exit 2b-0f62727c6594a46f2880bdb5ac2e5f8e84a4fe8f-daea4ff659414304-01
2021-09-13T19:03:50.271Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:03:50.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-781dbc992a298f9b967e988714b99c91f9a8ee37-cdc3567046192dba-01 outer:exit 2b-781dbc992a298f9b967e988714b99c91f9a8ee37-6cbcbf1cea8de4f4-01
2021-09-13T19:03:50.341Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:03:50.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-94546f56aaf18a5ec53bb2eb8ba05874e02e0268-1cf9c86fe13efb3e-01 outer:exit 2b-94546f56aaf18a5ec53bb2eb8ba05874e02e0268-a43211fd042cb09f-01
2021-09-13T19:03:50.347Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:03:50.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-01a0d5b4e8098c5e382fe7ba386e4d6927fe67c1-e365d3642bc76b20-01 outer:exit 2b-01a0d5b4e8098c5e382fe7ba386e4d6927fe67c1-08e47dde9d0ec0ad-01
2021-09-13T19:03:50.350Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:03:50.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec77636c497512a5ae0ed35861e76db0a5596e1a-a696ab09d2985e17-01 outer:exit 2b-ec77636c497512a5ae0ed35861e76db0a5596e1a-e3c5d9fc019ec622-01
2021-09-13T19:03:50.357Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:03:50.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-f087c9f5753c89c97f9619f27de3a6241485696f-d894c60e2084329e-01 outer:exit 2b-f087c9f5753c89c97f9619f27de3a6241485696f-8dd2585834b994c4-01
2021-09-13T19:03:50.361Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:03:50.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-a488f2a0f070f333cb3b1235bb70d0a6e7dc084e-2b8ba1b1abe6a7dc-01 outer:exit 2b-a488f2a0f070f333cb3b1235bb70d0a6e7dc084e-4c5ce23358d031cb-01
2021-09-13T19:03:50.366Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:03:50.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb62a40b6ac7be87e9decf7087122ee68c8c0bb-5555afbb853f0253-01 outer:exit 2b-9cb62a40b6ac7be87e9decf7087122ee68c8c0bb-f5d74357b6b3fb79-01
2021-09-13T19:03:50.370Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:03:50.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7f4afcc819edccf8625549e3e948b9418bfdf1e-d82ea63e6a626c5b-01 outer:exit 2b-a7f4afcc819edccf8625549e3e948b9418bfdf1e-bdc9a9b6d60d0ed2-01
2021-09-13T19:03:50.372Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:03:50.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-6177fbe1c400abe4a73c6a3a49143fb8779ac136-d7bb3987c502122e-01 outer:exit 2b-6177fbe1c400abe4a73c6a3a49143fb8779ac136-2f8bb42c0628c8be-01
2021-09-13T19:03:50.375Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:03:50.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dac4be4744a5ca19dbd92f9d64fb9d20e16d1a1-4cb29faa0be08bc6-01 outer:exit 2b-3dac4be4744a5ca19dbd92f9d64fb9d20e16d1a1-ec2acc86a18980a1-01
2021-09-13T19:03:50.378Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:03:50.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c17f72143766e7119a429df2d51fa86013a0c29-adb36572e43ce0d8-01 outer:exit 2b-8c17f72143766e7119a429df2d51fa86013a0c29-1c894197b41d9d0d-01
2021-09-13T19:03:50.382Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:03:50.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-305c4f1b46bbe33f6129e6f5112add35e681c4ce-5de0a768592f6321-01 outer:exit 2b-305c4f1b46bbe33f6129e6f5112add35e681c4ce-43b54c7d9e6f45ad-01
2021-09-13T19:03:50.385Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:03:50.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a9c1653de3ab20ab6d5e3bb0574501ad8f0a0c5-d49548f9a65a4065-01 outer:exit 2b-2a9c1653de3ab20ab6d5e3bb0574501ad8f0a0c5-f5ce928ba70a7b71-01
2021-09-13T19:03:50.388Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:03:50.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e885ce392293436b4451093fae4dd39aa654fb0-4ba298c8d630a199-01 outer:exit 2b-3e885ce392293436b4451093fae4dd39aa654fb0-e455a3f2c0e3ea6a-01
2021-09-13T19:03:50.434Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:03:50.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-08fa97912d29cd5cb95fd032bf2e7114a2bcb3fb-dd508e726b5511cd-01 outer:exit 2b-08fa97912d29cd5cb95fd032bf2e7114a2bcb3fb-16f61392402d20ef-01
2021-09-13T19:03:50.454Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:03:50.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-45446fcaa955cb9b70a4a3ced5d68e699c168e07-94205a890c343711-01 outer:exit 2b-45446fcaa955cb9b70a4a3ced5d68e699c168e07-9e6f025edf865d1b-01
2021-09-13T19:03:50.466Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:03:50.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a0b0e82f47227568cb796a8e0fbeac2707d1b47-c31463680bc3b50e-01 outer:exit 2b-6a0b0e82f47227568cb796a8e0fbeac2707d1b47-82a195bb976f7e1d-01
2021-09-13T19:03:50.494Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:03:50.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-851cac4219a0cffb590e68ee12c9087a79fe29c5-a45ade4aed94375d-01 outer:exit 2b-851cac4219a0cffb590e68ee12c9087a79fe29c5-a87594e2e6c6fe05-01
2021-09-13T19:03:50.499Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:03:50.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ad88d30e9802863f1a217d562577ff9e26b75b2-89356ef8441e585a-01 outer:exit 2b-7ad88d30e9802863f1a217d562577ff9e26b75b2-9e2344b80a22bfe2-01
2021-09-13T19:03:50.504Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:03:50.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd5f9b2de65dde6e90dc9729b427ee74d2b0bbc2-662fbbfd190742f8-01 outer:exit 2b-fd5f9b2de65dde6e90dc9729b427ee74d2b0bbc2-51471bfddb42b1db-01
2021-09-13T19:03:50.515Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:03:50.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-4abcad699cf12f9a674d01bcc1e8b3fbf41f8d2d-4461d2bcfa8a9bc2-01 outer:exit 2b-4abcad699cf12f9a674d01bcc1e8b3fbf41f8d2d-cea347eca664ead5-01
2021-09-13T19:03:50.529Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:03:50.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb38a325d14e221692727c9a7f834ed29ad44e19-19bf8a7e1f6584aa-01 outer:exit 2b-fb38a325d14e221692727c9a7f834ed29ad44e19-a61af3f2671c19f4-01
2021-09-13T19:03:50.532Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:03:50.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-50a44ae9a5d50b878dc3d4d7653446c01a53e357-9d869692fe0b4916-01 outer:exit 2b-50a44ae9a5d50b878dc3d4d7653446c01a53e357-4580878e278ab334-01
2021-09-13T19:03:50.535Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:03:50.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5cdfc4259a94a594fe25c61eec60ed840b7a3a7-38f7f228b87d0fac-01 outer:exit 2b-e5cdfc4259a94a594fe25c61eec60ed840b7a3a7-4fbb20c3b3cf5484-01
2021-09-13T19:03:50.538Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:03:50.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-875c20bbcbf57a392e0359c0fa6069214653b943-97918795a21ae558-01 outer:exit 2b-875c20bbcbf57a392e0359c0fa6069214653b943-52a39b9ddb86375f-01
2021-09-13T19:03:50.540Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:03:50.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0480adf532dc72d01e07ced07f60edc1430286b-e95dd335f3956479-01 outer:exit 2b-c0480adf532dc72d01e07ced07f60edc1430286b-a45ec695ef1f1176-01
2021-09-13T19:03:50.551Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:03:50.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9202aef15c96fc7b36ce42af9c79d0cd9adb480-775131e77195b9e9-01 outer:exit 2b-e9202aef15c96fc7b36ce42af9c79d0cd9adb480-77c92ae175aa2f98-01
2021-09-13T19:03:50.562Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:03:50.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-c49b11d2f19b56025d215010d55760a40e69a3c5-5190da8c1d1b1c2c-01 outer:exit 2b-c49b11d2f19b56025d215010d55760a40e69a3c5-f024ce889e42f3bf-01
2021-09-13T19:03:50.565Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:03:50.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-32575acb31123cc337b1cd79e882ac4d1b88baf7-daf4d2e34cc0463f-01 outer:exit 2b-32575acb31123cc337b1cd79e882ac4d1b88baf7-2e3a81adb68a48fa-01
2021-09-13T19:03:50.572Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:03:50.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e9e0c20289d63e9e421af4f400d62faf33531f9-6e6426089841676b-01 outer:exit 2b-8e9e0c20289d63e9e421af4f400d62faf33531f9-8f2884f2513bec79-01
2021-09-13T19:03:50.630Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:03:50.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1c623fef4d76fb37a912605238d2f7af85def2e-dc213ef6b19f4e78-01 outer:exit 2b-f1c623fef4d76fb37a912605238d2f7af85def2e-a14a6a371904fff6-01
2021-09-13T19:03:50.667Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (653ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:03:58.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:03:58.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:03:58.362Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:03:58.363Z appoptics:debug using context provider: ace-context
2021-09-13T19:03:58.454Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:03:58.509Z appoptics:patching patched crypto 
2021-09-13T19:03:58.536Z appoptics:patching patched https 
2021-09-13T19:03:58.537Z appoptics:patching patched http 
2021-09-13T19:03:58.605Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:03:58.606Z appoptics:patching patched fs 
2021-09-13T19:03:58.626Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v16.9.1)
2021-09-13T19:03:58.636Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-09-13T19:03:58.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-b523e4c5a9df8937cf1c961474d5f6dcf573dcec-0066517f7ab3dfc8-01 outer:exit 2b-b523e4c5a9df8937cf1c961474d5f6dcf573dcec-114db0644bffc74c-01
2021-09-13T19:03:58.879Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:03:58.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-46f3d52921e32345aa9ac75ee9580cd5ca8aa007-9f42cd54fcb11115-01 outer:exit 2b-46f3d52921e32345aa9ac75ee9580cd5ca8aa007-3d0edd4bdd3846ce-01
2021-09-13T19:03:58.938Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:03:58.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-670b2d172f902ec95588b34631ad8550b3249368-ce60c9054263f359-01 outer:exit 2b-670b2d172f902ec95588b34631ad8550b3249368-7f999414941c5c48-01
2021-09-13T19:03:58.942Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:03:58.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-44c5eb37bfc9e526e36590992aaaeb5fc383305b-3441eacff052ebf1-01 outer:exit 2b-44c5eb37bfc9e526e36590992aaaeb5fc383305b-1007dababfc16d46-01
2021-09-13T19:03:58.950Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:03:58.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-143ce8ad71352c8fc36b46e0d8921e28d45b3bb5-f612d96884cd7f71-01 outer:exit 2b-143ce8ad71352c8fc36b46e0d8921e28d45b3bb5-d329f647563a2085-01
2021-09-13T19:03:58.955Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:03:58.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-338da584851f33ab64a3d400cc137c7408de3ba1-9ddc75955553e1c2-01 outer:exit 2b-338da584851f33ab64a3d400cc137c7408de3ba1-58883fe104032f18-01
2021-09-13T19:03:58.964Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:03:58.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-24182489bce35cbf532bcecfbe29a4ce0f1ed273-ca7510180769e1d4-01 outer:exit 2b-24182489bce35cbf532bcecfbe29a4ce0f1ed273-e262d727f33bd688-01
2021-09-13T19:03:58.967Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:03:58.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-e036b40bde0b802e02de74491de93c5058f711c2-d9b3bfaf85d81e41-01 outer:exit 2b-e036b40bde0b802e02de74491de93c5058f711c2-1b47fc35f4332f2d-01
2021-09-13T19:03:58.970Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:03:58.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-41540d2703bcb4cce2f5b2c6e068c0452532b2da-d20d78badaa3ad27-01 outer:exit 2b-41540d2703bcb4cce2f5b2c6e068c0452532b2da-1b818b836bce5bff-01
2021-09-13T19:03:58.974Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:03:58.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ef489a26941d7d8d80cc36f1c2536f8c317c4b2-15c5d779fbca876b-01 outer:exit 2b-4ef489a26941d7d8d80cc36f1c2536f8c317c4b2-062d7834c7a4ed75-01
2021-09-13T19:03:58.977Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:03:58.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-16f76a1c01452fbb90ee545552065878f020a196-a660e19e70342156-01 outer:exit 2b-16f76a1c01452fbb90ee545552065878f020a196-be3d40dd5fa9baff-01
2021-09-13T19:03:58.982Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:03:58.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c151c09b7f05449d70a62e3188df994eed4f167-76afc0aa07efeded-01 outer:exit 2b-9c151c09b7f05449d70a62e3188df994eed4f167-ca764485d5fd09c0-01
2021-09-13T19:03:58.989Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:03:59.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b706acb2f2f37f7097516402af084a00f78b6b7-ce9fc5d7de5ab55a-01 outer:exit 2b-3b706acb2f2f37f7097516402af084a00f78b6b7-1f4c975368600b75-01
2021-09-13T19:03:59.015Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:03:59.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-d189c411b7a0a1ebb23c0939f33f59fb3993c715-1459ce98698244b4-01 outer:exit 2b-d189c411b7a0a1ebb23c0939f33f59fb3993c715-c7c790956213d36d-01
2021-09-13T19:03:59.082Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:03:59.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cf87dfe52e7455f6fed36045294d353999b8803-dfe4c6ec8a8b061f-01 outer:exit 2b-6cf87dfe52e7455f6fed36045294d353999b8803-77fb79f1c6d180be-01
2021-09-13T19:03:59.086Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:03:59.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-91995387adec04f2394dc55975dd034d412bbbe4-a98c9bc395cf6047-01 outer:exit 2b-91995387adec04f2394dc55975dd034d412bbbe4-208e1ebc030fbcb1-01
2021-09-13T19:03:59.089Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:03:59.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-a61c29dbc42408803178fbe98d79f9f8902e5b4e-c1985d2e2fa2f99b-01 outer:exit 2b-a61c29dbc42408803178fbe98d79f9f8902e5b4e-bb1d4b7f84a18a5a-01
2021-09-13T19:03:59.096Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:03:59.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-5185f2c172686464473c7fe1c712c839ef7d2a58-165d24065bd5b423-01 outer:exit 2b-5185f2c172686464473c7fe1c712c839ef7d2a58-c790538ee038b890-01
2021-09-13T19:03:59.098Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:03:59.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-183b704fedade7676f17cde15a71b984d7e9b31c-807a5bac3fc99e09-01 outer:exit 2b-183b704fedade7676f17cde15a71b984d7e9b31c-71a90e6035a36890-01
2021-09-13T19:03:59.106Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:03:59.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e0225e52da2c653d2cabc66954c33d90cc75b25-f6202abe67318709-01 outer:exit 2b-5e0225e52da2c653d2cabc66954c33d90cc75b25-a022ff833a4eaf4b-01
2021-09-13T19:03:59.108Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:03:59.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2f0f0b2ac3838442596f133661c75c21401aebf-64a87931743d68a2-01 outer:exit 2b-b2f0f0b2ac3838442596f133661c75c21401aebf-de7fdafee6b0156d-01
2021-09-13T19:03:59.114Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:03:59.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-874721de0d11ff86e37ac684fd2bb6282be0a9ad-502956609112aa68-01 outer:exit 2b-874721de0d11ff86e37ac684fd2bb6282be0a9ad-877a6dd37938ed68-01
2021-09-13T19:03:59.117Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:03:59.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-69710b3be9880d7bd5d30536f0b86d379b927503-08b792acccb46083-01 outer:exit 2b-69710b3be9880d7bd5d30536f0b86d379b927503-ad32d5d3c19f9c3a-01
2021-09-13T19:03:59.122Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:03:59.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-e15f9bdd659a6e8fabd2aefdf5940f7d4bc1d554-6d200c67fddcd301-01 outer:exit 2b-e15f9bdd659a6e8fabd2aefdf5940f7d4bc1d554-1ef92640e562b3e9-01
2021-09-13T19:03:59.129Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:03:59.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-55b7eb89690f0775e6c1f699d18f204ec02ce1a0-f4b6977ac1120327-01 outer:exit 2b-55b7eb89690f0775e6c1f699d18f204ec02ce1a0-268e23695f80effa-01
2021-09-13T19:03:59.132Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:03:59.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-66177cd5a35260550db2d53bae9d2ecffb4b7f6f-55bf422b34ba2f87-01 outer:exit 2b-66177cd5a35260550db2d53bae9d2ecffb4b7f6f-f6f5beadec65bcd3-01
2021-09-13T19:03:59.139Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:03:59.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb070184bc1baaa5bab4de75577dc2d257b71fab-6cc2e109fd8875ec-01 outer:exit 2b-bb070184bc1baaa5bab4de75577dc2d257b71fab-fcc0cff814d59be2-01
2021-09-13T19:03:59.147Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:03:59.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa175eea35034610ed09841e0b9dff11970a921d-b2c365094ea21911-01 outer:exit 2b-fa175eea35034610ed09841e0b9dff11970a921d-83690ffffb141ba4-01
2021-09-13T19:03:59.159Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:03:59.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-441d6fa89f7785d99de462aacc4fdecaeb8d8165-8160f82a9a95fe8b-01 outer:exit 2b-441d6fa89f7785d99de462aacc4fdecaeb8d8165-307bd6b0bb7ce104-01
2021-09-13T19:03:59.176Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:03:59.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-174ef0e1ffd1f9b3f45996bc9b6d8f9158bb6812-7aaeb73434e040d4-01 outer:exit 2b-174ef0e1ffd1f9b3f45996bc9b6d8f9158bb6812-a3ea909aab2a6ee7-01
2021-09-13T19:03:59.184Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:03:59.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-7615d688a3be3566037197abeca315fce6eba079-c218738f7882ad4a-01 outer:exit 2b-7615d688a3be3566037197abeca315fce6eba079-88ca3fa50f8ba5fe-01
2021-09-13T19:03:59.187Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:03:59.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-02314456ab4a5a86a9fd8f576ed163310ef319cb-17a8353cff7ed383-01 outer:exit 2b-02314456ab4a5a86a9fd8f576ed163310ef319cb-57fea894d6dc4344-01
2021-09-13T19:03:59.191Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:03:59.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b043347142f262bfb0e3901d57cf0008b5976ef-6bf7e3a014d4d619-01 outer:exit 2b-7b043347142f262bfb0e3901d57cf0008b5976ef-1b642186826b5a73-01
2021-09-13T19:03:59.198Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:03:59.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fc91a016f08931f59951b9cfde8b9dee55acf83-00be05cd5fd01435-01 outer:exit 2b-6fc91a016f08931f59951b9cfde8b9dee55acf83-4e15dde70a4d8b42-01
2021-09-13T19:03:59.201Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:03:59.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-464765f73ec5cbdff06d1054bcb47f4c233c666b-1e83a804b93e3a73-01 outer:exit 2b-464765f73ec5cbdff06d1054bcb47f4c233c666b-5e758d2254779675-01
2021-09-13T19:03:59.213Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:03:59.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bd3ba5afd156ef25c2623a32b0dfe63e1eb70c1-e81b79dd39934bdb-01 outer:exit 2b-5bd3ba5afd156ef25c2623a32b0dfe63e1eb70c1-0d994f8891e7b4a7-01
2021-09-13T19:03:59.220Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:03:59.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb71ed901c3441b2e1a2a3d4284baa2a29cecd6c-5b74acee307286f6-01 outer:exit 2b-cb71ed901c3441b2e1a2a3d4284baa2a29cecd6c-dc42567c227c4d96-01
2021-09-13T19:03:59.224Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:03:59.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-78c7143f90bd06759f3caffc7e97f605f07e5e09-d44d2ee207507e4d-01 outer:exit 2b-78c7143f90bd06759f3caffc7e97f605f07e5e09-2369df2fb4d84d81-01
2021-09-13T19:03:59.230Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:03:59.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-505bb7cc086be1d230825496cdd315f0c154f3b2-083335b2fa2fc933-01 outer:exit 2b-505bb7cc086be1d230825496cdd315f0c154f3b2-f99062833bfbe54d-01
2021-09-13T19:03:59.243Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:03:59.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-765f9ff9499d9c3afe86a33e77dd75d6913437ce-cb821d94c1ea8e1a-01 outer:exit 2b-765f9ff9499d9c3afe86a33e77dd75d6913437ce-a1d9a068760335b6-01
2021-09-13T19:03:59.254Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:03:59.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eec8be6099da5efe11165cfefd5beaf4929eba3-9ab045e197ac2dce-01 outer:exit 2b-0eec8be6099da5efe11165cfefd5beaf4929eba3-e4344ab7d8ab8da1-01
2021-09-13T19:03:59.257Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:03:59.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2fe1770ce45ac831d1bcb94e39c95c8730ec658-741e564bebcf3010-01 outer:exit 2b-b2fe1770ce45ac831d1bcb94e39c95c8730ec658-04f68da54bee660b-01
2021-09-13T19:03:59.260Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:03:59.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-4decd952ed9e5c34b6bebb738d33e0cd6e2327f0-d1de44e1b6d76f82-01 outer:exit 2b-4decd952ed9e5c34b6bebb738d33e0cd6e2327f0-deed3ad9645e0f26-01
2021-09-13T19:03:59.274Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:03:59.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e768c72128ebec067576e4a723f5ac9546eb495-a9c353ad18c324ac-01 outer:exit 2b-4e768c72128ebec067576e4a723f5ac9546eb495-e209fb799a56c992-01
2021-09-13T19:03:59.324Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (494ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:07.596Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:07.597Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:07.597Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:07.598Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:07.672Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:07.723Z appoptics:patching patched crypto 
2021-09-13T19:04:07.747Z appoptics:patching patched https 
2021-09-13T19:04:07.748Z appoptics:patching patched http 
2021-09-13T19:04:07.810Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:07.810Z appoptics:patching patched fs 
2021-09-13T19:04:07.833Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v16.9.1)
2021-09-13T19:04:07.843Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-09-13T19:04:08.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ac5887c81b975cba53d7a4fc81555f87f905f63-a71e40579db0d430-01 outer:exit 2b-6ac5887c81b975cba53d7a4fc81555f87f905f63-e19f949447688a44-01
2021-09-13T19:04:08.045Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:04:08.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-d13b38d3d7fbaee438e4ca37080cacdb28c9f21e-3fc2a0f49b8886c5-01 outer:exit 2b-d13b38d3d7fbaee438e4ca37080cacdb28c9f21e-73dcc6fa5f611cc6-01
2021-09-13T19:04:08.091Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:04:08.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-0521de4b3e4a8afa93f6152d48b90ee1b7b42d01-0cd9f7affa70b251-01 outer:exit 2b-0521de4b3e4a8afa93f6152d48b90ee1b7b42d01-ee478b53cf9db04f-01
2021-09-13T19:04:08.095Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:04:08.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8f4123427ba4f0d22dc6cfed77057b9aae8a818-8bf757b5c8007b58-01 outer:exit 2b-f8f4123427ba4f0d22dc6cfed77057b9aae8a818-b0895830f2bcc23f-01
2021-09-13T19:04:08.098Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:04:08.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-833552e22837c8a0920da414ba13c7d6e934db9d-81b1eb926d4cb756-01 outer:exit 2b-833552e22837c8a0920da414ba13c7d6e934db9d-d68215059cebf756-01
2021-09-13T19:04:08.103Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:04:08.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-46f6042c5f4683c3a08776e663bb44182b85c05d-796c08310a9e55cc-01 outer:exit 2b-46f6042c5f4683c3a08776e663bb44182b85c05d-c53f27d537c4cab1-01
2021-09-13T19:04:08.107Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:04:08.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-68de62328485005f6f091dfa44c96fa5122db4cc-77632bf1e5c14fb9-01 outer:exit 2b-68de62328485005f6f091dfa44c96fa5122db4cc-8009e6de59a297e7-01
2021-09-13T19:04:08.110Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:04:08.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdd485210336fb79fec85b884f7bf84d65e1c781-8681e44f5f111e01-01 outer:exit 2b-cdd485210336fb79fec85b884f7bf84d65e1c781-63d2985810449e4f-01
2021-09-13T19:04:08.113Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:04:08.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e881d810d227eeb60887375caaf3076f2b11132-ccff17b886c1d1cd-01 outer:exit 2b-7e881d810d227eeb60887375caaf3076f2b11132-e3d3f003f71b4aa7-01
2021-09-13T19:04:08.115Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:04:08.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-194c7f5a2fc750f210af38d71e09a654129f45fd-8aa854059025d39c-01 outer:exit 2b-194c7f5a2fc750f210af38d71e09a654129f45fd-9a42c4fec51c58c5-01
2021-09-13T19:04:08.119Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:04:08.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-54615e0f7d6bdc21305426b5a56c4f66a08df686-54316aaf8ea71a6d-01 outer:exit 2b-54615e0f7d6bdc21305426b5a56c4f66a08df686-d35e947da08a2afc-01
2021-09-13T19:04:08.123Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:04:08.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a2e43aae1da00700c73e644f2deca6622198fb9-8c1c445b4803fb89-01 outer:exit 2b-9a2e43aae1da00700c73e644f2deca6622198fb9-bf740c49fd5dd865-01
2021-09-13T19:04:08.130Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:04:08.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-6745ee036b1bfc2552891b3c1f2ebb921bf77464-c873fb0d9369a590-01 outer:exit 2b-6745ee036b1bfc2552891b3c1f2ebb921bf77464-4cccf181d122f8a2-01
2021-09-13T19:04:08.146Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:04:08.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0f4f35af04c864b6671ecd4b994c45be8b86c79-4ce2787d11ba8bbb-01 outer:exit 2b-d0f4f35af04c864b6671ecd4b994c45be8b86c79-53a6ca0839290560-01
2021-09-13T19:04:08.188Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:04:08.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d704a8009f5670f7f80e7cea38c199ef19cc4ae-350cbbb4ed9faff8-01 outer:exit 2b-1d704a8009f5670f7f80e7cea38c199ef19cc4ae-1a9ad9148741427e-01
2021-09-13T19:04:08.191Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:04:08.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c21e686c20fd2beb49edbdf9189715b27de04b0-1a22ebfe563fc9d3-01 outer:exit 2b-8c21e686c20fd2beb49edbdf9189715b27de04b0-6c9c11ae2289e1d3-01
2021-09-13T19:04:08.194Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:04:08.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-03d934f36f1022deba637f957205c50c9c4f93e5-9d220937ad9f78dd-01 outer:exit 2b-03d934f36f1022deba637f957205c50c9c4f93e5-f603f631449fed8b-01
2021-09-13T19:04:08.197Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:04:08.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-21063ab325d6f31b33e05864251137b1cc7a171f-bbfc84c5f4ccddab-01 outer:exit 2b-21063ab325d6f31b33e05864251137b1cc7a171f-1b4f75dffad261b3-01
2021-09-13T19:04:08.199Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:04:08.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-4af60085590f97f690c086d993ac17a7f7c8cbbc-95791c4084a23253-01 outer:exit 2b-4af60085590f97f690c086d993ac17a7f7c8cbbc-866dbb711ef1e345-01
2021-09-13T19:04:08.202Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:04:08.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-e216a3d6fb96509c8405b2d3ccaf0d6975bfe29d-97db317f6f285605-01 outer:exit 2b-e216a3d6fb96509c8405b2d3ccaf0d6975bfe29d-6e96727b10e9906b-01
2021-09-13T19:04:08.205Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:04:08.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2fb747bdb3a1160dc4e01ddcd54b0cbda199513-944931315fdcca34-01 outer:exit 2b-b2fb747bdb3a1160dc4e01ddcd54b0cbda199513-a1673c0ef4006e13-01
2021-09-13T19:04:08.207Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:04:08.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-1334dc0508872be539dd1884e1a4654eee620831-85fa056f949a9e35-01 outer:exit 2b-1334dc0508872be539dd1884e1a4654eee620831-34c99901e36ba133-01
2021-09-13T19:04:08.210Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:04:08.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6c4d2392e00b29499496c0cf05d0d21dcd06077-15fa04ced2b77afb-01 outer:exit 2b-f6c4d2392e00b29499496c0cf05d0d21dcd06077-f97e4401ac1f7705-01
2021-09-13T19:04:08.213Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:04:08.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-41f61d3a5a59fdc874d6994a8aa97d5c72d02753-cdbc968414626a93-01 outer:exit 2b-41f61d3a5a59fdc874d6994a8aa97d5c72d02753-54d0ae45e5dc43ef-01
2021-09-13T19:04:08.216Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:04:08.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-92a9f159e49a9ae65d2911317a47fc4a2931dad8-f91a7bed969c5490-01 outer:exit 2b-92a9f159e49a9ae65d2911317a47fc4a2931dad8-6c7295bdf280ee99-01
2021-09-13T19:04:08.219Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:04:08.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-c689f03233523799607d9394f8a9690cd091cb93-7976b9c3f8cd15bb-01 outer:exit 2b-c689f03233523799607d9394f8a9690cd091cb93-de5d4818ae76da5a-01
2021-09-13T19:04:08.222Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:04:08.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-e824fb3498a7d5268c9c058c2c15d5728a8304e7-7ed16e3e324ee546-01 outer:exit 2b-e824fb3498a7d5268c9c058c2c15d5728a8304e7-29c810e4ee82d2d7-01
2021-09-13T19:04:08.230Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:04:08.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1624c343f89ed6cd60c8cf6a4ee5efd02c3e115-49f4696a251f86c1-01 outer:exit 2b-c1624c343f89ed6cd60c8cf6a4ee5efd02c3e115-a68e5b6959c435b2-01
2021-09-13T19:04:08.235Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:04:08.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-c06c68537dd28f93ed1312f9c62a4843edcccaf0-2c4d53efb9668339-01 outer:exit 2b-c06c68537dd28f93ed1312f9c62a4843edcccaf0-094ad023bcd486f4-01
2021-09-13T19:04:08.245Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:04:08.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d30ad81f835515d9ba9bd1d81ca09ab55337d0b-130105ceae5ccc13-01 outer:exit 2b-9d30ad81f835515d9ba9bd1d81ca09ab55337d0b-d039dfe61d614c0a-01
2021-09-13T19:04:08.252Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:04:08.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ac171c277c439b250f14ae47e1d1e82b8541377-97e4bf8e6212aa13-01 outer:exit 2b-9ac171c277c439b250f14ae47e1d1e82b8541377-7a4f774fc10fa8e1-01
2021-09-13T19:04:08.255Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:04:08.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-d846c5c6d0927ea99494248366827149258c96aa-0b40b843e329afb7-01 outer:exit 2b-d846c5c6d0927ea99494248366827149258c96aa-e4b0fcedf336200c-01
2021-09-13T19:04:08.259Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:04:08.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0164c2d096c8cab42edeb817cdf3a180d437764-b245e9789880023b-01 outer:exit 2b-d0164c2d096c8cab42edeb817cdf3a180d437764-3822d8744473dcfe-01
2021-09-13T19:04:08.266Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:04:08.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-2913170f4e2369d89405f56e63751c6f72eca91c-c014646e95eb7270-01 outer:exit 2b-2913170f4e2369d89405f56e63751c6f72eca91c-2b48799e87cd7457-01
2021-09-13T19:04:08.269Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:04:08.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c6e1ba06dfeacc59c631138778aa89e98270b8b-6face6c7a75ceb60-01 outer:exit 2b-7c6e1ba06dfeacc59c631138778aa89e98270b8b-7f40e358e12fc04c-01
2021-09-13T19:04:08.271Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:04:08.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-d48ae85a639462544ddc5f4810549d60de017d30-e065e09b383863b7-01 outer:exit 2b-d48ae85a639462544ddc5f4810549d60de017d30-b73777aa0de4e736-01
2021-09-13T19:04:08.277Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:04:08.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbd83e42a8384b15ea6c4bbc2c03dbd74d0d13a9-d8792c526a1b9414-01 outer:exit 2b-bbd83e42a8384b15ea6c4bbc2c03dbd74d0d13a9-c8d5adf85cda5efb-01
2021-09-13T19:04:08.280Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:04:08.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae797141c7b02b7876cc0dec0320d21f8650d3fe-bb99553fd1c6939c-01 outer:exit 2b-ae797141c7b02b7876cc0dec0320d21f8650d3fe-bbc02dc2886bdd1f-01
2021-09-13T19:04:08.282Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:04:08.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c1eb531ffb517883e22fbb3a4d94290b9f9796d-05ce4f6fb29d1594-01 outer:exit 2b-5c1eb531ffb517883e22fbb3a4d94290b9f9796d-55f89cd39745dde8-01
2021-09-13T19:04:08.292Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:04:08.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-f17eb0f6949fa926a96374a22637545692f78460-2861d95a272e0853-01 outer:exit 2b-f17eb0f6949fa926a96374a22637545692f78460-deb6ba39a82402dd-01
2021-09-13T19:04:08.301Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:04:08.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea72ee47edb6298bed8baa673c8c60df5bde91dc-473a1d61ca0b93f7-01 outer:exit 2b-ea72ee47edb6298bed8baa673c8c60df5bde91dc-207aa1823739fc88-01
2021-09-13T19:04:08.305Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:04:08.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-a897519f9228ece9713c259f18fbdcc7681c7b7f-080f45b49dbdbd31-01 outer:exit 2b-a897519f9228ece9713c259f18fbdcc7681c7b7f-612a99d57b914dfb-01
2021-09-13T19:04:08.308Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:04:08.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-a770ca35a61f347b3fd61a28ca993a44ff3a7fd5-7b796c073d4e68b3-01 outer:exit 2b-a770ca35a61f347b3fd61a28ca993a44ff3a7fd5-a17d1d4b4d5530a9-01
2021-09-13T19:04:08.311Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:04:08.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-89a47dc2fb071b7f7f08576cfd08f32ffbd847e3-ebff3a76ad2fa17b-01 outer:exit 2b-89a47dc2fb071b7f7f08576cfd08f32ffbd847e3-91869183412273dc-01
2021-09-13T19:04:08.341Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (337ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:16.799Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:16.800Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:16.800Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:16.801Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:16.874Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:16.924Z appoptics:patching patched crypto 
2021-09-13T19:04:16.956Z appoptics:patching patched https 
2021-09-13T19:04:16.956Z appoptics:patching patched http 
2021-09-13T19:04:17.023Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:17.024Z appoptics:patching patched fs 
2021-09-13T19:04:17.043Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v16.9.1)
2021-09-13T19:04:17.053Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-09-13T19:04:17.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-f876474efee92f1cb50272cda9a291a784df1833-7859e214387e4605-01 outer:exit 2b-f876474efee92f1cb50272cda9a291a784df1833-5fa8a0b9aa458336-01
2021-09-13T19:04:17.259Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:04:17.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-902a45d9c45f591406291e4f4f9fcea69718a3d7-a500b0ad11ae97f7-01 outer:exit 2b-902a45d9c45f591406291e4f4f9fcea69718a3d7-8e40886aa1637ff5-01
2021-09-13T19:04:17.301Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:04:17.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9462fce1d34470220d960ef60bd560fdf87c919-38f638da9b74555f-01 outer:exit 2b-c9462fce1d34470220d960ef60bd560fdf87c919-c771f095992ebd69-01
2021-09-13T19:04:17.305Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:04:17.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b4152420a2d366291d0d22e2799897df6d7f0f2-a9572e07848e3254-01 outer:exit 2b-4b4152420a2d366291d0d22e2799897df6d7f0f2-e6f98c69572eb3d1-01
2021-09-13T19:04:17.308Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:04:17.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-89b8eb68d42111c41cf8e69a310416379f6b0609-d964f3318e36e21f-01 outer:exit 2b-89b8eb68d42111c41cf8e69a310416379f6b0609-ef34c9ca3d0dbe22-01
2021-09-13T19:04:17.314Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:04:17.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf44daa43d42694d973caebc8dc31173fea093be-1f4e96c479741e42-01 outer:exit 2b-cf44daa43d42694d973caebc8dc31173fea093be-b0cff7360f7e2b1a-01
2021-09-13T19:04:17.318Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:04:17.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-466b6bbb7fd918d96125bccf11dbc4d830821c84-cecdc643881f6320-01 outer:exit 2b-466b6bbb7fd918d96125bccf11dbc4d830821c84-62021c9df8d8aa68-01
2021-09-13T19:04:17.321Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:04:17.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-60a62c9146c747469f6707d79df3ce85ce08566b-1d6873f9bfbd3fa7-01 outer:exit 2b-60a62c9146c747469f6707d79df3ce85ce08566b-fad0e3c602e35866-01
2021-09-13T19:04:17.324Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:04:17.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-451a70a637f6069e4aa02ab8c64ca99e9fdd9e27-e4c19aa676c56cd5-01 outer:exit 2b-451a70a637f6069e4aa02ab8c64ca99e9fdd9e27-2717c6c1094a9b4a-01
2021-09-13T19:04:17.327Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:04:17.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-49fc896a820f9edf9bd2064895a2185e4d37a16e-9950c2e8bb36d553-01 outer:exit 2b-49fc896a820f9edf9bd2064895a2185e4d37a16e-b00ff189af937392-01
2021-09-13T19:04:17.331Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:04:17.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-441579e8af31fb5f1ce67af5975bfaea9583df9e-b013485946524d5a-01 outer:exit 2b-441579e8af31fb5f1ce67af5975bfaea9583df9e-9e6e0aecca476c03-01
2021-09-13T19:04:17.335Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:04:17.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f0d86129b14191261d9c65e26a25ee9428276dc-d3288a700207bcee-01 outer:exit 2b-9f0d86129b14191261d9c65e26a25ee9428276dc-221e08790a13d106-01
2021-09-13T19:04:17.342Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:04:17.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-351cb2b0117bf8284678302676a7ac53836f664e-ed86cdbf2d8c20b2-01 outer:exit 2b-351cb2b0117bf8284678302676a7ac53836f664e-3f3f58ac35998032-01
2021-09-13T19:04:17.358Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:04:17.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a2554219174acbc97a13244828a69a104cb103f-870fd582449ba51e-01 outer:exit 2b-5a2554219174acbc97a13244828a69a104cb103f-560f95c11ca86408-01
2021-09-13T19:04:17.400Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:04:17.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a27b5b812d0de99b5fc56c32c3859e6774f798d-8ee15c76b2afeab0-01 outer:exit 2b-7a27b5b812d0de99b5fc56c32c3859e6774f798d-d8ac6f52588524c0-01
2021-09-13T19:04:17.404Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:04:17.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-daeb81c1cccaea0fa5b2e0db6a68534b0eadad88-7e0e6ed06933d57d-01 outer:exit 2b-daeb81c1cccaea0fa5b2e0db6a68534b0eadad88-6dcff27938cc9d68-01
2021-09-13T19:04:17.408Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:04:17.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c7f36523c9a79076dcc8419c191fcf6ce520ada-44093794eac08a68-01 outer:exit 2b-7c7f36523c9a79076dcc8419c191fcf6ce520ada-51a495f098a02736-01
2021-09-13T19:04:17.413Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:04:17.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0ad5845572559c74f9290bf7cc5bc73edd434fc-eab029bf7d78659a-01 outer:exit 2b-d0ad5845572559c74f9290bf7cc5bc73edd434fc-c820ceafe3bf1112-01
2021-09-13T19:04:17.416Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:04:17.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-b585fd03632fe2243fbad3c3f05cb31267c93637-f24f148ad522f9f2-01 outer:exit 2b-b585fd03632fe2243fbad3c3f05cb31267c93637-91ebfc963b2aa21d-01
2021-09-13T19:04:17.419Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:04:17.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-9184f7379e2170af883e249d394f4e3205d2cf57-f2eb934b1659782c-01 outer:exit 2b-9184f7379e2170af883e249d394f4e3205d2cf57-4afe28015abdc1db-01
2021-09-13T19:04:17.421Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:04:17.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-b22d251009aed77336cbfc385f1e960d65a34e7f-bc6f1035aa8fd837-01 outer:exit 2b-b22d251009aed77336cbfc385f1e960d65a34e7f-7185465f2b73547c-01
2021-09-13T19:04:17.424Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:04:17.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdd026e1b86e5497d3259653db9da662fa597d1d-73d74a5ae25e63f1-01 outer:exit 2b-bdd026e1b86e5497d3259653db9da662fa597d1d-8d0972092689e37f-01
2021-09-13T19:04:17.427Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:04:17.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-184a97e475c51b3095f967eaee9dfe734a055c86-9bcddacef028dca4-01 outer:exit 2b-184a97e475c51b3095f967eaee9dfe734a055c86-67338cfed282682b-01
2021-09-13T19:04:17.431Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:04:17.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-3347461a7e85f0e6b80f5b9d55c1761df0e1529e-f175d4ffd5adfc59-01 outer:exit 2b-3347461a7e85f0e6b80f5b9d55c1761df0e1529e-f34156a4d729689b-01
2021-09-13T19:04:17.434Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:04:17.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-946c295335a8b97694abb15c6f932b26fcd0a7a9-70c91dfaeb422cfd-01 outer:exit 2b-946c295335a8b97694abb15c6f932b26fcd0a7a9-b25e5a6c093d3016-01
2021-09-13T19:04:17.437Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:04:17.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b8957d91543e7091942db23cd1e9dee764db348-4531b152dcf185c0-01 outer:exit 2b-5b8957d91543e7091942db23cd1e9dee764db348-d32f8ebf3422cf32-01
2021-09-13T19:04:17.440Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:04:17.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-e060c9fe1edf398ff609ff3b2f0fc9a386e739bf-b7aa9bd4ad72f752-01 outer:exit 2b-e060c9fe1edf398ff609ff3b2f0fc9a386e739bf-4442ade46983cf0f-01
2021-09-13T19:04:17.447Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:04:17.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-48e262f56b0e1046d8ca8a3a5e7bfd4f9d7852c2-b2c14ed5c30a2a4a-01 outer:exit 2b-48e262f56b0e1046d8ca8a3a5e7bfd4f9d7852c2-ed8058cbaa596d51-01
2021-09-13T19:04:17.452Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:04:17.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-010ade1ed912610979a794e2adec17dc820fcf5b-321fd75ff4ec848b-01 outer:exit 2b-010ade1ed912610979a794e2adec17dc820fcf5b-8d5d5a320b9d4d06-01
2021-09-13T19:04:17.463Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:04:17.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b0c25f5e8d11109c2dc3175ee58bb36d76b5be2-663821cee5ea6d34-01 outer:exit 2b-8b0c25f5e8d11109c2dc3175ee58bb36d76b5be2-a438f40f7353fc53-01
2021-09-13T19:04:17.471Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:04:17.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-cea777662e0f83fb73ba795e326788fdc428824b-d88f6f28b9f9e490-01 outer:exit 2b-cea777662e0f83fb73ba795e326788fdc428824b-36e4c86d35b8d57e-01
2021-09-13T19:04:17.474Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:04:17.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab8b98cf671a1cc249d9060fb90bb136fb28075b-cc62ad69ba590d33-01 outer:exit 2b-ab8b98cf671a1cc249d9060fb90bb136fb28075b-408915fac63a9148-01
2021-09-13T19:04:17.477Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:04:17.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5d74a794366ace19794cfe90ba856b59f0ca8da-4f8d978379926a86-01 outer:exit 2b-a5d74a794366ace19794cfe90ba856b59f0ca8da-662d9e3c56a9deca-01
2021-09-13T19:04:17.484Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:04:17.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2e56a6c136be2f69c8517379f80f197dd9bd595-e384ea42f8999740-01 outer:exit 2b-f2e56a6c136be2f69c8517379f80f197dd9bd595-3c3f36676cf997d6-01
2021-09-13T19:04:17.487Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:04:17.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-56798014f46fa6ae699040b843c122489f2e87e1-ec74143a1376e8cd-01 outer:exit 2b-56798014f46fa6ae699040b843c122489f2e87e1-af6e28015fd3ad7f-01
2021-09-13T19:04:17.490Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:04:17.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-8792a63ef9856db23a937df12773e6301ff7b530-6f1a6909dfd9cfb1-01 outer:exit 2b-8792a63ef9856db23a937df12773e6301ff7b530-a0c8fa5fd0740215-01
2021-09-13T19:04:17.496Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:04:17.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-712bdcd48197fc6b1d93a4399a32e3038aa6e49f-8023ec681e0247f2-01 outer:exit 2b-712bdcd48197fc6b1d93a4399a32e3038aa6e49f-abc1f0d2169efc45-01
2021-09-13T19:04:17.499Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:04:17.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-216f7ea4b01aa8cbbb698dbbcb8938db753e82c3-8e6cd65119fac594-01 outer:exit 2b-216f7ea4b01aa8cbbb698dbbcb8938db753e82c3-5808882a4cb00378-01
2021-09-13T19:04:17.502Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:04:17.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-d20cb5e9c4597c337f59e5b3a5b6441b9d05982c-cd52e85fb90196a5-01 outer:exit 2b-d20cb5e9c4597c337f59e5b3a5b6441b9d05982c-b2e3402e7044801a-01
2021-09-13T19:04:17.513Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:04:17.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd9212bedd2974dc6696548bd4327c6ce9c3d228-3f943f7cf9db562f-01 outer:exit 2b-cd9212bedd2974dc6696548bd4327c6ce9c3d228-f28d6e66f4137955-01
2021-09-13T19:04:17.523Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:04:17.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d71e3e3b0e1625333330e6818550385b3c224f-f3e9fcf939ba77e1-01 outer:exit 2b-f3d71e3e3b0e1625333330e6818550385b3c224f-8359a538ba19fb32-01
2021-09-13T19:04:17.526Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:04:17.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e8d57fde5f54e06c2bbfdd83a09532f42c22e6e-b9707e644b19cfdd-01 outer:exit 2b-0e8d57fde5f54e06c2bbfdd83a09532f42c22e6e-5d02dda56ab10a01-01
2021-09-13T19:04:17.529Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:04:17.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-96baf8c88508e589ee78f490b53f52a1e18ce0e3-53b76f22fe55c433-01 outer:exit 2b-96baf8c88508e589ee78f490b53f52a1e18ce0e3-22978885ee3160cb-01
2021-09-13T19:04:17.533Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:04:17.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7b8b5d79fba5eae6ec1fee430d01a1d44eda556-93fdf14caf8669d4-01 outer:exit 2b-a7b8b5d79fba5eae6ec1fee430d01a1d44eda556-bbe06c94d238707e-01
2021-09-13T19:04:17.564Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (347ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:25.932Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:25.933Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:25.933Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:25.935Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:26.138Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:26.258Z appoptics:patching patched crypto 
2021-09-13T19:04:26.295Z appoptics:patching patched https 
2021-09-13T19:04:26.296Z appoptics:patching patched http 
2021-09-13T19:04:26.387Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:26.388Z appoptics:patching patched fs 
2021-09-13T19:04:26.410Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v16.9.1)
2021-09-13T19:04:26.420Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-09-13T19:04:26.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-215c4598b9f7277897daf127d4abce5308c1c507-20adcd453d4088b0-01 outer:exit 2b-215c4598b9f7277897daf127d4abce5308c1c507-9c3a120b9bf50ded-01
2021-09-13T19:04:26.649Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:04:26.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-86aa8c57ddc64eb2442b1c3e22b05136c72650a3-b16e03578d2739c1-01 outer:exit 2b-86aa8c57ddc64eb2442b1c3e22b05136c72650a3-1d265612b85ec907-01
2021-09-13T19:04:26.699Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:04:26.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-2aaa81750ccd316354105f8f3ac0f835fbbe4d3f-11b0b1e9594df8fd-01 outer:exit 2b-2aaa81750ccd316354105f8f3ac0f835fbbe4d3f-cd36ddd96b9b68a2-01
2021-09-13T19:04:26.702Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:04:26.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-2732688ba5e1403176323487b34da62267cdcf26-2d644605373336ad-01 outer:exit 2b-2732688ba5e1403176323487b34da62267cdcf26-3f57db491d33fd4a-01
2021-09-13T19:04:26.705Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:04:26.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-208cdb78b4f3d09bb70c4f94685b17f660751dd9-a0638fe35ffd1afb-01 outer:exit 2b-208cdb78b4f3d09bb70c4f94685b17f660751dd9-440240bc65f10341-01
2021-09-13T19:04:26.711Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:04:26.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-08903364f85400a2226e53155bde61f556a7e1a0-92b8302496f6cb32-01 outer:exit 2b-08903364f85400a2226e53155bde61f556a7e1a0-41a4b4d8804afb3c-01
2021-09-13T19:04:26.715Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:04:26.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-72d542d7d82e9b6586c89e47fc62d77d9d2d8053-64d21b54c7c45837-01 outer:exit 2b-72d542d7d82e9b6586c89e47fc62d77d9d2d8053-94e8249188407a0a-01
2021-09-13T19:04:26.717Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:04:26.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-0100084d55c18f79bcbffeded4af9bcd162c8a10-15dc5faa1f3971e0-01 outer:exit 2b-0100084d55c18f79bcbffeded4af9bcd162c8a10-0476779d00354118-01
2021-09-13T19:04:26.721Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:04:26.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-664dd0339142879238950b56a5dc3d5ac69296f3-4f1b06ed01eaf124-01 outer:exit 2b-664dd0339142879238950b56a5dc3d5ac69296f3-6ce079b0ba5817cd-01
2021-09-13T19:04:26.723Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:04:26.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f6b1683ca7fe00d738bdd831202e78b704511ee-64ad1f783fad4956-01 outer:exit 2b-4f6b1683ca7fe00d738bdd831202e78b704511ee-4f61066faf2a5402-01
2021-09-13T19:04:26.726Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:04:26.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-e75361bee01010f70e2a3a6295f33a1fdc7923d9-bf14b85b2ea8af0f-01 outer:exit 2b-e75361bee01010f70e2a3a6295f33a1fdc7923d9-7827a66e2bc9bed3-01
2021-09-13T19:04:26.731Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:04:26.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a3192209bf2cc8df181c02ef4a8b9e86111f7b6-ed4f1ac6a0683bf7-01 outer:exit 2b-0a3192209bf2cc8df181c02ef4a8b9e86111f7b6-0faaf1f8ba8f5e8c-01
2021-09-13T19:04:26.738Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:04:26.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad2723074ad1c45b5372a93e354265e1fc67f503-4f9c27ac58ea74e4-01 outer:exit 2b-ad2723074ad1c45b5372a93e354265e1fc67f503-cc70663cb3b703e8-01
2021-09-13T19:04:26.754Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:04:26.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0cf6b44f6f5b70189c0557d144cf6b11c568a95-bf112ea04e6f81ac-01 outer:exit 2b-e0cf6b44f6f5b70189c0557d144cf6b11c568a95-3490dbd386ca61d4-01
2021-09-13T19:04:26.800Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:04:26.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-02ae5fda827f6da63be5486280f7cd4ec1885f52-f1b5942dd4b5899b-01 outer:exit 2b-02ae5fda827f6da63be5486280f7cd4ec1885f52-c79cbccf205a9645-01
2021-09-13T19:04:26.805Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:04:26.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-812d73e7f615466017a9428803dfad322055c064-2cf21e3098b006a2-01 outer:exit 2b-812d73e7f615466017a9428803dfad322055c064-b4bb3e35e2098bd6-01
2021-09-13T19:04:26.808Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:04:26.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2956f5840d87a6015b0926f24809edcffb867ab-fe0bc3525b5c97ad-01 outer:exit 2b-d2956f5840d87a6015b0926f24809edcffb867ab-96b53da849ab3d37-01
2021-09-13T19:04:26.812Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:04:26.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-109ca26269c058eaad7e3e101e6cf6ed7b45303c-65b9eb45042fc9e7-01 outer:exit 2b-109ca26269c058eaad7e3e101e6cf6ed7b45303c-fde87a2678082906-01
2021-09-13T19:04:26.814Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:04:26.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-a78a268f8faac6792325751c831ae18ff925676a-42ef6e184006f4ef-01 outer:exit 2b-a78a268f8faac6792325751c831ae18ff925676a-07616b8f144f4d59-01
2021-09-13T19:04:26.820Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:04:26.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed2b0f2206f6ab59be4113edc2164e0254e5c3b4-d8a4f3bc81b71a77-01 outer:exit 2b-ed2b0f2206f6ab59be4113edc2164e0254e5c3b4-be4dbee9e2afde18-01
2021-09-13T19:04:26.822Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:04:26.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f954de6cc0a9fd155eeea7a9c9e25f695700069-86ff2338625b4244-01 outer:exit 2b-7f954de6cc0a9fd155eeea7a9c9e25f695700069-06bd3b951ae28246-01
2021-09-13T19:04:26.825Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:04:26.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-4618c0ef14285812f5075af25968fa0c4f97f2e8-b86c740472fdc261-01 outer:exit 2b-4618c0ef14285812f5075af25968fa0c4f97f2e8-7cd66cbfd62fa08b-01
2021-09-13T19:04:26.827Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:04:26.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8c23b47af52d51103e9b0e9e09c1eb5d6bd1f57-0b88c70d6ea02f48-01 outer:exit 2b-c8c23b47af52d51103e9b0e9e09c1eb5d6bd1f57-fb78f973039f4c74-01
2021-09-13T19:04:26.831Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:04:26.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d7754aac8d02264cf3ffa472c832c870a960738-33331e796ef35a93-01 outer:exit 2b-5d7754aac8d02264cf3ffa472c832c870a960738-fe81b1f02295b3ea-01
2021-09-13T19:04:26.834Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:04:26.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c1a4b03a4aacf14ccb5a580bbc82a448698cbce-1c9c46006e23e8c9-01 outer:exit 2b-2c1a4b03a4aacf14ccb5a580bbc82a448698cbce-e1fa3551fa600d36-01
2021-09-13T19:04:26.837Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:04:26.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5a8d763ad180407cc7e4cf95813218e4cd6a630-ad2dc259665d8af9-01 outer:exit 2b-d5a8d763ad180407cc7e4cf95813218e4cd6a630-9ccba67da44f7220-01
2021-09-13T19:04:26.839Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:04:26.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9939630ccd625135ee2bf5ebb117d91b4ad9822-5504e82a2829320d-01 outer:exit 2b-e9939630ccd625135ee2bf5ebb117d91b4ad9822-3d3274bde7705828-01
2021-09-13T19:04:26.846Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:04:26.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fd5be2f1f9e050d608dbc76c0f53291989108a1-8f2edda3fd692c36-01 outer:exit 2b-4fd5be2f1f9e050d608dbc76c0f53291989108a1-28b69f18c3317eff-01
2021-09-13T19:04:26.850Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:04:26.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-17da0e0a956f2bfbd254d9f0006d5268f8ff0012-59346dca47c76103-01 outer:exit 2b-17da0e0a956f2bfbd254d9f0006d5268f8ff0012-ed8403463d01c193-01
2021-09-13T19:04:26.867Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:04:26.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-37da094cd96c3ae1bac735412ba5d53b52406920-a5ec98f78c44ee8c-01 outer:exit 2b-37da094cd96c3ae1bac735412ba5d53b52406920-72b1fcaa52eed71a-01
2021-09-13T19:04:26.875Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:04:26.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-a10807f7ff87265cd2adc20ce9ab2f44ab79db2d-3510af29afe6a0d4-01 outer:exit 2b-a10807f7ff87265cd2adc20ce9ab2f44ab79db2d-5d33bc56be69e15b-01
2021-09-13T19:04:26.878Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:04:26.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ecd759974bcf55e892221e682c82d5b0c7f602-7936c47298738eb2-01 outer:exit 2b-83ecd759974bcf55e892221e682c82d5b0c7f602-7be52a7f134ff14b-01
2021-09-13T19:04:26.881Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:04:26.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-0123892d2f311799db9767ae6d0ca9c4ba76df0c-462c7e7c5f1cf7bb-01 outer:exit 2b-0123892d2f311799db9767ae6d0ca9c4ba76df0c-3c04d2dbde1d5ca2-01
2021-09-13T19:04:26.889Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:04:26.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e8d183cf0eb1601b520a5874490d3ba813e76fa-f5fcbfde2fa4122d-01 outer:exit 2b-1e8d183cf0eb1601b520a5874490d3ba813e76fa-6267c98d710da397-01
2021-09-13T19:04:26.892Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:04:26.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-7edd7bc0f797c99cae486d02c38e508365889d43-a5d35a5069cc23a7-01 outer:exit 2b-7edd7bc0f797c99cae486d02c38e508365889d43-77f52d5393d605d0-01
2021-09-13T19:04:26.898Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:04:26.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb4dde0ccf7a3d458ae8577480a3949ea721e72-81b9e309a078885e-01 outer:exit 2b-abb4dde0ccf7a3d458ae8577480a3949ea721e72-87e771c597969b70-01
2021-09-13T19:04:26.901Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:04:26.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa613046bb2484052904ef7561932f9b80b48789-6d68aa489555945a-01 outer:exit 2b-aa613046bb2484052904ef7561932f9b80b48789-869012dc2deec52a-01
2021-09-13T19:04:26.903Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:04:26.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7f9cea1c773aa85755b8423b52f88b9cb2d83ab-14e7e1a5fc7a7459-01 outer:exit 2b-f7f9cea1c773aa85755b8423b52f88b9cb2d83ab-51fe626dfabb690d-01
2021-09-13T19:04:26.905Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:04:26.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-9adeef230a8c7a9471cf144c2c2734d8169af31b-7b0378bcf50e35dd-01 outer:exit 2b-9adeef230a8c7a9471cf144c2c2734d8169af31b-6c14f4f970a0ba5d-01
2021-09-13T19:04:26.916Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:04:26.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-674af29ed0a2fa77aa6876f823d9a38d3c1b25e4-cff20b7caa639562-01 outer:exit 2b-674af29ed0a2fa77aa6876f823d9a38d3c1b25e4-9ffd2319b68ea478-01
2021-09-13T19:04:26.926Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:04:26.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-fae6b47b118bb3ab7ceb9d1883a94e94f8c2dcdc-7f45c81a67a3b6b8-01 outer:exit 2b-fae6b47b118bb3ab7ceb9d1883a94e94f8c2dcdc-97cf999accdffa12-01
2021-09-13T19:04:26.930Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:04:26.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-571801113c7318661eb1173f30dce9c021cb7045-4a1ee48130eb86fd-01 outer:exit 2b-571801113c7318661eb1173f30dce9c021cb7045-c5ceb8685fb1b827-01
2021-09-13T19:04:26.933Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:04:26.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-1040f055aeb41fe16781fe5cdd5e5f1ee03ee95f-591a830811ac7df4-01 outer:exit 2b-1040f055aeb41fe16781fe5cdd5e5f1ee03ee95f-37f1b3a5bbd1a4f2-01
2021-09-13T19:04:26.936Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:04:26.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-813c3d43eb459f80225076d8fe4ce2d8b221abd2-ba55201abc7cc090-01 outer:exit 2b-813c3d43eb459f80225076d8fe4ce2d8b221abd2-5251ce9f5481c10b-01
2021-09-13T19:04:26.966Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (357ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:34.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:34.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:34.418Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:34.419Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:34.497Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:34.549Z appoptics:patching patched crypto 
2021-09-13T19:04:34.575Z appoptics:patching patched https 
2021-09-13T19:04:34.576Z appoptics:patching patched http 
2021-09-13T19:04:34.655Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:34.656Z appoptics:patching patched fs 
2021-09-13T19:04:34.676Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v16.9.1)
2021-09-13T19:04:34.685Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-09-13T19:04:34.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-81246ffcf549919e9f2904ca3ce802374ef1d626-b32823a4a6d7e49c-01 outer:exit 2b-81246ffcf549919e9f2904ca3ce802374ef1d626-8f112a799d1fe557-01
2021-09-13T19:04:34.921Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:04:34.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a2b53e367bdc3fddd4e387f7f19cf30f1b38f6e-f09ca7844dd6678f-01 outer:exit 2b-9a2b53e367bdc3fddd4e387f7f19cf30f1b38f6e-3335c5ab64b397fa-01
2021-09-13T19:04:34.999Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:04:35.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-d65e164fa41939ea550685923ffd7695a439b04b-2eb278d14a106e35-01 outer:exit 2b-d65e164fa41939ea550685923ffd7695a439b04b-53c34448af1c11b0-01
2021-09-13T19:04:35.003Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:04:35.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9ec472217cabffaebd9a663b04a02677a559962-4049e8c93f09b3d7-01 outer:exit 2b-f9ec472217cabffaebd9a663b04a02677a559962-6f7a36694ac44dbc-01
2021-09-13T19:04:35.006Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:04:35.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-00a2718fd5b3dc5b76513b8f66d61078b570313b-5890e3754b62a8ea-01 outer:exit 2b-00a2718fd5b3dc5b76513b8f66d61078b570313b-2a169c3cd18d7160-01
2021-09-13T19:04:35.012Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:04:35.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f5d3b543d47c34428a491f9840e9e1354b1ed19-31f880e23616d3fa-01 outer:exit 2b-3f5d3b543d47c34428a491f9840e9e1354b1ed19-e72bbfe77b4aaee0-01
2021-09-13T19:04:35.016Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:04:35.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1fdc7ae40ebe3bae81761f37a6081930bebba41-3907ae2be61df16d-01 outer:exit 2b-f1fdc7ae40ebe3bae81761f37a6081930bebba41-36a6e608960232d3-01
2021-09-13T19:04:35.020Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:04:35.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f09ca6dc7890fac64ff207a7c92001d0869cc2-07b48226f1dc617e-01 outer:exit 2b-17f09ca6dc7890fac64ff207a7c92001d0869cc2-4856df660afd0fc2-01
2021-09-13T19:04:35.023Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:04:35.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f5693ec76ae53c98bc6f3928b89a62fe277e51a-34589e8fb6b3b63b-01 outer:exit 2b-8f5693ec76ae53c98bc6f3928b89a62fe277e51a-0a94d359a7853693-01
2021-09-13T19:04:35.026Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:04:35.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-5187d47ec6d2b5c931d194caa46c29505413e2bc-9a068731239b136b-01 outer:exit 2b-5187d47ec6d2b5c931d194caa46c29505413e2bc-f05faa8df45b1bde-01
2021-09-13T19:04:35.029Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:04:35.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-c804fbf9519bde7362a37bba05d4f08efbac19af-fc51590c9449b307-01 outer:exit 2b-c804fbf9519bde7362a37bba05d4f08efbac19af-54506236e7cfd061-01
2021-09-13T19:04:35.035Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:04:35.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c95aaab7bde09cdd2d3fcd9139ff0ddb15f207a-e4342cdb28bc3d00-01 outer:exit 2b-0c95aaab7bde09cdd2d3fcd9139ff0ddb15f207a-5cc9cc29fccd18d8-01
2021-09-13T19:04:35.042Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:04:35.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-f669ae344a0c5e05c4b9ff98398d5b5cb82222f0-64087cb7c3d21a52-01 outer:exit 2b-f669ae344a0c5e05c4b9ff98398d5b5cb82222f0-6d8538692846bc35-01
2021-09-13T19:04:35.057Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:04:35.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-23520b5909713b10fbdc683f30ae7668f8f7943e-adcaae9e83589e4c-01 outer:exit 2b-23520b5909713b10fbdc683f30ae7668f8f7943e-1b12ae47f752304a-01
2021-09-13T19:04:35.097Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:04:35.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-413e98e99e40eea90eb8e9f7c1a2b33fc8fd5857-8dbd14fbdd291be4-01 outer:exit 2b-413e98e99e40eea90eb8e9f7c1a2b33fc8fd5857-4177ff2d2472358e-01
2021-09-13T19:04:35.102Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:04:35.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-38182f9acc030a74e134665dac665dc21a7329ba-339154b8138127f0-01 outer:exit 2b-38182f9acc030a74e134665dac665dc21a7329ba-19cd279f6ea5421f-01
2021-09-13T19:04:35.104Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:04:35.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-9139b70a29cdfba77edcb2363ec173efc51e15e4-e72cc733066cad00-01 outer:exit 2b-9139b70a29cdfba77edcb2363ec173efc51e15e4-924174c9611d3e50-01
2021-09-13T19:04:35.110Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:04:35.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4fccaeb08af04f58ac906afa6f9a84335921d70-2f6a39892e47f35b-01 outer:exit 2b-b4fccaeb08af04f58ac906afa6f9a84335921d70-57980e805ce1fff3-01
2021-09-13T19:04:35.114Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:04:35.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b9c3454a16541ef7bbab3b08a413098a82a40c2-e4eacc6636e8f64b-01 outer:exit 2b-6b9c3454a16541ef7bbab3b08a413098a82a40c2-244429ac82bcdf8f-01
2021-09-13T19:04:35.116Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:04:35.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-62db332e5aab38fefd0018863a087134b194a90b-ea7785077c013d06-01 outer:exit 2b-62db332e5aab38fefd0018863a087134b194a90b-8349b8c31048dea7-01
2021-09-13T19:04:35.119Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:04:35.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-c063e6152cc08c78663a6b2e45b952261cf55114-07e61378025e4322-01 outer:exit 2b-c063e6152cc08c78663a6b2e45b952261cf55114-c5189f3d7cb1ffa6-01
2021-09-13T19:04:35.122Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:04:35.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-72e82afc45aa4a04748c232d688b2f4827ca46de-95947ffa035e2d6b-01 outer:exit 2b-72e82afc45aa4a04748c232d688b2f4827ca46de-a7d0ecaac1e306ca-01
2021-09-13T19:04:35.124Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:04:35.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-9105156b91300e2f98494f9dce73d56d35f1a048-7d437da7acb66189-01 outer:exit 2b-9105156b91300e2f98494f9dce73d56d35f1a048-53c2d898241be3fd-01
2021-09-13T19:04:35.128Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:04:35.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-dae480a4afdd498f89e5087154c3fc5dcee3dfd3-f15219f4a68f8792-01 outer:exit 2b-dae480a4afdd498f89e5087154c3fc5dcee3dfd3-a11c4b899004c7f7-01
2021-09-13T19:04:35.132Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:04:35.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-406d42a45b3f7cb9542056aa3b8f89d49b4d5947-d4f01a10a243c40a-01 outer:exit 2b-406d42a45b3f7cb9542056aa3b8f89d49b4d5947-a7a2d3633dac6699-01
2021-09-13T19:04:35.135Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:04:35.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8848b94b08e5cf5b3cdaa07a31fabaa87cae7cc-dc4740b8a39c798f-01 outer:exit 2b-b8848b94b08e5cf5b3cdaa07a31fabaa87cae7cc-c54cbf72c6efaa42-01
2021-09-13T19:04:35.137Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:04:35.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-575c0656015653647f5eee7c269d4c0442b7faec-7d44434b3dadba30-01 outer:exit 2b-575c0656015653647f5eee7c269d4c0442b7faec-d5bd28609b860772-01
2021-09-13T19:04:35.144Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:04:35.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0232dc228286d226d445fa922c2f19b02dee779-72f1935212a55368-01 outer:exit 2b-f0232dc228286d226d445fa922c2f19b02dee779-458b4fe920ef3797-01
2021-09-13T19:04:35.150Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:04:35.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-caa2d966c2f35c75698a7a5df3b790b2e0c4bb14-04a47faa09b4c4ab-01 outer:exit 2b-caa2d966c2f35c75698a7a5df3b790b2e0c4bb14-f1ee0012f0bc650a-01
2021-09-13T19:04:35.165Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:04:35.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3a0e4a49a5871360dcd218f98b178d556263a0f-9387b420808d468e-01 outer:exit 2b-f3a0e4a49a5871360dcd218f98b178d556263a0f-e3fd66dbd1de98dc-01
2021-09-13T19:04:35.172Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:04:35.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceff1be17e0a43b04af62f5a1314aa13b522efab-7d0e6f2cf0b5ba45-01 outer:exit 2b-ceff1be17e0a43b04af62f5a1314aa13b522efab-f436910baeadfb63-01
2021-09-13T19:04:35.175Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:04:35.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-81beb71f58ff1caa16e1ca548e4410e0967c941e-0820416f3c6b0712-01 outer:exit 2b-81beb71f58ff1caa16e1ca548e4410e0967c941e-3924bb2ad9d39e3b-01
2021-09-13T19:04:35.179Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:04:35.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9aae663315dd1d507e64e9958c96312b0833020-6818f0f53945740c-01 outer:exit 2b-b9aae663315dd1d507e64e9958c96312b0833020-a886dc676dcacdf3-01
2021-09-13T19:04:35.187Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:04:35.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-991b2da72fea62caf477b76b207fda0a6fd4e9b7-6f7d391eeacee572-01 outer:exit 2b-991b2da72fea62caf477b76b207fda0a6fd4e9b7-fd7bc759d9ba73ce-01
2021-09-13T19:04:35.190Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:04:35.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ddc44dff0bcb067c71c22834abed600da8571ba-d70b616caa0726ce-01 outer:exit 2b-7ddc44dff0bcb067c71c22834abed600da8571ba-c337f6fb2ee8ffe2-01
2021-09-13T19:04:35.196Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:04:35.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0f7b59429a761a5c3b007179f022990d81cddf9-1d5c9e6ea10cedb8-01 outer:exit 2b-b0f7b59429a761a5c3b007179f022990d81cddf9-1d1a0d8f409073cc-01
2021-09-13T19:04:35.200Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:04:35.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f56192e6b1f77d64af32d411d33290ebf61d4bd-d4e7bc37a32ce2a5-01 outer:exit 2b-9f56192e6b1f77d64af32d411d33290ebf61d4bd-352a1ff2f0e22b49-01
2021-09-13T19:04:35.202Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:04:35.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-40a3cbedadffc7b8784fbe9a314ebb9b80f3d74a-c12504a64128734a-01 outer:exit 2b-40a3cbedadffc7b8784fbe9a314ebb9b80f3d74a-d44191bf7dbeb3e9-01
2021-09-13T19:04:35.204Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:04:35.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-e58258594b6d46f02ab069f0f22761edbf4dfe8b-4271f2795ea0fcc5-01 outer:exit 2b-e58258594b6d46f02ab069f0f22761edbf4dfe8b-30ce2848df9ed274-01
2021-09-13T19:04:35.215Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:04:35.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b777a057e73465a3d810c6ff4063c77b99aa91-5410634cae772272-01 outer:exit 2b-45b777a057e73465a3d810c6ff4063c77b99aa91-60886e0bb7c799ed-01
2021-09-13T19:04:35.225Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:04:35.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-1139477c506287b10585eb32ba689fb56250ad45-3df81e058eb131d2-01 outer:exit 2b-1139477c506287b10585eb32ba689fb56250ad45-702edab4c1ea1966-01
2021-09-13T19:04:35.228Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:04:35.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f53b48696aa4768d95c8acabb90fdb5bac12b2e-a409c70f2cf36fcd-01 outer:exit 2b-7f53b48696aa4768d95c8acabb90fdb5bac12b2e-f30c9b6395b3908f-01
2021-09-13T19:04:35.231Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:04:35.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd1937e71a84d8036180cb26d9e2290775d6990f-edd2410004c06e2e-01 outer:exit 2b-fd1937e71a84d8036180cb26d9e2290775d6990f-7bc90e9374e1ab6d-01
2021-09-13T19:04:35.234Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:04:35.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ac5d83f6f2876b6d45248796fd87328949293c-ac2f058047516848-01 outer:exit 2b-b0ac5d83f6f2876b6d45248796fd87328949293c-a5065ab576669d4f-01
2021-09-13T19:04:35.263Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (385ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:43.626Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:43.626Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:43.626Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:43.627Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:43.704Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:43.754Z appoptics:patching patched crypto 
2021-09-13T19:04:43.781Z appoptics:patching patched https 
2021-09-13T19:04:43.781Z appoptics:patching patched http 
2021-09-13T19:04:43.844Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:43.844Z appoptics:patching patched fs 
2021-09-13T19:04:43.864Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v16.9.1)
2021-09-13T19:04:43.874Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-09-13T19:04:44.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-55b8e4762eb6b296fce618ff9440e8ef8e172050-fba0eea0f17c71c6-01 outer:exit 2b-55b8e4762eb6b296fce618ff9440e8ef8e172050-096ee76ae7ed2512-01
2021-09-13T19:04:44.087Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:04:44.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-da2a12607db25174859c50acfa99538cab569f6c-bf9b6432baf66a2a-01 outer:exit 2b-da2a12607db25174859c50acfa99538cab569f6c-02628dfea2f571b6-01
2021-09-13T19:04:44.150Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:04:44.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-1225bec5e1981b711af4f65f898ee1fd1493b442-1cc159fdf5edd428-01 outer:exit 2b-1225bec5e1981b711af4f65f898ee1fd1493b442-cf0f92ccebb6a399-01
2021-09-13T19:04:44.154Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:04:44.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cdf8554dd85a9cfbfee4a98a9e65a4aba90a080-552766d074c5f8ef-01 outer:exit 2b-2cdf8554dd85a9cfbfee4a98a9e65a4aba90a080-f1f3ffc4e331a56f-01
2021-09-13T19:04:44.157Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:04:44.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd28193f808c307a9db8eef2d80ac90dc42b6143-c1219b50109d1eb1-01 outer:exit 2b-bd28193f808c307a9db8eef2d80ac90dc42b6143-f797ad48b4384490-01
2021-09-13T19:04:44.162Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:04:44.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc0adeb18becededcffc476cb525ae67b1a3dae2-46733cc0ad7f3d1b-01 outer:exit 2b-dc0adeb18becededcffc476cb525ae67b1a3dae2-70d3eaee7afb021b-01
2021-09-13T19:04:44.166Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:04:44.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-833bd5381ca2cb5c1e9595a52b78643f3ded8eb7-ed7db2bcbc6eb1a2-01 outer:exit 2b-833bd5381ca2cb5c1e9595a52b78643f3ded8eb7-71084783492d7e37-01
2021-09-13T19:04:44.169Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:04:44.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3509f41ae845c3b3a128635d0a71f5a90021c14-f7982f735558ba4c-01 outer:exit 2b-b3509f41ae845c3b3a128635d0a71f5a90021c14-72e1b6f33439e7c3-01
2021-09-13T19:04:44.172Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:04:44.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7bfb3437c9f45993d868694b617796fd8a2b957-4aedfaad7dc2dd8c-01 outer:exit 2b-c7bfb3437c9f45993d868694b617796fd8a2b957-37fe3cf2fd33248b-01
2021-09-13T19:04:44.175Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:04:44.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a56ad0a204a00f69c70d4234c640ba1209e3422-216cfc51f5547524-01 outer:exit 2b-1a56ad0a204a00f69c70d4234c640ba1209e3422-fe09dd0ee14bdf6b-01
2021-09-13T19:04:44.178Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:04:44.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-3409068bf56519fabd27605a852a7d07e8d6aa6e-55409e7b56992fdd-01 outer:exit 2b-3409068bf56519fabd27605a852a7d07e8d6aa6e-d0dc76b198986a24-01
2021-09-13T19:04:44.183Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:04:44.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca55f9386a47d35ffbda2f75baba0db9083a89ea-da9125841d5e2da4-01 outer:exit 2b-ca55f9386a47d35ffbda2f75baba0db9083a89ea-74ad31ec6c3c0686-01
2021-09-13T19:04:44.190Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:04:44.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-05c177a3dfdfc9f9445a6e0ac8ec62954e658eb5-19ce1fbed29e2ba7-01 outer:exit 2b-05c177a3dfdfc9f9445a6e0ac8ec62954e658eb5-23c6ff9c0e92cbaf-01
2021-09-13T19:04:44.206Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:04:44.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-fecaa999f83048f1b1b985fb4362e2d4fbbfaa41-429fdf1d1ce116b2-01 outer:exit 2b-fecaa999f83048f1b1b985fb4362e2d4fbbfaa41-b5559c55b375631b-01
2021-09-13T19:04:44.252Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:04:44.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7008e426cda5c13bf5d95d1f3dabe19377900d7-c3d2a917dcf15e7c-01 outer:exit 2b-c7008e426cda5c13bf5d95d1f3dabe19377900d7-9976008c34606563-01
2021-09-13T19:04:44.256Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:04:44.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddfd2a7dcb8f14a50f188fa8e2912ea747efa58c-ceda17b449e0c310-01 outer:exit 2b-ddfd2a7dcb8f14a50f188fa8e2912ea747efa58c-a80990c4f751b2db-01
2021-09-13T19:04:44.259Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:04:44.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-933b87d9f2ff14bea9dd305948f53fd4c3fecc12-945c92d8fbbce645-01 outer:exit 2b-933b87d9f2ff14bea9dd305948f53fd4c3fecc12-3a51ed694fd5ccb8-01
2021-09-13T19:04:44.262Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:04:44.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-54d71817e2ed6dbf89771768885e38e6c449ee9b-04df8c361268fcde-01 outer:exit 2b-54d71817e2ed6dbf89771768885e38e6c449ee9b-bbbc1b6541ce5257-01
2021-09-13T19:04:44.265Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:04:44.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd4338647b78c00571b826bc0eae3f201381853e-d58759460fa61ca7-01 outer:exit 2b-dd4338647b78c00571b826bc0eae3f201381853e-33b49010a666d705-01
2021-09-13T19:04:44.268Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:04:44.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac30f91836e169e2aa2582270d4dc416d66d3adb-e0b713317e5908d2-01 outer:exit 2b-ac30f91836e169e2aa2582270d4dc416d66d3adb-fcf2915945657507-01
2021-09-13T19:04:44.271Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:04:44.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-5afb9ef9d5bb7518005e181643ac7182994352c7-19b14c5d4764618a-01 outer:exit 2b-5afb9ef9d5bb7518005e181643ac7182994352c7-b96cd59b222b6fd2-01
2021-09-13T19:04:44.274Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:04:44.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a686df6bf57f67768cbf939f0b8444974504c0c-2a7f67c29dd4db58-01 outer:exit 2b-1a686df6bf57f67768cbf939f0b8444974504c0c-6443ec470b35cea7-01
2021-09-13T19:04:44.276Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:04:44.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-619be8d7b8d139464f6788bb719c7ffa0fdc4ded-8e73652ef9c51dc7-01 outer:exit 2b-619be8d7b8d139464f6788bb719c7ffa0fdc4ded-171c45710635ed0b-01
2021-09-13T19:04:44.280Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:04:44.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-c47e4b4a54f1ca8435f76b071a498fea3362356e-e122f8f00a9dea2c-01 outer:exit 2b-c47e4b4a54f1ca8435f76b071a498fea3362356e-5703dd7b047b9fdf-01
2021-09-13T19:04:44.283Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:04:44.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9b68159e897d5b1abbba5d82bfaffb2b3c55eda-20a55a86dd3ac3f4-01 outer:exit 2b-e9b68159e897d5b1abbba5d82bfaffb2b3c55eda-edb6d1fd8478b383-01
2021-09-13T19:04:44.286Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:04:44.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd8d8f83db3cc0244156aba7a36c5992921ffe35-51a492f0040971d2-01 outer:exit 2b-bd8d8f83db3cc0244156aba7a36c5992921ffe35-f4167669859b6b0a-01
2021-09-13T19:04:44.289Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:04:44.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-55731d7ebf002864195132c2f8851a0538f2ee9e-2b6fad9d734fb8ba-01 outer:exit 2b-55731d7ebf002864195132c2f8851a0538f2ee9e-5b59f6c587befea7-01
2021-09-13T19:04:44.295Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:04:44.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7eb064c459ef8fbc769b2cbe8e7b167439ebc4f-5175ea4c9c9dac04-01 outer:exit 2b-b7eb064c459ef8fbc769b2cbe8e7b167439ebc4f-f4351e1c2eebed29-01
2021-09-13T19:04:44.300Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:04:44.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d1bd7e1cb9cc8788cf24fbb3fab9f44590093d1-dd84f531202a285d-01 outer:exit 2b-7d1bd7e1cb9cc8788cf24fbb3fab9f44590093d1-c12110f5ed28d95b-01
2021-09-13T19:04:44.311Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:04:44.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc0567804bed7dd49c6045c402569c1f2a863b7d-f539f8d49e455ee3-01 outer:exit 2b-dc0567804bed7dd49c6045c402569c1f2a863b7d-9f70daf6c4ccba6f-01
2021-09-13T19:04:44.318Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:04:44.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-835f66e1e5f2961564065b7a73b780d5222c9d8f-9275c8ce1174e339-01 outer:exit 2b-835f66e1e5f2961564065b7a73b780d5222c9d8f-e8b4373eef2c268e-01
2021-09-13T19:04:44.320Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:04:44.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-444649d8de98508ca0a12a6eabc92401c2e67107-568bf6d800a651cc-01 outer:exit 2b-444649d8de98508ca0a12a6eabc92401c2e67107-b8a1fadbf08e55c4-01
2021-09-13T19:04:44.325Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:04:44.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa2793609deea78531c9acb7d0f4e7d62cc5ec84-f69cb0bf02e37ac4-01 outer:exit 2b-fa2793609deea78531c9acb7d0f4e7d62cc5ec84-90e6e1cfd67149f7-01
2021-09-13T19:04:44.332Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:04:44.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4f11e57fd1a695084c586a84d44f088062fd0a-2405a0268c1f5aa4-01 outer:exit 2b-de4f11e57fd1a695084c586a84d44f088062fd0a-8cfc80fdd1e0a9ac-01
2021-09-13T19:04:44.334Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:04:44.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fc1e8415159f1f3e0b2f083c92dbd8ae31dcd42-a5a26583d24218e6-01 outer:exit 2b-5fc1e8415159f1f3e0b2f083c92dbd8ae31dcd42-87490f5c137b4be6-01
2021-09-13T19:04:44.340Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:04:44.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-db5b67fefdde834adcd70304925a5db3eb76b723-a974cdc3e7caf1db-01 outer:exit 2b-db5b67fefdde834adcd70304925a5db3eb76b723-b44c7d4d70e43ca0-01
2021-09-13T19:04:44.344Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:04:44.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-af2e1779ae21d3d951fe417d66bc7ee5c823a61a-bf66af2768d39ffe-01 outer:exit 2b-af2e1779ae21d3d951fe417d66bc7ee5c823a61a-3aa281f16e749948-01
2021-09-13T19:04:44.346Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:04:44.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-4eea1a4df22c0aaebac1696cdba99acc1537dabb-f0f2bafbe6f09c30-01 outer:exit 2b-4eea1a4df22c0aaebac1696cdba99acc1537dabb-9d26d4f25e96ad54-01
2021-09-13T19:04:44.348Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:04:44.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ef429e73934cc4c0e342b94068455f93d053983-bf1f4d2b2d156bb2-01 outer:exit 2b-5ef429e73934cc4c0e342b94068455f93d053983-fc9e0b0b89cce934-01
2021-09-13T19:04:44.361Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:04:44.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cabe585c81f39031f6e66c0ae4d7e3e03b2eb5f-6c8d5144015e0018-01 outer:exit 2b-4cabe585c81f39031f6e66c0ae4d7e3e03b2eb5f-89335e5a919cf411-01
2021-09-13T19:04:44.371Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:04:44.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-96f7a49567578ae98425122fe67c97d0ca09b8ba-b32464a054e014b9-01 outer:exit 2b-96f7a49567578ae98425122fe67c97d0ca09b8ba-257ca69c171aa4c2-01
2021-09-13T19:04:44.374Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:04:44.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1706b697b605e2651994fa8654fb2a271749fd1-5ca327435de2596a-01 outer:exit 2b-a1706b697b605e2651994fa8654fb2a271749fd1-344c802564ae52f4-01
2021-09-13T19:04:44.377Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:04:44.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-71844e1a3941444e501ce2dc338a5f56180c51c7-287ab3729dfc516e-01 outer:exit 2b-71844e1a3941444e501ce2dc338a5f56180c51c7-6ca7305fe6c5f744-01
2021-09-13T19:04:44.380Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:04:44.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-6115c526cc8899d0a5e20bbd9f48fe1626a1036f-ac934e513102772e-01 outer:exit 2b-6115c526cc8899d0a5e20bbd9f48fe1626a1036f-adee56e67b1387cb-01
2021-09-13T19:04:44.411Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (371ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:04:52.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:04:52.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:04:52.989Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:04:52.990Z appoptics:debug using context provider: ace-context
2021-09-13T19:04:53.067Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:04:53.118Z appoptics:patching patched crypto 
2021-09-13T19:04:53.143Z appoptics:patching patched https 
2021-09-13T19:04:53.144Z appoptics:patching patched http 
2021-09-13T19:04:53.214Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:04:53.214Z appoptics:patching patched fs 
2021-09-13T19:04:53.234Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v16.9.1)
2021-09-13T19:04:53.243Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-09-13T19:04:53.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf16590918c50e9b1bbb2c080a20fc9992c96c5e-73adefcd415f5429-01 outer:exit 2b-cf16590918c50e9b1bbb2c080a20fc9992c96c5e-6df203de11d9795e-01
2021-09-13T19:04:53.455Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:04:53.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4f1c5cd72ac5e5dd9a672a17a5295e4bfa5bd8d-386fd811b3fc7877-01 outer:exit 2b-b4f1c5cd72ac5e5dd9a672a17a5295e4bfa5bd8d-86155cc018bc1c8d-01
2021-09-13T19:04:53.505Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:04:53.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7615af3840373b1a8b38f17ffecedbf11de450e-05a5b9892618072b-01 outer:exit 2b-d7615af3840373b1a8b38f17ffecedbf11de450e-7cf98b287ec81da5-01
2021-09-13T19:04:53.509Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:04:53.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-05a6f16f49522802ef7ce7a04c2ae09d9f3d4ee0-8d8dac4adfcf53e0-01 outer:exit 2b-05a6f16f49522802ef7ce7a04c2ae09d9f3d4ee0-3128c765f28cd45a-01
2021-09-13T19:04:53.512Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:04:53.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-bed91609d4c46c395f4d1bbe24213c58ae1821ba-e52e5243ba005ea0-01 outer:exit 2b-bed91609d4c46c395f4d1bbe24213c58ae1821ba-548746c48d3fb55e-01
2021-09-13T19:04:53.517Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:04:53.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbaac3417a8446a3d7eb56a8140c54feb58fd708-a4821a4b2ac37959-01 outer:exit 2b-bbaac3417a8446a3d7eb56a8140c54feb58fd708-59bba6743f092bd1-01
2021-09-13T19:04:53.521Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:04:53.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f193b9594d7c8b91b3d7a2788560efa6e1d18c1-500d69cb78c4b87b-01 outer:exit 2b-6f193b9594d7c8b91b3d7a2788560efa6e1d18c1-7393b1bccf6fd101-01
2021-09-13T19:04:53.525Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:04:53.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-54b78eb2a002364fa1fc4d8a1b5308cd55405db3-a5c0f08c128d301d-01 outer:exit 2b-54b78eb2a002364fa1fc4d8a1b5308cd55405db3-96d61f2d1074761a-01
2021-09-13T19:04:53.528Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:04:53.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-78332869b7a5ae2bbc0101911bb8b348159c5e62-47e966ac39e7bf08-01 outer:exit 2b-78332869b7a5ae2bbc0101911bb8b348159c5e62-744b0baa182dba32-01
2021-09-13T19:04:53.531Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:04:53.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-62715a2b0e55d087143c912243840a0203b1c5ee-5583cf8536f491ba-01 outer:exit 2b-62715a2b0e55d087143c912243840a0203b1c5ee-73866a6a5e201045-01
2021-09-13T19:04:53.535Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:04:53.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-394c94f1d6dfd43622f0063e023b6a1bc172d196-91799f57e25953bb-01 outer:exit 2b-394c94f1d6dfd43622f0063e023b6a1bc172d196-280aa82018757e77-01
2021-09-13T19:04:53.539Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:04:53.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e33c198f96de1c7c2c80f6ea96863aa176fcf03-a8e7aea324c78422-01 outer:exit 2b-9e33c198f96de1c7c2c80f6ea96863aa176fcf03-fad800a6171e4d44-01
2021-09-13T19:04:53.547Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:04:53.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-b49483b433e1711bc0698dbc28a6a706d3df2841-d070224fb73a4e19-01 outer:exit 2b-b49483b433e1711bc0698dbc28a6a706d3df2841-fa9fb2ed362de2a3-01
2021-09-13T19:04:53.563Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:04:53.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-31f9271484c67976cf90bcfe8804061d5d5a7aec-ec83270c23133280-01 outer:exit 2b-31f9271484c67976cf90bcfe8804061d5d5a7aec-e03231c4a246d35b-01
2021-09-13T19:04:53.603Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:04:53.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-a54c035ec9853aa0c09cdf615a19c7bc67a77dbc-1cbc0abc868fc0c5-01 outer:exit 2b-a54c035ec9853aa0c09cdf615a19c7bc67a77dbc-4c8700dafd01a463-01
2021-09-13T19:04:53.606Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:04:53.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-4332480b230c15ff52e18d4cc53a59d6311b964b-4ee564906b647b87-01 outer:exit 2b-4332480b230c15ff52e18d4cc53a59d6311b964b-6c88ebd4fdde5b42-01
2021-09-13T19:04:53.609Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:04:53.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-13b253b7983ca186ad31c48cd9c22cf99e8be194-4bb4eee6971ad50b-01 outer:exit 2b-13b253b7983ca186ad31c48cd9c22cf99e8be194-66fcae947a3714f1-01
2021-09-13T19:04:53.613Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:04:53.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb2ce105706789ba0b6f9688d58fed31660227a-469f1a5252d79b56-01 outer:exit 2b-9cb2ce105706789ba0b6f9688d58fed31660227a-bba63873c121bb3b-01
2021-09-13T19:04:53.616Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:04:53.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-8adabf3066c72e8902da511fb51fa15672ef5b16-dca8c47fab24185e-01 outer:exit 2b-8adabf3066c72e8902da511fb51fa15672ef5b16-198594bce6949471-01
2021-09-13T19:04:53.618Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:04:53.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31dba453e3e5c60f94ad5d6ef63ea8f010257b4-cf07d061e19c5444-01 outer:exit 2b-b31dba453e3e5c60f94ad5d6ef63ea8f010257b4-9a113ca5a2a150de-01
2021-09-13T19:04:53.621Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:04:53.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc5007ce9ccf2513aaf2a924ef57aa0bfabaedd3-1adde1cfff00e0e7-01 outer:exit 2b-fc5007ce9ccf2513aaf2a924ef57aa0bfabaedd3-a78dad7c0e98e4d9-01
2021-09-13T19:04:53.623Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:04:53.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-b89ea1b0090102d393beb23719e1fc454a18359c-8d836b9ab27c29c2-01 outer:exit 2b-b89ea1b0090102d393beb23719e1fc454a18359c-d44acfcce843fc76-01
2021-09-13T19:04:53.626Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:04:53.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-1753ced97d23c7ace21691d97e8eec3c7e691890-dde66007f11835c3-01 outer:exit 2b-1753ced97d23c7ace21691d97e8eec3c7e691890-da5eb6c6aaeadbdb-01
2021-09-13T19:04:53.630Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:04:53.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a176b9bbd8b904edbcbd67707bec5d0169cbf29-0b24c7af561df032-01 outer:exit 2b-9a176b9bbd8b904edbcbd67707bec5d0169cbf29-ef5db5fc1fed1257-01
2021-09-13T19:04:53.633Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:04:53.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba3dde53a2ae956226b62de2a121bc4ad893fa5d-efd927ff06905d16-01 outer:exit 2b-ba3dde53a2ae956226b62de2a121bc4ad893fa5d-4dc14090770b2d38-01
2021-09-13T19:04:53.637Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:04:53.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-c54b1a133d9e0dfecc5b73b6e32adf2de8283da7-56d3ea1f9ae61765-01 outer:exit 2b-c54b1a133d9e0dfecc5b73b6e32adf2de8283da7-c21586de19f2013a-01
2021-09-13T19:04:53.640Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:04:53.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-533701e52818ef56d8e9966b7b0e0eb0dbcee0eb-b34d4feaaa70f4d1-01 outer:exit 2b-533701e52818ef56d8e9966b7b0e0eb0dbcee0eb-09ffde13549f8ba9-01
2021-09-13T19:04:53.647Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:04:53.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-df309cc763f4e70db9401f8dc5b1984ef013785f-fb55b843869acf56-01 outer:exit 2b-df309cc763f4e70db9401f8dc5b1984ef013785f-bd2e56726a8dc8a5-01
2021-09-13T19:04:53.652Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:04:53.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-07db3da6fa86d72af7c5f03461559f264a25deea-47942b59bfa87803-01 outer:exit 2b-07db3da6fa86d72af7c5f03461559f264a25deea-2159b62bf92c9921-01
2021-09-13T19:04:53.663Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:04:53.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a0c6f0bb370044dfe344dd302e4b02b55d1f472-6453d58283594bc2-01 outer:exit 2b-6a0c6f0bb370044dfe344dd302e4b02b55d1f472-7728b976ac93454a-01
2021-09-13T19:04:53.670Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:04:53.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-013fec8964bede9253e9e1bb64db588bfd0e79fa-f7ebdfbf44806b7b-01 outer:exit 2b-013fec8964bede9253e9e1bb64db588bfd0e79fa-4ebd67b816cfd368-01
2021-09-13T19:04:53.673Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:04:53.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-cedcb9bac4da92cae4a78684e9e1167853da604a-f11ef9679f2895e2-01 outer:exit 2b-cedcb9bac4da92cae4a78684e9e1167853da604a-4a2d5991fa3aa12b-01
2021-09-13T19:04:53.676Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:04:53.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b27fbf79fb5c08b7defa7233406d48a0f89bc8-e5c6e78167c992a5-01 outer:exit 2b-a2b27fbf79fb5c08b7defa7233406d48a0f89bc8-6c21a3aea52ba3f8-01
2021-09-13T19:04:53.684Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:04:53.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-562408a36680fe5820610f594fb53380e3f62181-cde3404b75f03087-01 outer:exit 2b-562408a36680fe5820610f594fb53380e3f62181-c3a7a9d4a93080aa-01
2021-09-13T19:04:53.687Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:04:53.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfda09a71d317d93a7d69fda5885929daadad648-44f3f981675b5253-01 outer:exit 2b-bfda09a71d317d93a7d69fda5885929daadad648-b141e8c8caeab052-01
2021-09-13T19:04:53.689Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:04:53.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-c538bcfd54dc076a715e9334f27fc1a33c7aa647-01fa617ac1b2135e-01 outer:exit 2b-c538bcfd54dc076a715e9334f27fc1a33c7aa647-0b6bef20e82cf7c8-01
2021-09-13T19:04:53.691Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:04:53.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-a09313cb921bb1fc22c5c8edd657acf63e44ac7e-df95fcf55a90d4d0-01 outer:exit 2b-a09313cb921bb1fc22c5c8edd657acf63e44ac7e-89fd5b9d2abc9bf8-01
2021-09-13T19:04:53.694Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:04:53.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-7580909928ba2a4d25157a9c034293e5ba06dee2-f64f63ca0ca719c9-01 outer:exit 2b-7580909928ba2a4d25157a9c034293e5ba06dee2-dcd217c6dd895567-01
2021-09-13T19:04:53.697Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:04:53.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5f52b72022c8f85d3edafce6d28f829fc7ebe7-8fcca8b27881909b-01 outer:exit 2b-0b5f52b72022c8f85d3edafce6d28f829fc7ebe7-2e44377846959338-01
2021-09-13T19:04:53.709Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:04:53.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-a277315c3a711e0b2edf465bbbe1a37376a1f1f9-1706a9104345dc84-01 outer:exit 2b-a277315c3a711e0b2edf465bbbe1a37376a1f1f9-ce5c2c0fbdde9cb2-01
2021-09-13T19:04:53.718Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:04:53.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e6f8c18c53ca10939f7ac2ab13f88484fa3fb51-b0542842e1851bbd-01 outer:exit 2b-1e6f8c18c53ca10939f7ac2ab13f88484fa3fb51-323c2a9d7d5c24c9-01
2021-09-13T19:04:53.722Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:04:53.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-50b0851263eb91c733c0d2d51e33e26cbfb035e4-8d34055b7e2b0769-01 outer:exit 2b-50b0851263eb91c733c0d2d51e33e26cbfb035e4-4775e410c2904934-01
2021-09-13T19:04:53.725Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:04:53.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fb718a82799813245824db93cca8eef3c56ac85-00575e8a1ce8324d-01 outer:exit 2b-4fb718a82799813245824db93cca8eef3c56ac85-ba0d388cb6f46774-01
2021-09-13T19:04:53.728Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:04:53.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7d8b556ad113397575779e3903ad92661cc75da-176a845f15e52895-01 outer:exit 2b-e7d8b556ad113397575779e3903ad92661cc75da-051703d7b57f0ceb-01
2021-09-13T19:04:53.759Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (349ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:01.496Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:01.497Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:01.497Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:01.498Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:01.574Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:01.625Z appoptics:patching patched crypto 
2021-09-13T19:05:01.652Z appoptics:patching patched https 
2021-09-13T19:05:01.653Z appoptics:patching patched http 
2021-09-13T19:05:01.718Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:01.719Z appoptics:patching patched fs 
2021-09-13T19:05:01.743Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v16.9.1)
2021-09-13T19:05:01.751Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-09-13T19:05:01.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdf8cc36821f7139d1629ee40a9e784d74f76d39-c8334adb269baafa-01 outer:exit 2b-fdf8cc36821f7139d1629ee40a9e784d74f76d39-c6735020bc675837-01
2021-09-13T19:05:01.995Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:05:02.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1bcaeb9c116315d26f1374a6695af7b68261bff-ec2077c054b16ff8-01 outer:exit 2b-a1bcaeb9c116315d26f1374a6695af7b68261bff-8d7be7df7221d1ff-01
2021-09-13T19:05:02.048Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:05:02.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c7292231030d6f222d8b0bb54e616269cd94a02-8d3f9bf8ba8a0157-01 outer:exit 2b-3c7292231030d6f222d8b0bb54e616269cd94a02-96eee96cf81d46f0-01
2021-09-13T19:05:02.053Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:05:02.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aff4a9f2df33ff0cf5ff597bad0ad968808e4fa-1ae11490d054a0e8-01 outer:exit 2b-7aff4a9f2df33ff0cf5ff597bad0ad968808e4fa-0db10ffaec5b6a06-01
2021-09-13T19:05:02.058Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:05:02.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-87caeb4e87539061631fe221ee8083c08a726ded-b866eca431e8a659-01 outer:exit 2b-87caeb4e87539061631fe221ee8083c08a726ded-2cc6fa5769a67313-01
2021-09-13T19:05:02.073Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:05:02.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-6189d3ad602360506e3839740ee7f75dfc9abc21-3133acfdb630f42f-01 outer:exit 2b-6189d3ad602360506e3839740ee7f75dfc9abc21-9a6dad87cd94ebd2-01
2021-09-13T19:05:02.077Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:05:02.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a895b946d91111209666f3190e2bf1e78b37e0b-7e864cf0cec979d4-01 outer:exit 2b-3a895b946d91111209666f3190e2bf1e78b37e0b-447c8d1cd12c32c7-01
2021-09-13T19:05:02.080Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:05:02.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-a882d157ebce6e042e48aabe9e95d357768a5cc0-181e8a79913cb403-01 outer:exit 2b-a882d157ebce6e042e48aabe9e95d357768a5cc0-1fa852b8853198a3-01
2021-09-13T19:05:02.084Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:05:02.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-94f9d065efdb5e56257436803fa957af1eb5d879-3398538bf9d39576-01 outer:exit 2b-94f9d065efdb5e56257436803fa957af1eb5d879-ee5a9f6dbd7726ac-01
2021-09-13T19:05:02.089Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:05:02.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aa59f4e31d2b7032ec233c170799825348018e6-2ce5ae238934e9ab-01 outer:exit 2b-0aa59f4e31d2b7032ec233c170799825348018e6-b2c04ac8882fe097-01
2021-09-13T19:05:02.092Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:05:02.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-5640ce58318b391ad7542ef78a4d673ee3f3099d-afa52fa906e625a3-01 outer:exit 2b-5640ce58318b391ad7542ef78a4d673ee3f3099d-6feb86c022b65551-01
2021-09-13T19:05:02.098Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:05:02.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-4670fc59808b013b94a4de38d00b12d2906e5fdb-45deb9f7fd980169-01 outer:exit 2b-4670fc59808b013b94a4de38d00b12d2906e5fdb-292dbc206e95f0fa-01
2021-09-13T19:05:02.104Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:05:02.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-53712cac492059d0fbded69e0b375f3efec01e25-13b1aff83e09cd88-01 outer:exit 2b-53712cac492059d0fbded69e0b375f3efec01e25-7daa0541a9a18f39-01
2021-09-13T19:05:02.121Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:05:02.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec5f7b556a6408fe79a461b947e2c7992ffd3a37-a9f3b5a8ff8da0e1-01 outer:exit 2b-ec5f7b556a6408fe79a461b947e2c7992ffd3a37-ed80cd2ce7d4b8e4-01
2021-09-13T19:05:02.159Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:05:02.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-f55f91eba6be043143cfc7dc2f6bec95daa8dbb3-11c16238c56c98b1-01 outer:exit 2b-f55f91eba6be043143cfc7dc2f6bec95daa8dbb3-fd2938da02bc7ad7-01
2021-09-13T19:05:02.162Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:05:02.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b9641f657b9aa2aaeca703f09d49d7d6ed0c6c6-3c42a96b2ea2ed3a-01 outer:exit 2b-0b9641f657b9aa2aaeca703f09d49d7d6ed0c6c6-c7d1aa4102e28c8e-01
2021-09-13T19:05:02.166Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:05:02.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-b74de9f22d3af1344df1997914699a04ff3f8a61-3f2807d4003f2f1c-01 outer:exit 2b-b74de9f22d3af1344df1997914699a04ff3f8a61-1d04f840c453548c-01
2021-09-13T19:05:02.173Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:05:02.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a524a7798785436304ec91b4ab82ef5edf345a7-6e017da48b17a4c0-01 outer:exit 2b-1a524a7798785436304ec91b4ab82ef5edf345a7-1a1088ae5c971a20-01
2021-09-13T19:05:02.176Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:05:02.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d5efec8536cc70a4096f4c23cdd796030dc21e-34f21a4da0eadb50-01 outer:exit 2b-d8d5efec8536cc70a4096f4c23cdd796030dc21e-3a68181e1a2cbb58-01
2021-09-13T19:05:02.188Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:05:02.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31f7abe3f44b8d6efcf5cb550ee412271f869dd-54ee09a0d4037f3c-01 outer:exit 2b-b31f7abe3f44b8d6efcf5cb550ee412271f869dd-e271e62b45526337-01
2021-09-13T19:05:02.191Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:05:02.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-e86fa6da730bbf5e11e87f94b4934a784e95984f-85e773dc72cb49e3-01 outer:exit 2b-e86fa6da730bbf5e11e87f94b4934a784e95984f-d8d60656090bc068-01
2021-09-13T19:05:02.200Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:05:02.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f14d2013cb610718285fac5bbf2844822d3e0a9-846b1b69a8b9722d-01 outer:exit 2b-1f14d2013cb610718285fac5bbf2844822d3e0a9-b71a4a517f865676-01
2021-09-13T19:05:02.203Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:05:02.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-12fe3be92743449fbb9fee39c6878ba0056b018c-cb5a5149a1a215eb-01 outer:exit 2b-12fe3be92743449fbb9fee39c6878ba0056b018c-05dcf6f442eaebe6-01
2021-09-13T19:05:02.213Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:05:02.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d2fdc77075b7156199ad002160df80f1e24a85b-0767e5ca5d62c3c1-01 outer:exit 2b-1d2fdc77075b7156199ad002160df80f1e24a85b-b4d45b6df0d2038f-01
2021-09-13T19:05:02.217Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:05:02.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-d59548d93af9bb192a6d8275fe87cc606425dbe8-84ac45dec9d131b4-01 outer:exit 2b-d59548d93af9bb192a6d8275fe87cc606425dbe8-ce9913e295cf5cff-01
2021-09-13T19:05:02.221Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:05:02.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-675578ebed93a81ae4f2fb6227f8ba7de2c4537c-4dd1e40035ce41b8-01 outer:exit 2b-675578ebed93a81ae4f2fb6227f8ba7de2c4537c-18d64cd931fd3a86-01
2021-09-13T19:05:02.227Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:05:02.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-e967e54ed3941783961eca0c6f2d208d46a3a3c0-0c58265c94d2c766-01 outer:exit 2b-e967e54ed3941783961eca0c6f2d208d46a3a3c0-88ba69efb5ca14b1-01
2021-09-13T19:05:02.236Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:05:02.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-873f8550e4bc5b57eeaf76b1e832a263238bf6e7-652f739fb80fa049-01 outer:exit 2b-873f8550e4bc5b57eeaf76b1e832a263238bf6e7-98c38b5348540d2a-01
2021-09-13T19:05:02.242Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:05:02.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ef551f6ab0247a09d62ad1c415ac28c71a91562-b97a2cb69530a447-01 outer:exit 2b-7ef551f6ab0247a09d62ad1c415ac28c71a91562-89e7eef58e3ab7f5-01
2021-09-13T19:05:02.260Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:05:02.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-a575b9423d2d05d2f3a9adadcefa7032f80f6758-3555d6644ac16397-01 outer:exit 2b-a575b9423d2d05d2f3a9adadcefa7032f80f6758-78ba17c04235d99f-01
2021-09-13T19:05:02.267Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:05:02.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-c96ccc642d969684ea902d5b28a0b9d0933bfedb-1a19520e3d49672e-01 outer:exit 2b-c96ccc642d969684ea902d5b28a0b9d0933bfedb-a4f0be3d18d28b78-01
2021-09-13T19:05:02.277Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:05:02.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-d492ded8bbdc702bc76cd356dfe2fe160ed12118-228eac0f7e67b5a7-01 outer:exit 2b-d492ded8bbdc702bc76cd356dfe2fe160ed12118-9f8faf473cb77e85-01
2021-09-13T19:05:02.285Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:05:02.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-b16ad9401ab2c2d946a146f0d433cbdf711fb390-e34a4f79d3b64781-01 outer:exit 2b-b16ad9401ab2c2d946a146f0d433cbdf711fb390-5b7d6d9233dd8adc-01
2021-09-13T19:05:02.292Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:05:02.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-05e5daca10f84603e459835ea7a688fe7361b954-0a0df1d2272c20a9-01 outer:exit 2b-05e5daca10f84603e459835ea7a688fe7361b954-7606c27093919c5b-01
2021-09-13T19:05:02.295Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:05:02.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-395db4b62f6bda050086bd69cbe76af63b6a0f77-7c0a426bc078a9dc-01 outer:exit 2b-395db4b62f6bda050086bd69cbe76af63b6a0f77-3b54129282958828-01
2021-09-13T19:05:02.297Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:05:02.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-7feadc337300f1edda720b0b913578fc772e96f2-f88ec0dc2cffda39-01 outer:exit 2b-7feadc337300f1edda720b0b913578fc772e96f2-01b99c2df27a369d-01
2021-09-13T19:05:02.300Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:05:02.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-22aa22bc8a52cd23745b7f3e0e726d5721e09f71-ac9615097ef92180-01 outer:exit 2b-22aa22bc8a52cd23745b7f3e0e726d5721e09f71-99e568cf2b3ff23e-01
2021-09-13T19:05:02.309Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:05:02.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-acbfed5a9f65e807cb3ba4ec35d18fda78a7299d-835c363a778b65ad-01 outer:exit 2b-acbfed5a9f65e807cb3ba4ec35d18fda78a7299d-99aa047fed7c24ce-01
2021-09-13T19:05:02.319Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:05:02.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-930459f9b83216d65e74e999d89edf8e6309ecba-5e58e2b3e2b82230-01 outer:exit 2b-930459f9b83216d65e74e999d89edf8e6309ecba-ce7f6132d4d8ac1c-01
2021-09-13T19:05:02.333Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:05:02.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-b727717f12951fd8b20dc85ee4d5876837ff675a-770bfc47d2ba01f5-01 outer:exit 2b-b727717f12951fd8b20dc85ee4d5876837ff675a-1e923042781b35e6-01
2021-09-13T19:05:02.342Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:05:02.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c0e55b41bb478c2cf1156fb152df3fcd7372562-1e6b49407b9cf4f6-01 outer:exit 2b-0c0e55b41bb478c2cf1156fb152df3fcd7372562-55972bf1119d0e76-01
2021-09-13T19:05:02.346Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:05:02.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-589e21545a67ed604a53587195e53f137a26b84e-617c01b66918acb5-01 outer:exit 2b-589e21545a67ed604a53587195e53f137a26b84e-642cfa1252f2607c-01
2021-09-13T19:05:02.349Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:05:02.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-7411dc712e44dc12ba931506a9bf727c1417008b-5216d51053514c97-01 outer:exit 2b-7411dc712e44dc12ba931506a9bf727c1417008b-6114e7b561767656-01
2021-09-13T19:05:02.352Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:05:02.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a29ca10ec7300143cf2805ea8eefde2ce863a7a-c2010f2f2364e643-01 outer:exit 2b-6a29ca10ec7300143cf2805ea8eefde2ce863a7a-d01cbbff8da1d4a8-01
2021-09-13T19:05:02.396Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (446ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:10.543Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:10.544Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:10.544Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:10.545Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:10.617Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:10.666Z appoptics:patching patched crypto 
2021-09-13T19:05:10.691Z appoptics:patching patched https 
2021-09-13T19:05:10.691Z appoptics:patching patched http 
2021-09-13T19:05:10.764Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:10.764Z appoptics:patching patched fs 
2021-09-13T19:05:10.784Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v16.9.1)
2021-09-13T19:05:10.795Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-09-13T19:05:11.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb430d890c9a625a3912e5b0e3fe956979d1787f-bf75282236c2a133-01 outer:exit 2b-fb430d890c9a625a3912e5b0e3fe956979d1787f-d7665d8dd9d7aa5a-01
2021-09-13T19:05:11.023Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:05:11.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b55b236b818b28f64d9799e9679493990c49958-1d125716451121d0-01 outer:exit 2b-9b55b236b818b28f64d9799e9679493990c49958-22bb9f095d2fed78-01
2021-09-13T19:05:11.106Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:05:11.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-488122f982846d18568aef33d04bb504bedaab8c-233e21cc0a3dec77-01 outer:exit 2b-488122f982846d18568aef33d04bb504bedaab8c-45013998f9696273-01
2021-09-13T19:05:11.110Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:05:11.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e736fcf4679a4508f84c7aa77ced9e1ba120b58-90165faf09aead7c-01 outer:exit 2b-0e736fcf4679a4508f84c7aa77ced9e1ba120b58-93df89ba104c0d22-01
2021-09-13T19:05:11.113Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:05:11.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7960bfadf29d4373d0739c789587ab404a632c2-6d512c52e890a2f8-01 outer:exit 2b-b7960bfadf29d4373d0739c789587ab404a632c2-bbef08c551ad8ddf-01
2021-09-13T19:05:11.119Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:05:11.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d8e5df91953ef67c468489e2642e7c9cafbc19e-8ad9ba2bc8d4d015-01 outer:exit 2b-8d8e5df91953ef67c468489e2642e7c9cafbc19e-abd30d5ad9494f5c-01
2021-09-13T19:05:11.122Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:05:11.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd078da138bbb7fa11a02bd1f78864b7d55f019f-4070a8b1565601cf-01 outer:exit 2b-cd078da138bbb7fa11a02bd1f78864b7d55f019f-46406af6df751d77-01
2021-09-13T19:05:11.125Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:05:11.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd735cbe0bffc23d6bbd3b8747c24c8bdfdb1f57-961fc0ae284fb907-01 outer:exit 2b-dd735cbe0bffc23d6bbd3b8747c24c8bdfdb1f57-b07cf0c01113bbc4-01
2021-09-13T19:05:11.128Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:05:11.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-e147b5e02458b534822da753d9377deb9a6f64b6-7c43b6b6c416c623-01 outer:exit 2b-e147b5e02458b534822da753d9377deb9a6f64b6-ea41ae088a7815f5-01
2021-09-13T19:05:11.135Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:05:11.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-486817e1656ab4114bc6f1183ee380ae56c9ad9e-530f2a6760064dd1-01 outer:exit 2b-486817e1656ab4114bc6f1183ee380ae56c9ad9e-6a412a990252de3d-01
2021-09-13T19:05:11.138Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:05:11.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e5069c916b4646e3234bd3a438d2591fe172da8-2272ff71aa72ca80-01 outer:exit 2b-0e5069c916b4646e3234bd3a438d2591fe172da8-883abf6df3e68031-01
2021-09-13T19:05:11.143Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:05:11.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72ac11b2b66cd5a19bd8e18c119f8f8dc245a4b-81c0415648fee966-01 outer:exit 2b-a72ac11b2b66cd5a19bd8e18c119f8f8dc245a4b-b77e30506074386f-01
2021-09-13T19:05:11.151Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:05:11.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6c14008b4758d4b0a1e3d09065c8fbd42afb74d-b342ce4438802583-01 outer:exit 2b-a6c14008b4758d4b0a1e3d09065c8fbd42afb74d-5f079ff8f7483f95-01
2021-09-13T19:05:11.168Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:05:11.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-4676cad38f2f61ce065dd63e6dff67b5b70b014c-5377b698b5f8e4b9-01 outer:exit 2b-4676cad38f2f61ce065dd63e6dff67b5b70b014c-912e504d4badb23e-01
2021-09-13T19:05:11.204Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:05:11.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e23f1d865ffd5bdc3646024b879fbdc9adb7194-4eb3992608407ac4-01 outer:exit 2b-0e23f1d865ffd5bdc3646024b879fbdc9adb7194-7521a2a7310c4b58-01
2021-09-13T19:05:11.208Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:05:11.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aef8843c989fbdf9ae7db61dc8c4827e3dd8c1f-5046472af8ceddc7-01 outer:exit 2b-4aef8843c989fbdf9ae7db61dc8c4827e3dd8c1f-45c3a20b91499153-01
2021-09-13T19:05:11.211Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:05:11.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f5e4d6ae53336b00547c2cd64ae49f0249bf50c-8f6ab031c616de93-01 outer:exit 2b-0f5e4d6ae53336b00547c2cd64ae49f0249bf50c-a371d3f83de4915e-01
2021-09-13T19:05:11.214Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:05:11.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-676e5e6fc489b681699780f4d2e19d09a8723a0a-946cc3a6f69e20c6-01 outer:exit 2b-676e5e6fc489b681699780f4d2e19d09a8723a0a-b13bb0c1790c8261-01
2021-09-13T19:05:11.217Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:05:11.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c14768b9d66e62cab62415abebee1710bc94552-726f667ee5aee349-01 outer:exit 2b-4c14768b9d66e62cab62415abebee1710bc94552-77c917e51d9b1836-01
2021-09-13T19:05:11.220Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:05:11.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5bed04010271229b9193d96c0714d8c017662c3-fc52185517ea6554-01 outer:exit 2b-f5bed04010271229b9193d96c0714d8c017662c3-c1d65f7af5041665-01
2021-09-13T19:05:11.223Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:05:11.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-42d7b97692f5cf5e67aa3b3b44c189bde3f2e10c-93ed08152551d073-01 outer:exit 2b-42d7b97692f5cf5e67aa3b3b44c189bde3f2e10c-ba76d985b5e9c013-01
2021-09-13T19:05:11.225Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:05:11.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-82b93657b884fe3c5b14a36b2fab98027f1c5aaf-e3cdefdbec764e78-01 outer:exit 2b-82b93657b884fe3c5b14a36b2fab98027f1c5aaf-2136ff3a134255ee-01
2021-09-13T19:05:11.228Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:05:11.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-a698ef7aa0d006bdd771bc2e286b37ed32a20def-aa79214bd688a20b-01 outer:exit 2b-a698ef7aa0d006bdd771bc2e286b37ed32a20def-5f69a0cc74e7c4b3-01
2021-09-13T19:05:11.232Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:05:11.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-75d19258ff5ada193b8d272058162785fe494116-15d7d3d9ce82fbb2-01 outer:exit 2b-75d19258ff5ada193b8d272058162785fe494116-ca72aaf03fba5a5a-01
2021-09-13T19:05:11.235Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:05:11.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f3caa5accc7451960e6a4b6320f40775e311c8b-757654cf9d1470be-01 outer:exit 2b-2f3caa5accc7451960e6a4b6320f40775e311c8b-80d5412530613de2-01
2021-09-13T19:05:11.238Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:05:11.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a06ebcba54b60e06f9fc4a2a4f3b874f044f72a-56f5ebb354a16495-01 outer:exit 2b-5a06ebcba54b60e06f9fc4a2a4f3b874f044f72a-ce487fa2e9d5790e-01
2021-09-13T19:05:11.241Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:05:11.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-e683aa4d64caba3ca8729b29347820dd89c7d715-2197e99b4a7b1f83-01 outer:exit 2b-e683aa4d64caba3ca8729b29347820dd89c7d715-d42da774a33c09e3-01
2021-09-13T19:05:11.248Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:05:11.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-018d3020ec290a725b3c152b85f2b0dc0ccd4408-6df6d42e2e4f0b53-01 outer:exit 2b-018d3020ec290a725b3c152b85f2b0dc0ccd4408-d7437164e7ab703f-01
2021-09-13T19:05:11.255Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:05:11.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-a50f7ecf7988c5f0a4b176762b08592fa8a803cc-7154bede8e03a0c1-01 outer:exit 2b-a50f7ecf7988c5f0a4b176762b08592fa8a803cc-acb3599747042b43-01
2021-09-13T19:05:11.265Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:05:11.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7c39740afc84f67702d578b650ce8447051b80a-9c085acc825cfa5f-01 outer:exit 2b-f7c39740afc84f67702d578b650ce8447051b80a-6a433f410ec4b576-01
2021-09-13T19:05:11.272Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:05:11.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-6920341ba051aaf344940c7279f502ce82cc1d54-d0255fb03781670e-01 outer:exit 2b-6920341ba051aaf344940c7279f502ce82cc1d54-7efd224b58943f7a-01
2021-09-13T19:05:11.275Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:05:11.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-89ffb2c1f2386d453f1d36a83610fc3911ad6cbc-55cb0f4a51723425-01 outer:exit 2b-89ffb2c1f2386d453f1d36a83610fc3911ad6cbc-5123742f1be4ea80-01
2021-09-13T19:05:11.279Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:05:11.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-50b1246b766069f9b29bc0da1c0f46b91ff54ec2-cc10a603bc76be97-01 outer:exit 2b-50b1246b766069f9b29bc0da1c0f46b91ff54ec2-5436138a994154e2-01
2021-09-13T19:05:11.287Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:05:11.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c3a0b18e33c98bdfbb2c55d3947d21063188b25-ee19a00eea9e8c97-01 outer:exit 2b-1c3a0b18e33c98bdfbb2c55d3947d21063188b25-b29ea33a75e95d07-01
2021-09-13T19:05:11.295Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:05:11.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-afaad526541920c52b162312619ff715958edcb7-3fb27b30240899b7-01 outer:exit 2b-afaad526541920c52b162312619ff715958edcb7-f2b94ed4d6bfb83d-01
2021-09-13T19:05:11.297Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:05:11.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7aa1f29463a0851dc5f092367b49b6d633cb7e7-9f78055e5d1ae42a-01 outer:exit 2b-d7aa1f29463a0851dc5f092367b49b6d633cb7e7-606c5ec1db9e5275-01
2021-09-13T19:05:11.299Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:05:11.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-298732e287ab981cf9a43490bb9e64f548f06d8c-03510c4d10636113-01 outer:exit 2b-298732e287ab981cf9a43490bb9e64f548f06d8c-4db1b88c6f6f4699-01
2021-09-13T19:05:11.302Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:05:11.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9a01d06f3d26d5b474630a6d6de3d24a51a9543-a2d7863e6a455c61-01 outer:exit 2b-b9a01d06f3d26d5b474630a6d6de3d24a51a9543-315440f0ca2ac7f4-01
2021-09-13T19:05:11.304Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:05:11.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-beff29596790dd6d55f6a275e22481bf2ab64432-f1aecb8753d1a0fe-01 outer:exit 2b-beff29596790dd6d55f6a275e22481bf2ab64432-8e163c2f05b29f05-01
2021-09-13T19:05:11.315Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:05:11.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2685300976cd1e2f681186e6ec0369d787eb378-9a50cfa6eaf9b1d5-01 outer:exit 2b-b2685300976cd1e2f681186e6ec0369d787eb378-32c2a0c36659aa32-01
2021-09-13T19:05:11.325Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:05:11.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-448314d86fc0b20b7db5c26d6d6d7d294ba4c7d2-eff15daf56942e71-01 outer:exit 2b-448314d86fc0b20b7db5c26d6d6d7d294ba4c7d2-7002065ee1c963f2-01
2021-09-13T19:05:11.328Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:05:11.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-aba6028ffe36a1dd11fd7f5bdd83afc852a8d3bd-2e9fb6fd467551de-01 outer:exit 2b-aba6028ffe36a1dd11fd7f5bdd83afc852a8d3bd-7739d7038fd4798e-01
2021-09-13T19:05:11.332Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:05:11.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-1294ab4cf447a02d1c58555779362d4bf7b42c2c-13f6d63667a7c8a5-01 outer:exit 2b-1294ab4cf447a02d1c58555779362d4bf7b42c2c-fcef47f14a6c38fb-01
2021-09-13T19:05:11.335Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:05:11.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e14a61c8efe65d06154b55a25b9d9c29767ab69-d02fd21e0ce63d9f-01 outer:exit 2b-9e14a61c8efe65d06154b55a25b9d9c29767ab69-1ee57d1bf0cfb978-01
2021-09-13T19:05:11.366Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (384ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:19.452Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:19.453Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:19.453Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:19.454Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:19.532Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:19.583Z appoptics:patching patched crypto 
2021-09-13T19:05:19.608Z appoptics:patching patched https 
2021-09-13T19:05:19.608Z appoptics:patching patched http 
2021-09-13T19:05:19.673Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:19.673Z appoptics:patching patched fs 
2021-09-13T19:05:19.691Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v16.9.1)
2021-09-13T19:05:19.701Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-09-13T19:05:19.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c97085665c3f8c60cf013c61788f90f236f809a-bfbf2430151ebeff-01 outer:exit 2b-3c97085665c3f8c60cf013c61788f90f236f809a-751af971e81e9c3e-01
2021-09-13T19:05:19.924Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:05:19.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d95c144cb10352f9ad23378df130152a71bd7d9-f5dd40b1bf8c1b11-01 outer:exit 2b-8d95c144cb10352f9ad23378df130152a71bd7d9-ebc43303dce5dec8-01
2021-09-13T19:05:19.994Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:05:19.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-2937269777a0cd837eb6a781f72f924fbd5efad7-e8df5ccc25ab9797-01 outer:exit 2b-2937269777a0cd837eb6a781f72f924fbd5efad7-35d6d4f09b4d0358-01
2021-09-13T19:05:19.998Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:05:20.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-834185c3c6828f6cbd8e28bc935aedaf475cb3d0-0dc1e2b0ce6292b1-01 outer:exit 2b-834185c3c6828f6cbd8e28bc935aedaf475cb3d0-50a90a401d6dcb0a-01
2021-09-13T19:05:20.002Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:05:20.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-5472e0f0437f13c910ed21a0136acb262b3282bc-c0c9ca727811089a-01 outer:exit 2b-5472e0f0437f13c910ed21a0136acb262b3282bc-df674ed078fba19c-01
2021-09-13T19:05:20.009Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:05:20.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d98cb215c6e7fa74ee6d1a524933c2e0f48e4f7-1724546a94766015-01 outer:exit 2b-8d98cb215c6e7fa74ee6d1a524933c2e0f48e4f7-c32d9f97d0a67983-01
2021-09-13T19:05:20.013Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:05:20.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-b636db4c7f77535562ff95bcce07d76bfad89a5d-c0655c1eb60189cb-01 outer:exit 2b-b636db4c7f77535562ff95bcce07d76bfad89a5d-4249df6ed2eda79d-01
2021-09-13T19:05:20.017Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:05:20.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-41b3fb48bb159b8746ee41e7763fb01e234ef349-2823537412646ff5-01 outer:exit 2b-41b3fb48bb159b8746ee41e7763fb01e234ef349-434e6548d31c3fba-01
2021-09-13T19:05:20.019Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:05:20.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-40d486ae418c6438aef8de8acab04d671f3e8c76-b2d436b451468a7b-01 outer:exit 2b-40d486ae418c6438aef8de8acab04d671f3e8c76-7077c59bfa3b0f43-01
2021-09-13T19:05:20.023Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:05:20.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a0833a92b228b883dc65674928f3f14ddd9e404-30355118fe532447-01 outer:exit 2b-2a0833a92b228b883dc65674928f3f14ddd9e404-395fe29b7f2e9be9-01
2021-09-13T19:05:20.028Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:05:20.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-93fd1d744bcf13484da23b6e3b93bb586608a5f8-122270d8c03428c2-01 outer:exit 2b-93fd1d744bcf13484da23b6e3b93bb586608a5f8-7878bc1af398b3c6-01
2021-09-13T19:05:20.033Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:05:20.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ebce15c982853c967020f82659e9e335eb59021-25216ff60de9b08f-01 outer:exit 2b-9ebce15c982853c967020f82659e9e335eb59021-c2c5bf83a193c6f3-01
2021-09-13T19:05:20.041Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:05:20.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-85b95f03a5d38db8a3bf14f08afd3b8b20551d54-2e8ba4f2793b81c0-01 outer:exit 2b-85b95f03a5d38db8a3bf14f08afd3b8b20551d54-b9c7608b2e7ad39a-01
2021-09-13T19:05:20.064Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:05:20.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-38391eaf645ec56476ac8144d03163daa1f1418a-612f62729cef34ac-01 outer:exit 2b-38391eaf645ec56476ac8144d03163daa1f1418a-25dfe43abed9f79b-01
2021-09-13T19:05:20.097Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:05:20.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-5413c8677dd4d60fbc61cf95442d4263c337d84f-2c0a5dfe2b17113f-01 outer:exit 2b-5413c8677dd4d60fbc61cf95442d4263c337d84f-485aa74191ca528a-01
2021-09-13T19:05:20.100Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:05:20.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-1fd719fbc8e6cdf1fb67b8773e44347dd422ba85-9921bd861e73a678-01 outer:exit 2b-1fd719fbc8e6cdf1fb67b8773e44347dd422ba85-5b81458ab040bdba-01
2021-09-13T19:05:20.104Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:05:20.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2b3e85170ddc4a86edbe304357bee18674b57ad-3c0adeb545a5f237-01 outer:exit 2b-f2b3e85170ddc4a86edbe304357bee18674b57ad-dc21e857a9df6deb-01
2021-09-13T19:05:20.108Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:05:20.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe03a1b39aa0eb94690092468db44ff0da9c60da-f07c6684587b63a5-01 outer:exit 2b-fe03a1b39aa0eb94690092468db44ff0da9c60da-210c9f0190edd41b-01
2021-09-13T19:05:20.110Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:05:20.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-be7ef2e7313a08eff435bca14eb676a422a0c65e-a32e0c7da41e8310-01 outer:exit 2b-be7ef2e7313a08eff435bca14eb676a422a0c65e-84c45f641b731813-01
2021-09-13T19:05:20.113Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:05:20.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e25b9254e53a8a85a2c7c252266f0175a5cd399-022b3c706e691fcf-01 outer:exit 2b-2e25b9254e53a8a85a2c7c252266f0175a5cd399-6e7be05e12f30d4d-01
2021-09-13T19:05:20.116Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:05:20.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f73c64ccfc4d82caf440707062655e13efdf7bd-81c070882f265105-01 outer:exit 2b-5f73c64ccfc4d82caf440707062655e13efdf7bd-ec52e4b81b9878dc-01
2021-09-13T19:05:20.119Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:05:20.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fc024f8198dbaeed770967429f9a81f1c402740-03e2a6fac7ec32b9-01 outer:exit 2b-6fc024f8198dbaeed770967429f9a81f1c402740-bee08f0ea0b40a95-01
2021-09-13T19:05:20.121Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:05:20.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-6040414b442a67cddd097b8c30ae08c59047a60e-b6db8f2ab950e5bf-01 outer:exit 2b-6040414b442a67cddd097b8c30ae08c59047a60e-fbd9c90bfa58d643-01
2021-09-13T19:05:20.126Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:05:20.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-48435122adf227038592f2981ea4a3374643abf8-72095c9d3a517e5d-01 outer:exit 2b-48435122adf227038592f2981ea4a3374643abf8-bfb4825fa42d809d-01
2021-09-13T19:05:20.130Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:05:20.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-a23596d8feadd0dd2531fad73da83fbec096c3c4-cceb0c03b2c7404a-01 outer:exit 2b-a23596d8feadd0dd2531fad73da83fbec096c3c4-9e4c2895a60fbad1-01
2021-09-13T19:05:20.134Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:05:20.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-b277acf04570fcdb6528703c3490da30adf4a31a-c232fc5143debe5f-01 outer:exit 2b-b277acf04570fcdb6528703c3490da30adf4a31a-90f85b2a98b5bd3f-01
2021-09-13T19:05:20.138Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:05:20.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-27174aa2a068ba540393d8d4538026ed9d03b737-4c1d39468f38727b-01 outer:exit 2b-27174aa2a068ba540393d8d4538026ed9d03b737-954a64f373506882-01
2021-09-13T19:05:20.145Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:05:20.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-6438f56de4c157a0f9190b86bd754f4be5147fda-d43c58720b1298f4-01 outer:exit 2b-6438f56de4c157a0f9190b86bd754f4be5147fda-129241fc118e50a0-01
2021-09-13T19:05:20.150Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:05:20.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-55773950816c14c18954786cdad29d5071552204-b4254233b15c26d7-01 outer:exit 2b-55773950816c14c18954786cdad29d5071552204-143d5dcc039df427-01
2021-09-13T19:05:20.160Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:05:20.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8c2287bc89ed10deb5169475e865fba8a9b84f8-8ef5554dc330860a-01 outer:exit 2b-a8c2287bc89ed10deb5169475e865fba8a9b84f8-9b49a7b5f4bf3a1e-01
2021-09-13T19:05:20.168Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:05:20.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-41310b339f5bbb3e4389bdb39b3307d0096fdb3c-9eedb5687d1bbbcf-01 outer:exit 2b-41310b339f5bbb3e4389bdb39b3307d0096fdb3c-f78e412abc73a560-01
2021-09-13T19:05:20.171Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:05:20.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d1892d38ae4174cbb4e9a1999d5fe931607e35-8befa0ea30a7e6b3-01 outer:exit 2b-f7d1892d38ae4174cbb4e9a1999d5fe931607e35-dd4d851b59efd4ca-01
2021-09-13T19:05:20.176Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:05:20.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd41d6a81f43e9ecde0db9c3427d0254d34c45ed-29fd51fdf3581f30-01 outer:exit 2b-bd41d6a81f43e9ecde0db9c3427d0254d34c45ed-0e61368907cd7515-01
2021-09-13T19:05:20.183Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:05:20.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1efc59fa6f24b964f543126f5df128551daa046-e61d576d916f7bf3-01 outer:exit 2b-c1efc59fa6f24b964f543126f5df128551daa046-48ab065eb04f1556-01
2021-09-13T19:05:20.186Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:05:20.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-87cc362bc38a05515789127eb7512bc23dec1182-46e0c7ca04d9e690-01 outer:exit 2b-87cc362bc38a05515789127eb7512bc23dec1182-39a664d230916932-01
2021-09-13T19:05:20.189Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:05:20.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-99c0cb3c73db5dd3392948ddecf8752feba8a63e-b2ff5b30ada6f28f-01 outer:exit 2b-99c0cb3c73db5dd3392948ddecf8752feba8a63e-0c984c776d211ed7-01
2021-09-13T19:05:20.192Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:05:20.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-d831a335295cff58e14f0739c7ed1e67b99c3726-0d565e0b596f84da-01 outer:exit 2b-d831a335295cff58e14f0739c7ed1e67b99c3726-bae00fad82522265-01
2021-09-13T19:05:20.202Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:05:20.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fe8391f4f2ba7153bbba6a114f1751ba69e4e89-1a09750587bfc52f-01 outer:exit 2b-9fe8391f4f2ba7153bbba6a114f1751ba69e4e89-1efd467b353fe7b0-01
2021-09-13T19:05:20.205Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:05:20.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-68f937197c4c418075749127c138800849324c52-ee432e5401eb0bd5-01 outer:exit 2b-68f937197c4c418075749127c138800849324c52-34a2a7a9b6c6984a-01
2021-09-13T19:05:20.218Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:05:20.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-aba2794e83b0046cef63d8af782ffdbb099ac3d6-49a8b48e04c19410-01 outer:exit 2b-aba2794e83b0046cef63d8af782ffdbb099ac3d6-654ed50a009161f6-01
2021-09-13T19:05:20.227Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:05:20.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-3833cf6d23499702c267911f0da02c5b6541036c-9b2bace7384503a1-01 outer:exit 2b-3833cf6d23499702c267911f0da02c5b6541036c-8aa6cd87be3916a4-01
2021-09-13T19:05:20.230Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:05:20.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c1120600edc01e7737bac4f03e68ad4bd2bbd40-9d22287213437ab0-01 outer:exit 2b-1c1120600edc01e7737bac4f03e68ad4bd2bbd40-a1a0f3192302de62-01
2021-09-13T19:05:20.234Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:05:20.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-0137a9d45a1ad8f6154dcb488ba76e49c8bd2035-1df7f2f714fadcd3-01 outer:exit 2b-0137a9d45a1ad8f6154dcb488ba76e49c8bd2035-b79096120f1c25d0-01
2021-09-13T19:05:20.238Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:05:20.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-712e2fab41c397efa509e1a622579798916fdbbb-8de78f71fa45d7a5-01 outer:exit 2b-712e2fab41c397efa509e1a622579798916fdbbb-87eb8bd4bd72a0c8-01
2021-09-13T19:05:20.272Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (406ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:28.117Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:28.118Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:28.118Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:28.118Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:28.208Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:28.266Z appoptics:patching patched crypto 
2021-09-13T19:05:28.297Z appoptics:patching patched https 
2021-09-13T19:05:28.297Z appoptics:patching patched http 
2021-09-13T19:05:28.371Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:28.371Z appoptics:patching patched fs 
2021-09-13T19:05:28.393Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v16.9.1)
2021-09-13T19:05:28.402Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-09-13T19:05:28.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6244a2736444f27b3b736e1565028f4218e333a-348ad14ced160828-01 outer:exit 2b-c6244a2736444f27b3b736e1565028f4218e333a-b89ccce72cda8166-01
2021-09-13T19:05:28.646Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:05:28.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-c140f31259ec83c52f0861955d087374c67d3aed-4c752dc2fe7ca42a-01 outer:exit 2b-c140f31259ec83c52f0861955d087374c67d3aed-ff5b8b63bae31d7f-01
2021-09-13T19:05:28.710Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:05:28.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cd690374219ea1e2300da2f2c968e10c6db37fc-68fc40d14c9e4da4-01 outer:exit 2b-2cd690374219ea1e2300da2f2c968e10c6db37fc-b0dee530cf8cc8a1-01
2021-09-13T19:05:28.715Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:05:28.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3f2fbc5f8f299f7124c9d26f8a944ab080ee8f9-9b794612fc90defd-01 outer:exit 2b-f3f2fbc5f8f299f7124c9d26f8a944ab080ee8f9-41bf27af6a76bec2-01
2021-09-13T19:05:28.720Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:05:28.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-3230508d95d975ed5d6f0a0c36604d487986277e-4bd4944c6077a499-01 outer:exit 2b-3230508d95d975ed5d6f0a0c36604d487986277e-893b54732ef484dc-01
2021-09-13T19:05:28.726Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:05:28.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-92c66bde98b3c090350e0745c5eb9ccf04ea29c7-a3ed2c193df0dd56-01 outer:exit 2b-92c66bde98b3c090350e0745c5eb9ccf04ea29c7-c28a2e0942af7bb1-01
2021-09-13T19:05:28.734Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:05:28.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-1821e6c1e7319c4867c3dde225bfd480e59d047c-e277970a98e6cfa8-01 outer:exit 2b-1821e6c1e7319c4867c3dde225bfd480e59d047c-2ba9a5a92a4a6136-01
2021-09-13T19:05:28.741Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:05:28.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-73c978092149806ee8ea719cb801e7acae800ed6-a6e573456e8d2de1-01 outer:exit 2b-73c978092149806ee8ea719cb801e7acae800ed6-eb389abd7bb0876d-01
2021-09-13T19:05:28.744Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:05:28.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0995ba4d26609c122031361b92adc7210856f82-cca0f67be77b1348-01 outer:exit 2b-c0995ba4d26609c122031361b92adc7210856f82-ea65be5cb22b057e-01
2021-09-13T19:05:28.747Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:05:28.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd0598ff5ca8309ce2b6d090e0f231d28ff3fe4d-52a148830098f67c-01 outer:exit 2b-bd0598ff5ca8309ce2b6d090e0f231d28ff3fe4d-a75a7a284cfbea32-01
2021-09-13T19:05:28.751Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:05:28.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a585ab1ec19f3d757eb7f51bc5a7b6cb2fed528-6d7df70fa09b7022-01 outer:exit 2b-7a585ab1ec19f3d757eb7f51bc5a7b6cb2fed528-4758a2c98058ef18-01
2021-09-13T19:05:28.756Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:05:28.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d5e4d180f602aee5fb728cf4a581b6e04fd5c5a-a13f89e5ee8ebc07-01 outer:exit 2b-4d5e4d180f602aee5fb728cf4a581b6e04fd5c5a-6ba1020fed985e2c-01
2021-09-13T19:05:28.765Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:05:28.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc6ddbc8a2528fcc8556fe504545abc0c34908a-89a202ba0edec834-01 outer:exit 2b-5bc6ddbc8a2528fcc8556fe504545abc0c34908a-3316508f48d346f9-01
2021-09-13T19:05:28.784Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:05:28.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b711940f3bb465cf4946341c5c80e205f53fb05-8159b1262f6ff8a3-01 outer:exit 2b-6b711940f3bb465cf4946341c5c80e205f53fb05-15f1463355eb18bc-01
2021-09-13T19:05:28.848Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:05:28.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-7994515bb6500f3ba63cf83d3c4c5004cca1680d-c431bc43cc52a7cc-01 outer:exit 2b-7994515bb6500f3ba63cf83d3c4c5004cca1680d-0a35035f49310ff2-01
2021-09-13T19:05:28.851Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:05:28.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc9bc81f5f6a04d12704a48fe9ec18a9736db8b-ca1075d2d4fc916a-01 outer:exit 2b-cdc9bc81f5f6a04d12704a48fe9ec18a9736db8b-f599f6f526e97cac-01
2021-09-13T19:05:28.854Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:05:28.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-609590880c3a1a17f3190447d23cabb89ebc4fc8-16f13844054a6fd1-01 outer:exit 2b-609590880c3a1a17f3190447d23cabb89ebc4fc8-62e5d3667397c65f-01
2021-09-13T19:05:28.861Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:05:28.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-96ddedadebd582629ff83f93551809563044f221-a1b0412d631b21a3-01 outer:exit 2b-96ddedadebd582629ff83f93551809563044f221-aeea9649947c7f6a-01
2021-09-13T19:05:28.863Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:05:28.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-66c8b1458e31c31f9da7f6caac381dcb657320ac-81009c500f59cd16-01 outer:exit 2b-66c8b1458e31c31f9da7f6caac381dcb657320ac-e6eb561687f681ce-01
2021-09-13T19:05:28.867Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:05:28.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9175c487b992b43504f9b2b9f1b5acbd1c3a77c-1f5768c54f878f3d-01 outer:exit 2b-e9175c487b992b43504f9b2b9f1b5acbd1c3a77c-ce6910492421d960-01
2021-09-13T19:05:28.870Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:05:28.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-e765f277c027ac0b8b489af92fa3ac885a53074f-97af77c7fb3bfc88-01 outer:exit 2b-e765f277c027ac0b8b489af92fa3ac885a53074f-9c567d63f11ae8f4-01
2021-09-13T19:05:28.873Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:05:28.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-3780998d09f7f516365f15e9b6d092c77ff1508a-b3eadf30b39bd84f-01 outer:exit 2b-3780998d09f7f516365f15e9b6d092c77ff1508a-9b0fac44634e8b5a-01
2021-09-13T19:05:28.875Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:05:28.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae43f3342ca5b2e1b7d27aacf89e15d54cf950aa-cfeda86793541e06-01 outer:exit 2b-ae43f3342ca5b2e1b7d27aacf89e15d54cf950aa-a4e5e72f4a82918a-01
2021-09-13T19:05:28.879Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:05:28.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f380c4c77b01f3aefb7603359992e7ed5994a4-9ca37fee3b97f660-01 outer:exit 2b-87f380c4c77b01f3aefb7603359992e7ed5994a4-624431b00b0ef7d9-01
2021-09-13T19:05:28.883Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:05:28.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-320ecce704c0881c2ed984c0dfe4cfd0081e33e4-8e009ff62d24f2bb-01 outer:exit 2b-320ecce704c0881c2ed984c0dfe4cfd0081e33e4-c0d71d93dc7f84a4-01
2021-09-13T19:05:28.886Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:05:28.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-edb424330c4098480c0894b3dbc73fdce8286871-5617ff412839a5f5-01 outer:exit 2b-edb424330c4098480c0894b3dbc73fdce8286871-2dc13fd623c4cd58-01
2021-09-13T19:05:28.889Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:05:28.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-97c39bfe1b90d2b3182f9c7c3c06a0d67d22cec4-6ad75b3ac7538a95-01 outer:exit 2b-97c39bfe1b90d2b3182f9c7c3c06a0d67d22cec4-ff901af8fac07763-01
2021-09-13T19:05:28.896Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:05:28.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-d103a5b84ae2579da8a709bbb0d0b354553f1502-16631f49994a22a3-01 outer:exit 2b-d103a5b84ae2579da8a709bbb0d0b354553f1502-cbe75f6b65e5f294-01
2021-09-13T19:05:28.901Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:05:28.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-564fe27e019fce0315ac6767bcadd50e2c42fd69-feabd041cb8a4ca8-01 outer:exit 2b-564fe27e019fce0315ac6767bcadd50e2c42fd69-6243bf720bc9cfae-01
2021-09-13T19:05:28.912Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:05:28.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-0cac726823f52ff9ec249f0df915fc2c79f169b1-7a749a11360562ef-01 outer:exit 2b-0cac726823f52ff9ec249f0df915fc2c79f169b1-027e394513b99410-01
2021-09-13T19:05:28.919Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:05:28.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-72741f866d6d7d2879f41946673d51ff6532279e-1df07d1cb3e52b4b-01 outer:exit 2b-72741f866d6d7d2879f41946673d51ff6532279e-fca9612ca8978f82-01
2021-09-13T19:05:28.922Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:05:28.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8b898a392d938ee4a83e7e1c25721bf279ce091-4f03654a91564579-01 outer:exit 2b-c8b898a392d938ee4a83e7e1c25721bf279ce091-617041389c683173-01
2021-09-13T19:05:28.926Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:05:28.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bcb707788508fa56c487b5d1868b760dc18bf50-7f9ee4996b8ad593-01 outer:exit 2b-7bcb707788508fa56c487b5d1868b760dc18bf50-353e5f004eb12c65-01
2021-09-13T19:05:28.935Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:05:28.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1d24672b45fd92cd94eacae5ef8be5f13de0a6f-2f765a0fd33b717d-01 outer:exit 2b-a1d24672b45fd92cd94eacae5ef8be5f13de0a6f-ca50da59050dc53a-01
2021-09-13T19:05:28.944Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:05:28.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1ced6c7d40bae49296b9c1072af13b15238f9d7-ca3229211baf7aa8-01 outer:exit 2b-c1ced6c7d40bae49296b9c1072af13b15238f9d7-8dfa2f92d0b22716-01
2021-09-13T19:05:28.947Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:05:28.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc80fa38ca24c67ad72bf1f611c4a85dc7307327-488131a53a2e4153-01 outer:exit 2b-fc80fa38ca24c67ad72bf1f611c4a85dc7307327-11b55e933a368ae6-01
2021-09-13T19:05:28.950Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:05:28.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6e58d2e8354712c4f3448af8fe196891aa2fec2-541053912eb29bd5-01 outer:exit 2b-d6e58d2e8354712c4f3448af8fe196891aa2fec2-985c6897d78b4407-01
2021-09-13T19:05:28.952Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:05:28.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8b3dda0a4d250074b1adfb091de2ce4fd09003-f0a7e45c3d6467cf-01 outer:exit 2b-1b8b3dda0a4d250074b1adfb091de2ce4fd09003-9360a72706ba6621-01
2021-09-13T19:05:28.955Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:05:28.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f83b44040e642d2b26c64c05b1fe3139aad190c-25584e812025ff88-01 outer:exit 2b-9f83b44040e642d2b26c64c05b1fe3139aad190c-57a59397d6b549df-01
2021-09-13T19:05:28.965Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:05:28.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-211ac4c4a7b2453dd8a155d6b2f2ad48194b879e-9bda3c09b6957673-01 outer:exit 2b-211ac4c4a7b2453dd8a155d6b2f2ad48194b879e-c3cac61a3b8e458d-01
2021-09-13T19:05:28.976Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:05:28.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc58c2f0600c52094dfba94574920afa9946c332-598ee8ae35855b0e-01 outer:exit 2b-bc58c2f0600c52094dfba94574920afa9946c332-5a3e8ddbe78fc670-01
2021-09-13T19:05:28.979Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:05:28.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e21c1484d2b21fa1a233e962fcab0953086f37d-47a457fca7ab8435-01 outer:exit 2b-5e21c1484d2b21fa1a233e962fcab0953086f37d-9da0f0bfb71dac34-01
2021-09-13T19:05:28.982Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:05:28.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-1962da36fa4f34c99e0e222c5ad1e3eeb7a6e899-fbe031052c790f9e-01 outer:exit 2b-1962da36fa4f34c99e0e222c5ad1e3eeb7a6e899-b4dee067c338721b-01
2021-09-13T19:05:28.989Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:05:29.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-88b3fca5b4082a6d8a0d934f53b85600fa6cb5cb-e24b1700ec3c8b4e-01 outer:exit 2b-88b3fca5b4082a6d8a0d934f53b85600fa6cb5cb-d81ae8a31c6e8dee-01
2021-09-13T19:05:29.036Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (437ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:36.916Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:36.916Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:36.917Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:36.917Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:37.003Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:37.062Z appoptics:patching patched crypto 
2021-09-13T19:05:37.088Z appoptics:patching patched https 
2021-09-13T19:05:37.089Z appoptics:patching patched http 
2021-09-13T19:05:37.153Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:37.153Z appoptics:patching patched fs 
2021-09-13T19:05:37.172Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v16.9.1)
2021-09-13T19:05:37.182Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-09-13T19:05:37.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-9231894c3196518b35c3a3dbb73615c17ee8ab8c-6825b2b9349ed4f4-01 outer:exit 2b-9231894c3196518b35c3a3dbb73615c17ee8ab8c-3fca5243e2235070-01
2021-09-13T19:05:37.378Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:05:37.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-10c1f0b47a3994d44a4939de0064714706f2214b-fcd3bb1054defa7d-01 outer:exit 2b-10c1f0b47a3994d44a4939de0064714706f2214b-d758a3ccddd7e5e8-01
2021-09-13T19:05:37.453Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:05:37.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ce714da21a00fc9be3a7fb37f6f5f7ac5be38ae-4a9c96b3ead0473f-01 outer:exit 2b-6ce714da21a00fc9be3a7fb37f6f5f7ac5be38ae-6918cffedfa291a0-01
2021-09-13T19:05:37.457Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:05:37.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc920836835f804c4b7cf9f9e99a564ff579be8c-8ee9632bfe509c16-01 outer:exit 2b-cc920836835f804c4b7cf9f9e99a564ff579be8c-05045b89d4ffa60a-01
2021-09-13T19:05:37.460Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:05:37.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-d65efaa6e6a21572324c407ddf54911b6255048a-bfe0d6fd6e088fa0-01 outer:exit 2b-d65efaa6e6a21572324c407ddf54911b6255048a-4b94bae379ee199b-01
2021-09-13T19:05:37.468Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:05:37.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-18960f7b5df861887a5431c9c1b78b3d151d8206-c43ac4a76d291277-01 outer:exit 2b-18960f7b5df861887a5431c9c1b78b3d151d8206-c4156b4897c38119-01
2021-09-13T19:05:37.471Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:05:37.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-24784cd3258fed74203c3bba0b510a614b0b842d-1d8543d92b8d1784-01 outer:exit 2b-24784cd3258fed74203c3bba0b510a614b0b842d-c28e65dfae506b2f-01
2021-09-13T19:05:37.475Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:05:37.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-16ca005003dba4a4d8cc1803884df8279f50825d-559135434e93c77e-01 outer:exit 2b-16ca005003dba4a4d8cc1803884df8279f50825d-eb496b31d555665b-01
2021-09-13T19:05:37.477Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:05:37.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-75a0211b0f1bd333ae9f188e5c49e5637a7a9606-6d788ec556af9635-01 outer:exit 2b-75a0211b0f1bd333ae9f188e5c49e5637a7a9606-d73dff1460f374c7-01
2021-09-13T19:05:37.480Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:05:37.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0fd3719663b872b33d491455eb56c019309b263-bce268122bae4a37-01 outer:exit 2b-f0fd3719663b872b33d491455eb56c019309b263-497d6a66e4ffc1f5-01
2021-09-13T19:05:37.483Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:05:37.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f6430bee2ebb6698d0531bb093edaae306524c2-cff7badb80f5bdf6-01 outer:exit 2b-8f6430bee2ebb6698d0531bb093edaae306524c2-f468688bd4c1881c-01
2021-09-13T19:05:37.488Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:05:37.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bd6d7b6d512e8dc91a38f1b94eeda0082e68b6b-9f3d8c7e59be4c4b-01 outer:exit 2b-0bd6d7b6d512e8dc91a38f1b94eeda0082e68b6b-b996fa1d577f3410-01
2021-09-13T19:05:37.509Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:05:37.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-58f40ce50f8bc5494e7f1629eddba5e6c847949a-7b8bf3e147ff5879-01 outer:exit 2b-58f40ce50f8bc5494e7f1629eddba5e6c847949a-a58d45d2dbf9cbed-01
2021-09-13T19:05:37.526Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:05:37.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-40fa816d50b1abf1020e8c68b79a0c07cc5d1c62-e19f3b4d575ab0e8-01 outer:exit 2b-40fa816d50b1abf1020e8c68b79a0c07cc5d1c62-70cebb88aee07bd0-01
2021-09-13T19:05:37.557Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:05:37.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-eea9faa17d9084b39840a3f94b034b579046ccb8-06178cb3609e1654-01 outer:exit 2b-eea9faa17d9084b39840a3f94b034b579046ccb8-667dde023051536c-01
2021-09-13T19:05:37.560Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:05:37.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed35a90fd4ab924d04804b0699b8859bdb815b15-f907f4a035870bf3-01 outer:exit 2b-ed35a90fd4ab924d04804b0699b8859bdb815b15-6720fe2c7b69c1b6-01
2021-09-13T19:05:37.563Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:05:37.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-50cb4be6bc429142d70cccad639b615a5c8ae54c-285961621c68bfe2-01 outer:exit 2b-50cb4be6bc429142d70cccad639b615a5c8ae54c-817cda2c98cc8432-01
2021-09-13T19:05:37.566Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:05:37.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-d99b7b49edded18a5ac975e356a4a70566c68163-9414ed70a360e431-01 outer:exit 2b-d99b7b49edded18a5ac975e356a4a70566c68163-36110e23fa2bd9ef-01
2021-09-13T19:05:37.569Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:05:37.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-815f8aae9f2dceec2d66c5afa2547f8221b2c634-0d30072b51ec5086-01 outer:exit 2b-815f8aae9f2dceec2d66c5afa2547f8221b2c634-7e27e5f30870d410-01
2021-09-13T19:05:37.571Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:05:37.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-525ca485adb62e65939d8cc4d05ede2728436ae5-e291341c951656a8-01 outer:exit 2b-525ca485adb62e65939d8cc4d05ede2728436ae5-5b6fcdfac973679a-01
2021-09-13T19:05:37.574Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:05:37.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bbfba2924b1e3a14527123e68cfe37de33a2b8e-3d057ca949ff2bb3-01 outer:exit 2b-7bbfba2924b1e3a14527123e68cfe37de33a2b8e-317867231f35d801-01
2021-09-13T19:05:37.577Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:05:37.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc1751758144afb97619b101a22066082fc290d1-1c182ebc2ddb55ef-01 outer:exit 2b-cc1751758144afb97619b101a22066082fc290d1-0ffa74ea2dd797ca-01
2021-09-13T19:05:37.579Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:05:37.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c9e72d7a8bfb3d889e86d66b41cd4ab2e73303d-209d2e8d0b8c336d-01 outer:exit 2b-2c9e72d7a8bfb3d889e86d66b41cd4ab2e73303d-54f1da106d66c717-01
2021-09-13T19:05:37.583Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:05:37.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4fdd93bc1bb33a26c04ec5a28ea8441a183cf28-8d635bfd5a03ebe3-01 outer:exit 2b-e4fdd93bc1bb33a26c04ec5a28ea8441a183cf28-58acd03f3465ad57-01
2021-09-13T19:05:37.586Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:05:37.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-92da857b0d5653484aa4026e93c47035a11ed265-5599c8cf9f1a2aa7-01 outer:exit 2b-92da857b0d5653484aa4026e93c47035a11ed265-ecc643c817e9adc9-01
2021-09-13T19:05:37.589Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:05:37.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-78b03cfa509fe318d5bbe71d8b260bc0fb02eb58-b6a0da36a49c4782-01 outer:exit 2b-78b03cfa509fe318d5bbe71d8b260bc0fb02eb58-14fb51ac0b6df1ea-01
2021-09-13T19:05:37.592Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:05:37.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-1376472d3ee39763ca0babb85c3eb79ce6d824f6-62eb7422bf49734d-01 outer:exit 2b-1376472d3ee39763ca0babb85c3eb79ce6d824f6-6914949cc40e0f5c-01
2021-09-13T19:05:37.618Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:05:37.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ca3780b0b814e05d4e536a5bd80c1b60f3da51-220051774691e9e4-01 outer:exit 2b-27ca3780b0b814e05d4e536a5bd80c1b60f3da51-ee310801ef380617-01
2021-09-13T19:05:37.646Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:05:37.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f866e24c7e21b600cef5ee5d5524c5407f48096-1195d3aa64e0052b-01 outer:exit 2b-2f866e24c7e21b600cef5ee5d5524c5407f48096-dd975651794269fd-01
2021-09-13T19:05:37.658Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:05:37.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-d46cdf95c8c6f50d197219ff162cb039417a47ee-1d7c8201e2d4f386-01 outer:exit 2b-d46cdf95c8c6f50d197219ff162cb039417a47ee-d3bf67c5890f0408-01
2021-09-13T19:05:37.666Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:05:37.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-a28ed03e6b66e51ea9e4a8081742623a6f6184ea-330aa601aedc6e42-01 outer:exit 2b-a28ed03e6b66e51ea9e4a8081742623a6f6184ea-8c195127be861d6a-01
2021-09-13T19:05:37.670Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:05:37.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d6989093e9465f71477248e29bc8e0079386dfa-8837258fb58f77a8-01 outer:exit 2b-2d6989093e9465f71477248e29bc8e0079386dfa-bb56efa1f55da9e4-01
2021-09-13T19:05:37.674Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:05:37.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-2536c616841fe8df5d700e6b46223089c2078f36-e0a4fe23278edb9c-01 outer:exit 2b-2536c616841fe8df5d700e6b46223089c2078f36-53511f0ca203462d-01
2021-09-13T19:05:37.682Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:05:37.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c5a87400b7d2dabf633dd14b09b1c2b6294897-885c8543a7a482e2-01 outer:exit 2b-a7c5a87400b7d2dabf633dd14b09b1c2b6294897-70178a2114d157fe-01
2021-09-13T19:05:37.692Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:05:37.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-06f64b0a9c79c97ee6e11e317e30be818b7159c8-8b028e6f7a24fe86-01 outer:exit 2b-06f64b0a9c79c97ee6e11e317e30be818b7159c8-b889ef064113fb96-01
2021-09-13T19:05:37.697Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:05:37.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ea3712c8ef60df70913de729fbe8f862289ae21-9a079f2f367b7429-01 outer:exit 2b-3ea3712c8ef60df70913de729fbe8f862289ae21-2b4d1fc9cc6824e5-01
2021-09-13T19:05:37.702Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:05:37.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b7f6dc51e97b5a2de8c8d3316f2a93f854fdebb-54f45141d3a49604-01 outer:exit 2b-2b7f6dc51e97b5a2de8c8d3316f2a93f854fdebb-eb1ced4e7d851f96-01
2021-09-13T19:05:37.705Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:05:37.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4bfb535b8de92aa66c1714d8e9531b58bca2a46-8a89380fe80fc937-01 outer:exit 2b-e4bfb535b8de92aa66c1714d8e9531b58bca2a46-fad411699cfdcc0e-01
2021-09-13T19:05:37.708Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:05:37.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-137868585cce0852339236017109b2d5a8af371b-3a3264cda32b0f37-01 outer:exit 2b-137868585cce0852339236017109b2d5a8af371b-df51831a9498666b-01
2021-09-13T19:05:37.718Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:05:37.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-a115c3888e553844670c825a3d694f7aa8903a30-0ecdc94fedc0ae22-01 outer:exit 2b-a115c3888e553844670c825a3d694f7aa8903a30-663efa53664b0fd8-01
2021-09-13T19:05:37.728Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:05:37.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-41fc2d1308c9dd28e7c176d829b47757f2be8abb-08559099cfe63482-01 outer:exit 2b-41fc2d1308c9dd28e7c176d829b47757f2be8abb-88d66906ed4c9767-01
2021-09-13T19:05:37.731Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:05:37.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcf2234d04a8269ffd30d10696e096792b90f9ad-22bb91af3eaef21b-01 outer:exit 2b-fcf2234d04a8269ffd30d10696e096792b90f9ad-10d8f8ceda4bfb05-01
2021-09-13T19:05:37.734Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:05:37.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-8287ec934008d734758f0687eaf89946ab0f8450-d342bb5595d75e71-01 outer:exit 2b-8287ec934008d734758f0687eaf89946ab0f8450-33c9246e54767d66-01
2021-09-13T19:05:37.776Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:05:37.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-9239ffdb806a0726e66b153b802e917fcfb5b6cc-f69ded2543527939-01 outer:exit 2b-9239ffdb806a0726e66b153b802e917fcfb5b6cc-1f092ff799ce54db-01
2021-09-13T19:05:37.811Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (473ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:46.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:46.215Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:46.215Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:46.216Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:46.298Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:46.349Z appoptics:patching patched crypto 
2021-09-13T19:05:46.375Z appoptics:patching patched https 
2021-09-13T19:05:46.375Z appoptics:patching patched http 
2021-09-13T19:05:46.441Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:46.442Z appoptics:patching patched fs 
2021-09-13T19:05:46.462Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v16.9.1)
2021-09-13T19:05:46.471Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-09-13T19:05:46.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c231d71098681bc6a611e4f7aba6fe61563d26b-3e345b9e1320123f-01 outer:exit 2b-3c231d71098681bc6a611e4f7aba6fe61563d26b-e7e9e01ee3cc3028-01
2021-09-13T19:05:46.682Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:05:46.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-51c3051f2c51e30f73dead32ffa22795fc513140-1d08ebe07a8ba202-01 outer:exit 2b-51c3051f2c51e30f73dead32ffa22795fc513140-e7e48926d570e49d-01
2021-09-13T19:05:46.749Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:05:46.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-19ddb560c900b64d7a5745769b36ae3000e4c902-9d8e325d56aa1886-01 outer:exit 2b-19ddb560c900b64d7a5745769b36ae3000e4c902-219426c6283afc17-01
2021-09-13T19:05:46.757Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:05:46.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-935ad40f4b7e4c64ed1f527d9759c392c98a0b1b-acf3ceb977a63241-01 outer:exit 2b-935ad40f4b7e4c64ed1f527d9759c392c98a0b1b-f5b3e00c88bc16d0-01
2021-09-13T19:05:46.760Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:05:46.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f70c9078b5f383a1603022b15c4ede2fcbd9576-abf04ba1431b1ef5-01 outer:exit 2b-0f70c9078b5f383a1603022b15c4ede2fcbd9576-970d1e8d7cef9cf9-01
2021-09-13T19:05:46.766Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:05:46.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-07b9d42fa34146ed0c923cb1c862b3f3f1e8b8eb-50d7ffbbae0cc994-01 outer:exit 2b-07b9d42fa34146ed0c923cb1c862b3f3f1e8b8eb-01a4066b2dd35e74-01
2021-09-13T19:05:46.770Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:05:46.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-106d25c52789f54e996078279dd45efa3f1e84e9-cdd9d4690f8d28e1-01 outer:exit 2b-106d25c52789f54e996078279dd45efa3f1e84e9-f9890e67926fbb54-01
2021-09-13T19:05:46.773Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:05:46.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-333cae22cecf14af06533531fe5d508594bbddb6-41cee89771d0dee5-01 outer:exit 2b-333cae22cecf14af06533531fe5d508594bbddb6-8f90dfa33380b326-01
2021-09-13T19:05:46.777Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:05:46.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-51eb6a2c86a075f4f44808f2f749ca8d608eef3a-ccb0515d7f5202d1-01 outer:exit 2b-51eb6a2c86a075f4f44808f2f749ca8d608eef3a-5282f51bf0a4a788-01
2021-09-13T19:05:46.780Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:05:46.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5ba49705a65cdfd7d4ca12d9c5086bdb165d42-18e56fbbe4c0ed4e-01 outer:exit 2b-0b5ba49705a65cdfd7d4ca12d9c5086bdb165d42-e57dc9771afacba1-01
2021-09-13T19:05:46.784Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:05:46.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a03bd2ac99125a54df990b1001878e75332e68e-f0ca52f49d36d33e-01 outer:exit 2b-1a03bd2ac99125a54df990b1001878e75332e68e-d9bf91541ea4b5b5-01
2021-09-13T19:05:46.789Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:05:46.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9f3ef7cd698d63329290240853e636edce41105-2b80fa1e5a359c6c-01 outer:exit 2b-c9f3ef7cd698d63329290240853e636edce41105-113632a76a83b2b0-01
2021-09-13T19:05:46.797Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:05:46.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-1364015d2d7eaadcb16e862cdb48a337abfeac75-cd50b1a24bf917e1-01 outer:exit 2b-1364015d2d7eaadcb16e862cdb48a337abfeac75-af7d6fb1dcd0982c-01
2021-09-13T19:05:46.814Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:05:46.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-866e980a986c7655f624fc198009085bb2205abc-059377b760767c99-01 outer:exit 2b-866e980a986c7655f624fc198009085bb2205abc-1db48d9d58e6a24b-01
2021-09-13T19:05:46.851Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:05:46.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-62b14bab007cd03f564479ff12a0256f78a9aa33-7f2f92afffa90360-01 outer:exit 2b-62b14bab007cd03f564479ff12a0256f78a9aa33-85a48398ebbdaa40-01
2021-09-13T19:05:46.855Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:05:46.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b24c9c9d55d1504564e538fa68ccf2f8bb71a5e-71d0d2a8e3bb5e5d-01 outer:exit 2b-0b24c9c9d55d1504564e538fa68ccf2f8bb71a5e-8f25a9f9137dafec-01
2021-09-13T19:05:46.859Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:05:46.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d48265a0e530fbf66eb687a6a6fe5a6b24a43cb-4483175b70366708-01 outer:exit 2b-8d48265a0e530fbf66eb687a6a6fe5a6b24a43cb-f99bae84e85ec1b7-01
2021-09-13T19:05:46.864Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:05:46.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-2647e07fda989b49b839c7ebd0c28733ba4f2256-7a6865eeba23e94f-01 outer:exit 2b-2647e07fda989b49b839c7ebd0c28733ba4f2256-a87942a7f5fce15b-01
2021-09-13T19:05:46.867Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:05:46.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c63c1f9b153624eab9f25ed9287b56c691ebc07-3c3a41b4734d8d36-01 outer:exit 2b-6c63c1f9b153624eab9f25ed9287b56c691ebc07-364c476d2e0bbf14-01
2021-09-13T19:05:46.872Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:05:46.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e822dbab68c7109adde4bcf6c4022868bffe94c-60dab0030a151ce7-01 outer:exit 2b-4e822dbab68c7109adde4bcf6c4022868bffe94c-efb436827ec99b6e-01
2021-09-13T19:05:46.875Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:05:46.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-485aaebb8692650fb1569a2aceac101972fea879-c87131ff46c3e905-01 outer:exit 2b-485aaebb8692650fb1569a2aceac101972fea879-394af658138ee627-01
2021-09-13T19:05:46.877Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:05:46.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0658fbcb306796001823a73f0088a67f640d411-2cfcc519a4f61dbd-01 outer:exit 2b-b0658fbcb306796001823a73f0088a67f640d411-68ccb0426b035027-01
2021-09-13T19:05:46.881Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:05:46.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6ba577be10f59afbfd555c03cd7c79cbd120e95-8642c23b5778d48e-01 outer:exit 2b-b6ba577be10f59afbfd555c03cd7c79cbd120e95-aafc28429aa752e4-01
2021-09-13T19:05:46.885Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:05:46.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-19122a19a17cea73ecae51bf0f6f9e91153dbdfb-f0b8dcf836411cd9-01 outer:exit 2b-19122a19a17cea73ecae51bf0f6f9e91153dbdfb-9f40461982ed3c38-01
2021-09-13T19:05:46.889Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:05:46.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-e78e7f0fc6a0a33d2d739bbfbd0a9ecd32b83f40-55e56b928e47d0c5-01 outer:exit 2b-e78e7f0fc6a0a33d2d739bbfbd0a9ecd32b83f40-8fd4d907ef7582cf-01
2021-09-13T19:05:46.891Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:05:46.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1ec25ada343965cbdb035afe9393b7ad27ac1a4-daa4f4eee54335d2-01 outer:exit 2b-c1ec25ada343965cbdb035afe9393b7ad27ac1a4-df61fd0aaac12f82-01
2021-09-13T19:05:46.895Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:05:46.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f5d6f8b4b8c15fdb7e53c11d6b965459cd375a-e4fe85033e8199f3-01 outer:exit 2b-49f5d6f8b4b8c15fdb7e53c11d6b965459cd375a-76e879eece7723da-01
2021-09-13T19:05:46.904Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:05:46.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-a71c1efff257af106345716efe6b007379d7f730-ed7aa69ca24c7b23-01 outer:exit 2b-a71c1efff257af106345716efe6b007379d7f730-74d759365071e77e-01
2021-09-13T19:05:46.909Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:05:46.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-71855f383b11f8e9c491fba901e6eb215b93f24c-602b7bc35724e1be-01 outer:exit 2b-71855f383b11f8e9c491fba901e6eb215b93f24c-004ec2109b4fa47a-01
2021-09-13T19:05:46.919Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:05:46.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9df7fb9a08d5875a9d80853db97014d13f2262f-31133c6131bb644b-01 outer:exit 2b-e9df7fb9a08d5875a9d80853db97014d13f2262f-ea1b1cd33ad9d578-01
2021-09-13T19:05:46.927Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:05:46.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e76e3ec41c4da414d3fa13a4aabf50d6628ea75-8a67f377220a55b5-01 outer:exit 2b-4e76e3ec41c4da414d3fa13a4aabf50d6628ea75-791f53d55e4e0d35-01
2021-09-13T19:05:46.930Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:05:46.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-64c1cb1b3482d26001433252d0060809b7dc3398-79eff0456c02d763-01 outer:exit 2b-64c1cb1b3482d26001433252d0060809b7dc3398-8f9c78195819511c-01
2021-09-13T19:05:46.933Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:05:46.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-53a26f248f7a84773ebd133f39b821d821b72704-b775b4588364739c-01 outer:exit 2b-53a26f248f7a84773ebd133f39b821d821b72704-907758895c29fa39-01
2021-09-13T19:05:46.941Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:05:46.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d73767f212fe51a1461ef059a34684458eea8c5-59919940e50980bf-01 outer:exit 2b-6d73767f212fe51a1461ef059a34684458eea8c5-addf24a1cba51fe9-01
2021-09-13T19:05:46.944Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:05:46.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-f92c7b1bb413f2330274dd4e0492d088a780702a-5dbbb899715e0533-01 outer:exit 2b-f92c7b1bb413f2330274dd4e0492d088a780702a-f4dbbd06621c7392-01
2021-09-13T19:05:46.947Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:05:46.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3092cb8212c56aee78c526ec9ad172048936c5d-589c36548e9adde9-01 outer:exit 2b-a3092cb8212c56aee78c526ec9ad172048936c5d-9387762dfc7f503f-01
2021-09-13T19:05:46.950Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:05:46.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6cde4007d558a3ded2d0abd91f0ef02fcec7702-dbf483fbeddf699b-01 outer:exit 2b-f6cde4007d558a3ded2d0abd91f0ef02fcec7702-87ebd94128f4d7e7-01
2021-09-13T19:05:46.952Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:05:46.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a9d8eac81d4105605c38f267addc0f0263ef3b6-5b5cfdcbf01836d0-01 outer:exit 2b-4a9d8eac81d4105605c38f267addc0f0263ef3b6-eb3d5fa01c89b126-01
2021-09-13T19:05:46.955Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:05:46.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-df5450cd5e286a04087dd75d626e79164c18a161-cd32f7466d52f615-01 outer:exit 2b-df5450cd5e286a04087dd75d626e79164c18a161-90eafe9fa8b3be8f-01
2021-09-13T19:05:46.965Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:05:46.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-a636b9fe268eea475f1faa34d570f98ba58bd5d5-416106229808190c-01 outer:exit 2b-a636b9fe268eea475f1faa34d570f98ba58bd5d5-76ac2e9d1df7d11c-01
2021-09-13T19:05:46.975Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:05:46.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-a89fe92fa5e1191f42db6d68ca851a1240c9607b-4c23d58a4eb3748b-01 outer:exit 2b-a89fe92fa5e1191f42db6d68ca851a1240c9607b-032b2e4ef9552ad1-01
2021-09-13T19:05:46.978Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:05:46.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-4797de67b881ff2af8cf4025b9ade189f284dae4-15ca506cce9b7532-01 outer:exit 2b-4797de67b881ff2af8cf4025b9ade189f284dae4-bafc39af553552cc-01
2021-09-13T19:05:46.982Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:05:46.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d47abfa31f79e02ab35c8ad147149cf5c290807-aaafea5b9df1c671-01 outer:exit 2b-8d47abfa31f79e02ab35c8ad147149cf5c290807-515289a5197b99e1-01
2021-09-13T19:05:46.985Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:05:47.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-31396180faa9205b12428d0ae8c0356433a0c6c1-5e59f60bf0eadca0-01 outer:exit 2b-31396180faa9205b12428d0ae8c0356433a0c6c1-f370f0337586a7fe-01
2021-09-13T19:05:47.016Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (381ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:05:55.512Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:05:55.513Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:05:55.513Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:05:55.514Z appoptics:debug using context provider: ace-context
2021-09-13T19:05:55.584Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:05:55.635Z appoptics:patching patched crypto 
2021-09-13T19:05:55.660Z appoptics:patching patched https 
2021-09-13T19:05:55.661Z appoptics:patching patched http 
2021-09-13T19:05:55.723Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:05:55.723Z appoptics:patching patched fs 
2021-09-13T19:05:55.741Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v16.9.1)
2021-09-13T19:05:55.750Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-09-13T19:05:55.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-23a893431ea2d2aff95826a52f575d1de5e1de13-7021c594f0e6a0c6-01 outer:exit 2b-23a893431ea2d2aff95826a52f575d1de5e1de13-65cb1f6a92f36273-01
2021-09-13T19:05:55.951Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:05:55.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-870607d7fdad7895a575c29f4da5e00600799862-0c85f696bc70c167-01 outer:exit 2b-870607d7fdad7895a575c29f4da5e00600799862-3e90be0a20f88079-01
2021-09-13T19:05:55.998Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:05:56.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-41de585762535079fa86b4784e13ee1a6192880b-f1eb143b8a12738e-01 outer:exit 2b-41de585762535079fa86b4784e13ee1a6192880b-6329bce133cc23fe-01
2021-09-13T19:05:56.003Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:05:56.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a41ca602edc673cc9633757eb1d453a5e1e2dea-fac2362dc3b1dddb-01 outer:exit 2b-5a41ca602edc673cc9633757eb1d453a5e1e2dea-f92f5a543ecd76f7-01
2021-09-13T19:05:56.006Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:05:56.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-80ddf9f4c98618be289fd683ed9f82aeb596ed03-e32bdd8eca652383-01 outer:exit 2b-80ddf9f4c98618be289fd683ed9f82aeb596ed03-571dc2c5914af9b4-01
2021-09-13T19:05:56.012Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:05:56.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-621fe04e40397664651b6e759a7b327ab36bf142-28dd6f1d190f52ac-01 outer:exit 2b-621fe04e40397664651b6e759a7b327ab36bf142-c6d2f6d647ee183b-01
2021-09-13T19:05:56.016Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:05:56.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f2e03fc2c7f2c3f6e126b36707c3ad299a0e2f-ec58479f947fa4dd-01 outer:exit 2b-49f2e03fc2c7f2c3f6e126b36707c3ad299a0e2f-0ff675a10cc25efb-01
2021-09-13T19:05:56.020Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:05:56.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-c91b86e0560d07eb1f23110d6f0b81b418eb196a-a4bec92c1316f2de-01 outer:exit 2b-c91b86e0560d07eb1f23110d6f0b81b418eb196a-a5109f3640a96fa7-01
2021-09-13T19:05:56.024Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:05:56.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e2a80bd23f19a8230a595e3dc08a028ccd9aa1e-b6a870f2729a60f5-01 outer:exit 2b-6e2a80bd23f19a8230a595e3dc08a028ccd9aa1e-b4e48cd42292a5d0-01
2021-09-13T19:05:56.027Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:05:56.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8af3f4d3876956a0576f89b7afdcd6234abc512-a204eb617ed39061-01 outer:exit 2b-f8af3f4d3876956a0576f89b7afdcd6234abc512-abf4a741c93dd12a-01
2021-09-13T19:05:56.031Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:05:56.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-40455224022a3e6ef27e036b7053b312b640b795-1a217c6f41ccccef-01 outer:exit 2b-40455224022a3e6ef27e036b7053b312b640b795-2d5dac0e282ec2de-01
2021-09-13T19:05:56.035Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:05:56.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-36f12e06b4e1c5542b97dc210c736fce090cb60f-d2dbcb704a698866-01 outer:exit 2b-36f12e06b4e1c5542b97dc210c736fce090cb60f-4060372fa7d0c56b-01
2021-09-13T19:05:56.041Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:05:56.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-f986e2c939b41cc22a874b963d9a315f72d5229b-fb48373456389603-01 outer:exit 2b-f986e2c939b41cc22a874b963d9a315f72d5229b-cd5c4ea440e5a46c-01
2021-09-13T19:05:56.058Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:05:56.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-8388690ea046d9cf0960ff991f60c994fb67d10a-f8cef165c7f5f93b-01 outer:exit 2b-8388690ea046d9cf0960ff991f60c994fb67d10a-fb1613ccfc3e993b-01
2021-09-13T19:05:56.097Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:05:56.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a0ab54647cfc7f91161892281c538ab1f02bf48-ef6cefb0fb421f4a-01 outer:exit 2b-9a0ab54647cfc7f91161892281c538ab1f02bf48-96bc89195889f270-01
2021-09-13T19:05:56.101Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:05:56.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-b131682b2a0c77e26bc461009e5d978fc06ab2fa-56350fd04f5326a1-01 outer:exit 2b-b131682b2a0c77e26bc461009e5d978fc06ab2fa-6721cdf78f7fabb0-01
2021-09-13T19:05:56.103Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:05:56.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ce75a332b9f0c38efa313061166801d3f6153b0-73a50107c3ca6ad9-01 outer:exit 2b-3ce75a332b9f0c38efa313061166801d3f6153b0-1b8ea89c2de5bcec-01
2021-09-13T19:05:56.107Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:05:56.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-549a833754e7159a26a4c4a99dc8d7311edc72a6-07b3f4e9180ab286-01 outer:exit 2b-549a833754e7159a26a4c4a99dc8d7311edc72a6-24b5920293097cd2-01
2021-09-13T19:05:56.109Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:05:56.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-895f3cf1926f97c6959768f8ef1efa64c35778f2-9af9ab550e8c66d0-01 outer:exit 2b-895f3cf1926f97c6959768f8ef1efa64c35778f2-ef4d387d4a5452b9-01
2021-09-13T19:05:56.112Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:05:56.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef609bfbe27db77547c13d95ae1be3889dce28cb-a72654948db52ef1-01 outer:exit 2b-ef609bfbe27db77547c13d95ae1be3889dce28cb-08f48182ae1dca17-01
2021-09-13T19:05:56.114Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:05:56.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6d9b4aa225a1d76c74aceb8f65438870a3077d7-0dd6864f67ff9ef8-01 outer:exit 2b-c6d9b4aa225a1d76c74aceb8f65438870a3077d7-6295e7fbb3b7d3c2-01
2021-09-13T19:05:56.117Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:05:56.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-812005b05e126c64fe08138fca06635d67f18ecf-a0b9da42db3f9835-01 outer:exit 2b-812005b05e126c64fe08138fca06635d67f18ecf-81a70d9e5b941739-01
2021-09-13T19:05:56.121Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:05:56.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ff4a94d760e0d2aa90952d133ac91b1fb59da13-f9c540ec648b5dbf-01 outer:exit 2b-2ff4a94d760e0d2aa90952d133ac91b1fb59da13-2748a652661cd555-01
2021-09-13T19:05:56.124Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:05:56.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-758e47fd3f3d1529db0ac37656e1306715b9f6dc-3142833bf5d697d2-01 outer:exit 2b-758e47fd3f3d1529db0ac37656e1306715b9f6dc-15a53c27183e3040-01
2021-09-13T19:05:56.131Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:05:56.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-d98af387bf6b3a2e0053dece7d151e68eaf3366d-fc7531a35cac606c-01 outer:exit 2b-d98af387bf6b3a2e0053dece7d151e68eaf3366d-c88f2692aadabb92-01
2021-09-13T19:05:56.134Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:05:56.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-f16f6b4d22a133024e76d279dc908708f2985d27-c80cdb946d968e53-01 outer:exit 2b-f16f6b4d22a133024e76d279dc908708f2985d27-7f6f864924285d34-01
2021-09-13T19:05:56.137Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:05:56.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-6be868c47f1a57de3ff7a6309128434a3e46f108-46a1159ed6973c56-01 outer:exit 2b-6be868c47f1a57de3ff7a6309128434a3e46f108-56901a3e171eef6d-01
2021-09-13T19:05:56.145Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:05:56.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-aba1dfc5104a603dd3924a059388174e935e6ae9-da348fefc4b16da3-01 outer:exit 2b-aba1dfc5104a603dd3924a059388174e935e6ae9-b87b5b6f175913dd-01
2021-09-13T19:05:56.153Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:05:56.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-296a2d77ad7bb6d8a4c710affb11b9670be5a6c4-1b9344f8394d6da0-01 outer:exit 2b-296a2d77ad7bb6d8a4c710affb11b9670be5a6c4-57c909669b5818e4-01
2021-09-13T19:05:56.163Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:05:56.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-655320f834b21b020045265c26e4bed10b0b43f7-5915cc4f22d00f74-01 outer:exit 2b-655320f834b21b020045265c26e4bed10b0b43f7-9029089bbcb003bf-01
2021-09-13T19:05:56.173Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:05:56.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-1272a38279b2276e71336411b694cdf16c67b9bf-f00a044b25e5e545-01 outer:exit 2b-1272a38279b2276e71336411b694cdf16c67b9bf-9ba5ce1fce20ab77-01
2021-09-13T19:05:56.176Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:05:56.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-add5047d69d5e929b7126fdb230f5686eef37777-8bb6679b5a856a66-01 outer:exit 2b-add5047d69d5e929b7126fdb230f5686eef37777-01e3457dfd67a2b0-01
2021-09-13T19:05:56.179Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:05:56.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-621f675867b5938d06f63ac18a9f5cd7530dc93d-d421f1388daa8cfb-01 outer:exit 2b-621f675867b5938d06f63ac18a9f5cd7530dc93d-616d2aa244731b5e-01
2021-09-13T19:05:56.189Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:05:56.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-58fa225541ad7db7da5c3d2f37edbb8f20293c08-b12c2be1744711e4-01 outer:exit 2b-58fa225541ad7db7da5c3d2f37edbb8f20293c08-b5e48bcff29d4337-01
2021-09-13T19:05:56.194Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:05:56.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-595b9f6f08ce56e8bf734d9aee5e9bc211f527b0-32f04ba5a213a0bb-01 outer:exit 2b-595b9f6f08ce56e8bf734d9aee5e9bc211f527b0-efbad9df58877c52-01
2021-09-13T19:05:56.197Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:05:56.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d70b23b35a4f08a899b0be11ee8cd2c870ed148-8e565d73d0eb8fd8-01 outer:exit 2b-4d70b23b35a4f08a899b0be11ee8cd2c870ed148-f9864d8a754aeff6-01
2021-09-13T19:05:56.206Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:05:56.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e5c346430ff6e8f9704930b1e14ee1dcf005b6c-c9c732050355f69f-01 outer:exit 2b-6e5c346430ff6e8f9704930b1e14ee1dcf005b6c-cf04a6321a02cf86-01
2021-09-13T19:05:56.208Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:05:56.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-a267e1f94e4a3f090c1b5e0b63b3babae6f7ae3a-1d48f00b4be17a82-01 outer:exit 2b-a267e1f94e4a3f090c1b5e0b63b3babae6f7ae3a-2cda7dbf066229d7-01
2021-09-13T19:05:56.211Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:05:56.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bb026e47f552287bcedbd11abf5d60e53ef381e-821f2af4b9c6096f-01 outer:exit 2b-9bb026e47f552287bcedbd11abf5d60e53ef381e-795b79f7417ba91a-01
2021-09-13T19:05:56.224Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:05:56.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd6d6531f78f9c17ca47187dbed084054527d71d-7904106c6d316965-01 outer:exit 2b-dd6d6531f78f9c17ca47187dbed084054527d71d-5b5aeeca8261e810-01
2021-09-13T19:05:56.236Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:05:56.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-a454af37669df0d5bafce33c5ec1cce2609c4b80-2692fc9b50b1fa61-01 outer:exit 2b-a454af37669df0d5bafce33c5ec1cce2609c4b80-634e8baa03878523-01
2021-09-13T19:05:56.240Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:05:56.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f0e3ec7f92c0631cfb068942983279b840924a1-844af12849b4ab95-01 outer:exit 2b-8f0e3ec7f92c0631cfb068942983279b840924a1-1a74d1cc11a650b7-01
2021-09-13T19:05:56.244Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:05:56.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-473adcbda7102678bb394b7b37460b92e5666197-1525fa85e24403a7-01 outer:exit 2b-473adcbda7102678bb394b7b37460b92e5666197-e9e94e4fd9290d5c-01
2021-09-13T19:05:56.247Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:05:56.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-821070549db06734bf1784de7be17e0b95510549-daae1782b1fcae34-01 outer:exit 2b-821070549db06734bf1784de7be17e0b95510549-079045996734bea2-01
2021-09-13T19:05:56.278Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (370ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:03.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:03.706Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:03.706Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:03.706Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:03.787Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:03.841Z appoptics:patching patched crypto 
2021-09-13T19:06:03.870Z appoptics:patching patched https 
2021-09-13T19:06:03.870Z appoptics:patching patched http 
2021-09-13T19:06:03.928Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:03.928Z appoptics:patching patched fs 
2021-09-13T19:06:03.963Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v16.9.1)
2021-09-13T19:06:03.973Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-09-13T19:06:04.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a4275aeb7251d26d53f728cd85e7359a258ca61-741e20d10a0e1528-01 outer:exit 2b-8a4275aeb7251d26d53f728cd85e7359a258ca61-ac3d2e9008409cf3-01
2021-09-13T19:06:04.193Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:06:04.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a6a07679e4beedcf688b48503f38dd50fbff736-c50499195c4fe995-01 outer:exit 2b-6a6a07679e4beedcf688b48503f38dd50fbff736-075f1b3d8625b70b-01
2021-09-13T19:06:04.245Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:06:04.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4ea117e48340dcbc83b275333e825acc9fcfc2d-27717bdff3096a3d-01 outer:exit 2b-d4ea117e48340dcbc83b275333e825acc9fcfc2d-b202faa10bff09f8-01
2021-09-13T19:06:04.257Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:06:04.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1b600e350222733ff2b22792807d463479fc06e-5aad7ba3190cbf0c-01 outer:exit 2b-f1b600e350222733ff2b22792807d463479fc06e-143b791865b7baff-01
2021-09-13T19:06:04.260Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:06:04.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb03dab8b36ec96c7b2d89b1efae590ce3f1f20a-518d36d5ec1494dc-01 outer:exit 2b-bb03dab8b36ec96c7b2d89b1efae590ce3f1f20a-f50912065650fe1d-01
2021-09-13T19:06:04.271Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:06:04.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc742b39f60e82f1a97eb2c33e8a0b47ae578289-a6ebdcb3e79e1b36-01 outer:exit 2b-dc742b39f60e82f1a97eb2c33e8a0b47ae578289-1ba9e7b69662893b-01
2021-09-13T19:06:04.275Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:06:04.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d26a812da750ccb1ddbb02c1d86ac9386173f24-7dccffa85faf2c80-01 outer:exit 2b-1d26a812da750ccb1ddbb02c1d86ac9386173f24-328021ae6f82aabb-01
2021-09-13T19:06:04.279Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:06:04.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-04717a55a73d467285c0adbb18e52cd9d6a2ea87-eb25aa87ba90d73c-01 outer:exit 2b-04717a55a73d467285c0adbb18e52cd9d6a2ea87-90de0d2026d6f61d-01
2021-09-13T19:06:04.282Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:06:04.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-2933e15edecfa17d355381d250965a478b7ea8cb-85c5539129823a89-01 outer:exit 2b-2933e15edecfa17d355381d250965a478b7ea8cb-66a6e0afcaf7b080-01
2021-09-13T19:06:04.285Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:06:04.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd3437bedb20e28ce09e23174cefc6ce6fd49e8a-8ec742dd98dacd16-01 outer:exit 2b-dd3437bedb20e28ce09e23174cefc6ce6fd49e8a-c43c5f9030d50c8e-01
2021-09-13T19:06:04.289Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:06:04.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-97930a0241fb2ad15c02c4adaa644992334546ae-b7fac4ccfd08f672-01 outer:exit 2b-97930a0241fb2ad15c02c4adaa644992334546ae-184cf0a51c1aba10-01
2021-09-13T19:06:04.293Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:06:04.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6b216071f349ab95fd325698727dc6b7c2e50d8-bf8bb219278e7289-01 outer:exit 2b-e6b216071f349ab95fd325698727dc6b7c2e50d8-d781188fa7865edb-01
2021-09-13T19:06:04.305Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:06:04.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-609cd24550e8b76a4fd123633879ddcaa587b91d-5f4c6b1d67db2960-01 outer:exit 2b-609cd24550e8b76a4fd123633879ddcaa587b91d-b8b00e7a789b90ea-01
2021-09-13T19:06:04.327Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:06:04.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b6ac09dfa6265bc67fbe3998a04a084e99a70dc-3d281aa0a902f672-01 outer:exit 2b-9b6ac09dfa6265bc67fbe3998a04a084e99a70dc-77ac40b7f1595a31-01
2021-09-13T19:06:04.405Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:06:04.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-44b2f06ebc56ff61db8e47063d736f086d60fd62-e44775def0878e03-01 outer:exit 2b-44b2f06ebc56ff61db8e47063d736f086d60fd62-f546538d597c14ff-01
2021-09-13T19:06:04.409Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:06:04.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aae9c5c43b51bf2c0d62b16b259adf2610ae0af-b18229703dfccb5d-01 outer:exit 2b-8aae9c5c43b51bf2c0d62b16b259adf2610ae0af-37ba05e2fa82ac03-01
2021-09-13T19:06:04.414Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:06:04.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c5e3d730094535240238a474d7e84b9185246be-8a7d8a92ce7a07de-01 outer:exit 2b-9c5e3d730094535240238a474d7e84b9185246be-c065993559300e1b-01
2021-09-13T19:06:04.419Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:06:04.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-86a186b3099247519b4430a1cd4571220d71e61c-8c1ef7c74ed4f9b8-01 outer:exit 2b-86a186b3099247519b4430a1cd4571220d71e61c-00880bd8dd50e27f-01
2021-09-13T19:06:04.421Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:06:04.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-74d0ec3750629f7c3e2e553d33d692e015d95a02-3dbab0095968e755-01 outer:exit 2b-74d0ec3750629f7c3e2e553d33d692e015d95a02-189532cae798044c-01
2021-09-13T19:06:04.426Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:06:04.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-edd354e21d9bc9cee9f1d679e643b1de141e4b66-fe9a7375ccfa7314-01 outer:exit 2b-edd354e21d9bc9cee9f1d679e643b1de141e4b66-957e2af189fd636d-01
2021-09-13T19:06:04.429Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:06:04.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f93203a937c5184a99f109c7a929c5450153dfa-1a9fd6ec392a0ee6-01 outer:exit 2b-7f93203a937c5184a99f109c7a929c5450153dfa-7a0cb0493a7a2425-01
2021-09-13T19:06:04.431Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:06:04.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-758f19bb00e4a167f7ce5036c6e7cb1810828efa-321942818c1047c2-01 outer:exit 2b-758f19bb00e4a167f7ce5036c6e7cb1810828efa-7da510cadbc706a5-01
2021-09-13T19:06:04.434Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:06:04.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-92c58408182f5e3a01b12313161ccbf7be73487a-b2369d0f3809c9b4-01 outer:exit 2b-92c58408182f5e3a01b12313161ccbf7be73487a-0fd0f8193233d415-01
2021-09-13T19:06:04.439Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:06:04.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6ae57286417b1fd8c2930f95713248b6c353643-53f5aec2427bd3b0-01 outer:exit 2b-e6ae57286417b1fd8c2930f95713248b6c353643-b0f00be042968835-01
2021-09-13T19:06:04.443Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:06:04.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cc722ea766c93e91b6ec4e3a9be3d43c0542675-2e1b9b495dfb8e5f-01 outer:exit 2b-9cc722ea766c93e91b6ec4e3a9be3d43c0542675-fbd8c174a77ebf3f-01
2021-09-13T19:06:04.450Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:06:04.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b11cbc03cdb183a5bce7a4f59a914240b50e420-05346645dca468d7-01 outer:exit 2b-4b11cbc03cdb183a5bce7a4f59a914240b50e420-9167c8558f5611a5-01
2021-09-13T19:06:04.454Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:06:04.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd5d9b02802871692f7ac50d34ade72447b2dfab-c3ad6cfd3b5b15c2-01 outer:exit 2b-fd5d9b02802871692f7ac50d34ade72447b2dfab-6a6d7259e84b47b4-01
2021-09-13T19:06:04.461Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:06:04.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-80a19b2de31a6583ebf0f384df9b6f38d32fef12-9fab4ddfa6c6ec65-01 outer:exit 2b-80a19b2de31a6583ebf0f384df9b6f38d32fef12-62668dabaa81ff16-01
2021-09-13T19:06:04.468Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:06:04.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-465bf54d2dc6707288853876f0ee0011ca6ca2fa-1b19f1b47b25fdbd-01 outer:exit 2b-465bf54d2dc6707288853876f0ee0011ca6ca2fa-47e63cd260c34769-01
2021-09-13T19:06:04.479Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:06:04.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2b7add8661eda75b8323980947ac5d4f39e3ec5-e4d1b3af58fbca7f-01 outer:exit 2b-d2b7add8661eda75b8323980947ac5d4f39e3ec5-fd88768cf3a8abae-01
2021-09-13T19:06:04.488Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:06:04.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-67c6dab06b1d996ea369df3879ee31f0ae089204-a0e25874d5e19292-01 outer:exit 2b-67c6dab06b1d996ea369df3879ee31f0ae089204-6b2a4fa959257f77-01
2021-09-13T19:06:04.490Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:06:04.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-807a3239ac96e1766b8281f4f52bc016d50c99a6-e56b3adfd43c4638-01 outer:exit 2b-807a3239ac96e1766b8281f4f52bc016d50c99a6-4318622b1267c30b-01
2021-09-13T19:06:04.494Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:06:04.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f4eed98935b32e8f757b2bca3cff4be41e99c9a-27253bbd60b7e5ec-01 outer:exit 2b-9f4eed98935b32e8f757b2bca3cff4be41e99c9a-13b7c7282fe9d937-01
2021-09-13T19:06:04.502Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:06:04.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea1b40085957ccb4eaf6532ed7f299f683e28d2e-85bf9ebd77e755b4-01 outer:exit 2b-ea1b40085957ccb4eaf6532ed7f299f683e28d2e-1e4b7bd870560d48-01
2021-09-13T19:06:04.504Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:06:04.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff94430594132c4f7e609e53ad08d28a35b3e738-059558d0a4a79547-01 outer:exit 2b-ff94430594132c4f7e609e53ad08d28a35b3e738-4d216a2e524307fc-01
2021-09-13T19:06:04.508Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:06:04.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d8e0756f4f95426d9fb8b4077c5b2f4637b9c3-96ce529acd269611-01 outer:exit 2b-86d8e0756f4f95426d9fb8b4077c5b2f4637b9c3-b53cb26aa6e86c49-01
2021-09-13T19:06:04.517Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:06:04.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9652c2f221aefcb7dc72849d37f8cd4ffb63403-c90be223f1fa5b22-01 outer:exit 2b-c9652c2f221aefcb7dc72849d37f8cd4ffb63403-6d1e392601147faf-01
2021-09-13T19:06:04.520Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:06:04.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-02b278bad974b64874da95aaa0beabf4030877d6-ebbb763c89568379-01 outer:exit 2b-02b278bad974b64874da95aaa0beabf4030877d6-439a6d3ed8e96310-01
2021-09-13T19:06:04.523Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:06:04.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-197391697a5a5ada0c8c43d343b937869aed700f-25c45398ac1b1e81-01 outer:exit 2b-197391697a5a5ada0c8c43d343b937869aed700f-4bca1ae3987b5437-01
2021-09-13T19:06:04.533Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:06:04.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-3468cb398649ca169740869b13b8e82d7efa09ac-6920fbedc77985cb-01 outer:exit 2b-3468cb398649ca169740869b13b8e82d7efa09ac-f99a5b95169b51b8-01
2021-09-13T19:06:04.543Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:06:04.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-24cd7185d135edff6fca9e87117e4530a221360f-16f975e1997fbbff-01 outer:exit 2b-24cd7185d135edff6fca9e87117e4530a221360f-c8b06f1700bb70b5-01
2021-09-13T19:06:04.547Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:06:04.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f816d2568f070841161e2fea9eaa6adc36a6e19-bab3847a39454589-01 outer:exit 2b-2f816d2568f070841161e2fea9eaa6adc36a6e19-02dd1ccff15a265c-01
2021-09-13T19:06:04.551Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:06:04.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-c892af1c392fe85deacb163966770e295c32c1bf-8357ba8d6d905a32-01 outer:exit 2b-c892af1c392fe85deacb163966770e295c32c1bf-3a6d87465077ea6b-01
2021-09-13T19:06:04.554Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:06:04.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a06c7ba9c3a33f2548d27e2ced2af6b073813bf-ae2dbd8e1d789b76-01 outer:exit 2b-0a06c7ba9c3a33f2548d27e2ced2af6b073813bf-67a39a5952a08e6a-01
2021-09-13T19:06:04.588Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (442ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:12.846Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:12.847Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:12.847Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:12.848Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:12.922Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:12.972Z appoptics:patching patched crypto 
2021-09-13T19:06:12.998Z appoptics:patching patched https 
2021-09-13T19:06:12.999Z appoptics:patching patched http 
2021-09-13T19:06:13.055Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:13.055Z appoptics:patching patched fs 
2021-09-13T19:06:13.090Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v16.9.1)
2021-09-13T19:06:13.099Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-09-13T19:06:13.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-7638191dc6a754cedf4257ed88d529e22118d8c6-42f4f641c6268b73-01 outer:exit 2b-7638191dc6a754cedf4257ed88d529e22118d8c6-f9c3a2032aa9db8d-01
2021-09-13T19:06:13.300Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:06:13.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-1750a9e2c4eade1aaccebb7438eba417075a2a20-811dee54d31c45ea-01 outer:exit 2b-1750a9e2c4eade1aaccebb7438eba417075a2a20-0b3255cb0bec2ddf-01
2021-09-13T19:06:13.353Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:06:13.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6438515c0dc7af1724af5af35cd687a0c6d8a92-9d93fde33993fe40-01 outer:exit 2b-c6438515c0dc7af1724af5af35cd687a0c6d8a92-2ff37b89027435d0-01
2021-09-13T19:06:13.357Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:06:13.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-07c45e2406371c6d35c470927a134a12665b099d-ff0a17b40959fb5d-01 outer:exit 2b-07c45e2406371c6d35c470927a134a12665b099d-df3ad21c560a505c-01
2021-09-13T19:06:13.361Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:06:13.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-d40e1f294838b85b11070d07c0282617d860bd98-baa0d24e415a3134-01 outer:exit 2b-d40e1f294838b85b11070d07c0282617d860bd98-c24dac410160ea6c-01
2021-09-13T19:06:13.368Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:06:13.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-a58e3ab79dfddf86e34f1bcf3c83fb3f30552f77-ef62ccbc82306d8b-01 outer:exit 2b-a58e3ab79dfddf86e34f1bcf3c83fb3f30552f77-ab7266d543651aaf-01
2021-09-13T19:06:13.372Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:06:13.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b7eee3789cd20351782e5f5642e6d55061717f4-9d51e73c58a67fda-01 outer:exit 2b-9b7eee3789cd20351782e5f5642e6d55061717f4-520f7c87b819e0a1-01
2021-09-13T19:06:13.376Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:06:13.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-01ce875a8c0ab911201ca7fdc44f730ff4a68f1e-24d1081eef6f8a52-01 outer:exit 2b-01ce875a8c0ab911201ca7fdc44f730ff4a68f1e-21a83c77b282e455-01
2021-09-13T19:06:13.380Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:06:13.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d47d58acc4dd7dab08e8c3e4870522ba8ac8d1d-1417a87c91720427-01 outer:exit 2b-2d47d58acc4dd7dab08e8c3e4870522ba8ac8d1d-7af8676fbc901bee-01
2021-09-13T19:06:13.383Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:06:13.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-add6002896a7f1129ad234bd1026022bc5854214-0c11ff1bdf7ecee5-01 outer:exit 2b-add6002896a7f1129ad234bd1026022bc5854214-b19e3c8f2aed7f95-01
2021-09-13T19:06:13.387Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:06:13.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-d438e0d1d295b6d16e2ecae9da277bfe21eeffdb-6458694f99f5b42a-01 outer:exit 2b-d438e0d1d295b6d16e2ecae9da277bfe21eeffdb-4b601bfe9efcfef0-01
2021-09-13T19:06:13.391Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:06:13.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-38147e005b6c12c6f68a0b96d9108a6c70732b80-82b99de53437f3cf-01 outer:exit 2b-38147e005b6c12c6f68a0b96d9108a6c70732b80-504494b2a8c8b65d-01
2021-09-13T19:06:13.399Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:06:13.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd0e37a7b8bc3303a2823bc1a56e3075d7984cb2-3a08ebee6630aa52-01 outer:exit 2b-cd0e37a7b8bc3303a2823bc1a56e3075d7984cb2-db2c243cff584f6f-01
2021-09-13T19:06:13.417Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:06:13.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-07b9c1d1383cd5fdf728b02fa6d70d24d9e92ac9-27aac667a4c84b77-01 outer:exit 2b-07b9c1d1383cd5fdf728b02fa6d70d24d9e92ac9-ab41cf066c633fdd-01
2021-09-13T19:06:13.451Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:06:13.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-6aa4c02c19fbb5eea972bd3cdf1111c211f9b36c-4639f01109729258-01 outer:exit 2b-6aa4c02c19fbb5eea972bd3cdf1111c211f9b36c-94b9a6bfa98e9b82-01
2021-09-13T19:06:13.454Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:06:13.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-70cd1593eb5b826473a6cc3c5ad6b731c255ff3e-42d107c58da3e9ec-01 outer:exit 2b-70cd1593eb5b826473a6cc3c5ad6b731c255ff3e-6f15477ec9c2e0b3-01
2021-09-13T19:06:13.457Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:06:13.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-e00198ff7bd443d0b18b84def9071738594fb236-0efd6e897fe90d8b-01 outer:exit 2b-e00198ff7bd443d0b18b84def9071738594fb236-e82b9a515fe4df08-01
2021-09-13T19:06:13.460Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:06:13.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-05313f5a22cbde4312498b53c14c23eb6287a8d9-70e76f0c86f8f1f1-01 outer:exit 2b-05313f5a22cbde4312498b53c14c23eb6287a8d9-86d6063322d9b545-01
2021-09-13T19:06:13.463Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:06:13.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-08791a18d2216f0cc3a79e14a55a5ba04dfff21d-ec781d5fe2294ddb-01 outer:exit 2b-08791a18d2216f0cc3a79e14a55a5ba04dfff21d-5be7592dd8c516b2-01
2021-09-13T19:06:13.465Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:06:13.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-d687990c38479b20770241902ff90cf7329679d2-f6ac63e0db1e1db3-01 outer:exit 2b-d687990c38479b20770241902ff90cf7329679d2-5c5b731867053fc2-01
2021-09-13T19:06:13.468Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:06:13.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-3624f8617fc36af8c431ce575aac02c4a2793830-e7ddce3a420f4444-01 outer:exit 2b-3624f8617fc36af8c431ce575aac02c4a2793830-a62eb42f1590df72-01
2021-09-13T19:06:13.470Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:06:13.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8fe6be046971d10aa66ac51d7fed11152a837f1-fec696d0cacc6d84-01 outer:exit 2b-e8fe6be046971d10aa66ac51d7fed11152a837f1-acdafd699f44608d-01
2021-09-13T19:06:13.473Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:06:13.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-126e4c4dc3c8f986742a843ced106ac2e7e1a12b-f7d0dda3782eb8c1-01 outer:exit 2b-126e4c4dc3c8f986742a843ced106ac2e7e1a12b-7b108c386c950867-01
2021-09-13T19:06:13.477Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:06:13.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-e54deea71defd0845b1fca12c9c2384f5733a61a-a4b39f5e3d22bfcf-01 outer:exit 2b-e54deea71defd0845b1fca12c9c2384f5733a61a-1d5a116729a9f468-01
2021-09-13T19:06:13.480Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:06:13.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-f94bf8bf984044e7a037f05f4ed62f920e2cdd8b-09fead630f1770c0-01 outer:exit 2b-f94bf8bf984044e7a037f05f4ed62f920e2cdd8b-827690870f0ced2b-01
2021-09-13T19:06:13.483Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:06:13.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f3aaed4a3b961958fc23818a7c0d34a9d4a19f9-44ffd8fe53b6b6c3-01 outer:exit 2b-9f3aaed4a3b961958fc23818a7c0d34a9d4a19f9-6f8abd8d24897712-01
2021-09-13T19:06:13.486Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:06:13.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1e43d1c6fc634ce2e1124e13679f79cd85a95e6-e3489c5667dde955-01 outer:exit 2b-f1e43d1c6fc634ce2e1124e13679f79cd85a95e6-d1d98486e05ff73f-01
2021-09-13T19:06:13.498Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:06:13.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-dba7834da26ce8552bab41af242cf4239b321deb-e7441d226d2c9247-01 outer:exit 2b-dba7834da26ce8552bab41af242cf4239b321deb-f5ba2755635ac618-01
2021-09-13T19:06:13.504Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:06:13.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b3b37485c072340cdddd0fc4f796131b3264fd2-8e80c800aecdb11c-01 outer:exit 2b-5b3b37485c072340cdddd0fc4f796131b3264fd2-fbce0680968d5725-01
2021-09-13T19:06:13.514Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:06:13.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b480c3eb6958717f7f490d250b133f6ced5df01-32446fe1ca34628b-01 outer:exit 2b-7b480c3eb6958717f7f490d250b133f6ced5df01-6dba32a9c0f66194-01
2021-09-13T19:06:13.521Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:06:13.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4e613dee682ed0746b57975105912ec9aecb9be-67202f64fff56608-01 outer:exit 2b-f4e613dee682ed0746b57975105912ec9aecb9be-809db1c2ba23f474-01
2021-09-13T19:06:13.525Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:06:13.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-a40980b8275943893c335952c9aae001fda67910-63e6110e6ac2e216-01 outer:exit 2b-a40980b8275943893c335952c9aae001fda67910-7ebd93fba15ecea5-01
2021-09-13T19:06:13.529Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:06:13.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-81a20f569023292b39bef891bad44e7ed1e6a664-86bb13419ea757d8-01 outer:exit 2b-81a20f569023292b39bef891bad44e7ed1e6a664-113f92ad8518c262-01
2021-09-13T19:06:13.541Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:06:13.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-dac8916d59c968e38f0141c1113c92e67b8d12c8-92529ba51b54a42f-01 outer:exit 2b-dac8916d59c968e38f0141c1113c92e67b8d12c8-643ffcfd45cf5080-01
2021-09-13T19:06:13.543Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:06:13.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-41f707a3ac94aea95fe486dc3c0ce823555926c6-5ec6d660ea354977-01 outer:exit 2b-41f707a3ac94aea95fe486dc3c0ce823555926c6-025f02ae933b619a-01
2021-09-13T19:06:13.546Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:06:13.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2678e818c18c47b6de74b13212ed0558564419c-f90cc259aab3aeca-01 outer:exit 2b-b2678e818c18c47b6de74b13212ed0558564419c-b061a0a6837fb223-01
2021-09-13T19:06:13.548Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:06:13.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-356943178f0228cad2e9130b36fcd481b38bcf32-b68599969e8a5596-01 outer:exit 2b-356943178f0228cad2e9130b36fcd481b38bcf32-abfd0ef9882ec6aa-01
2021-09-13T19:06:13.550Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:06:13.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-345479de385d4264091e09d62547b2381223725f-37569b51c0603325-01 outer:exit 2b-345479de385d4264091e09d62547b2381223725f-b409c4ef02d65417-01
2021-09-13T19:06:13.553Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:06:13.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-194097eb27c86f916b00c2efef777d8f6f54c52a-daf8b63fe90a2c8f-01 outer:exit 2b-194097eb27c86f916b00c2efef777d8f6f54c52a-c18ae51cf0e01fa7-01
2021-09-13T19:06:13.564Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:06:13.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3182f0779519c44682f58a819bff24a25fef67b-082838e3e23a73cb-01 outer:exit 2b-d3182f0779519c44682f58a819bff24a25fef67b-7612033be8d1b5a8-01
2021-09-13T19:06:13.574Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:06:13.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-3697e496d9158dc384f4f23f66526e5c13c60da0-f1b0a989fc01fd89-01 outer:exit 2b-3697e496d9158dc384f4f23f66526e5c13c60da0-22e20b3f79bf8182-01
2021-09-13T19:06:13.578Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:06:13.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-f818942a505778cfa225de8ae021d88b27530c32-f02d0f6c01ad706c-01 outer:exit 2b-f818942a505778cfa225de8ae021d88b27530c32-541e482ecbda8495-01
2021-09-13T19:06:13.581Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:06:13.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-338d8984a3f34a8d0d10039bceed7dbac7913b59-b1f25ab58412d8f9-01 outer:exit 2b-338d8984a3f34a8d0d10039bceed7dbac7913b59-15f266d562a7bd6f-01
2021-09-13T19:06:13.584Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:06:13.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcce7f64f3ed625056318dd03c4befd32cd699a7-7bf7619269ef3647-01 outer:exit 2b-fcce7f64f3ed625056318dd03c4befd32cd699a7-6331a3cae895401a-01
2021-09-13T19:06:13.614Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (358ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:22.021Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:22.022Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:22.022Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:22.023Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:22.103Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:22.155Z appoptics:patching patched crypto 
2021-09-13T19:06:22.185Z appoptics:patching patched https 
2021-09-13T19:06:22.186Z appoptics:patching patched http 
2021-09-13T19:06:22.248Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:22.249Z appoptics:patching patched fs 
2021-09-13T19:06:22.288Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v16.9.1)
2021-09-13T19:06:22.298Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-09-13T19:06:22.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb0ce1b5e9c227eda34d5f3b071a9ba7640a41d4-07a62077e30bd952-01 outer:exit 2b-fb0ce1b5e9c227eda34d5f3b071a9ba7640a41d4-246d24b7b6a0e06b-01
2021-09-13T19:06:22.504Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:06:22.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-72189f5343ccfea1474d737a6f4a906b03918210-bb52747cc7f75c3f-01 outer:exit 2b-72189f5343ccfea1474d737a6f4a906b03918210-c9a0ff2ec1342c51-01
2021-09-13T19:06:22.559Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:06:22.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e531093cb2d9afb2f9a6ab8dd7ddcbb439ab0ce-35c75997a1b2acef-01 outer:exit 2b-2e531093cb2d9afb2f9a6ab8dd7ddcbb439ab0ce-72024cdb266a301c-01
2021-09-13T19:06:22.563Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:06:22.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0a0cd19a4b7d50f320d61505bbb72cad9874256-230061613ba9cab9-01 outer:exit 2b-c0a0cd19a4b7d50f320d61505bbb72cad9874256-9f1f2915fbe80027-01
2021-09-13T19:06:22.566Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:06:22.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-3095ffeae17cc7ea86729402c8c99c844e581833-40243465d783bf16-01 outer:exit 2b-3095ffeae17cc7ea86729402c8c99c844e581833-5725e6a2d8c6e101-01
2021-09-13T19:06:22.572Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:06:22.575Z appoptics:debug span.exit - no last event outer outer:entry 2b-a48bc7a84b575b03884dc6549d50b19b8c80a7b6-4a91c35f41b1b276-01 outer:exit 2b-a48bc7a84b575b03884dc6549d50b19b8c80a7b6-3bcff6d5e88a83e2-01
2021-09-13T19:06:22.575Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:06:22.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-f003ce07fade47eeafc6ab8859558bd1f83b66a9-3baafbf977117cc7-01 outer:exit 2b-f003ce07fade47eeafc6ab8859558bd1f83b66a9-8bd57e1817404881-01
2021-09-13T19:06:22.579Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:06:22.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-95225f928fb38b368040012cbb251ce880f6bfde-6a80441e33e44a13-01 outer:exit 2b-95225f928fb38b368040012cbb251ce880f6bfde-c0dff27b12413f9b-01
2021-09-13T19:06:22.583Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:06:22.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-318a65687678a7b117308d9b1a8e41efacccbda2-9db24f34ef468b79-01 outer:exit 2b-318a65687678a7b117308d9b1a8e41efacccbda2-810349c90a946eb4-01
2021-09-13T19:06:22.587Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:06:22.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d854a4dee65e866acbcbcd9fb218178d797279-0e487944e8949b4a-01 outer:exit 2b-17d854a4dee65e866acbcbcd9fb218178d797279-484e8de4f7f102e3-01
2021-09-13T19:06:22.591Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:06:22.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f6fb60a6da0852e7160838e8a2fc0a272fa5d9c-c648182fd42ab228-01 outer:exit 2b-1f6fb60a6da0852e7160838e8a2fc0a272fa5d9c-0970f6d1fdf8c04d-01
2021-09-13T19:06:22.596Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:06:22.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca20179a2751c8ccf830cc5283eeb1225c35679b-c43f23764b743286-01 outer:exit 2b-ca20179a2751c8ccf830cc5283eeb1225c35679b-4977411c463d76b4-01
2021-09-13T19:06:22.604Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:06:22.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-1955026c1766564b29aecc554347eb46d89d180d-9d775d5327d3ebab-01 outer:exit 2b-1955026c1766564b29aecc554347eb46d89d180d-fecf4883eb1faee5-01
2021-09-13T19:06:22.620Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:06:22.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae6fae0faa0a994349c308c05415218c43beda3e-1f3b51e94a85eb64-01 outer:exit 2b-ae6fae0faa0a994349c308c05415218c43beda3e-967b9e13ec8b674a-01
2021-09-13T19:06:22.652Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:06:22.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-55abae41ec40b4965b2c20b0df4dd210dc7a3dd2-aea27257b58b9ce1-01 outer:exit 2b-55abae41ec40b4965b2c20b0df4dd210dc7a3dd2-c30ad13199be67ab-01
2021-09-13T19:06:22.655Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:06:22.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5dbaaaded55cae293ccc8dfb3d2e7b1cec7292d-14e7126ec45d87bb-01 outer:exit 2b-e5dbaaaded55cae293ccc8dfb3d2e7b1cec7292d-32f58f91de40c4b6-01
2021-09-13T19:06:22.657Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:06:22.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-5af4f17896cc9ad934e8147aa1ebb35d3a91779e-8c01ebb6e3ad6e13-01 outer:exit 2b-5af4f17896cc9ad934e8147aa1ebb35d3a91779e-0631606229cd96c0-01
2021-09-13T19:06:22.660Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:06:22.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-f55543133ba844d22314d72f613f5be5549b9fa3-66f5465819665447-01 outer:exit 2b-f55543133ba844d22314d72f613f5be5549b9fa3-25f27f3abc37e637-01
2021-09-13T19:06:22.663Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:06:22.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-28367122cfdca73480e07be3cd4c7d030a372cf5-015a75863f2bc1f6-01 outer:exit 2b-28367122cfdca73480e07be3cd4c7d030a372cf5-8ba7872c36fe1a81-01
2021-09-13T19:06:22.666Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:06:22.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-b626c408c739d4759f2e1bed52c784d3ffa9d035-c55cfc47c93e4dd9-01 outer:exit 2b-b626c408c739d4759f2e1bed52c784d3ffa9d035-09aa42fbba5d15b7-01
2021-09-13T19:06:22.668Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:06:22.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a6dc95009404b1bbc8d0e61b090511aae653074-2e5c1f438ed87fc1-01 outer:exit 2b-3a6dc95009404b1bbc8d0e61b090511aae653074-69a996ed5a84782e-01
2021-09-13T19:06:22.671Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:06:22.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9ce359fc3d943477f945af7c8d666fe63cd0ee1-55ee1e8e4d2fb396-01 outer:exit 2b-c9ce359fc3d943477f945af7c8d666fe63cd0ee1-ce066dfbf9236f70-01
2021-09-13T19:06:22.674Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:06:22.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-3882a9b30439a45e4daeb863ae12bec6bb8ac090-8e2a7085e1e40331-01 outer:exit 2b-3882a9b30439a45e4daeb863ae12bec6bb8ac090-34149a18756fd626-01
2021-09-13T19:06:22.677Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:06:22.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-8935050a3fc001d8be0b147a8dcbf2431828cf27-da096e04fd4708f1-01 outer:exit 2b-8935050a3fc001d8be0b147a8dcbf2431828cf27-c8877f4be6f28594-01
2021-09-13T19:06:22.680Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:06:22.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d95709c60600198d1d51941c512b36622e7d130-546215b0c2ed07ea-01 outer:exit 2b-0d95709c60600198d1d51941c512b36622e7d130-8e40ef985251b7c7-01
2021-09-13T19:06:22.683Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:06:22.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-e34961b03fd274869d52ce5ab0ff4f225661c810-d407ef6fb178692f-01 outer:exit 2b-e34961b03fd274869d52ce5ab0ff4f225661c810-b6df0d7ce0b95ab5-01
2021-09-13T19:06:22.687Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:06:22.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ecfa83f05f6c391d8b3c0f778a6189e5021b035-45118e50b2cf9378-01 outer:exit 2b-9ecfa83f05f6c391d8b3c0f778a6189e5021b035-e0f72321ec17034b-01
2021-09-13T19:06:22.695Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:06:22.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad9298cc413d28e9ee164a44fd526cc8d2d05f6-8150601611fb0030-01 outer:exit 2b-8ad9298cc413d28e9ee164a44fd526cc8d2d05f6-08cdcc071b799971-01
2021-09-13T19:06:22.700Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:06:22.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-a876bb59bf29bea21802301d51e6e82043ffacc4-0ada0241280a25bc-01 outer:exit 2b-a876bb59bf29bea21802301d51e6e82043ffacc4-8be08b823d7c267c-01
2021-09-13T19:06:22.710Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:06:22.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a3449b310605265c998b1209071a421f9a886dc-6dc714e517c2243a-01 outer:exit 2b-9a3449b310605265c998b1209071a421f9a886dc-4d901faf94cec7ea-01
2021-09-13T19:06:22.717Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:06:22.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-72551572cb5bcae2bae558845b85adf04ca76a96-882d2b43c71dbc45-01 outer:exit 2b-72551572cb5bcae2bae558845b85adf04ca76a96-db731315d0a02d0d-01
2021-09-13T19:06:22.720Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:06:22.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-33620e9cb0a5e7757006c0c87442d9ae51b11c7f-72df52c3e11a3cdb-01 outer:exit 2b-33620e9cb0a5e7757006c0c87442d9ae51b11c7f-400f7d77002aa21c-01
2021-09-13T19:06:22.724Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:06:22.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bf0ca2687c8f2e76e1f27a135bfd2a2a13f1ca1-01a366fa077323c0-01 outer:exit 2b-9bf0ca2687c8f2e76e1f27a135bfd2a2a13f1ca1-c52d93808c42d2f4-01
2021-09-13T19:06:22.736Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:06:22.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a1665b2af86a5b49908d50a02679bb063b06d96-056101f6330c3298-01 outer:exit 2b-7a1665b2af86a5b49908d50a02679bb063b06d96-9ea3702708f187fe-01
2021-09-13T19:06:22.739Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:06:22.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ffb3e9079c077efb8252dcf175e4bde4c8c4b4f-1425e87ca9a4f3e2-01 outer:exit 2b-4ffb3e9079c077efb8252dcf175e4bde4c8c4b4f-42f2195bc31bd0e4-01
2021-09-13T19:06:22.741Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:06:22.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-278139e30ebfb4bbc6b86513651ab82b9468b870-dd8d53522d87e51d-01 outer:exit 2b-278139e30ebfb4bbc6b86513651ab82b9468b870-2d8ff9b08f24c4e3-01
2021-09-13T19:06:22.744Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:06:22.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-4215d5372e66e128abc19352c76b44533833636d-7d5d46d4abeea5eb-01 outer:exit 2b-4215d5372e66e128abc19352c76b44533833636d-640b8ba65ac45aba-01
2021-09-13T19:06:22.746Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:06:22.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aa1579f6b9f38b0dcf392b65257c8dacaf6a519-654d257e37bb4cb0-01 outer:exit 2b-4aa1579f6b9f38b0dcf392b65257c8dacaf6a519-e2be9cf3d190e150-01
2021-09-13T19:06:22.748Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:06:22.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-186834ea1d26387b21d761074d9eddfb9886f582-a84be3ae1ee58db3-01 outer:exit 2b-186834ea1d26387b21d761074d9eddfb9886f582-f37c1b35e186f56a-01
2021-09-13T19:06:22.758Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:06:22.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-50697f37a06b6c47dfdcbe05d83235553a0d10a3-7301cab12e8a3144-01 outer:exit 2b-50697f37a06b6c47dfdcbe05d83235553a0d10a3-37798af073267ac9-01
2021-09-13T19:06:22.768Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:06:22.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-434d015696bca29b4fe580acf567a40831ad2aef-7c5fcff553f58769-01 outer:exit 2b-434d015696bca29b4fe580acf567a40831ad2aef-74b1b8fc6f8943b9-01
2021-09-13T19:06:22.771Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:06:22.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-62b3af76816f0ef46287ea1cdb20a67570af8278-d95e39f5e9904f6c-01 outer:exit 2b-62b3af76816f0ef46287ea1cdb20a67570af8278-f094ddde53428eee-01
2021-09-13T19:06:22.775Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:06:22.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-96031816e48c40475a2f88c497661adf1a231c14-854b5cbed01ad02a-01 outer:exit 2b-96031816e48c40475a2f88c497661adf1a231c14-ae54249d3a61246a-01
2021-09-13T19:06:22.778Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:06:22.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae82c166b4e7f4a6b1e27ca35affd6bf1e243fe3-6d42a87fcf87703f-01 outer:exit 2b-ae82c166b4e7f4a6b1e27ca35affd6bf1e243fe3-a6269a72c532d28e-01
2021-09-13T19:06:22.808Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (345ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:30.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:30.525Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:30.525Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:30.526Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:30.599Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:30.649Z appoptics:patching patched crypto 
2021-09-13T19:06:30.678Z appoptics:patching patched https 
2021-09-13T19:06:30.678Z appoptics:patching patched http 
2021-09-13T19:06:30.752Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:30.752Z appoptics:patching patched fs 
2021-09-13T19:06:30.788Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v16.9.1)
2021-09-13T19:06:30.798Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-09-13T19:06:31.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-79cacb60dc07bee82f15f1c0614d8fc9d05727bf-8282576871b7c6bf-01 outer:exit 2b-79cacb60dc07bee82f15f1c0614d8fc9d05727bf-d323c4a7139d3e3d-01
2021-09-13T19:06:31.041Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:06:31.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-61e1e240e021c7b2e4ab96937b436fda038d0cf7-7decdbc775a12e17-01 outer:exit 2b-61e1e240e021c7b2e4ab96937b436fda038d0cf7-b76172b77b2c6cdf-01
2021-09-13T19:06:31.094Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:06:31.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-25bed01c6cd0f81b96dc5753b26def47f2492e43-ed3c13444e05a20e-01 outer:exit 2b-25bed01c6cd0f81b96dc5753b26def47f2492e43-cebda6741d275aae-01
2021-09-13T19:06:31.101Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:06:31.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-d32ecea336e5246a7021a7a1bc8a4be072aced61-484b7dc2609af91b-01 outer:exit 2b-d32ecea336e5246a7021a7a1bc8a4be072aced61-a481f54e6e0fe54f-01
2021-09-13T19:06:31.104Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:06:31.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-c488655c143b81ceb59e43991cecbf46d3f10266-566d38a07fa409ef-01 outer:exit 2b-c488655c143b81ceb59e43991cecbf46d3f10266-ae8bfd4f2ca53a94-01
2021-09-13T19:06:31.113Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:06:31.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-59c3a68087033e8c7c1e2fe7d9693804707d891f-b3c555d79852e6f7-01 outer:exit 2b-59c3a68087033e8c7c1e2fe7d9693804707d891f-3f49068461990a08-01
2021-09-13T19:06:31.123Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:06:31.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-68f76be88c8440bb036ce4a665021bd1bca22297-4dd928e30dd4428c-01 outer:exit 2b-68f76be88c8440bb036ce4a665021bd1bca22297-a536ad2ca0c3e7fa-01
2021-09-13T19:06:31.128Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:06:31.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbffd5d0f0b8d8fe9f743fe18f8f9fa13d42e654-d2ab0a980ac6f3a4-01 outer:exit 2b-cbffd5d0f0b8d8fe9f743fe18f8f9fa13d42e654-8bcb8301af7a27a7-01
2021-09-13T19:06:31.132Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:06:31.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-d13a8a2ef493521cc76a28a5d70d63f8903f8654-92c7750981783b8d-01 outer:exit 2b-d13a8a2ef493521cc76a28a5d70d63f8903f8654-d8e08c1f0888fe53-01
2021-09-13T19:06:31.135Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:06:31.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-d52526665dac1174d245e8760a610da1e062bd3c-56e8422b7a1bbdb5-01 outer:exit 2b-d52526665dac1174d245e8760a610da1e062bd3c-4fa86184ca8c9ca0-01
2021-09-13T19:06:31.139Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:06:31.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5c622a2f4e3e89e45563ea116a8b03d3c510cb1-89e67d06a6b52cf1-01 outer:exit 2b-f5c622a2f4e3e89e45563ea116a8b03d3c510cb1-c36e338ea2cc7e70-01
2021-09-13T19:06:31.146Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:06:31.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-877c0c91e18312a6905e722da1ede5e14631022d-4443b63522c250da-01 outer:exit 2b-877c0c91e18312a6905e722da1ede5e14631022d-f951c336493c8ce9-01
2021-09-13T19:06:31.153Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:06:31.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec6cdcb8aa53c9be006efc964b0ac4e4dc8718d3-ca12a926a053dbe4-01 outer:exit 2b-ec6cdcb8aa53c9be006efc964b0ac4e4dc8718d3-ef53bfe510f18910-01
2021-09-13T19:06:31.172Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:06:31.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f0573f9be7f23cd854c164411c3714159b7944a-6a1f1a87251bd063-01 outer:exit 2b-0f0573f9be7f23cd854c164411c3714159b7944a-4d950aae08fcc532-01
2021-09-13T19:06:31.245Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:06:31.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-b26233c25d0baa76def5356163a14216cba379c3-12b1dfcd95c1aa91-01 outer:exit 2b-b26233c25d0baa76def5356163a14216cba379c3-e1155a2445b38e33-01
2021-09-13T19:06:31.248Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:06:31.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-44e3a94c26cbd50307b6aaa98ece51e235421224-7932b7dd1d95224e-01 outer:exit 2b-44e3a94c26cbd50307b6aaa98ece51e235421224-9fa6b20599706b16-01
2021-09-13T19:06:31.252Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:06:31.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d6ce39f76575dad2e1048829d9647ef6e7732d1-2c58024fe356130a-01 outer:exit 2b-1d6ce39f76575dad2e1048829d9647ef6e7732d1-a5fe72fa5f8e1fcf-01
2021-09-13T19:06:31.258Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:06:31.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-beb47d85ec7fc62d21df6d984019321c769738d4-ca262fe85bdbcff7-01 outer:exit 2b-beb47d85ec7fc62d21df6d984019321c769738d4-dc7a04a62097c2f9-01
2021-09-13T19:06:31.260Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:06:31.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-42cdca61eee6d840444b5b4d90b8d92e08dee3ca-fc5f137407250443-01 outer:exit 2b-42cdca61eee6d840444b5b4d90b8d92e08dee3ca-e031cb13920488e2-01
2021-09-13T19:06:31.263Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:06:31.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-dda21bc416c72dfa496843e7b2593ebd76007a34-ae06d6e2e2464e30-01 outer:exit 2b-dda21bc416c72dfa496843e7b2593ebd76007a34-42e8e46a5c63e9bc-01
2021-09-13T19:06:31.265Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:06:31.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-150faff02a7efaeed0be93eb4a10528e36dd4cf4-c0b6280271d900e0-01 outer:exit 2b-150faff02a7efaeed0be93eb4a10528e36dd4cf4-23a47788074a2c4d-01
2021-09-13T19:06:31.269Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:06:31.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-983ed27d76e98bdb3000ed5f02d9207c03cf6ddc-aba345cc760ae078-01 outer:exit 2b-983ed27d76e98bdb3000ed5f02d9207c03cf6ddc-2d63652d53dfb823-01
2021-09-13T19:06:31.277Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:06:31.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-d01ce55c6ca8ec5711e099ef1b3330580a427309-643ad8c7d5295a8a-01 outer:exit 2b-d01ce55c6ca8ec5711e099ef1b3330580a427309-83c0098fe7911b7f-01
2021-09-13T19:06:31.284Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:06:31.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-b611d4d0352829d49557e9d7c3af8c8ad7695378-05c5a3803790cca1-01 outer:exit 2b-b611d4d0352829d49557e9d7c3af8c8ad7695378-5573eb67286d257f-01
2021-09-13T19:06:31.289Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:06:31.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff832d284db000078f5bdabdece4a4cfd001e5e-9cd0b48be19ab8a2-01 outer:exit 2b-4ff832d284db000078f5bdabdece4a4cfd001e5e-64ab38d3af6e7c66-01
2021-09-13T19:06:31.297Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:06:31.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-21c1a976fe493f4bb663326c0b4158481549e4ba-f0147fb4e14e19c6-01 outer:exit 2b-21c1a976fe493f4bb663326c0b4158481549e4ba-ab1878c0cc715a09-01
2021-09-13T19:06:31.300Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:06:31.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-20cd5c8e214cf9e2edde0222ba6cf21a3746b6a0-d7b26683ab042870-01 outer:exit 2b-20cd5c8e214cf9e2edde0222ba6cf21a3746b6a0-dcfd77deff7462db-01
2021-09-13T19:06:31.311Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:06:31.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d305871e8ceb70a2791fae946a82894e1abaff9-527f8f4ee5a0157d-01 outer:exit 2b-5d305871e8ceb70a2791fae946a82894e1abaff9-108435aaea623143-01
2021-09-13T19:06:31.317Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:06:31.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-9656cac3463f61a58af6675cb4595d1f6abe794e-f654c232ecf0d443-01 outer:exit 2b-9656cac3463f61a58af6675cb4595d1f6abe794e-d2061571c46395bc-01
2021-09-13T19:06:31.329Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:06:31.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-df2f5dbfc7aabf2f169f7439c22deaa06c9a95cd-920efd808324d7e4-01 outer:exit 2b-df2f5dbfc7aabf2f169f7439c22deaa06c9a95cd-fab3fe5806f7df1e-01
2021-09-13T19:06:31.336Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:06:31.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-21d0e8f0744f3a35a43919382bbae896d98f9a12-f679c0926ae79134-01 outer:exit 2b-21d0e8f0744f3a35a43919382bbae896d98f9a12-36ffc0405b89c09a-01
2021-09-13T19:06:31.339Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:06:31.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7e77e6236af91503c8de6d21fba1839cb680faf-25e9fef4a0fe1b73-01 outer:exit 2b-e7e77e6236af91503c8de6d21fba1839cb680faf-2795a0cc55dc615f-01
2021-09-13T19:06:31.343Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:06:31.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-925aca5d24153d0270e05eead30e3e02bf41146e-e58ff24657a8cbd3-01 outer:exit 2b-925aca5d24153d0270e05eead30e3e02bf41146e-5e3f486d541fc6f6-01
2021-09-13T19:06:31.350Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:06:31.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fa435f826773394baacd2191585d8f788391c00-2d5c1a11d38ebc7f-01 outer:exit 2b-3fa435f826773394baacd2191585d8f788391c00-f6743a9515cdd2de-01
2021-09-13T19:06:31.352Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:06:31.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f8561717651c747992f494bcc45ea6d92dbcf91-93d1f948a6a33a36-01 outer:exit 2b-5f8561717651c747992f494bcc45ea6d92dbcf91-c8cd1baaa1984c36-01
2021-09-13T19:06:31.355Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:06:31.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-72c08bf09df721af0a739e4d2ff13a08cfb329b4-3f0c19a8736fa46c-01 outer:exit 2b-72c08bf09df721af0a739e4d2ff13a08cfb329b4-53f94fb234119e6a-01
2021-09-13T19:06:31.357Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:06:31.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f68ea373e3c48a27ecac5085e0e5f9f30301bee-a4fb9f21ca183615-01 outer:exit 2b-0f68ea373e3c48a27ecac5085e0e5f9f30301bee-5847e41f249d8f97-01
2021-09-13T19:06:31.360Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:06:31.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-f42644ee82335c94411941e9270bbd6d11249149-f4f606164559116d-01 outer:exit 2b-f42644ee82335c94411941e9270bbd6d11249149-4bb680befc5d70a8-01
2021-09-13T19:06:31.365Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:06:31.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-309bb9f89aaba0a004e95c3ba261ecf728d472b8-52002047303f111e-01 outer:exit 2b-309bb9f89aaba0a004e95c3ba261ecf728d472b8-6b44c794b54773dc-01
2021-09-13T19:06:31.389Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:06:31.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-b213b8f63f7a5ed38b93256292420fe69c10f4a4-6ea10bbcdfcdf0e9-01 outer:exit 2b-b213b8f63f7a5ed38b93256292420fe69c10f4a4-53e679cbd81b6769-01
2021-09-13T19:06:31.398Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:06:31.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-b84fc51f719a236f0c89492720cd3cc6b828d9bb-09b9df6255426d53-01 outer:exit 2b-b84fc51f719a236f0c89492720cd3cc6b828d9bb-ab9352f882689beb-01
2021-09-13T19:06:31.402Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:06:31.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-e49a180a0c9ce06c4ba415a93883e311939b8ef1-d60126e41a476166-01 outer:exit 2b-e49a180a0c9ce06c4ba415a93883e311939b8ef1-507e1862e345e113-01
2021-09-13T19:06:31.405Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:06:31.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8fac790bda187a562aee545f3425714aed9e218-c0f51c70efb8b812-01 outer:exit 2b-c8fac790bda187a562aee545f3425714aed9e218-58f68a76045cd06a-01
2021-09-13T19:06:31.412Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:06:31.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a8e4e870a1d57b9c57650727d279b41335a1793-9ab1017ed07f5ecf-01 outer:exit 2b-2a8e4e870a1d57b9c57650727d279b41335a1793-48cce8ed7cc36527-01
2021-09-13T19:06:31.449Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (466ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:39.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:39.858Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:39.858Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:39.859Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:39.938Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:39.987Z appoptics:patching patched crypto 
2021-09-13T19:06:40.012Z appoptics:patching patched https 
2021-09-13T19:06:40.012Z appoptics:patching patched http 
2021-09-13T19:06:40.069Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:40.070Z appoptics:patching patched fs 
2021-09-13T19:06:40.105Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v16.9.1)
2021-09-13T19:06:40.114Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-09-13T19:06:40.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dbc2a8a03123d41e56070c15c87ef2fed6df8a9-0830ac2187774464-01 outer:exit 2b-3dbc2a8a03123d41e56070c15c87ef2fed6df8a9-6f7371b476dabd8c-01
2021-09-13T19:06:40.313Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:06:40.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-88250473cdf056b3873661e85c6a6382b7d1487b-9f9b5e0ced5cfceb-01 outer:exit 2b-88250473cdf056b3873661e85c6a6382b7d1487b-1516c8677eb47e80-01
2021-09-13T19:06:40.359Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:06:40.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-0be6a3e61303a76230ad959e59b2a8752c24b5fb-fe60f8023c368911-01 outer:exit 2b-0be6a3e61303a76230ad959e59b2a8752c24b5fb-ff328c4849ae9948-01
2021-09-13T19:06:40.363Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:06:40.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-9660c74657781db345b594c34135fc82f58e2f56-12f38a7923cd7ea2-01 outer:exit 2b-9660c74657781db345b594c34135fc82f58e2f56-8daab6e22d1a512c-01
2021-09-13T19:06:40.366Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:06:40.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fac02924c3b1bf4bf9729d6217119fc13dcfb81-f038ea93b7990197-01 outer:exit 2b-4fac02924c3b1bf4bf9729d6217119fc13dcfb81-959eb559456bab37-01
2021-09-13T19:06:40.372Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:06:40.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb080c163abc16ec713e5ee2a96c34b3003e2ea4-9a45b1f84b17098a-01 outer:exit 2b-fb080c163abc16ec713e5ee2a96c34b3003e2ea4-6e543a6a129a8505-01
2021-09-13T19:06:40.375Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:06:40.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbd663dc42b6f0c039a20aa445cca32fc7a60380-e9cd3b0fc0c43a09-01 outer:exit 2b-bbd663dc42b6f0c039a20aa445cca32fc7a60380-9f33cc2d3ffa7150-01
2021-09-13T19:06:40.379Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:06:40.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-db23a00731d7f99f4f5abeb8e753800d3e40cab2-439440a5f990566f-01 outer:exit 2b-db23a00731d7f99f4f5abeb8e753800d3e40cab2-9aad0098dd2a8c72-01
2021-09-13T19:06:40.382Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:06:40.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-7820fba9a0610fe25c0f5799ab5c51e5b71b38e7-6dc20bab47d8bb44-01 outer:exit 2b-7820fba9a0610fe25c0f5799ab5c51e5b71b38e7-91420b372074acfd-01
2021-09-13T19:06:40.385Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:06:40.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a76d5d2bc9cde13d5e6035110fea085edd2574d-442b0d9382f1c95f-01 outer:exit 2b-6a76d5d2bc9cde13d5e6035110fea085edd2574d-2eeb44a7bf291bbb-01
2021-09-13T19:06:40.388Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:06:40.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dbcd1ac64735014aa4aa4f98fe7fffda0bea67f-ca5ce9536a90fe86-01 outer:exit 2b-0dbcd1ac64735014aa4aa4f98fe7fffda0bea67f-2279e7dd7dcb0012-01
2021-09-13T19:06:40.394Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:06:40.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-37645f432a7db40a8f169486533e381a9d56ba6f-d85b8a8c4143fa8d-01 outer:exit 2b-37645f432a7db40a8f169486533e381a9d56ba6f-8322516e106dc633-01
2021-09-13T19:06:40.401Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:06:40.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-e68f4b899cd2c7f97134bf51c61bd2133998c881-ff469af9eb26f9b8-01 outer:exit 2b-e68f4b899cd2c7f97134bf51c61bd2133998c881-eeff6f304681e866-01
2021-09-13T19:06:40.419Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:06:40.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c06e8657d51a9d66d448a97cf4f274f6ef0ddb7-d451a60bf881deef-01 outer:exit 2b-0c06e8657d51a9d66d448a97cf4f274f6ef0ddb7-9fc510056464383b-01
2021-09-13T19:06:40.457Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:06:40.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-656f9bd46b59affb310d9741fdeebb0e5e83e33e-2434be4d205afccc-01 outer:exit 2b-656f9bd46b59affb310d9741fdeebb0e5e83e33e-59bfa3791ef4b084-01
2021-09-13T19:06:40.460Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:06:40.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-a521dff8b9e7df7bf159aa5a9f5ba9ae06fb79a4-9e48b099f1af6c16-01 outer:exit 2b-a521dff8b9e7df7bf159aa5a9f5ba9ae06fb79a4-a956f29c7cf18590-01
2021-09-13T19:06:40.463Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:06:40.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-8446da02dadc456490d6d7839a68607aa5011314-01eb9afa633ec4d3-01 outer:exit 2b-8446da02dadc456490d6d7839a68607aa5011314-04e836316bbede97-01
2021-09-13T19:06:40.466Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:06:40.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9c73a939c63b788f8d9e3fa70005b4ce00605e1-256f725be712d204-01 outer:exit 2b-f9c73a939c63b788f8d9e3fa70005b4ce00605e1-93cdf2c22d929936-01
2021-09-13T19:06:40.469Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:06:40.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-2898f6b5b1567cbd761188eb2bda5a7f48cdba15-24cd7edcee047d3f-01 outer:exit 2b-2898f6b5b1567cbd761188eb2bda5a7f48cdba15-828e763018bb7185-01
2021-09-13T19:06:40.472Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:06:40.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-5789b88803aa63397467035cf7d6b1c5aca4ca67-07250058716f0b26-01 outer:exit 2b-5789b88803aa63397467035cf7d6b1c5aca4ca67-ae73f4ce8bcdd4ce-01
2021-09-13T19:06:40.474Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:06:40.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9f4ce0890db2726b0d45e434fd0dcbc8da2a8c7-53e5bb57f553b6b8-01 outer:exit 2b-c9f4ce0890db2726b0d45e434fd0dcbc8da2a8c7-8f983a442a52b6e2-01
2021-09-13T19:06:40.477Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:06:40.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-923dc14d618789e6815d9db410c3ef1168b14d4f-c644808676830e48-01 outer:exit 2b-923dc14d618789e6815d9db410c3ef1168b14d4f-b621ee422d1f4fc5-01
2021-09-13T19:06:40.480Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:06:40.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9127ff4a6b6309c1e120b5998d80e4e5037f6f7-2440e1ea8646293d-01 outer:exit 2b-e9127ff4a6b6309c1e120b5998d80e4e5037f6f7-79b0f0b6901942ee-01
2021-09-13T19:06:40.483Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:06:40.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f89fe306e80f6fffaf6839940b242c0ce700532-0c3f5af94321ce44-01 outer:exit 2b-3f89fe306e80f6fffaf6839940b242c0ce700532-316857bb8c2f7d60-01
2021-09-13T19:06:40.487Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:06:40.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f720f8828955d2306f0001a11bd6804d47f4a0d-18e734ac5b1a2963-01 outer:exit 2b-4f720f8828955d2306f0001a11bd6804d47f4a0d-87cd7b3b2582d008-01
2021-09-13T19:06:40.491Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:06:40.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f49b055a69d8eb9acd17b241fdd628af50bda40-e43c3d76604ab404-01 outer:exit 2b-9f49b055a69d8eb9acd17b241fdd628af50bda40-8a470be9b3dcb5c9-01
2021-09-13T19:06:40.494Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:06:40.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-99b6a8c2166df919599c312b7321cd472e8d188d-2f8eff7542eddd59-01 outer:exit 2b-99b6a8c2166df919599c312b7321cd472e8d188d-a097e4512ba54388-01
2021-09-13T19:06:40.503Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:06:40.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8c270fe2b302d082716ceccc95b5b2eb4b5f160-93047f402d25f707-01 outer:exit 2b-e8c270fe2b302d082716ceccc95b5b2eb4b5f160-76f170cef73c0777-01
2021-09-13T19:06:40.508Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:06:40.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a72fe92360c384398e3fe6d2d24c391524b8f8c-7201cd6505f54a31-01 outer:exit 2b-4a72fe92360c384398e3fe6d2d24c391524b8f8c-a781f0e7d06e5151-01
2021-09-13T19:06:40.518Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:06:40.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-12322283bf1d8dbf95dbcca878d397839947e1b8-ff47c7fada64126d-01 outer:exit 2b-12322283bf1d8dbf95dbcca878d397839947e1b8-8d617b7734b47a7e-01
2021-09-13T19:06:40.526Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:06:40.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-249df5382afd23f36e6aa119bf1152745c903893-06917f173b9435ce-01 outer:exit 2b-249df5382afd23f36e6aa119bf1152745c903893-8ca09e18876a23ba-01
2021-09-13T19:06:40.529Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:06:40.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-9db2a582c54cb67c91d6cafb90cec7b81491fad7-002aa171c6c52b5e-01 outer:exit 2b-9db2a582c54cb67c91d6cafb90cec7b81491fad7-714f50c45d8157d9-01
2021-09-13T19:06:40.533Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:06:40.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-b24414ee4a3d2644644cbe9c753d934f7312f373-a1473c48e4a6d122-01 outer:exit 2b-b24414ee4a3d2644644cbe9c753d934f7312f373-00affd24b64d7191-01
2021-09-13T19:06:40.544Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:06:40.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce2a4166a0c09a9f4760cea62bafaddb7e747d66-092dc5eb4d128e6d-01 outer:exit 2b-ce2a4166a0c09a9f4760cea62bafaddb7e747d66-9f0bf7aba48db016-01
2021-09-13T19:06:40.546Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:06:40.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-76102e10384f4ddb8a6081947408f630e4209d26-e7539f4bd2a7a4e7-01 outer:exit 2b-76102e10384f4ddb8a6081947408f630e4209d26-788a8127ffd2e74f-01
2021-09-13T19:06:40.549Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:06:40.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-b58214c67cb9bcd655f5802066e6d0fc23b79a43-2fdb6f1cea255551-01 outer:exit 2b-b58214c67cb9bcd655f5802066e6d0fc23b79a43-8994857bc8d60ebd-01
2021-09-13T19:06:40.551Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:06:40.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-a55dac5eabbd046701ef7258099b3df1dd3b71e7-62e53f163a95b519-01 outer:exit 2b-a55dac5eabbd046701ef7258099b3df1dd3b71e7-3e542a24eaa0ee9e-01
2021-09-13T19:06:40.553Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:06:40.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfbc9ca173bf69aea878bebbed22273564bed512-910cfe1693e0a282-01 outer:exit 2b-dfbc9ca173bf69aea878bebbed22273564bed512-42fac5434f75a281-01
2021-09-13T19:06:40.556Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:06:40.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-5649b5e4a77c307d9a110eb4a42e16593cefebe0-013bf76e57d77259-01 outer:exit 2b-5649b5e4a77c307d9a110eb4a42e16593cefebe0-ad3a72d34bdd9add-01
2021-09-13T19:06:40.566Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:06:40.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-a69ae4bd9e6a8abcd8ac4221f97ff4a7a4c6b6f8-8905018c0870734e-01 outer:exit 2b-a69ae4bd9e6a8abcd8ac4221f97ff4a7a4c6b6f8-12f1903e6109e4ea-01
2021-09-13T19:06:40.576Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:06:40.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8d0bebec9d68b9bc13f5d1a37d2d605ffc9081c-98124a3c106002cf-01 outer:exit 2b-c8d0bebec9d68b9bc13f5d1a37d2d605ffc9081c-54ab17d8dcf15c30-01
2021-09-13T19:06:40.579Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:06:40.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b48dd5ce84dccb9749874d93ec8d2213c080f77-192677d1e725a563-01 outer:exit 2b-8b48dd5ce84dccb9749874d93ec8d2213c080f77-92abeb3a73683046-01
2021-09-13T19:06:40.583Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:06:40.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-5113a02f01c24bb21cc7c21810be3be342df4ce6-62069839bfd2b42b-01 outer:exit 2b-5113a02f01c24bb21cc7c21810be3be342df4ce6-ee2d46d9870005e4-01
2021-09-13T19:06:40.585Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:06:40.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ab9e67ca2d0e61b2048c02355766c0738765dda-c0271c9a70dba6c3-01 outer:exit 2b-3ab9e67ca2d0e61b2048c02355766c0738765dda-958f0d4eee179c4d-01
2021-09-13T19:06:40.616Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (346ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:48.613Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:48.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:48.614Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:48.615Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:48.699Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:48.766Z appoptics:patching patched crypto 
2021-09-13T19:06:48.798Z appoptics:patching patched https 
2021-09-13T19:06:48.798Z appoptics:patching patched http 
2021-09-13T19:06:48.858Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:48.858Z appoptics:patching patched fs 
2021-09-13T19:06:48.897Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v16.9.1)
2021-09-13T19:06:48.907Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-09-13T19:06:49.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3d0256d4338704dfda59a89176b79aa3db7fa3b-4851826a05422a91-01 outer:exit 2b-a3d0256d4338704dfda59a89176b79aa3db7fa3b-1e174b19b2dcb6c7-01
2021-09-13T19:06:49.127Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:06:49.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-18207a134914fd0a09f346bc8c530ee5be8a1e40-c5b441517266abcf-01 outer:exit 2b-18207a134914fd0a09f346bc8c530ee5be8a1e40-267ab131846b7a48-01
2021-09-13T19:06:49.196Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:06:49.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-954269d0d05a2f0ee3a8ffd380eff9f59c7919fe-835c8fb2592c865e-01 outer:exit 2b-954269d0d05a2f0ee3a8ffd380eff9f59c7919fe-ad6c15864762ac7d-01
2021-09-13T19:06:49.200Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:06:49.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d92b133342328aea54838fac968f618f4d948a-e7a3a36de034b22f-01 outer:exit 2b-f3d92b133342328aea54838fac968f618f4d948a-5a50375ed708c395-01
2021-09-13T19:06:49.204Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:06:49.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eda7f27f7bfd2fdc8c895b87e7406400ffa72aa-228a80ba6be7fdcf-01 outer:exit 2b-9eda7f27f7bfd2fdc8c895b87e7406400ffa72aa-e8b35b895c35e69f-01
2021-09-13T19:06:49.209Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:06:49.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-b26027aeeca7dc2c2b640fb804527ecabb0b8f97-d8b4a3f1ab1f3b27-01 outer:exit 2b-b26027aeeca7dc2c2b640fb804527ecabb0b8f97-3dfda061a94069a8-01
2021-09-13T19:06:49.213Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:06:49.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-16ea8c647f7e6edd0530520e5ed3ff570852f3ff-6c36516d2432e16d-01 outer:exit 2b-16ea8c647f7e6edd0530520e5ed3ff570852f3ff-ecc887ce18fbfa05-01
2021-09-13T19:06:49.217Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:06:49.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-5073958bf7ee292a72406ac2f4908208a0375179-0984fb0942efe759-01 outer:exit 2b-5073958bf7ee292a72406ac2f4908208a0375179-7cbb962468bcdf6b-01
2021-09-13T19:06:49.220Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:06:49.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-13c589d7c689a6959fd6eafb152c3fd8d85c5400-c24fd47b2deb387b-01 outer:exit 2b-13c589d7c689a6959fd6eafb152c3fd8d85c5400-37050bee712ef2ec-01
2021-09-13T19:06:49.224Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:06:49.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-60a7d5d7edf49e8ba8df066906c9f64f39ce039d-22a1df752af5a8a2-01 outer:exit 2b-60a7d5d7edf49e8ba8df066906c9f64f39ce039d-9e974c7d9a8b2f64-01
2021-09-13T19:06:49.227Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:06:49.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f6713f13c794c3beda1713734cd9236fd20d3e5-e6e3775a0b697954-01 outer:exit 2b-9f6713f13c794c3beda1713734cd9236fd20d3e5-296d97f7a50d16b7-01
2021-09-13T19:06:49.232Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:06:49.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b2172b65cfd4c8ada88481ccde90e3f3aa51995-75dfb92caf125bf6-01 outer:exit 2b-1b2172b65cfd4c8ada88481ccde90e3f3aa51995-f6afedfc6946b9d9-01
2021-09-13T19:06:49.239Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:06:49.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbb2b02ec991b45ebb17a4d350d5186b3d09085c-5497fea65bb7b261-01 outer:exit 2b-cbb2b02ec991b45ebb17a4d350d5186b3d09085c-778fe66200fcd4da-01
2021-09-13T19:06:49.259Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:06:49.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-0926b36922855381b1adf1b8d6877841909a22a9-0f27b98eb872ad48-01 outer:exit 2b-0926b36922855381b1adf1b8d6877841909a22a9-0b9e2282a84c1bb2-01
2021-09-13T19:06:49.304Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:06:49.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-b512a4cadc6962406c5f2e21e1447a63d12dc2e3-dedcc01bf93b8795-01 outer:exit 2b-b512a4cadc6962406c5f2e21e1447a63d12dc2e3-068487a3aa6a8045-01
2021-09-13T19:06:49.307Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:06:49.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a2bfa530c2eaf843e343917d62bd7fa8ea67e4c-c4775dc74f78a5ed-01 outer:exit 2b-6a2bfa530c2eaf843e343917d62bd7fa8ea67e4c-348e03e99bb244cf-01
2021-09-13T19:06:49.309Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:06:49.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0292d9bc580158881279d0cb8ed7c2a05a99fe6-c51c2b4f032ffc2d-01 outer:exit 2b-e0292d9bc580158881279d0cb8ed7c2a05a99fe6-a3a2e00e186140f3-01
2021-09-13T19:06:49.312Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:06:49.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddd7916184f0afd1cd4ce3869f80bd62d75ec7b7-4ff87682cd5a7136-01 outer:exit 2b-ddd7916184f0afd1cd4ce3869f80bd62d75ec7b7-e4773b8ca4f41bee-01
2021-09-13T19:06:49.317Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:06:49.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aae3d54a66292b96f9a60045cddded68c7575e7-3558d2d4e85e77e7-01 outer:exit 2b-8aae3d54a66292b96f9a60045cddded68c7575e7-fab06cbf68c7775b-01
2021-09-13T19:06:49.322Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:06:49.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1c315f161c5abfaf9cb51bf5eeb593b5d261310-f44445b6c967fb4f-01 outer:exit 2b-d1c315f161c5abfaf9cb51bf5eeb593b5d261310-d94a1f96d2649880-01
2021-09-13T19:06:49.326Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:06:49.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e3d6e455c5c0f2b63e3bc3ded774102045095d7-f8dea97f805aa30d-01 outer:exit 2b-2e3d6e455c5c0f2b63e3bc3ded774102045095d7-456246b3c18ce2c3-01
2021-09-13T19:06:49.331Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:06:49.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-b960cf1bae8a8d6c9201f6d1b58ca12851c0fb4c-8b9102d076b7d63c-01 outer:exit 2b-b960cf1bae8a8d6c9201f6d1b58ca12851c0fb4c-16662677f8984644-01
2021-09-13T19:06:49.337Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:06:49.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-4eef391dd5b0d8af76e6f01ec9a7915cd13cb835-5dc267f5caa7cbd4-01 outer:exit 2b-4eef391dd5b0d8af76e6f01ec9a7915cd13cb835-903863f74896c05f-01
2021-09-13T19:06:49.341Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:06:49.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbd25c5e355f0c3fd30ef46d167eceb2fb54dcae-2b071ec71a598bdb-01 outer:exit 2b-fbd25c5e355f0c3fd30ef46d167eceb2fb54dcae-57de9cb90106186b-01
2021-09-13T19:06:49.345Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:06:49.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e28d92bb794034c45439d53cdecd383c1fd3022-2d50d041e03eabdd-01 outer:exit 2b-0e28d92bb794034c45439d53cdecd383c1fd3022-9eb06862faf224a7-01
2021-09-13T19:06:49.348Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:06:49.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b934aa835566937545427542eb298ed52d4caec-3aace43aeda8b61b-01 outer:exit 2b-0b934aa835566937545427542eb298ed52d4caec-01b145f61c69c3ed-01
2021-09-13T19:06:49.351Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:06:49.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-d48ef59af0dea35febd64545a4065158f748921b-4358a7d2c7ccf2b3-01 outer:exit 2b-d48ef59af0dea35febd64545a4065158f748921b-562fd7ff27cbac4d-01
2021-09-13T19:06:49.362Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:06:49.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc3d486e0719f3ed135878737a1686be035fe2c-54f847d0374d6954-01 outer:exit 2b-cdc3d486e0719f3ed135878737a1686be035fe2c-e79101abaa37c21e-01
2021-09-13T19:06:49.367Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:06:49.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-a85a939e512b66d368129b8f31fcd047286b1a3d-e7dddb88f8ff8c3f-01 outer:exit 2b-a85a939e512b66d368129b8f31fcd047286b1a3d-258122e12fb34689-01
2021-09-13T19:06:49.379Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:06:49.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-9abf90df4958e6ad21207b1a3fc516668876ee45-f60feca0e7cf99de-01 outer:exit 2b-9abf90df4958e6ad21207b1a3fc516668876ee45-e31a5cc31ff8227c-01
2021-09-13T19:06:49.389Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:06:49.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-3558dcc13ddc554544a5ee5afa79bd25722a6dec-4b8ea96d1a13fdaa-01 outer:exit 2b-3558dcc13ddc554544a5ee5afa79bd25722a6dec-4b6dd0f595b23a7a-01
2021-09-13T19:06:49.392Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:06:49.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb2e1e6b4180eb9780f991632016d7d8689ce446-a12ac3907e8f24eb-01 outer:exit 2b-cb2e1e6b4180eb9780f991632016d7d8689ce446-3e31a0cc16f3f5ba-01
2021-09-13T19:06:49.396Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:06:49.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-c79445a5c2430cae4a641e38b5c45a653bf3d309-b1005fda61f3dfa4-01 outer:exit 2b-c79445a5c2430cae4a641e38b5c45a653bf3d309-814bbee5887f3005-01
2021-09-13T19:06:49.405Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:06:49.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-93a7f8cb7fff8c06ebbeac7660daa3ecdbf8893c-9205bf2cdf3f5bf3-01 outer:exit 2b-93a7f8cb7fff8c06ebbeac7660daa3ecdbf8893c-ca4d70a5f7c8193f-01
2021-09-13T19:06:49.407Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:06:49.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8b94dfe9a91c8af3569f07dcb7d137826ec336a-81ecb402f9fbe3e2-01 outer:exit 2b-a8b94dfe9a91c8af3569f07dcb7d137826ec336a-aa3cf5382b56230f-01
2021-09-13T19:06:49.410Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:06:49.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-89583b187122fbfaf6d95796fd94123404bd3e54-6c3d690fca589795-01 outer:exit 2b-89583b187122fbfaf6d95796fd94123404bd3e54-a2883d65d954a8ed-01
2021-09-13T19:06:49.412Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:06:49.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbafc77fcc3c00c5da0bf6bd745e71d032e77059-5c24d577ad599ff7-01 outer:exit 2b-bbafc77fcc3c00c5da0bf6bd745e71d032e77059-93be0a5aeb461dd4-01
2021-09-13T19:06:49.422Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:06:49.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-303861f5d35f2573fac29dd37ef4d9c3bb00861b-e8420e3a66c29f0d-01 outer:exit 2b-303861f5d35f2573fac29dd37ef4d9c3bb00861b-0875c517b45a4720-01
2021-09-13T19:06:49.427Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:06:49.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0ba51632acf13cbfa5ace6fd2872db765f8a20-6cff80645102bfb8-01 outer:exit 2b-8d0ba51632acf13cbfa5ace6fd2872db765f8a20-88649522f1b9fc51-01
2021-09-13T19:06:49.437Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:06:49.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-4953ba1b0bb6ba20960e320bd29fd89240978ea8-fdbbf4ff54a1c9b8-01 outer:exit 2b-4953ba1b0bb6ba20960e320bd29fd89240978ea8-8206cd23730e92b5-01
2021-09-13T19:06:49.446Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:06:49.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-b02bf9250b13da1e7366e6b9c05092bebe06205b-86ae749de7d7bdbc-01 outer:exit 2b-b02bf9250b13da1e7366e6b9c05092bebe06205b-eed972a321859688-01
2021-09-13T19:06:49.452Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:06:49.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-12d8195b3b467d8fca1d032d4b51e57016900905-9662ba89ad50e381-01 outer:exit 2b-12d8195b3b467d8fca1d032d4b51e57016900905-b23e799c73733220-01
2021-09-13T19:06:49.457Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:06:49.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9365a097bc1be59d94ed0f11366fc2c263d8640-e1f888a029b401be-01 outer:exit 2b-e9365a097bc1be59d94ed0f11366fc2c263d8640-5050927cbd139531-01
2021-09-13T19:06:49.461Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:06:49.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-21bc37f8aa742bc5e781a497c30e24509a8d5600-603ace856bb33cbb-01 outer:exit 2b-21bc37f8aa742bc5e781a497c30e24509a8d5600-76e16d498ab7e397-01
2021-09-13T19:06:49.494Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (414ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:06:57.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:06:57.303Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:06:57.303Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:06:57.304Z appoptics:debug using context provider: ace-context
2021-09-13T19:06:57.455Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:06:57.578Z appoptics:patching patched crypto 
2021-09-13T19:06:57.638Z appoptics:patching patched https 
2021-09-13T19:06:57.638Z appoptics:patching patched http 
2021-09-13T19:06:57.710Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:06:57.710Z appoptics:patching patched fs 
2021-09-13T19:06:57.764Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v16.9.1)
2021-09-13T19:06:57.775Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-09-13T19:06:58.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac2bbe963b69c1333ea80e5831763a56b7b9e93f-50dc671c672b4b19-01 outer:exit 2b-ac2bbe963b69c1333ea80e5831763a56b7b9e93f-217df3e7d29c1adb-01
2021-09-13T19:06:58.079Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:06:58.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff297b6d3795cbf9f242f0b7d36a1054a8215eec-14670fcd9f81e748-01 outer:exit 2b-ff297b6d3795cbf9f242f0b7d36a1054a8215eec-a52b47fdc6e6a711-01
2021-09-13T19:06:58.147Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:06:58.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-a030e41a0180a8cf66d2b17b52b766f309e1d7f0-bfcc54b71fc588f4-01 outer:exit 2b-a030e41a0180a8cf66d2b17b52b766f309e1d7f0-4b33a701ee8443fb-01
2021-09-13T19:06:58.151Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:06:58.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6a78af4fee7789604a6e93f15a69268f6e83939-e430102e66511bfb-01 outer:exit 2b-b6a78af4fee7789604a6e93f15a69268f6e83939-1cfb96524717df28-01
2021-09-13T19:06:58.155Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:06:58.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ffdf052c5643eeb6ae2800a36bb47c8b621b59f-4d27789ca0e99091-01 outer:exit 2b-0ffdf052c5643eeb6ae2800a36bb47c8b621b59f-03eb794709b3a88f-01
2021-09-13T19:06:58.161Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:06:58.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-df212822f57aa8e6fe9da835ef0c89fbb683c45d-a4e955f30f5c1479-01 outer:exit 2b-df212822f57aa8e6fe9da835ef0c89fbb683c45d-e066c92f4c77dcb2-01
2021-09-13T19:06:58.165Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:06:58.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b7f7b6fead3bb6fdb234919b046d1b4856389ff-4c6053c542dedc7e-01 outer:exit 2b-4b7f7b6fead3bb6fdb234919b046d1b4856389ff-2ffa9ba258e70c47-01
2021-09-13T19:06:58.169Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:06:58.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c780a63dec62084b4240580d23d82219e5e2e9b-a47c6854fb738ae2-01 outer:exit 2b-6c780a63dec62084b4240580d23d82219e5e2e9b-6c6700e6f769ac89-01
2021-09-13T19:06:58.172Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:06:58.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-a70dd32d4e7825a6c97281554f1c2fa99a142478-66a02048d5b1610b-01 outer:exit 2b-a70dd32d4e7825a6c97281554f1c2fa99a142478-c2157483f4444c51-01
2021-09-13T19:06:58.176Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:06:58.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-6003140e1cc311a2fda6235c1c1b321f59971930-dda3ab62d1b64b39-01 outer:exit 2b-6003140e1cc311a2fda6235c1c1b321f59971930-4e0505f360b950e6-01
2021-09-13T19:06:58.181Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:06:58.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-88e1eb04fcbc8ad6af816ea97f3b00ea3b5f4223-64e035301646ed70-01 outer:exit 2b-88e1eb04fcbc8ad6af816ea97f3b00ea3b5f4223-69ccc350d93b3d72-01
2021-09-13T19:06:58.188Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:06:58.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3d3ba8cd648cc8547f9f9f3ba4801d0dff6e75d-65e1c14478ca03af-01 outer:exit 2b-b3d3ba8cd648cc8547f9f9f3ba4801d0dff6e75d-2bf191a3b273a6c5-01
2021-09-13T19:06:58.196Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:06:58.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-218ae8398cdd8fee131cc4622b5abd7ed44e1e6a-f83425ede77f59e0-01 outer:exit 2b-218ae8398cdd8fee131cc4622b5abd7ed44e1e6a-3bbe2ba12e6402ad-01
2021-09-13T19:06:58.215Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:06:58.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-203c76f1628120adb1f49615bae29b4250afb075-d459b6b8e6389e1c-01 outer:exit 2b-203c76f1628120adb1f49615bae29b4250afb075-f3463e038ddc8521-01
2021-09-13T19:06:58.248Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:06:58.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8dc5debe791397821007333ea173ec16fec80a7-e39d9b8b3d501ebf-01 outer:exit 2b-f8dc5debe791397821007333ea173ec16fec80a7-8b9582a28b140724-01
2021-09-13T19:06:58.252Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:06:58.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-0338ab7442f5cc56e1cebbbb0323d1a208db9659-d480ff4ffd1a9535-01 outer:exit 2b-0338ab7442f5cc56e1cebbbb0323d1a208db9659-bba407478853c0ad-01
2021-09-13T19:06:58.255Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:06:58.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e73b9cc1653ed1ed58cb5815b42ab14daa39894-a1d38181abf364b1-01 outer:exit 2b-7e73b9cc1653ed1ed58cb5815b42ab14daa39894-b7bde2b0cb46d65c-01
2021-09-13T19:06:58.259Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:06:58.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-404fb6fbee76cb16d6ccfe9eb5a2de4b49d5148d-a51d40ac11331a26-01 outer:exit 2b-404fb6fbee76cb16d6ccfe9eb5a2de4b49d5148d-c5cd8a74c91581d1-01
2021-09-13T19:06:58.262Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:06:58.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d61214a9ef7d3062ffa3838f2000c3a49bd9bfe-965e2f5bb3ef730b-01 outer:exit 2b-3d61214a9ef7d3062ffa3838f2000c3a49bd9bfe-e94b15d2c846592d-01
2021-09-13T19:06:58.265Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:06:58.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-552d2bfa5fd69e4a1525d8e1bca5377e5f9f132e-6fd0c8d4d0026dd6-01 outer:exit 2b-552d2bfa5fd69e4a1525d8e1bca5377e5f9f132e-c9c151160b17ec4b-01
2021-09-13T19:06:58.267Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:06:58.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-a35f7c943f216e9eab04c37bb446f17156d1d650-c5569c848d0649d3-01 outer:exit 2b-a35f7c943f216e9eab04c37bb446f17156d1d650-91e0d73a9df81b3e-01
2021-09-13T19:06:58.270Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:06:58.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-33fb43a296b4998fd440c77a4b23137d843e415c-c3e3aeb84a981840-01 outer:exit 2b-33fb43a296b4998fd440c77a4b23137d843e415c-439fa742a24e5871-01
2021-09-13T19:06:58.272Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:06:58.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-e883215200f0f8dd9dfe3a072550839170bee8c4-fac1d7ce6ac4a2db-01 outer:exit 2b-e883215200f0f8dd9dfe3a072550839170bee8c4-9b30a696c7ed12e6-01
2021-09-13T19:06:58.276Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:06:58.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-854bbff0061489587c8b8c0d33489fd7ec1fc8e5-da63652135d120fd-01 outer:exit 2b-854bbff0061489587c8b8c0d33489fd7ec1fc8e5-f8b4c75d5e664263-01
2021-09-13T19:06:58.280Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:06:58.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-32e188c2e368ebce15bc3c788d1533f5ec2b8ed6-986718aa1170b4ee-01 outer:exit 2b-32e188c2e368ebce15bc3c788d1533f5ec2b8ed6-1a34cdf583a80efb-01
2021-09-13T19:06:58.283Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:06:58.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-62bd2dc07783d5b528aea70f7e066c490e8d2174-19d02aa84cb5e08f-01 outer:exit 2b-62bd2dc07783d5b528aea70f7e066c490e8d2174-104136d4d150188d-01
2021-09-13T19:06:58.287Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:06:58.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0c58cc543a16a11d9fba92697dbe5dce18dbcd5-8273d76722f29da2-01 outer:exit 2b-a0c58cc543a16a11d9fba92697dbe5dce18dbcd5-1d9147f1b7bffaff-01
2021-09-13T19:06:58.298Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:06:58.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-c043dd8cb6b6656af72155b4c6e9b70939f0bc58-5bdc25168d7ea705-01 outer:exit 2b-c043dd8cb6b6656af72155b4c6e9b70939f0bc58-5ef3c65a512fe41f-01
2021-09-13T19:06:58.303Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:06:58.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-30fd6649e732345e79d963d3f84f0abed2b1a379-fe70225b45410383-01 outer:exit 2b-30fd6649e732345e79d963d3f84f0abed2b1a379-b48b7a7e417849bd-01
2021-09-13T19:06:58.315Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:06:58.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cefe29842b3f6cb4bf53cbfed89a9a174615114-256e6f7bbf2b7437-01 outer:exit 2b-6cefe29842b3f6cb4bf53cbfed89a9a174615114-33c440dcd6bdb0fe-01
2021-09-13T19:06:58.322Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:06:58.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-055c4d5f4748cf161f90d0e60f24f3c41ec3dbdc-81d4357bc6b4ca75-01 outer:exit 2b-055c4d5f4748cf161f90d0e60f24f3c41ec3dbdc-9cca6fe50c2df117-01
2021-09-13T19:06:58.325Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:06:58.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d4eca5028ede1b6c677013e28e26149c4c2174d-1aad2d16f0803d5e-01 outer:exit 2b-2d4eca5028ede1b6c677013e28e26149c4c2174d-0d03dfb0cea4720b-01
2021-09-13T19:06:58.330Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:06:58.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-a118646e17a61b6852ad5f37c35ceca4b10be562-9e0f73b312e82cb1-01 outer:exit 2b-a118646e17a61b6852ad5f37c35ceca4b10be562-abfd2cb8a8f72ea8-01
2021-09-13T19:06:58.337Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:06:58.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-0447f642eccbad81b8ea695dcc9377c6c3668c52-f8e9cd5eadb6f22c-01 outer:exit 2b-0447f642eccbad81b8ea695dcc9377c6c3668c52-f10111580a50de29-01
2021-09-13T19:06:58.341Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:06:58.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-f78879d16ed16d515599a8cd96d1bf9c81cc050e-96345220331a1aef-01 outer:exit 2b-f78879d16ed16d515599a8cd96d1bf9c81cc050e-10c8e9236c0c7053-01
2021-09-13T19:06:58.343Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:06:58.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f1f90cead2fa82c3d96c59edb5057fb58cdbe8e-08be6e7ef7e4d766-01 outer:exit 2b-9f1f90cead2fa82c3d96c59edb5057fb58cdbe8e-8df0a92f3e015592-01
2021-09-13T19:06:58.350Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:06:58.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-cce18a169633b9731cd814d43ab96b73d2e42fb7-60ea0c9ce2ff8af7-01 outer:exit 2b-cce18a169633b9731cd814d43ab96b73d2e42fb7-0c6941d7efc26891-01
2021-09-13T19:06:58.353Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:06:58.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-75c5bcf1166f3cc75f2397bd7813b73bfee4e918-3cd2aa069833b705-01 outer:exit 2b-75c5bcf1166f3cc75f2397bd7813b73bfee4e918-ddd22057d7b520dd-01
2021-09-13T19:06:58.355Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:06:58.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a93b6aff13f9ff54a7187851cfc9b320233dc62-b1eb148c97286d47-01 outer:exit 2b-5a93b6aff13f9ff54a7187851cfc9b320233dc62-dcb2953256d229c6-01
2021-09-13T19:06:58.369Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:06:58.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-f43d7e5fc337b92a2e9edf01c1c644b00980e65c-feb650b7bdf54583-01 outer:exit 2b-f43d7e5fc337b92a2e9edf01c1c644b00980e65c-943db9d672e469a7-01
2021-09-13T19:06:58.379Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:06:58.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbafb944cf5f227f34d79e71ee60a1a660171e7f-00a2e036fc176824-01 outer:exit 2b-bbafb944cf5f227f34d79e71ee60a1a660171e7f-8f4503d31fa90cbe-01
2021-09-13T19:06:58.383Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:06:58.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-2475ca2e126f06675e6d37bdbd5e0ef056e763f0-4f7e4a59d7b1e3e0-01 outer:exit 2b-2475ca2e126f06675e6d37bdbd5e0ef056e763f0-e2b63cd166d5dc40-01
2021-09-13T19:06:58.386Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:06:58.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-c852b12df242c9b16585e8cb76e2c23394bb6ac1-4653af0abe66372c-01 outer:exit 2b-c852b12df242c9b16585e8cb76e2c23394bb6ac1-838a942cc70a8654-01
2021-09-13T19:06:58.389Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:06:58.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfcfd4bd0ce69e0f6632e2501223f70dece86225-0016f20d695206ac-01 outer:exit 2b-bfcfd4bd0ce69e0f6632e2501223f70dece86225-4047e20371a41149-01
2021-09-13T19:06:58.419Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (385ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:06.020Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:06.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:06.021Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:06.022Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:06.094Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:06.147Z appoptics:patching patched crypto 
2021-09-13T19:07:06.172Z appoptics:patching patched https 
2021-09-13T19:07:06.172Z appoptics:patching patched http 
2021-09-13T19:07:06.229Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:06.229Z appoptics:patching patched fs 
2021-09-13T19:07:06.264Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v16.9.1)
2021-09-13T19:07:06.273Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-09-13T19:07:06.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1f653dfd133cfb04c609e61e95045a49b842606-98222aaafd7a5b78-01 outer:exit 2b-c1f653dfd133cfb04c609e61e95045a49b842606-d53ede62a9087ee8-01
2021-09-13T19:07:06.481Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:07:06.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-21c68ee7094bb4477dd50f4aaab33f801d15fa51-1255b1cf8a64f831-01 outer:exit 2b-21c68ee7094bb4477dd50f4aaab33f801d15fa51-769e23bc52e4bca4-01
2021-09-13T19:07:06.547Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:07:06.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f6c4414fe5ce63d4898cfa0d8bc86db273f18c-25c38f82c7c2b7dc-01 outer:exit 2b-17f6c4414fe5ce63d4898cfa0d8bc86db273f18c-6d1a384eb63a0106-01
2021-09-13T19:07:06.551Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:07:06.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-8eb7054525f977e797f99d216fb8d70e33eda4f0-00b5758a1d782358-01 outer:exit 2b-8eb7054525f977e797f99d216fb8d70e33eda4f0-1335a65070860833-01
2021-09-13T19:07:06.555Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:07:06.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-14485f8645f185586ff66034f1682bb469218082-75e3232bb9e093cb-01 outer:exit 2b-14485f8645f185586ff66034f1682bb469218082-6e47135c3c31d6e2-01
2021-09-13T19:07:06.560Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:07:06.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-95cfc22d022dfe539bcb23468979cb0892b6728a-11d03c0859010a67-01 outer:exit 2b-95cfc22d022dfe539bcb23468979cb0892b6728a-cb625723e3fe6ada-01
2021-09-13T19:07:06.564Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:07:06.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-677d15ba2b9dd8337cc55ccb20300c97bd4af149-38c38f07526430dc-01 outer:exit 2b-677d15ba2b9dd8337cc55ccb20300c97bd4af149-01fac983048878da-01
2021-09-13T19:07:06.567Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:07:06.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe81882d27cb584219957df3d2fa12a9b1b686ae-1f7b093cdf6e6b85-01 outer:exit 2b-fe81882d27cb584219957df3d2fa12a9b1b686ae-b0c643944b3146c2-01
2021-09-13T19:07:06.571Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:07:06.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f13dc198586145a4e3ed3899f56876768d26780-9b3e83a51fcd0e42-01 outer:exit 2b-4f13dc198586145a4e3ed3899f56876768d26780-408e4471f6e44222-01
2021-09-13T19:07:06.574Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:07:06.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-5038c3786a38d9a65d1e041fe7e44370dd3f7d56-dcd6b122af292a76-01 outer:exit 2b-5038c3786a38d9a65d1e041fe7e44370dd3f7d56-5b6c82c5866265d1-01
2021-09-13T19:07:06.578Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:07:06.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7934d4dbee2c0a4a930a1c437f3e44604eba175-b8e3517bdaf4a2e2-01 outer:exit 2b-e7934d4dbee2c0a4a930a1c437f3e44604eba175-467a97c9faa43d3f-01
2021-09-13T19:07:06.583Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:07:06.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-4008b869194fc4367e74b601bf460c6dbf56fda7-03a1754c4e855073-01 outer:exit 2b-4008b869194fc4367e74b601bf460c6dbf56fda7-ae80f478be396f74-01
2021-09-13T19:07:06.590Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:07:06.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-b19baf48cba2dc9a904b73e3fef7ba5dbbbf8323-10afc35b9e21a62b-01 outer:exit 2b-b19baf48cba2dc9a904b73e3fef7ba5dbbbf8323-da7ead457865ad17-01
2021-09-13T19:07:06.607Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:07:06.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ad551359417f0da51ed2cf814af251721a9df77-31691663170c0b7e-01 outer:exit 2b-1ad551359417f0da51ed2cf814af251721a9df77-0e9f3556a58ca4d5-01
2021-09-13T19:07:06.644Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:07:06.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8fa8c861edf508a0799bad0f751782ac6ab5961-dbd19b74a0844395-01 outer:exit 2b-b8fa8c861edf508a0799bad0f751782ac6ab5961-8e0815299e9aee1e-01
2021-09-13T19:07:06.648Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:07:06.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-d69acdc17093a624b8ccd476cfa77442ed69f1ab-3a47bbb7c6a8dc74-01 outer:exit 2b-d69acdc17093a624b8ccd476cfa77442ed69f1ab-42f8374416a03f0c-01
2021-09-13T19:07:06.650Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:07:06.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dbe034aee39112890cec67fa9d7520fdbf908c4-82ac89c205681779-01 outer:exit 2b-4dbe034aee39112890cec67fa9d7520fdbf908c4-fe3eb2e7ad3ccf1f-01
2021-09-13T19:07:06.653Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:07:06.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-2205e4ae5de92b8510bb75533837d99b3a1f5949-f5ac69da6f0b53c1-01 outer:exit 2b-2205e4ae5de92b8510bb75533837d99b3a1f5949-45d78ca93b32cf10-01
2021-09-13T19:07:06.656Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:07:06.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-764ff6dd29fce4705db87523d5e5c4c2372ad9c4-941e601468607e86-01 outer:exit 2b-764ff6dd29fce4705db87523d5e5c4c2372ad9c4-fc668b624d547871-01
2021-09-13T19:07:06.659Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:07:06.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b7d4f5b1fa0c393344eaa2362381c5c5af60d58-656cdc25276e69bb-01 outer:exit 2b-2b7d4f5b1fa0c393344eaa2362381c5c5af60d58-69fa70dad5d35ea8-01
2021-09-13T19:07:06.661Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:07:06.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1a29f8679372aad0a1ecb02569e2a09646f1731-51ddf7209fbae62f-01 outer:exit 2b-f1a29f8679372aad0a1ecb02569e2a09646f1731-1a0c5e8339a671f3-01
2021-09-13T19:07:06.663Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:07:06.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-a079fda77d1707a1078dfe63c1ac7fcaf68a7acc-3fd5b01016229f26-01 outer:exit 2b-a079fda77d1707a1078dfe63c1ac7fcaf68a7acc-5e6f1149f10cd904-01
2021-09-13T19:07:06.665Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:07:06.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a34873e98b6bd451de5da517aa75f3391b3f76e-fe696a728cc15303-01 outer:exit 2b-0a34873e98b6bd451de5da517aa75f3391b3f76e-b5e1e6443668df68-01
2021-09-13T19:07:06.669Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:07:06.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-d05da3cff913d98a63bdcc0557b6f51a1182f92b-1c134e388b800d1a-01 outer:exit 2b-d05da3cff913d98a63bdcc0557b6f51a1182f92b-12238b078bce1681-01
2021-09-13T19:07:06.672Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:07:06.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d2371b50dde3b2e6195220cbf551b258839a4c7-40758d61cb630ac7-01 outer:exit 2b-2d2371b50dde3b2e6195220cbf551b258839a4c7-75724e0181d46424-01
2021-09-13T19:07:06.676Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:07:06.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-08ddf6a0715b0717ae0b74376bc1666ef17447a1-25b66f493fba93f1-01 outer:exit 2b-08ddf6a0715b0717ae0b74376bc1666ef17447a1-e08d4934fa0088b0-01
2021-09-13T19:07:06.679Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:07:06.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-278e696c858e8361b68dd7e1119f80ab14b31cf6-28249537580132e4-01 outer:exit 2b-278e696c858e8361b68dd7e1119f80ab14b31cf6-2fbf89b16b9c6aba-01
2021-09-13T19:07:06.687Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:07:06.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-27604ff0a2456a8698b93d52b1aaf87388f8dfc1-c1970ffb20763bff-01 outer:exit 2b-27604ff0a2456a8698b93d52b1aaf87388f8dfc1-2e7202be3569b95b-01
2021-09-13T19:07:06.693Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:07:06.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-00dce59054195ecc419e52550c4cd9e9e7aef021-12990ee56a4dda7a-01 outer:exit 2b-00dce59054195ecc419e52550c4cd9e9e7aef021-112faf02546183ee-01
2021-09-13T19:07:06.702Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:07:06.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-69381c18d43b798b05e6d8bb215d887057a82ee2-9a3504e06f55e94b-01 outer:exit 2b-69381c18d43b798b05e6d8bb215d887057a82ee2-a164a4fab1580786-01
2021-09-13T19:07:06.710Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:07:06.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-40516d345e41a1f8256c8ba90ef5ea3f19f3c3fb-a1cc7d2beddf3f42-01 outer:exit 2b-40516d345e41a1f8256c8ba90ef5ea3f19f3c3fb-3032754426b26406-01
2021-09-13T19:07:06.712Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:07:06.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-14f0114aa0e112742385e69637d318ce0c417578-2a58fcd11307e1bf-01 outer:exit 2b-14f0114aa0e112742385e69637d318ce0c417578-9baeac1b678de56f-01
2021-09-13T19:07:06.716Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:07:06.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-1886941d536d0135db77b594bb3f8b1e7248bf15-747c348dad2d6edc-01 outer:exit 2b-1886941d536d0135db77b594bb3f8b1e7248bf15-7a67692e55299198-01
2021-09-13T19:07:06.723Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:07:06.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-824deea7ee54c5c6b858af5522da3e10653253b3-1885c1943762dbcd-01 outer:exit 2b-824deea7ee54c5c6b858af5522da3e10653253b3-0f0f7ef7806d6852-01
2021-09-13T19:07:06.725Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:07:06.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3280a7ee84d8a6dc1c99ba588487862c1d4cb8f-30f3bc104d951616-01 outer:exit 2b-b3280a7ee84d8a6dc1c99ba588487862c1d4cb8f-3b0c03464fb51edb-01
2021-09-13T19:07:06.728Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:07:06.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-8521179b5153681f860a2e7e28a06b2ac35bc4fe-2cd4068185e8477a-01 outer:exit 2b-8521179b5153681f860a2e7e28a06b2ac35bc4fe-3c19342a9cd8ac5a-01
2021-09-13T19:07:06.731Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:07:06.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-999b110968f45ca0edc1022623a724028d0b9a08-989f5f0942e0357f-01 outer:exit 2b-999b110968f45ca0edc1022623a724028d0b9a08-8b57e192212aaef2-01
2021-09-13T19:07:06.733Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:07:06.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-46418c37b844660317efd9b2794ce2828043a655-0ae84a9910bbd520-01 outer:exit 2b-46418c37b844660317efd9b2794ce2828043a655-f8c80fb05ab3c618-01
2021-09-13T19:07:06.739Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:07:06.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-9be427e508a0a6ec3e0d0793e89c565f5b1adc59-dd6cfd403e35c3a2-01 outer:exit 2b-9be427e508a0a6ec3e0d0793e89c565f5b1adc59-8573363192363267-01
2021-09-13T19:07:06.750Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:07:06.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-6917949619adbe0d14fd136298f50cf52894084b-d7805513520d553f-01 outer:exit 2b-6917949619adbe0d14fd136298f50cf52894084b-70a5673815b896f9-01
2021-09-13T19:07:06.761Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:07:06.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-926de2a7a0e128b81cd57fa7afa597ce3e93a635-45c0d0118b0c02ae-01 outer:exit 2b-926de2a7a0e128b81cd57fa7afa597ce3e93a635-bd922f4f126578e3-01
2021-09-13T19:07:06.764Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:07:06.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa6310dbfb35c07fb88d9bcdc8edd85ef73846d3-9836da60ae2102f6-01 outer:exit 2b-fa6310dbfb35c07fb88d9bcdc8edd85ef73846d3-6d417ccd072a1b99-01
2021-09-13T19:07:06.769Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:07:06.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-0017ce0ffb23d7009dc831a631ed262927585eac-de6ed3685fda8196-01 outer:exit 2b-0017ce0ffb23d7009dc831a631ed262927585eac-6ec77c13f7a74ad6-01
2021-09-13T19:07:06.772Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:07:06.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-379c9b0240481bc2f8115aaae1d2720132e4481f-225102a651e51ef1-01 outer:exit 2b-379c9b0240481bc2f8115aaae1d2720132e4481f-030c30160544cf7b-01
2021-09-13T19:07:06.801Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (365ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:15.114Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:15.115Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:15.115Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:15.116Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:15.190Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:15.240Z appoptics:patching patched crypto 
2021-09-13T19:07:15.266Z appoptics:patching patched https 
2021-09-13T19:07:15.267Z appoptics:patching patched http 
2021-09-13T19:07:15.321Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:15.321Z appoptics:patching patched fs 
2021-09-13T19:07:15.355Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v16.9.1)
2021-09-13T19:07:15.365Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-09-13T19:07:15.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-50025ddc9f3a5eb5ddb10493c995512716c5dfae-fee1d8241427ce1c-01 outer:exit 2b-50025ddc9f3a5eb5ddb10493c995512716c5dfae-f6e767d2ec2315eb-01
2021-09-13T19:07:15.580Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:07:15.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcccd320da00533fc216b59a4ab24f85ce8d62ff-fb6765bb7bd5b03d-01 outer:exit 2b-fcccd320da00533fc216b59a4ab24f85ce8d62ff-4b45c5a3a17f5827-01
2021-09-13T19:07:15.648Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:07:15.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ed785b973fce5160b78f33873e9aff43e2cbfd-32df3a52c4950281-01 outer:exit 2b-77ed785b973fce5160b78f33873e9aff43e2cbfd-158a459e570ca51b-01
2021-09-13T19:07:15.651Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:07:15.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-101789cdb57f6f5d3d108efdce4fbc903213abce-0478e919596e6b2a-01 outer:exit 2b-101789cdb57f6f5d3d108efdce4fbc903213abce-4398296d35a38482-01
2021-09-13T19:07:15.655Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:07:15.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-81996f539910b63fa1502a34b660e99eb531f056-adb4f3708df6280c-01 outer:exit 2b-81996f539910b63fa1502a34b660e99eb531f056-7f59d5ae60ec2345-01
2021-09-13T19:07:15.660Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:07:15.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1b9f30f83ab8306e5a10d7760c55e1f7aa714e9-5a8fccdef865f5ad-01 outer:exit 2b-c1b9f30f83ab8306e5a10d7760c55e1f7aa714e9-e62e011aa3269df5-01
2021-09-13T19:07:15.665Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:07:15.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e536d85be1d57d67c9ef4e291ec1334780bc09e-8014acfdfe3b9f2b-01 outer:exit 2b-0e536d85be1d57d67c9ef4e291ec1334780bc09e-b97095eb9b102208-01
2021-09-13T19:07:15.668Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:07:15.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-16983fcb99a0346f7748513a051f4ddfa727cc78-51133035b8a07b24-01 outer:exit 2b-16983fcb99a0346f7748513a051f4ddfa727cc78-77b4dde6f6e1f4e6-01
2021-09-13T19:07:15.671Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:07:15.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ef164719b59297522e3ef9b4ccca7a47bb2675-70b0da56c1e83d8b-01 outer:exit 2b-75ef164719b59297522e3ef9b4ccca7a47bb2675-8baadffca8a0f17a-01
2021-09-13T19:07:15.674Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:07:15.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-13d99b2cf597f985c7f84af425f48a2d92ae6052-a4739ac0572889ae-01 outer:exit 2b-13d99b2cf597f985c7f84af425f48a2d92ae6052-74c8649764c22f08-01
2021-09-13T19:07:15.678Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:07:15.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-207dac89a6e4acd46e7686a0a73ce5ac5e52c463-5c4e0fa4fb058ac5-01 outer:exit 2b-207dac89a6e4acd46e7686a0a73ce5ac5e52c463-be402532aa3dd4cb-01
2021-09-13T19:07:15.682Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:07:15.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a9f6ff3e9c25da5cbdf9a9b398ccdca9221d78b-552136ae2d1e4791-01 outer:exit 2b-4a9f6ff3e9c25da5cbdf9a9b398ccdca9221d78b-d8b2a5d8830f1bbc-01
2021-09-13T19:07:15.690Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:07:15.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-e87ea32b408727c04d621dafc4ae8edd4f18f830-41362c4ffdfeaa72-01 outer:exit 2b-e87ea32b408727c04d621dafc4ae8edd4f18f830-f0057a25a1b7c837-01
2021-09-13T19:07:15.707Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:07:15.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b6a6a3dc7b49b335d7266de4704ec3690128392-c3f516392d947d41-01 outer:exit 2b-2b6a6a3dc7b49b335d7266de4704ec3690128392-5968249c401de4d1-01
2021-09-13T19:07:15.746Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:07:15.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-5627a6cad26b3a8767350315706c6a7e08f30955-8c75f2fc3fff65e3-01 outer:exit 2b-5627a6cad26b3a8767350315706c6a7e08f30955-4758bf18fcd07e65-01
2021-09-13T19:07:15.749Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:07:15.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc760f8d8125d54c508bed78e69c2a9bf5671da-ae397484519928a6-01 outer:exit 2b-5bc760f8d8125d54c508bed78e69c2a9bf5671da-ec5ba250776e97ca-01
2021-09-13T19:07:15.752Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:07:15.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe3c8bdc830f388997270c22267d5f89dac8cbb8-324bf743c13deff7-01 outer:exit 2b-fe3c8bdc830f388997270c22267d5f89dac8cbb8-53c2b91ff5314891-01
2021-09-13T19:07:15.755Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:07:15.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1b06017a4fe1df579d8dd68734dd3e4c54af488-c83e1968dee3a461-01 outer:exit 2b-e1b06017a4fe1df579d8dd68734dd3e4c54af488-db9219c10abc8662-01
2021-09-13T19:07:15.758Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:07:15.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-78b2531ce32b934dc996f6cf0c340f074692ed78-f68617dc388598a3-01 outer:exit 2b-78b2531ce32b934dc996f6cf0c340f074692ed78-e9a07f31525e7162-01
2021-09-13T19:07:15.760Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:07:15.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b71faf0d3fffc30c7fa4c771f7dfd71c70eefc-2e4e179e88abbdc3-01 outer:exit 2b-06b71faf0d3fffc30c7fa4c771f7dfd71c70eefc-df74072ce83ad84a-01
2021-09-13T19:07:15.763Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:07:15.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b0466cc67b1cae2ec17e73ee9f88f70367ca678-86da28504773f105-01 outer:exit 2b-0b0466cc67b1cae2ec17e73ee9f88f70367ca678-1a22a14d01344eb3-01
2021-09-13T19:07:15.766Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:07:15.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecdb72410f3bb3e4072f2d8ab3f6b41180ccfdad-09a65f7a9692d997-01 outer:exit 2b-ecdb72410f3bb3e4072f2d8ab3f6b41180ccfdad-085130ef7e79e019-01
2021-09-13T19:07:15.769Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:07:15.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-1787eeba0e8afda5c6baeb298840c8748b2d8123-d86ebf771833c50e-01 outer:exit 2b-1787eeba0e8afda5c6baeb298840c8748b2d8123-68e1e522eb483b9a-01
2021-09-13T19:07:15.772Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:07:15.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4711ec8bfb1e2e9d5e533409fbd2a8d7cdb15f7-9ba906025cddab17-01 outer:exit 2b-f4711ec8bfb1e2e9d5e533409fbd2a8d7cdb15f7-fbcaa9a39804f414-01
2021-09-13T19:07:15.776Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:07:15.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93a88a33bed1a255b4a00e4dbe45aa0e82d7a87-059eab64f7619808-01 outer:exit 2b-a93a88a33bed1a255b4a00e4dbe45aa0e82d7a87-a40b848abc45ea93-01
2021-09-13T19:07:15.779Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:07:15.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-45fd899a03b10ca1281c83df22454b3eb019172f-8ade5362ec7a2aef-01 outer:exit 2b-45fd899a03b10ca1281c83df22454b3eb019172f-58bca5a6e1951d41-01
2021-09-13T19:07:15.782Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:07:15.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbaf7a852f618a6f5e1a4672ff2759a3dd1c8df-92e9ed0ab8fa59fd-01 outer:exit 2b-5fbaf7a852f618a6f5e1a4672ff2759a3dd1c8df-d045527f1096b7a0-01
2021-09-13T19:07:15.791Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:07:15.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cff14333b96840d35825d5018bd130754e206e9-e3b68a748afe49d0-01 outer:exit 2b-6cff14333b96840d35825d5018bd130754e206e9-2707998a63a3ee9b-01
2021-09-13T19:07:15.799Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:07:15.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5516178e1d04bdf46cd405c032ec039227a5f2-48ae63e3ff01212b-01 outer:exit 2b-0c5516178e1d04bdf46cd405c032ec039227a5f2-2a0a6931d0c3e17b-01
2021-09-13T19:07:15.809Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:07:15.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-f97f2d9a23a822aaa83ed64fba558d1c600fe1b0-47b8dafe1919f072-01 outer:exit 2b-f97f2d9a23a822aaa83ed64fba558d1c600fe1b0-b503c24f7edba079-01
2021-09-13T19:07:15.816Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:07:15.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-16c9bd43e3bf84a37b871c3996a95cf8f6cdc895-caf991337f0926d5-01 outer:exit 2b-16c9bd43e3bf84a37b871c3996a95cf8f6cdc895-02f8b702c8431d52-01
2021-09-13T19:07:15.819Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:07:15.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ee0a08101e75d0c20baf9deb4bd12801a67120c-87cc1a9a954af099-01 outer:exit 2b-7ee0a08101e75d0c20baf9deb4bd12801a67120c-43d69f3bf3463514-01
2021-09-13T19:07:15.823Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:07:15.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-736b509edfcba73ac29cb9b91d5e8cf6fdd8fa10-34cc1fd1a7dd125c-01 outer:exit 2b-736b509edfcba73ac29cb9b91d5e8cf6fdd8fa10-1f8e064bfb27e2e2-01
2021-09-13T19:07:15.830Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:07:15.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6a072ecc23fa196694f7f7b47c31283da0053a-da49336a6a540a84-01 outer:exit 2b-bc6a072ecc23fa196694f7f7b47c31283da0053a-3f9fb2c3696375b3-01
2021-09-13T19:07:15.832Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:07:15.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f67be3d37492a44e7dfd3abed81aed02f9a73f1-17adf73b9f9fb883-01 outer:exit 2b-1f67be3d37492a44e7dfd3abed81aed02f9a73f1-b3dbe49fd9b4d14f-01
2021-09-13T19:07:15.835Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:07:15.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-1993e36d31e4c214b8175f48f494760128628a2e-453155cfdf4f5264-01 outer:exit 2b-1993e36d31e4c214b8175f48f494760128628a2e-df17d294398eef28-01
2021-09-13T19:07:15.837Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:07:15.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-5deaecc29c85b20e465d3b4ba64fd9b8f2c4ca19-b97ee6cf3e974d42-01 outer:exit 2b-5deaecc29c85b20e465d3b4ba64fd9b8f2c4ca19-224c57abced7e65d-01
2021-09-13T19:07:15.840Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:07:15.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-18635e7e6dcc38f476e823dc62b1f03fc5b74d32-d45758422829da57-01 outer:exit 2b-18635e7e6dcc38f476e823dc62b1f03fc5b74d32-4af3934ff8dd92f8-01
2021-09-13T19:07:15.843Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:07:15.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-3999920061a1da709a4dcfb67d8eb61f1da7a454-2003e3f863cd1d47-01 outer:exit 2b-3999920061a1da709a4dcfb67d8eb61f1da7a454-cefe82d1891e0541-01
2021-09-13T19:07:15.858Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:07:15.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-57009bd114fb04404a1405b9f048dedc150e68ea-9a6e28b98d60f9ce-01 outer:exit 2b-57009bd114fb04404a1405b9f048dedc150e68ea-fb13e330306645cb-01
2021-09-13T19:07:15.868Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:07:15.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bd78085dadd8316e7e51f8838a8b543e167b9ce-064c0d540e1f506c-01 outer:exit 2b-6bd78085dadd8316e7e51f8838a8b543e167b9ce-d7412389085d94b2-01
2021-09-13T19:07:15.871Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:07:15.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-1df3471478690325a4b8945731e7ecbb837ed89f-b37de70c1cc024f2-01 outer:exit 2b-1df3471478690325a4b8945731e7ecbb837ed89f-006870f938b3887d-01
2021-09-13T19:07:15.875Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:07:15.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-adcdebeececea710837ad23cb08abd9562420270-80b2c7ec159c4e05-01 outer:exit 2b-adcdebeececea710837ad23cb08abd9562420270-a02a2427c363b24c-01
2021-09-13T19:07:15.880Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:07:15.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-314a7c30d863372acf8f6108fd714749039412e7-a477e463c4a368cd-01 outer:exit 2b-314a7c30d863372acf8f6108fd714749039412e7-b5d1c44302716321-01
2021-09-13T19:07:15.910Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (381ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:24.571Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:24.571Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:24.572Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:24.572Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:24.647Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:24.699Z appoptics:patching patched crypto 
2021-09-13T19:07:24.725Z appoptics:patching patched https 
2021-09-13T19:07:24.725Z appoptics:patching patched http 
2021-09-13T19:07:24.781Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:24.782Z appoptics:patching patched fs 
2021-09-13T19:07:24.817Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v16.9.1)
2021-09-13T19:07:24.826Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-09-13T19:07:25.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bb55c9f2120d22102441983d1ba50c6715d100f-a060f340dc949c41-01 outer:exit 2b-6bb55c9f2120d22102441983d1ba50c6715d100f-45d6d3fef75a8447-01
2021-09-13T19:07:25.036Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:07:25.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-d310afda6d94ee23596dfd15d0984067e5ea8d9e-d9f7f75f3974b1ce-01 outer:exit 2b-d310afda6d94ee23596dfd15d0984067e5ea8d9e-07fa77ebafa92784-01
2021-09-13T19:07:25.111Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:07:25.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-294fc5e640e75efd873d7a6d68452097eec19a0e-1edd2f54f992917a-01 outer:exit 2b-294fc5e640e75efd873d7a6d68452097eec19a0e-72c8efbfd00c5e0b-01
2021-09-13T19:07:25.115Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:07:25.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-34fbbb75be8a1cd451066de9e182b9ccea789a37-d53de80edbdec1c8-01 outer:exit 2b-34fbbb75be8a1cd451066de9e182b9ccea789a37-6596e6b81eadf232-01
2021-09-13T19:07:25.118Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:07:25.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3d2fe98df5ab5b242be730bddb5afd043f989d2-ca0dd71270eadcd2-01 outer:exit 2b-e3d2fe98df5ab5b242be730bddb5afd043f989d2-9e3273982e2ef90c-01
2021-09-13T19:07:25.124Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:07:25.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ea30346e08845bd58e7ff1c43c4d67ef3b94f4e-342a27f2c3ff60b1-01 outer:exit 2b-8ea30346e08845bd58e7ff1c43c4d67ef3b94f4e-6eb1825be50bf5af-01
2021-09-13T19:07:25.128Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:07:25.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-0242bd260cfa6e8d2a80e1b506a3d24d818e7028-c8bdb65d1ca7d7aa-01 outer:exit 2b-0242bd260cfa6e8d2a80e1b506a3d24d818e7028-57a7a85158851321-01
2021-09-13T19:07:25.131Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:07:25.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6c362bc2d736a04fe1221ba89968892f7979491-f1169bb16b199f2c-01 outer:exit 2b-f6c362bc2d736a04fe1221ba89968892f7979491-5aa8292930714ce5-01
2021-09-13T19:07:25.135Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:07:25.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-17e8bc244919c2f316c12d24d80da25b6550f035-4fed3b427b8c0b28-01 outer:exit 2b-17e8bc244919c2f316c12d24d80da25b6550f035-65e6069b2c553b82-01
2021-09-13T19:07:25.139Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:07:25.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9b3a70f5f6a6a35e9dfc052e4a13d5fa9ce2d12-a8be288ed16fd235-01 outer:exit 2b-b9b3a70f5f6a6a35e9dfc052e4a13d5fa9ce2d12-50c19cd7f4e467bb-01
2021-09-13T19:07:25.142Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:07:25.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-595a5a47d0f3813051509f330cc94297e08d515f-2db441f82d7d7af1-01 outer:exit 2b-595a5a47d0f3813051509f330cc94297e08d515f-4600adf409184a0f-01
2021-09-13T19:07:25.147Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:07:25.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7d2ed46ae45f6f2b60042100dd8206ac69757a0-7ac76094d2dd1787-01 outer:exit 2b-b7d2ed46ae45f6f2b60042100dd8206ac69757a0-7e0e3ee2d8550332-01
2021-09-13T19:07:25.168Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:07:25.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ad8a4bfe8bcf9e434525acd43f22953fd5cff69-d5a77a22cde803e3-01 outer:exit 2b-7ad8a4bfe8bcf9e434525acd43f22953fd5cff69-e6ba1e2647e20207-01
2021-09-13T19:07:25.186Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:07:25.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab82e1db5d0402644e40c17ae4ee716fbb2bc280-fbd26f847ec2539e-01 outer:exit 2b-ab82e1db5d0402644e40c17ae4ee716fbb2bc280-f3818f17df7efa08-01
2021-09-13T19:07:25.250Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:07:25.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-db7cfccbe740fba456a5590a954db9c776ae5a90-d01c8dfeefb2f8f6-01 outer:exit 2b-db7cfccbe740fba456a5590a954db9c776ae5a90-a63691ab97abb370-01
2021-09-13T19:07:25.254Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:07:25.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ecad41c53b1e923b4c65c81236c261988666f07-9a18c3564a0fdeff-01 outer:exit 2b-0ecad41c53b1e923b4c65c81236c261988666f07-4d5d6f87b713174c-01
2021-09-13T19:07:25.257Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:07:25.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-485df0d896b2a95154264974ea9379178e27efe1-8b2fbbe17f9a8ba8-01 outer:exit 2b-485df0d896b2a95154264974ea9379178e27efe1-d5b9b8ce302aae4b-01
2021-09-13T19:07:25.260Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:07:25.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab61abdd092b5f0ad2daf63f4e28c9143917a7f4-8c226cda8725b159-01 outer:exit 2b-ab61abdd092b5f0ad2daf63f4e28c9143917a7f4-45b4ec10979ed567-01
2021-09-13T19:07:25.263Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:07:25.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a6484b0722152c9af5be96b866472261dec675d-5038d0de506c9b64-01 outer:exit 2b-7a6484b0722152c9af5be96b866472261dec675d-2c9fe4231de95e3e-01
2021-09-13T19:07:25.265Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:07:25.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ee4a8e2a4bded65acf07d70cf1aaac0e724213d-dbcacef14b4ddea4-01 outer:exit 2b-3ee4a8e2a4bded65acf07d70cf1aaac0e724213d-082d3991ba2cdbf4-01
2021-09-13T19:07:25.268Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:07:25.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e507cf7f39924a054bea8d3505bec43fc435814-ce23daadf87a485d-01 outer:exit 2b-7e507cf7f39924a054bea8d3505bec43fc435814-1f64751904006f69-01
2021-09-13T19:07:25.270Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:07:25.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-90aff73ab14c59a0783f0ab164eeb2c6f0f0ad12-0b2cb99afdddb634-01 outer:exit 2b-90aff73ab14c59a0783f0ab164eeb2c6f0f0ad12-87cfa72add5c8289-01
2021-09-13T19:07:25.273Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:07:25.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9491fed7011ccca4846eae124296b19560419e8-ba32bc4c84429b9b-01 outer:exit 2b-a9491fed7011ccca4846eae124296b19560419e8-8286a15a3ca802de-01
2021-09-13T19:07:25.276Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:07:25.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-887faf36d6589cc9e2b5af0373150255ca5df01a-a4de57ce791de4dd-01 outer:exit 2b-887faf36d6589cc9e2b5af0373150255ca5df01a-39520547ce7324fe-01
2021-09-13T19:07:25.280Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:07:25.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b5cf0b16f75ada6d2770bf1aa14acef11a30da4-8998a6394a08d1aa-01 outer:exit 2b-6b5cf0b16f75ada6d2770bf1aa14acef11a30da4-f9eb8b961708d1b1-01
2021-09-13T19:07:25.284Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:07:25.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-33cfba16f6f5623a38d6f23bde62514345896414-c9069173e12b936e-01 outer:exit 2b-33cfba16f6f5623a38d6f23bde62514345896414-cada08aa3920fcfc-01
2021-09-13T19:07:25.287Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:07:25.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1f020ba51b4a1a0a08a848a4e7d9c2fb87cf8ae-146d2a38a187fa6f-01 outer:exit 2b-a1f020ba51b4a1a0a08a848a4e7d9c2fb87cf8ae-2fa065ae5acd9025-01
2021-09-13T19:07:25.311Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:07:25.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4ac7ffcbd6b62517260b66c053333e1c81a89ab-d3781cd5e9b47794-01 outer:exit 2b-e4ac7ffcbd6b62517260b66c053333e1c81a89ab-9ef792e405fab4d2-01
2021-09-13T19:07:25.331Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:07:25.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e8e03f4646c3451ba22a62856a2d0b1412ea76d-3f64054dac2ec6af-01 outer:exit 2b-8e8e03f4646c3451ba22a62856a2d0b1412ea76d-bec44f57e5c44534-01
2021-09-13T19:07:25.341Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:07:25.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe99091e17049d3cb234afae5fef5a3d08de115f-b844402d0e8232b0-01 outer:exit 2b-fe99091e17049d3cb234afae5fef5a3d08de115f-740f6f6d181dd7b2-01
2021-09-13T19:07:25.348Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:07:25.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-3231ae86cb0fb847b416f30213e329b818aefd61-4eb8edc0a69f9b0b-01 outer:exit 2b-3231ae86cb0fb847b416f30213e329b818aefd61-e0865f756efab54c-01
2021-09-13T19:07:25.351Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:07:25.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-92f3df433a12be60690b084a75dbc03ef21340fa-f9e58f9a5ab42b6c-01 outer:exit 2b-92f3df433a12be60690b084a75dbc03ef21340fa-5b52543e2d82bf13-01
2021-09-13T19:07:25.355Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:07:25.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-323adb139631a2645a6c49b3d2b62d24688c8269-cba17318d8ca6a42-01 outer:exit 2b-323adb139631a2645a6c49b3d2b62d24688c8269-787c6d1a9d9b2851-01
2021-09-13T19:07:25.363Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:07:25.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-9897f5a87d60b13e21de52329b3e62adaa493c8c-dd7f692139e0c59f-01 outer:exit 2b-9897f5a87d60b13e21de52329b3e62adaa493c8c-5bc51c813b52be70-01
2021-09-13T19:07:25.365Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:07:25.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9d04d7e9a1927539ab1a20483f0385ad5001603-472f6200cf7c4829-01 outer:exit 2b-a9d04d7e9a1927539ab1a20483f0385ad5001603-c33451fcad5cb1e4-01
2021-09-13T19:07:25.368Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:07:25.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-a103e9c748ed4d8be3fd2a0ad5601fc8492419be-a4188126beb8cdce-01 outer:exit 2b-a103e9c748ed4d8be3fd2a0ad5601fc8492419be-a4f3ebb066a8338f-01
2021-09-13T19:07:25.370Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:07:25.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-1889b8d976d0b9863680cb36d53dde18b47a0990-c7ba0b9e76dfc52b-01 outer:exit 2b-1889b8d976d0b9863680cb36d53dde18b47a0990-cc8cc95bbb241f6c-01
2021-09-13T19:07:25.373Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:07:25.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c73c0d31ffe27ee125d2b3e77445581714ab2d7-fe98fc2a2a92a986-01 outer:exit 2b-5c73c0d31ffe27ee125d2b3e77445581714ab2d7-30c02e716c41712c-01
2021-09-13T19:07:25.376Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:07:25.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9d96affef1a59f5f0a12ad13e393f027255d762-f7144b7cfa3d5395-01 outer:exit 2b-b9d96affef1a59f5f0a12ad13e393f027255d762-30cbf25c51c3d149-01
2021-09-13T19:07:25.390Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:07:25.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-a52887f8439f95e058698f6934ad88725f63fc2a-2747587c4f405554-01 outer:exit 2b-a52887f8439f95e058698f6934ad88725f63fc2a-2fdc6b448d22b3f3-01
2021-09-13T19:07:25.399Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:07:25.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-349ab9cc3dd638790d8a04a9d90965713dc4be05-a0d5e8ee00fd871f-01 outer:exit 2b-349ab9cc3dd638790d8a04a9d90965713dc4be05-61f5e3c690898305-01
2021-09-13T19:07:25.403Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:07:25.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c9b1065e6a3cf8b517323e252f765091c9262ba-fa5ce90710438573-01 outer:exit 2b-0c9b1065e6a3cf8b517323e252f765091c9262ba-6a06ff17cb6d14cb-01
2021-09-13T19:07:25.406Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:07:25.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-343688a33017903140ce923ffd9fe3046eda7be5-a55a608b19c6cf39-01 outer:exit 2b-343688a33017903140ce923ffd9fe3046eda7be5-4958deac77341f10-01
2021-09-13T19:07:25.423Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:07:25.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-f97ad1a4b19049c632e7c7779c8c17f9a9597203-d18b599da68669ce-01 outer:exit 2b-f97ad1a4b19049c632e7c7779c8c17f9a9597203-fa52c730c27074fb-01
2021-09-13T19:07:25.453Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (462ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:32.852Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:32.853Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:32.853Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:32.854Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:32.933Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:32.984Z appoptics:patching patched crypto 
2021-09-13T19:07:33.011Z appoptics:patching patched https 
2021-09-13T19:07:33.012Z appoptics:patching patched http 
2021-09-13T19:07:33.072Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:33.072Z appoptics:patching patched fs 
2021-09-13T19:07:33.106Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v16.9.1)
2021-09-13T19:07:33.116Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-09-13T19:07:33.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-7757dac0626103609cdf576f8032aa046694df21-9f6f041e11cfffae-01 outer:exit 2b-7757dac0626103609cdf576f8032aa046694df21-79d4627d8ae1fcfd-01
2021-09-13T19:07:33.369Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:07:33.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4a7d61c9a587843041f90667242b2bc27073ee-e9052c390ef8ec81-01 outer:exit 2b-de4a7d61c9a587843041f90667242b2bc27073ee-48a9fb41419136e3-01
2021-09-13T19:07:33.413Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:07:33.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-7555ca87676c84223a833e45f267d6a94c8542ed-5726927b097006bc-01 outer:exit 2b-7555ca87676c84223a833e45f267d6a94c8542ed-cfbedeb244a43cd3-01
2021-09-13T19:07:33.422Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:07:33.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfcbaf1e9027cd92c1df9d9042c9da782d90816a-46806bff46c0c169-01 outer:exit 2b-cfcbaf1e9027cd92c1df9d9042c9da782d90816a-2d1d0b1232705011-01
2021-09-13T19:07:33.430Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:07:33.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd2ee5732085d778983a47c80f46b886db87198f-0118b32cfb06de14-01 outer:exit 2b-fd2ee5732085d778983a47c80f46b886db87198f-03b690f702152250-01
2021-09-13T19:07:33.443Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:07:33.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc8709b6e8186ad94924d6967dd9774e612db641-5f934ec7e9866f8d-01 outer:exit 2b-cc8709b6e8186ad94924d6967dd9774e612db641-f95e6d8db32b3409-01
2021-09-13T19:07:33.447Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:07:33.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c0c79c142c54af9681706063c00246e4d52b8d-645abeb1cfa925f3-01 outer:exit 2b-53c0c79c142c54af9681706063c00246e4d52b8d-da8fe5cad6d3023f-01
2021-09-13T19:07:33.453Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:07:33.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-853bde5c6d92bb8166f806948047e94998f31ed0-08c3bf170f2ba568-01 outer:exit 2b-853bde5c6d92bb8166f806948047e94998f31ed0-22e2bc4aeda29be4-01
2021-09-13T19:07:33.457Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:07:33.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-f43a0390ddf94eff6f37b427b7c227325111b68a-dbab8ad3e7c44c1c-01 outer:exit 2b-f43a0390ddf94eff6f37b427b7c227325111b68a-851deea143666d5b-01
2021-09-13T19:07:33.460Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:07:33.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-d505e79ff0a9a6f2caebe08bb30951e5c07c7be7-2dbc29402463aa56-01 outer:exit 2b-d505e79ff0a9a6f2caebe08bb30951e5c07c7be7-ab2de3c5ef0a4ae8-01
2021-09-13T19:07:33.464Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:07:33.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b7b19020c30ea95331f77387d7666380d49db9b-eb9f83b7b2205ce2-01 outer:exit 2b-9b7b19020c30ea95331f77387d7666380d49db9b-5108bbf340647117-01
2021-09-13T19:07:33.469Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:07:33.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a0bbd9d6a58e096ae3025644dcd68fbad54da60-42adb73748d89e70-01 outer:exit 2b-3a0bbd9d6a58e096ae3025644dcd68fbad54da60-7fd42cb6f31e03f1-01
2021-09-13T19:07:33.480Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:07:33.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-f85bc71565d1fb4571046dc706522a7859900f01-c23282c7e0a7bcda-01 outer:exit 2b-f85bc71565d1fb4571046dc706522a7859900f01-2afda06d10e6bc1c-01
2021-09-13T19:07:33.506Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:07:33.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ea06ae5c7e8229f52f42b87c10ef66bff554488-3c458f7739b20a3b-01 outer:exit 2b-6ea06ae5c7e8229f52f42b87c10ef66bff554488-aa19923c9cb76026-01
2021-09-13T19:07:33.552Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:07:33.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a4692ad81258b0200d004378b6bfd5ecfdb77bb-3e2963f52f0a8a9b-01 outer:exit 2b-5a4692ad81258b0200d004378b6bfd5ecfdb77bb-1f3edd4186841a2b-01
2021-09-13T19:07:33.555Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:07:33.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4a15827105c6e7b044954c2795c5efa7c4751d0-af53cbca749bed24-01 outer:exit 2b-a4a15827105c6e7b044954c2795c5efa7c4751d0-a450299ee2b29d24-01
2021-09-13T19:07:33.560Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:07:33.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f019e41aefacaf3d681c6194f270c33735867fc-fab73fa876e2276f-01 outer:exit 2b-7f019e41aefacaf3d681c6194f270c33735867fc-a09da3dcb5360058-01
2021-09-13T19:07:33.568Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:07:33.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaa668644c11c96597609cdaeeb39d2958b241ad-aa56118c44d333d2-01 outer:exit 2b-aaa668644c11c96597609cdaeeb39d2958b241ad-9d3cc1c2713190db-01
2021-09-13T19:07:33.571Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:07:33.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a609e73c49e6c17cd06f97b68efccbca650ac9-93fdf345166dbfc7-01 outer:exit 2b-42a609e73c49e6c17cd06f97b68efccbca650ac9-ed7ac8473a029eff-01
2021-09-13T19:07:33.583Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:07:33.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-3daf5b3115b64e141e3ecc5c632d7fad33132c8f-a3232c98530a2a5f-01 outer:exit 2b-3daf5b3115b64e141e3ecc5c632d7fad33132c8f-e207a14ef16c7b48-01
2021-09-13T19:07:33.588Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:07:33.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ed96bfd833a96c6429ac0333c4baa5876c984e0-fa30fb49ee145968-01 outer:exit 2b-6ed96bfd833a96c6429ac0333c4baa5876c984e0-0e1f26997027a963-01
2021-09-13T19:07:33.591Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:07:33.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-1592899f069eb17f7fd5751e7e2a6dcb875cc63f-9ed0810000bc6167-01 outer:exit 2b-1592899f069eb17f7fd5751e7e2a6dcb875cc63f-1aaba26f0fb958da-01
2021-09-13T19:07:33.601Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:07:33.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1c76632d1a1aa6c161f2229468a5f9638bf27bc-6b087d30044a0b5e-01 outer:exit 2b-e1c76632d1a1aa6c161f2229468a5f9638bf27bc-d3095b3138fe5401-01
2021-09-13T19:07:33.610Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:07:33.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-62639736523ce56f6b24536c0a7cc351c19964ed-f463d51cb0ddc67d-01 outer:exit 2b-62639736523ce56f6b24536c0a7cc351c19964ed-ba7d578708823306-01
2021-09-13T19:07:33.613Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:07:33.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e06a8a1d6c9261395daa4b9b139c8a726af3c99-1c03d3ada32971bb-01 outer:exit 2b-1e06a8a1d6c9261395daa4b9b139c8a726af3c99-dd69921d6c134e37-01
2021-09-13T19:07:33.615Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:07:33.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f795eb48bfdea8296ad8c5fce3f8a7a0f8d539b-844f1384e3a786ae-01 outer:exit 2b-0f795eb48bfdea8296ad8c5fce3f8a7a0f8d539b-4f2bc159395bf0e3-01
2021-09-13T19:07:33.621Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:07:33.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-71089e30215af87aa86d9e0876be53d060071a3d-d67fcc854875b3f3-01 outer:exit 2b-71089e30215af87aa86d9e0876be53d060071a3d-19f37c4f626dc669-01
2021-09-13T19:07:33.637Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:07:33.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-3942299e239135ce94174f782823df581320fd75-2e1faa96d9ee87ee-01 outer:exit 2b-3942299e239135ce94174f782823df581320fd75-8f122d96c13f1b4e-01
2021-09-13T19:07:33.643Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:07:33.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea88abcddf25abd8de6db9200ecd056b0b0a895c-38ffba61f6af1d91-01 outer:exit 2b-ea88abcddf25abd8de6db9200ecd056b0b0a895c-2af2c69b693670d7-01
2021-09-13T19:07:33.653Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:07:33.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-01bfde7ea00c956ad2a4f11cabf2642d72b0922c-b7964a5f3515dd85-01 outer:exit 2b-01bfde7ea00c956ad2a4f11cabf2642d72b0922c-4a47dc8007586d00-01
2021-09-13T19:07:33.670Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:07:33.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-8750525177a90f8ac50526486ae57a28743504f5-32a6e33672b32c6f-01 outer:exit 2b-8750525177a90f8ac50526486ae57a28743504f5-56f455f5ffb9ab7d-01
2021-09-13T19:07:33.675Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:07:33.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e07ffdb47c397a1029039a8c4d9c31516c27db5-de35e7e4b4048505-01 outer:exit 2b-1e07ffdb47c397a1029039a8c4d9c31516c27db5-cd1753bf58e12d10-01
2021-09-13T19:07:33.679Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:07:33.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-d96bc87aef53d29f5623accc0594d388fb811393-1eecd75fb7e2c1e9-01 outer:exit 2b-d96bc87aef53d29f5623accc0594d388fb811393-844a8a3c7b701d8e-01
2021-09-13T19:07:33.687Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:07:33.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-80781d5ae8d71ab8c5c520bc8db34b1c0af6902f-ad355f668a2a4c87-01 outer:exit 2b-80781d5ae8d71ab8c5c520bc8db34b1c0af6902f-fa59aa7a5847fecc-01
2021-09-13T19:07:33.690Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:07:33.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee0f72a3689e3685c5444df152a6bbbe41f77b57-5400e44d2eab177c-01 outer:exit 2b-ee0f72a3689e3685c5444df152a6bbbe41f77b57-cbc4ee01f2f2bebc-01
2021-09-13T19:07:33.699Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:07:33.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbf3a54518ddb5fabcd4c27ebd9a4e07c9b30034-20f6df1eb1ba0c1f-01 outer:exit 2b-fbf3a54518ddb5fabcd4c27ebd9a4e07c9b30034-d4907599efb3e015-01
2021-09-13T19:07:33.701Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:07:33.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bb5574a847558005252e6e430c7bb9e56c7d16b-878b12db8994e3b1-01 outer:exit 2b-9bb5574a847558005252e6e430c7bb9e56c7d16b-1d860883f82eaa4a-01
2021-09-13T19:07:33.704Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:07:33.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-83909d047c8d1504a11e2c25a5e3599dde675d50-4a868cb0a8c7de69-01 outer:exit 2b-83909d047c8d1504a11e2c25a5e3599dde675d50-a7c95cd37f1f242d-01
2021-09-13T19:07:33.707Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:07:33.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6c8e14e39199e96194da0be970bc3a3ec395fdb-0d3881e91b7e0299-01 outer:exit 2b-b6c8e14e39199e96194da0be970bc3a3ec395fdb-07467f4cc0b4cfe6-01
2021-09-13T19:07:33.717Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:07:33.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cc8707280e2d8ebaa4d359e02c15d32ba7c3686-0c7b9496f9352f19-01 outer:exit 2b-2cc8707280e2d8ebaa4d359e02c15d32ba7c3686-9ee0f847f6955af0-01
2021-09-13T19:07:33.731Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:07:33.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-1580df2d2ee6e6430aafd7cfb0ae9f1cc8792fee-7d6bbc61bfb46bca-01 outer:exit 2b-1580df2d2ee6e6430aafd7cfb0ae9f1cc8792fee-2186edabb1b9039c-01
2021-09-13T19:07:33.737Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:07:33.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e91a8627f393f406b61b7f92b3b4ed308b8120a-4a20ef0218e58f8e-01 outer:exit 2b-0e91a8627f393f406b61b7f92b3b4ed308b8120a-13eb31b1e825ecaa-01
2021-09-13T19:07:33.740Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:07:33.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-8776ff5324f087788aa9247d32c0d553b2032b33-c944bdfd7eda6734-01 outer:exit 2b-8776ff5324f087788aa9247d32c0d553b2032b33-bb474bba1bc68ac3-01
2021-09-13T19:07:33.743Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:07:33.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-332dc3a86655bf73bbdea02e1a96ca527bbe3e69-39108ab745b45ac7-01 outer:exit 2b-332dc3a86655bf73bbdea02e1a96ca527bbe3e69-03639b97e3423af9-01
2021-09-13T19:07:33.783Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (470ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:41.909Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:41.910Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:41.910Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:41.911Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:41.987Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:42.036Z appoptics:patching patched crypto 
2021-09-13T19:07:42.061Z appoptics:patching patched https 
2021-09-13T19:07:42.062Z appoptics:patching patched http 
2021-09-13T19:07:42.116Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:42.118Z appoptics:patching patched fs 
2021-09-13T19:07:42.152Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v16.9.1)
2021-09-13T19:07:42.161Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-09-13T19:07:42.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fee3966e1a601fd410aa1d8c834fc7521e1b2a4-7c46f36d45a6dfb2-01 outer:exit 2b-8fee3966e1a601fd410aa1d8c834fc7521e1b2a4-fa3eb4043676586d-01
2021-09-13T19:07:42.368Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:07:42.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-d95ac775ab4fd532e86fcc2a3f0d24ee290800ee-b674e4ca40446af7-01 outer:exit 2b-d95ac775ab4fd532e86fcc2a3f0d24ee290800ee-3a25b62349d1af60-01
2021-09-13T19:07:42.410Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:07:42.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-840aaf2470996fa9d2578bcbcb120b7140bbcfad-40e78638b01df066-01 outer:exit 2b-840aaf2470996fa9d2578bcbcb120b7140bbcfad-264823d4659bb70c-01
2021-09-13T19:07:42.415Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:07:42.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-db4062a9ea6d06884fe9d08dbff918287d454491-740477704eaf6314-01 outer:exit 2b-db4062a9ea6d06884fe9d08dbff918287d454491-e043f4ab8073b487-01
2021-09-13T19:07:42.418Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:07:42.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-f08ee8fc36ed7ac08cb7d500c30a0c533f635f5e-a955c47b03f6034c-01 outer:exit 2b-f08ee8fc36ed7ac08cb7d500c30a0c533f635f5e-309a0049ec71de82-01
2021-09-13T19:07:42.424Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:07:42.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-843ab6d5c151e8f0b97e007263ca47b842c47b63-6b7ed45d7259f35b-01 outer:exit 2b-843ab6d5c151e8f0b97e007263ca47b842c47b63-a6e5f1301c513e72-01
2021-09-13T19:07:42.427Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:07:42.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3cfe01c0173bb8c2b0b867b45cee7d65122282b-4adb37243f21f9e3-01 outer:exit 2b-e3cfe01c0173bb8c2b0b867b45cee7d65122282b-33f3d9ce5cd3a1f3-01
2021-09-13T19:07:42.431Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:07:42.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f40132993d8f80daba32fcbeae582edb560d628-b8860a7ee73bccac-01 outer:exit 2b-4f40132993d8f80daba32fcbeae582edb560d628-c379e216f4109675-01
2021-09-13T19:07:42.434Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:07:42.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc9dbaeba528898ab5fea3e2c0d69b20c3186669-672bdd16345fa082-01 outer:exit 2b-dc9dbaeba528898ab5fea3e2c0d69b20c3186669-500fc91b639f8f13-01
2021-09-13T19:07:42.437Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:07:42.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1baff9e6b5fbb592bd58cd317761c9b5d402ad6-84ba8b004f98aa59-01 outer:exit 2b-c1baff9e6b5fbb592bd58cd317761c9b5d402ad6-ab1db9d2d8d5412f-01
2021-09-13T19:07:42.441Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:07:42.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ccbc39c34fa71cf750d0cfdeb3f2fb49faa8c5-806d2d4a3337b91e-01 outer:exit 2b-b8ccbc39c34fa71cf750d0cfdeb3f2fb49faa8c5-19b4cb11fd32ae2b-01
2021-09-13T19:07:42.446Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:07:42.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb21ad9a0c082552a22de85ca20a0e156b1d6cdf-c395cae5e05e422b-01 outer:exit 2b-bb21ad9a0c082552a22de85ca20a0e156b1d6cdf-81bb808189afd259-01
2021-09-13T19:07:42.453Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:07:42.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-e63a589087261f92997866bfd4efaacef3cbf856-8d83eccd8b7cb8be-01 outer:exit 2b-e63a589087261f92997866bfd4efaacef3cbf856-b205396b52b2008e-01
2021-09-13T19:07:42.489Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:07:42.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed0dbac0398c3ab54bb50a4f7a3e1a8bcc110db9-9d2c75735f442a16-01 outer:exit 2b-ed0dbac0398c3ab54bb50a4f7a3e1a8bcc110db9-49f5592050562c1d-01
2021-09-13T19:07:42.549Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:07:42.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fe3475b8eb24680597a313612ed9a2ae0455df6-1fb2a22d2968598a-01 outer:exit 2b-7fe3475b8eb24680597a313612ed9a2ae0455df6-e48668202426fb95-01
2021-09-13T19:07:42.552Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:07:42.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-3043b609d8bce19369d5d2bd2a737a0e77aeb4f1-a187e9f6d9c2d15c-01 outer:exit 2b-3043b609d8bce19369d5d2bd2a737a0e77aeb4f1-f1a9cd670be0ded4-01
2021-09-13T19:07:42.555Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:07:42.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-8879f547d48980a065cfcb54c3fe02fd54dacd8b-cc75464a514fd927-01 outer:exit 2b-8879f547d48980a065cfcb54c3fe02fd54dacd8b-40c2326e09092fec-01
2021-09-13T19:07:42.559Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:07:42.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bbd1ef59b99ef8b794660548cacbcdf29db45db-6f038860d516cb0d-01 outer:exit 2b-0bbd1ef59b99ef8b794660548cacbcdf29db45db-af9cffbc5ea9d622-01
2021-09-13T19:07:42.562Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:07:42.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-0793e6319ed62b8061bd9ff43d0b56d868541b18-d4993c13b123c65e-01 outer:exit 2b-0793e6319ed62b8061bd9ff43d0b56d868541b18-fe9af48ba73d83ad-01
2021-09-13T19:07:42.564Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:07:42.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-c28801d3cb5064350929cba7783794008589c22a-f09dccc8c8093e57-01 outer:exit 2b-c28801d3cb5064350929cba7783794008589c22a-9dcdb1e7b7762bac-01
2021-09-13T19:07:42.568Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:07:42.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-e330fe3510d2dba63374f99b7d11e1723cf7b928-91ba762df1dabc47-01 outer:exit 2b-e330fe3510d2dba63374f99b7d11e1723cf7b928-4f07e2ebbd1c4349-01
2021-09-13T19:07:42.571Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:07:42.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5754235c81be84da4f67079beb5050c390a0824-0d8be58fb7e39efb-01 outer:exit 2b-b5754235c81be84da4f67079beb5050c390a0824-5e81aa4be97386e0-01
2021-09-13T19:07:42.574Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:07:42.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-29760ef92d6dd5704b991a5ed6f76f8902e79039-d31eae1ab4eb46d5-01 outer:exit 2b-29760ef92d6dd5704b991a5ed6f76f8902e79039-a228b6a1c8589e40-01
2021-09-13T19:07:42.578Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:07:42.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e2b8cb978d735a5b04a22c641c5ee0101c42233-42e7d982825f75ec-01 outer:exit 2b-9e2b8cb978d735a5b04a22c641c5ee0101c42233-b6f4269bcb9f7bc1-01
2021-09-13T19:07:42.582Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:07:42.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b416db067f2c40c61083ba77dad920f1bbaecc3-2840659c6e249cf2-01 outer:exit 2b-9b416db067f2c40c61083ba77dad920f1bbaecc3-4a5f2d85f5a12177-01
2021-09-13T19:07:42.585Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:07:42.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-507c7a5b3aaddeb1c9b7c0918cc1fbd314f4e37d-86423409dfd3fd23-01 outer:exit 2b-507c7a5b3aaddeb1c9b7c0918cc1fbd314f4e37d-f63b67626329da3c-01
2021-09-13T19:07:42.588Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:07:42.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab0ff1643ef7b365d271da6bfe20e30b4fa800c5-9bccdc208b4e24c5-01 outer:exit 2b-ab0ff1643ef7b365d271da6bfe20e30b4fa800c5-2007fa70c7aad2b4-01
2021-09-13T19:07:42.596Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:07:42.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-5753dce577756d508c4377e6448bcb5c82543a1d-19bd95e1fdcf74ee-01 outer:exit 2b-5753dce577756d508c4377e6448bcb5c82543a1d-e94316b3ed5f5129-01
2021-09-13T19:07:42.602Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:07:42.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-7612c83e08a149bc3a72df7721e9107b2341818c-1a591f51996d319e-01 outer:exit 2b-7612c83e08a149bc3a72df7721e9107b2341818c-cd1abcd0faba4a78-01
2021-09-13T19:07:42.612Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:07:42.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-c916579181d7bdcf6dfe45b91f8ca7d51f77643f-e4ffb61a41794812-01 outer:exit 2b-c916579181d7bdcf6dfe45b91f8ca7d51f77643f-04333a18543c74ae-01
2021-09-13T19:07:42.620Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:07:42.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1d6101d90d1b2f3c853d961b0f94ce529c0a7f6-e7db18ed0da47304-01 outer:exit 2b-f1d6101d90d1b2f3c853d961b0f94ce529c0a7f6-b3980ea43b6c7d4a-01
2021-09-13T19:07:42.623Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:07:42.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-7272eb388bff765f501b76140ec93e961b3a622f-357a05bcab5d7876-01 outer:exit 2b-7272eb388bff765f501b76140ec93e961b3a622f-6ba653ea2a7a80eb-01
2021-09-13T19:07:42.627Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:07:42.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-24040e5e131f1678d0199b87844b6cf04a262412-dccc9f8a309ccc8b-01 outer:exit 2b-24040e5e131f1678d0199b87844b6cf04a262412-4f35ee57636f49d7-01
2021-09-13T19:07:42.638Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:07:42.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-484be08b3ab03e84516e15ee5adf2c628f089f4a-4dc6d435751f447f-01 outer:exit 2b-484be08b3ab03e84516e15ee5adf2c628f089f4a-5f4e79afe314d31c-01
2021-09-13T19:07:42.641Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:07:42.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9588a2af3c8ea2cb09f445a12014a6c6ee41fc2-bdd560e785fa291c-01 outer:exit 2b-e9588a2af3c8ea2cb09f445a12014a6c6ee41fc2-b9626bba37c773a9-01
2021-09-13T19:07:42.643Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:07:42.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf5670e3f4bdffa520ae8b0d5a68ce81190ccca2-7162426c5e25089c-01 outer:exit 2b-bf5670e3f4bdffa520ae8b0d5a68ce81190ccca2-34ebcb1c78311687-01
2021-09-13T19:07:42.646Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:07:42.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fcef98760ee4b5b7dd6935e72b0c0c8ad392065-d1c0ff161e81edcf-01 outer:exit 2b-0fcef98760ee4b5b7dd6935e72b0c0c8ad392065-afd561b236957b4d-01
2021-09-13T19:07:42.648Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:07:42.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e9888dfa591b1484d5b96f60747c483f2aafb39-e369d9f378765ac5-01 outer:exit 2b-6e9888dfa591b1484d5b96f60747c483f2aafb39-529133d457b8a126-01
2021-09-13T19:07:42.653Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:07:42.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-451e8663d5c52688aa7505001f994f61b1badd25-a877b61ce3f38774-01 outer:exit 2b-451e8663d5c52688aa7505001f994f61b1badd25-8438889503da49b4-01
2021-09-13T19:07:42.665Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:07:42.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c42b1484282dfb430c4b0713a938aa9a234a096-db6539dbba7de9b0-01 outer:exit 2b-8c42b1484282dfb430c4b0713a938aa9a234a096-aa4335839193b7bb-01
2021-09-13T19:07:42.675Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:07:42.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-276604dd174f9b2a07febef96cbcac5e31ea5867-624bf42caa15ecee-01 outer:exit 2b-276604dd174f9b2a07febef96cbcac5e31ea5867-39d9cd803e289552-01
2021-09-13T19:07:42.678Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:07:42.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dda437d855c2f3b8ed46e91a75e60ba649deef8-0275026aeea2922e-01 outer:exit 2b-7dda437d855c2f3b8ed46e91a75e60ba649deef8-7fcb54ae77297eef-01
2021-09-13T19:07:42.682Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:07:42.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e1368b00f70eac6011bdf7a1e3b76ae459749d7-e7c72448cd934092-01 outer:exit 2b-0e1368b00f70eac6011bdf7a1e3b76ae459749d7-2a583e6fcb25c8d6-01
2021-09-13T19:07:42.685Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:07:42.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-3618c5b0d6f88758e0fa3538c8a15f997101c3a0-f109830df82587f6-01 outer:exit 2b-3618c5b0d6f88758e0fa3538c8a15f997101c3a0-7df8592866e5b77c-01
2021-09-13T19:07:42.717Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (394ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 14s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:07:57.180Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:07:57.180Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:07:57.180Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:07:57.181Z appoptics:debug using context provider: ace-context
2021-09-13T19:07:57.257Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:07:57.308Z appoptics:patching patched crypto 
2021-09-13T19:07:57.333Z appoptics:patching patched https 
2021-09-13T19:07:57.334Z appoptics:patching patched http 
2021-09-13T19:07:57.388Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:07:57.388Z appoptics:patching patched fs 
2021-09-13T19:07:57.428Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v16.9.1)
2021-09-13T19:07:57.437Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-09-13T19:07:57.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9c4121e95b571e495450010511a5988e7fee573-4784ad86f74ba0ed-01 outer:exit 2b-a9c4121e95b571e495450010511a5988e7fee573-76c3b821ede70e59-01
2021-09-13T19:07:57.644Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:07:57.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ce44edbb37dc63433971b19bfb259a00c16eab2-6bccfb1b288877b1-01 outer:exit 2b-6ce44edbb37dc63433971b19bfb259a00c16eab2-41fb358fa289490a-01
2021-09-13T19:07:57.698Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:07:57.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3138ea5f7bb824b68f67f2304921e4c492e5732-1e625ffb2f5e1a35-01 outer:exit 2b-b3138ea5f7bb824b68f67f2304921e4c492e5732-53b650cea44eae36-01
2021-09-13T19:07:57.702Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:07:57.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-788f6fbf2c2c2cbc2b643e0ca67f8166ddc2e430-941074a361aeae75-01 outer:exit 2b-788f6fbf2c2c2cbc2b643e0ca67f8166ddc2e430-eaa06067a7c0de6d-01
2021-09-13T19:07:57.706Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:07:57.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f89ae019b254fb893c7b6b91921fae1c59489ac-4d8405859396079e-01 outer:exit 2b-3f89ae019b254fb893c7b6b91921fae1c59489ac-518d5e58ac629492-01
2021-09-13T19:07:57.711Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:07:57.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6c529fd05d90c21ce3cba20bd60a4ceb740558c-61e707636cb64ca8-01 outer:exit 2b-f6c529fd05d90c21ce3cba20bd60a4ceb740558c-589b3753682f1e67-01
2021-09-13T19:07:57.715Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:07:57.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-285dc86b3d9063d46979581bff590461b4d5a4db-85034421398d9451-01 outer:exit 2b-285dc86b3d9063d46979581bff590461b4d5a4db-4dbd8b368908bb69-01
2021-09-13T19:07:57.718Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:07:57.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-128975eeac3dbd846d0e07c41861a65b197ee6e0-e7d9f70a726c6246-01 outer:exit 2b-128975eeac3dbd846d0e07c41861a65b197ee6e0-0e339a26a3aab291-01
2021-09-13T19:07:57.721Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:07:57.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5b96371e69ebc5cef82670fdbc0797f20887466-37af367bcbc89f86-01 outer:exit 2b-d5b96371e69ebc5cef82670fdbc0797f20887466-5832aa53569afe25-01
2021-09-13T19:07:57.724Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:07:57.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e2a3d88e947ec404aaccb7604489f59f576b63d-5510552c7909ac83-01 outer:exit 2b-3e2a3d88e947ec404aaccb7604489f59f576b63d-641858ee4487ac22-01
2021-09-13T19:07:57.728Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:07:57.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a36f0dfbcfb5275a68a05ca3d2e9a1dc6874fa-7aef1a10b9aec90f-01 outer:exit 2b-77a36f0dfbcfb5275a68a05ca3d2e9a1dc6874fa-46b48812a8497436-01
2021-09-13T19:07:57.732Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:07:57.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-5decf24ed03227f83f3345095606e0a7fbbea6fd-929f1fd3d9becc8b-01 outer:exit 2b-5decf24ed03227f83f3345095606e0a7fbbea6fd-776bd28ef32452ee-01
2021-09-13T19:07:57.740Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:07:57.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f935e0b373fd80e02c59ebb0a47017bab87be01-5b708dd49b4db0e8-01 outer:exit 2b-3f935e0b373fd80e02c59ebb0a47017bab87be01-c36a5e9af5e75832-01
2021-09-13T19:07:57.758Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:07:57.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14aa4ac0686717f0e5f2a0c35e921ffad4397d6-51486c3a65e0a423-01 outer:exit 2b-e14aa4ac0686717f0e5f2a0c35e921ffad4397d6-5ae618308b530528-01
2021-09-13T19:07:57.808Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:07:57.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-54f696f09e9867ca66291c665a6059776867e336-070fffdc41e1455b-01 outer:exit 2b-54f696f09e9867ca66291c665a6059776867e336-e2e3df64c3704f17-01
2021-09-13T19:07:57.811Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:07:57.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eef378fecb63ff82b432348cc63572283523932-4fb47da2716de440-01 outer:exit 2b-6eef378fecb63ff82b432348cc63572283523932-732b4f5dbed77519-01
2021-09-13T19:07:57.814Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:07:57.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-5de9b0862014141556d9db4a4eb5e8e76a879833-56ec5e1d948ba940-01 outer:exit 2b-5de9b0862014141556d9db4a4eb5e8e76a879833-a4cc7988d6071862-01
2021-09-13T19:07:57.818Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:07:57.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-100649805e1fe1548affa048387463673a27ebdf-eac1916ce50b2818-01 outer:exit 2b-100649805e1fe1548affa048387463673a27ebdf-eb9a47a75e960ae5-01
2021-09-13T19:07:57.821Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:07:57.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-45d7aa2fef61d4781d2b5ea4419f55215ab9ba42-7c44f595d78a4048-01 outer:exit 2b-45d7aa2fef61d4781d2b5ea4419f55215ab9ba42-745df34d345056f5-01
2021-09-13T19:07:57.823Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:07:57.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c0b32b69a9c407f064a139eeef1eb77415daa5f-793e60bf73727622-01 outer:exit 2b-6c0b32b69a9c407f064a139eeef1eb77415daa5f-1206623cbf664406-01
2021-09-13T19:07:57.826Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:07:57.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae3b28bfff087c468f2406083c44e651f2e1b724-02113c4c84457e8e-01 outer:exit 2b-ae3b28bfff087c468f2406083c44e651f2e1b724-fcc175200be546c5-01
2021-09-13T19:07:57.829Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:07:57.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdc552fa2f54bf329d697bb5bd23f3ee433d3962-847a901ee808312b-01 outer:exit 2b-fdc552fa2f54bf329d697bb5bd23f3ee433d3962-d1505a23cc12555d-01
2021-09-13T19:07:57.832Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:07:57.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-032b8ab9655f49351aa6a1d7784af7088b9a2363-77cfed387d27dd8d-01 outer:exit 2b-032b8ab9655f49351aa6a1d7784af7088b9a2363-d5fbc9f087621a88-01
2021-09-13T19:07:57.836Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:07:57.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-d331176227ab813a6f0dcbb5a1eba881c53f49f3-fca54a8c24d9fbd6-01 outer:exit 2b-d331176227ab813a6f0dcbb5a1eba881c53f49f3-b52adb7f59744f46-01
2021-09-13T19:07:57.840Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:07:57.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-77ae40681c41251186fe1a99f97b2d98bc56fd20-7a55b9afe4fbdbe9-01 outer:exit 2b-77ae40681c41251186fe1a99f97b2d98bc56fd20-b705360f5759b051-01
2021-09-13T19:07:57.843Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:07:57.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-58303ef88453d9b09423daf26549a2f33879a81a-1873ead4381fc396-01 outer:exit 2b-58303ef88453d9b09423daf26549a2f33879a81a-6cc87af47b9de535-01
2021-09-13T19:07:57.846Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:07:57.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-649b077bc18b9a774d5c073b0c15c766e892685e-fac190d27edd8bb3-01 outer:exit 2b-649b077bc18b9a774d5c073b0c15c766e892685e-2ef1cde798cb7053-01
2021-09-13T19:07:57.861Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:07:57.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-8518008afcdee4bc14b1f63edd1c1e7513edc5d1-5539612d4f7660e5-01 outer:exit 2b-8518008afcdee4bc14b1f63edd1c1e7513edc5d1-f2315f3b30b717fa-01
2021-09-13T19:07:57.866Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:07:57.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-74758bb95c867f00beaa194b743fb66335e12e39-28a3fca16c99926e-01 outer:exit 2b-74758bb95c867f00beaa194b743fb66335e12e39-3cf76c74dc00c8b2-01
2021-09-13T19:07:57.877Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:07:57.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b1cd3bab985d8b58d3d9dbd93d5c71bc86957e-938a37b7c5c9ecbe-01 outer:exit 2b-98b1cd3bab985d8b58d3d9dbd93d5c71bc86957e-bd806cb609059bde-01
2021-09-13T19:07:57.885Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:07:57.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-22f20afc9fe320be6c1b9ef14b1641ef49535433-3e92f9e8b371ae44-01 outer:exit 2b-22f20afc9fe320be6c1b9ef14b1641ef49535433-d37d5f1e788190aa-01
2021-09-13T19:07:57.888Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:07:57.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bbdbf93f5099e6730ae42f5d16dc9fe31d696c0-a4ffac905cd84d10-01 outer:exit 2b-2bbdbf93f5099e6730ae42f5d16dc9fe31d696c0-35bd07d2c9b686a6-01
2021-09-13T19:07:57.892Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:07:57.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-e12418545502f494e93b5a5d5563f7c1fb638485-2293acf961ac8305-01 outer:exit 2b-e12418545502f494e93b5a5d5563f7c1fb638485-393a112a7d15d74a-01
2021-09-13T19:07:57.905Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:07:57.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f77b27cf4ab5446370e551a8d7dbf85c0a5d2fd-13f2b6fe9e9c8f8c-01 outer:exit 2b-3f77b27cf4ab5446370e551a8d7dbf85c0a5d2fd-ccb46f750cdbfd22-01
2021-09-13T19:07:57.907Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:07:57.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-b47d39251b45630b072f2c55e764a57cf9d95f71-d5e688540fef0da2-01 outer:exit 2b-b47d39251b45630b072f2c55e764a57cf9d95f71-d06d2bda68aa60e4-01
2021-09-13T19:07:57.910Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:07:57.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8edb2eea29da2a2f94ac4fa442af5a20f6241b-4fc43870f756f4d5-01 outer:exit 2b-dd8edb2eea29da2a2f94ac4fa442af5a20f6241b-c2f4bf0762cc951c-01
2021-09-13T19:07:57.912Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:07:57.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-094bd9402e11053c353aea267965146d2a147bdb-5a598cf263b6ba4b-01 outer:exit 2b-094bd9402e11053c353aea267965146d2a147bdb-a8bde6e877b2b818-01
2021-09-13T19:07:57.915Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:07:57.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c83f389b586d25d2e2e9bad7bf18b1db03a2c6-25b209b658aa3b44-01 outer:exit 2b-71c83f389b586d25d2e2e9bad7bf18b1db03a2c6-e434620658bd253c-01
2021-09-13T19:07:57.917Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:07:57.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-42b8d1806636ba87fb4f632bfb844b0452be80cd-a25bdb44ff4f8b9c-01 outer:exit 2b-42b8d1806636ba87fb4f632bfb844b0452be80cd-1a5fc41bab426b37-01
2021-09-13T19:07:57.928Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:07:57.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b221651f16e4c7620979fab1c6a2dd18dc4bffd-3c7a515f60b2f97c-01 outer:exit 2b-6b221651f16e4c7620979fab1c6a2dd18dc4bffd-4735bb366b0d8fa3-01
2021-09-13T19:07:57.938Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:07:57.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-8345fd3268673ec20b22a1d9035294107f827196-864919a37df7ec79-01 outer:exit 2b-8345fd3268673ec20b22a1d9035294107f827196-787a6c4934757031-01
2021-09-13T19:07:57.941Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:07:57.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e6c31e28946a16245e0dc9a218452b34458e823-f2ee73c081d2062f-01 outer:exit 2b-4e6c31e28946a16245e0dc9a218452b34458e823-2e9fbb292016571e-01
2021-09-13T19:07:57.944Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:07:57.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-d186a2d9be9a46136342a96dfd7ca89f766c73b4-cb8641dada708fa2-01 outer:exit 2b-d186a2d9be9a46136342a96dfd7ca89f766c73b4-1752742e2ea9948c-01
2021-09-13T19:07:57.947Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:07:57.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-13bdca2158c1154d205ca5ced9f107a91a2e9da9-913baf42f663d904-01 outer:exit 2b-13bdca2158c1154d205ca5ced9f107a91a2e9da9-2c1505d66589ce1f-01
2021-09-13T19:07:57.978Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (378ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:06.478Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:06.479Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:06.479Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:06.480Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:06.578Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:06.631Z appoptics:patching patched crypto 
2021-09-13T19:08:06.665Z appoptics:patching patched https 
2021-09-13T19:08:06.666Z appoptics:patching patched http 
2021-09-13T19:08:06.727Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:06.727Z appoptics:patching patched fs 
2021-09-13T19:08:06.765Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v16.9.1)
2021-09-13T19:08:06.775Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-09-13T19:08:07.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6374b70c25901835251e883b9699999f068f52f-ebbfd88806cd0c57-01 outer:exit 2b-c6374b70c25901835251e883b9699999f068f52f-13db1200ccde8b10-01
2021-09-13T19:08:07.010Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:08:07.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-897f2e9a8788d562a6716611ea2624b517c2abc8-15b90e8c16535603-01 outer:exit 2b-897f2e9a8788d562a6716611ea2624b517c2abc8-19eda4fdd9226e55-01
2021-09-13T19:08:07.056Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:08:07.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bd3026dc4aef3a2c3f5f6a34ca88c18f112e5f1-c70f02e273808da4-01 outer:exit 2b-6bd3026dc4aef3a2c3f5f6a34ca88c18f112e5f1-364bbe1d937ca51b-01
2021-09-13T19:08:07.060Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:08:07.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-b83eab260d5eba88ae37df53d909408e265d1a43-6fe43e1f3735f269-01 outer:exit 2b-b83eab260d5eba88ae37df53d909408e265d1a43-423fb5f6fe34fb8e-01
2021-09-13T19:08:07.064Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:08:07.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-80d9ae2a36c6d65bcdac1d65930396863c14ae91-0a3a97c3a86253ce-01 outer:exit 2b-80d9ae2a36c6d65bcdac1d65930396863c14ae91-f2381f5d4aa18f4b-01
2021-09-13T19:08:07.071Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:08:07.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-217ef5ecf8413710f89907417c80e7cda326e73a-e6162d857a7c404c-01 outer:exit 2b-217ef5ecf8413710f89907417c80e7cda326e73a-f0fd4bdddaea6d86-01
2021-09-13T19:08:07.075Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:08:07.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e53babb7dabd38b2c4cb00fb2182b9ff791d1ca-fe53bfd35bcbff2e-01 outer:exit 2b-6e53babb7dabd38b2c4cb00fb2182b9ff791d1ca-1c1ca0282077e019-01
2021-09-13T19:08:07.078Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:08:07.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-1864d43ed5798dfdd02f01b56c1bf088a50d34aa-432f275fde6828a9-01 outer:exit 2b-1864d43ed5798dfdd02f01b56c1bf088a50d34aa-e7022e8014a0b1c8-01
2021-09-13T19:08:07.082Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:08:07.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f4725726c4094667d5e8914879053c5c08a8a81-f89409544f869cea-01 outer:exit 2b-4f4725726c4094667d5e8914879053c5c08a8a81-918c8b9520fb8607-01
2021-09-13T19:08:07.086Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:08:07.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-29c1642e9c85a7141db46a72cfc18d6684b3d1ef-8f99e6add06a6716-01 outer:exit 2b-29c1642e9c85a7141db46a72cfc18d6684b3d1ef-db386ec920f18696-01
2021-09-13T19:08:07.091Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:08:07.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-1132abccd049be297d398cda94bc7362b0eff04f-bd4b1188dd0bff42-01 outer:exit 2b-1132abccd049be297d398cda94bc7362b0eff04f-9425d68a784737d1-01
2021-09-13T19:08:07.096Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:08:07.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1980a10961db55ae97b5bbd41f189291eac3d9a-5adb206510e78e54-01 outer:exit 2b-c1980a10961db55ae97b5bbd41f189291eac3d9a-d637efb1b6930721-01
2021-09-13T19:08:07.105Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:08:07.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-175cd19ff1e4d5885d2a5c548624d44414864ed7-e0e041273b9b6372-01 outer:exit 2b-175cd19ff1e4d5885d2a5c548624d44414864ed7-35e4832f1cd9abd0-01
2021-09-13T19:08:07.123Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:08:07.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7fe4c20e98e77127f2a80ad11a7100c776ac164-ab436040480f18fa-01 outer:exit 2b-a7fe4c20e98e77127f2a80ad11a7100c776ac164-5feaebea605f59f9-01
2021-09-13T19:08:07.158Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:08:07.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-105657eaa2c32c2ec1231136d5f4e9a0bb440480-9f2ed9bdd40f8291-01 outer:exit 2b-105657eaa2c32c2ec1231136d5f4e9a0bb440480-e7db614796ccead0-01
2021-09-13T19:08:07.162Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:08:07.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-4135131402005d97af1e79e9f178f69b420a75db-451086b28f6fa97d-01 outer:exit 2b-4135131402005d97af1e79e9f178f69b420a75db-ba343e963c9feabb-01
2021-09-13T19:08:07.164Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:08:07.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-04207430306b033ca10413a0e7c962a61b9712fa-843232149a1b8b22-01 outer:exit 2b-04207430306b033ca10413a0e7c962a61b9712fa-5a7e661b9eb685d5-01
2021-09-13T19:08:07.170Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:08:07.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-1247b802afce69ba87a77b9938a3eb77ae88d1a7-24b47d550737fbc3-01 outer:exit 2b-1247b802afce69ba87a77b9938a3eb77ae88d1a7-a36499412d2c31bd-01
2021-09-13T19:08:07.173Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:08:07.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-822b6d0eb01ddfc84d7b25a750f16c2cebf30a83-0a5a8ffd3d942109-01 outer:exit 2b-822b6d0eb01ddfc84d7b25a750f16c2cebf30a83-2aefc97ba103a9d3-01
2021-09-13T19:08:07.176Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:08:07.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-f302c72bd8fb98aaea0ec42441721947e50e2f17-aa02665b4fafd024-01 outer:exit 2b-f302c72bd8fb98aaea0ec42441721947e50e2f17-1f53a6bb2c3af889-01
2021-09-13T19:08:07.179Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:08:07.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ebc4097b011d94d6d25294a25aaae50436e0262-a54f842713b3b75a-01 outer:exit 2b-6ebc4097b011d94d6d25294a25aaae50436e0262-612e60522f701ff7-01
2021-09-13T19:08:07.181Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:08:07.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa68adb06813dd2bda824366846256daa1621065-97128c5beda74926-01 outer:exit 2b-aa68adb06813dd2bda824366846256daa1621065-950ad5c5a77f95d2-01
2021-09-13T19:08:07.184Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:08:07.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca5b521c122e4b295a518f27b1e9cf67738653d5-5b7de70bf1603e11-01 outer:exit 2b-ca5b521c122e4b295a518f27b1e9cf67738653d5-463c502f689d2fc3-01
2021-09-13T19:08:07.188Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:08:07.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a07851d62738a897af4a5a8b86a9dfae9196d72-0a3aa4d4cb401cfa-01 outer:exit 2b-5a07851d62738a897af4a5a8b86a9dfae9196d72-027089f5e85c30a6-01
2021-09-13T19:08:07.191Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:08:07.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-b461e5d8232d15c2db32507580de79c67113f7bf-c176f5f1404e7c70-01 outer:exit 2b-b461e5d8232d15c2db32507580de79c67113f7bf-7f6d9619d33fa223-01
2021-09-13T19:08:07.194Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:08:07.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-21f91d61640b286b8405d6872a87b3d5d3624f3f-f6d92328b1500b4b-01 outer:exit 2b-21f91d61640b286b8405d6872a87b3d5d3624f3f-16762c829e2efe65-01
2021-09-13T19:08:07.197Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:08:07.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e4bedb9fa860674dc67dc41cb9bfbe18cf40f92-11a2b78dd953e8b2-01 outer:exit 2b-9e4bedb9fa860674dc67dc41cb9bfbe18cf40f92-afbfb891192ec0fc-01
2021-09-13T19:08:07.205Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:08:07.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-100b1770986376f4f5d14c69b76e46bc2476a962-18d2da146e2d8a00-01 outer:exit 2b-100b1770986376f4f5d14c69b76e46bc2476a962-df55df199865cd1e-01
2021-09-13T19:08:07.210Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:08:07.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-fda3ffe44a0ce270ca44d9fcc897b0c198b8f92e-88ee7c346e06a33c-01 outer:exit 2b-fda3ffe44a0ce270ca44d9fcc897b0c198b8f92e-1d48d62b8bd61663-01
2021-09-13T19:08:07.220Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:08:07.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5621d34a1b4b38862095d9aba89d3eaaaabf41c-335fd1070b3eb43b-01 outer:exit 2b-e5621d34a1b4b38862095d9aba89d3eaaaabf41c-3a4f943dd1622892-01
2021-09-13T19:08:07.228Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:08:07.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1aa9aa50b6b673e75efc814a6c9997102055869-5b93318943e544df-01 outer:exit 2b-d1aa9aa50b6b673e75efc814a6c9997102055869-0bb72b09a613778e-01
2021-09-13T19:08:07.231Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:08:07.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-762f4814534d780fa7a17e8fb39681e9fafd68da-9f36cd5a634da137-01 outer:exit 2b-762f4814534d780fa7a17e8fb39681e9fafd68da-e8e084a028422d81-01
2021-09-13T19:08:07.235Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:08:07.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-754ed5a8774fcb194996f0a15e05a11167198820-d063b22e73965c24-01 outer:exit 2b-754ed5a8774fcb194996f0a15e05a11167198820-e5a38089600dcf2b-01
2021-09-13T19:08:07.244Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:08:07.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff9694fd2bb3db9fc93717bf9133b7286ce017a5-31b65cef0ea157ef-01 outer:exit 2b-ff9694fd2bb3db9fc93717bf9133b7286ce017a5-e9999be7368c646a-01
2021-09-13T19:08:07.247Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:08:07.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-6057c15d0e742c94c7760f2cc1d82b773ea16db3-a32111e0e2cff73f-01 outer:exit 2b-6057c15d0e742c94c7760f2cc1d82b773ea16db3-9171a358733b391d-01
2021-09-13T19:08:07.249Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:08:07.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-4864b289f24854b32e59864a31c6e584b453c4c1-af6f41e85eeb2311-01 outer:exit 2b-4864b289f24854b32e59864a31c6e584b453c4c1-97a4a622bc49c9c6-01
2021-09-13T19:08:07.252Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:08:07.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa93094da307bb1a4bd9eb232f97e46ddca2d8b7-9d22240368ae30e1-01 outer:exit 2b-aa93094da307bb1a4bd9eb232f97e46ddca2d8b7-3ccb93bd8ba12b7a-01
2021-09-13T19:08:07.260Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:08:07.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-87734d76665d4310c7dc0780f0929539915d6cef-cb0fc455c913c316-01 outer:exit 2b-87734d76665d4310c7dc0780f0929539915d6cef-f327be3da1d51357-01
2021-09-13T19:08:07.262Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:08:07.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-42eeb8de9ad0e9e70560c9efafe79d32bd6d742a-6670df4551bfbac7-01 outer:exit 2b-42eeb8de9ad0e9e70560c9efafe79d32bd6d742a-aaa8ec457ebcb711-01
2021-09-13T19:08:07.272Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:08:07.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a65538d3077d39af68eaf3a7c29a382c35c5fc-e0dceb9bb76c9412-01 outer:exit 2b-42a65538d3077d39af68eaf3a7c29a382c35c5fc-6180f6af3613536c-01
2021-09-13T19:08:07.286Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:08:07.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bb318280b951669a47fd3f1dbf3bcc07467c139-7353083c6d7ceaae-01 outer:exit 2b-3bb318280b951669a47fd3f1dbf3bcc07467c139-e249bbfa7add81d7-01
2021-09-13T19:08:07.290Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:08:07.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-94ccac90e829bda6d3321901d2badb409874591b-265078bb6e4676cd-01 outer:exit 2b-94ccac90e829bda6d3321901d2badb409874591b-0c4e3f0aa3b0cfbe-01
2021-09-13T19:08:07.293Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:08:07.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-708d85f1e368cf669521307df7bae98dccdea592-2bd0b78ba8e8c712-01 outer:exit 2b-708d85f1e368cf669521307df7bae98dccdea592-dabb663d2945f8e7-01
2021-09-13T19:08:07.296Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:08:07.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1057544e0f8c75dce1d780f2ecc2da4f6ff0887-d1cf29f8cfa52add-01 outer:exit 2b-a1057544e0f8c75dce1d780f2ecc2da4f6ff0887-158a829b45a050c8-01
2021-09-13T19:08:07.327Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (364ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:15.749Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:15.750Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:15.750Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:15.751Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:15.826Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:15.874Z appoptics:patching patched crypto 
2021-09-13T19:08:15.899Z appoptics:patching patched https 
2021-09-13T19:08:15.900Z appoptics:patching patched http 
2021-09-13T19:08:15.952Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:15.953Z appoptics:patching patched fs 
2021-09-13T19:08:15.991Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v16.9.1)
2021-09-13T19:08:16.001Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-09-13T19:08:16.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-a46b1f15fd3f262d8e9a8ee416f47f0beca65cf9-6916c141f551a604-01 outer:exit 2b-a46b1f15fd3f262d8e9a8ee416f47f0beca65cf9-a83a0c91dae0659f-01
2021-09-13T19:08:16.212Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:08:16.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5644b8490177f47fd7eac435b98ab8752486a71-d1af8fd425a5a402-01 outer:exit 2b-e5644b8490177f47fd7eac435b98ab8752486a71-8e27c1a9970d7b69-01
2021-09-13T19:08:16.250Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:08:16.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-731a7feb1422fd6a841450dc1711fb752f31da9b-c8b94706fcd6fce7-01 outer:exit 2b-731a7feb1422fd6a841450dc1711fb752f31da9b-633fe59ee883706d-01
2021-09-13T19:08:16.254Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:08:16.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-845c51461809d999d1833018e61f92269872eb4a-344046e3db3ab217-01 outer:exit 2b-845c51461809d999d1833018e61f92269872eb4a-e54d5067e634e6db-01
2021-09-13T19:08:16.258Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:08:16.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-56bf58d98adbdec5fee7d76b460118ec82b696e7-ea3695a587595dda-01 outer:exit 2b-56bf58d98adbdec5fee7d76b460118ec82b696e7-446dc0cc78de26ec-01
2021-09-13T19:08:16.263Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:08:16.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-f296a40fdb435e7eb60492c161a51ddcf6dc6254-ef7ac341f0dd56fd-01 outer:exit 2b-f296a40fdb435e7eb60492c161a51ddcf6dc6254-12b9d431659806d1-01
2021-09-13T19:08:16.267Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:08:16.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-e18a6991f8cbfd3398229c58e871d3fc33c51525-5303621be38c0999-01 outer:exit 2b-e18a6991f8cbfd3398229c58e871d3fc33c51525-fc10d9c2a7a30a22-01
2021-09-13T19:08:16.270Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:08:16.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-80f5b284a8102d3319baaeaf524ebd648094c1f3-5486a93f7a4ad2c6-01 outer:exit 2b-80f5b284a8102d3319baaeaf524ebd648094c1f3-3f735840a3a57e44-01
2021-09-13T19:08:16.273Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:08:16.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f72ca207cf96916a5c771e1ecac730e243651c3-f614d1f2491e022a-01 outer:exit 2b-8f72ca207cf96916a5c771e1ecac730e243651c3-5257bf22ac1ac93b-01
2021-09-13T19:08:16.276Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:08:16.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-144efbe6a146ef2ad925e313004d3d8552465f1a-38bba3e76f2a27a2-01 outer:exit 2b-144efbe6a146ef2ad925e313004d3d8552465f1a-2ec29cbdf928e4a1-01
2021-09-13T19:08:16.280Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:08:16.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc99f2164d7f927e698664055420efd082fac348-96015bc7835cbb00-01 outer:exit 2b-cc99f2164d7f927e698664055420efd082fac348-f6a16975d4cd9ae9-01
2021-09-13T19:08:16.284Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:08:16.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-cff5b6cdd6e4fad25a0350a415c36fa62c582a5a-8f0f6acd7be37954-01 outer:exit 2b-cff5b6cdd6e4fad25a0350a415c36fa62c582a5a-1b03c806583d915a-01
2021-09-13T19:08:16.291Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:08:16.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ebb3c2f8ea5e61d53f8988148ead64dd6d1bed0-a1faacea38cfb0d8-01 outer:exit 2b-3ebb3c2f8ea5e61d53f8988148ead64dd6d1bed0-f7fd676954a2ebb1-01
2021-09-13T19:08:16.309Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:08:16.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-36192b83ad004ed53503aecd6e23f86401ab0794-ca7e9e77230177e5-01 outer:exit 2b-36192b83ad004ed53503aecd6e23f86401ab0794-6edf5098bff62c56-01
2021-09-13T19:08:16.347Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:08:16.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe68ad534d9914685e1077b10be2e59b33d96075-f85a069edb4f6666-01 outer:exit 2b-fe68ad534d9914685e1077b10be2e59b33d96075-9186d5168a831f16-01
2021-09-13T19:08:16.350Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:08:16.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a2088ccae0c1f394c9b239f6dc7883f576cd27a-9a392a02878585f9-01 outer:exit 2b-5a2088ccae0c1f394c9b239f6dc7883f576cd27a-48f45a45095bffa8-01
2021-09-13T19:08:16.352Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:08:16.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c0eaa82c5632e5aa64a2d4e2ecd1af213b522f6-2d343fd2cc740cdc-01 outer:exit 2b-4c0eaa82c5632e5aa64a2d4e2ecd1af213b522f6-6cd5f80b1fe9b64f-01
2021-09-13T19:08:16.356Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:08:16.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcd264c1af8cc9f521ae9e2c62698a131efb7a6c-19bfcd3f397a8ed4-01 outer:exit 2b-bcd264c1af8cc9f521ae9e2c62698a131efb7a6c-2459e31724445463-01
2021-09-13T19:08:16.359Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:08:16.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-66015a4bfedf468861df605c5f29be1e0fa2ec93-3e917edda8916306-01 outer:exit 2b-66015a4bfedf468861df605c5f29be1e0fa2ec93-54291d31c1ffd843-01
2021-09-13T19:08:16.361Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:08:16.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4211b920d14a0b0cfb4c18ccfb857c81be77407-d7a7dad9e6e957c0-01 outer:exit 2b-a4211b920d14a0b0cfb4c18ccfb857c81be77407-a771b65ce88d33fe-01
2021-09-13T19:08:16.364Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:08:16.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b74248b56eb6c54e03f4f09629f167b1da6fe6e-1eda522585542277-01 outer:exit 2b-1b74248b56eb6c54e03f4f09629f167b1da6fe6e-5fc060a55b5b18f7-01
2021-09-13T19:08:16.367Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:08:16.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea0f2c8815de229f72c33e9fa69294e7b7896592-027f36586d8ea31b-01 outer:exit 2b-ea0f2c8815de229f72c33e9fa69294e7b7896592-123a1ee36b1ca42d-01
2021-09-13T19:08:16.370Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:08:16.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-93b6c0e5bf4fe15f94a9f6df3624069e1dfece0f-229402f0ffd4771d-01 outer:exit 2b-93b6c0e5bf4fe15f94a9f6df3624069e1dfece0f-bed41d527b3c7919-01
2021-09-13T19:08:16.374Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:08:16.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b86f4f13df55efe89e3e3bb8d9253e687eabc31-e6581bc56d25c2c7-01 outer:exit 2b-8b86f4f13df55efe89e3e3bb8d9253e687eabc31-8dcf9033685b88db-01
2021-09-13T19:08:16.378Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:08:16.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-10783bcaf834578ec87b0cc61c95d03e47d6848c-5fea2e9716cd6a13-01 outer:exit 2b-10783bcaf834578ec87b0cc61c95d03e47d6848c-e599f5d805af4391-01
2021-09-13T19:08:16.381Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:08:16.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cf7933ac264fc3e06ec843b1b9f235fd60641ab-eb090427718af6ff-01 outer:exit 2b-9cf7933ac264fc3e06ec843b1b9f235fd60641ab-7482e95ee9c46041-01
2021-09-13T19:08:16.384Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:08:16.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-5381bdd805492b25311fec095bf42d705ddac9f7-34b8a40bb597b24f-01 outer:exit 2b-5381bdd805492b25311fec095bf42d705ddac9f7-d6f08f0098af2a21-01
2021-09-13T19:08:16.392Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:08:16.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-781d94e94ba5ebbf8739905dfb6fc66d5a182ce1-0f103aec3491aab6-01 outer:exit 2b-781d94e94ba5ebbf8739905dfb6fc66d5a182ce1-514bb53ab7222904-01
2021-09-13T19:08:16.397Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:08:16.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-fefdfbcb261016fd49e79c6963ba3450f7fa854c-e2101301ea936642-01 outer:exit 2b-fefdfbcb261016fd49e79c6963ba3450f7fa854c-b2c5478b009f480d-01
2021-09-13T19:08:16.409Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:08:16.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-6353de15978b053be2c50e5bea1735a444e714b0-278cd5324ab46889-01 outer:exit 2b-6353de15978b053be2c50e5bea1735a444e714b0-aa9e046962868716-01
2021-09-13T19:08:16.416Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:08:16.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ff788f2313ed8f725caa87ac35106ce55c93ca-f6608ea7f80289d2-01 outer:exit 2b-b0ff788f2313ed8f725caa87ac35106ce55c93ca-910a83be26189750-01
2021-09-13T19:08:16.418Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:08:16.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a3f278d320319e951d550c6ed3970da716cb575-94e49647c23a415b-01 outer:exit 2b-4a3f278d320319e951d550c6ed3970da716cb575-ac8c5f50eae82496-01
2021-09-13T19:08:16.423Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:08:16.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcb9fbb4043c18cafefb4fc34fcd86f7c763bcce-4c30f6fd80fcdd45-01 outer:exit 2b-fcb9fbb4043c18cafefb4fc34fcd86f7c763bcce-adf380db7d2d98c2-01
2021-09-13T19:08:16.431Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:08:16.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-82f631584b60f87bb7c36be7593b3178b0a2550e-1584b9b5d2de029d-01 outer:exit 2b-82f631584b60f87bb7c36be7593b3178b0a2550e-096b1dba55b40ad5-01
2021-09-13T19:08:16.433Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:08:16.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-2143e9a03e237ca363d98bd00acb1df5b5a39369-9b015bf34a9d95bd-01 outer:exit 2b-2143e9a03e237ca363d98bd00acb1df5b5a39369-d68279807833290f-01
2021-09-13T19:08:16.436Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:08:16.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-06edd156e6688aea09db9c42eac9c02b258581cf-3b83237ec8897000-01 outer:exit 2b-06edd156e6688aea09db9c42eac9c02b258581cf-ea244734a5751c5b-01
2021-09-13T19:08:16.442Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:08:16.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5d41deac47f4681dc30ec25168a5d0bb3bfbfa0-16a6f88b22c83406-01 outer:exit 2b-d5d41deac47f4681dc30ec25168a5d0bb3bfbfa0-ae99c761ba008af1-01
2021-09-13T19:08:16.445Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:08:16.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b2f1bb2ab8b9fbf4b1918f4e297722fa9e39e8a-7d9675479dce1e6b-01 outer:exit 2b-7b2f1bb2ab8b9fbf4b1918f4e297722fa9e39e8a-d4d6aaaa3ff85530-01
2021-09-13T19:08:16.447Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:08:16.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c3bd7191d808594fef7fffa29eadcf9bca4922b-b7c491e30db4f4ec-01 outer:exit 2b-9c3bd7191d808594fef7fffa29eadcf9bca4922b-41e0385a628bb198-01
2021-09-13T19:08:16.457Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:08:16.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-15f880e2865c3a44bc6daf0156f7dd95bba8fa26-1c044a45feacdb52-01 outer:exit 2b-15f880e2865c3a44bc6daf0156f7dd95bba8fa26-08b3f557920cb24b-01
2021-09-13T19:08:16.469Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:08:16.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ed4a48c031c408b4238c3e7ec1044ec9f9a5a5-74b6ea29d81076c1-01 outer:exit 2b-09ed4a48c031c408b4238c3e7ec1044ec9f9a5a5-e9dbd9874619f441-01
2021-09-13T19:08:16.472Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:08:16.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c3ff89689d532436a49583c813c4d12b8fe3dbd-0c362a5f70880114-01 outer:exit 2b-4c3ff89689d532436a49583c813c4d12b8fe3dbd-8c491dade017aba6-01
2021-09-13T19:08:16.475Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:08:16.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c48fc9b8cf22f75909aee3fa9cd071c965493d3-86730b05de83e3a4-01 outer:exit 2b-3c48fc9b8cf22f75909aee3fa9cd071c965493d3-f4fff509a5f22d96-01
2021-09-13T19:08:16.478Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:08:16.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c2aed3f8d59d9d87b23ae2ff6954ec51e4625cf-a1ff856ad8b987a3-01 outer:exit 2b-1c2aed3f8d59d9d87b23ae2ff6954ec51e4625cf-5c971a96d5e8ec69-01
2021-09-13T19:08:16.510Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (345ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:24.629Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:24.636Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:24.636Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:24.637Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:24.730Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:24.791Z appoptics:patching patched crypto 
2021-09-13T19:08:24.821Z appoptics:patching patched https 
2021-09-13T19:08:24.821Z appoptics:patching patched http 
2021-09-13T19:08:24.873Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:24.875Z appoptics:patching patched fs 
2021-09-13T19:08:24.914Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v16.9.1)
2021-09-13T19:08:24.923Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-09-13T19:08:25.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-46191a613e498411a31cfd148b7070b1357a3bbc-c81dbcb2c0177b3a-01 outer:exit 2b-46191a613e498411a31cfd148b7070b1357a3bbc-f329a7793e8fac64-01
2021-09-13T19:08:25.178Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:08:25.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b14f7012219c43b9ec0dcc54427361a8ec4a80f-2e467497132d730c-01 outer:exit 2b-1b14f7012219c43b9ec0dcc54427361a8ec4a80f-88903183d739be6c-01
2021-09-13T19:08:25.251Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:08:25.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3b8a66890ccda254c10e3ab5745d8024aa28c91-6880549a857251ec-01 outer:exit 2b-c3b8a66890ccda254c10e3ab5745d8024aa28c91-a4ea51d4a0c929b5-01
2021-09-13T19:08:25.256Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:08:25.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-25516d5068db96d3b92a474f4c467c4993171502-5a73497c444e6fc9-01 outer:exit 2b-25516d5068db96d3b92a474f4c467c4993171502-afef562de1c9c3ec-01
2021-09-13T19:08:25.259Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:08:25.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef986ac3617b555bdbab3a200425f7cde3b6c2b9-b2beff494847c9a3-01 outer:exit 2b-ef986ac3617b555bdbab3a200425f7cde3b6c2b9-524f027e94476c58-01
2021-09-13T19:08:25.266Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:08:25.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-24418b0503edc3d6159e17877a0374e81343c345-3dc0ebbfb63d8135-01 outer:exit 2b-24418b0503edc3d6159e17877a0374e81343c345-19e6774a64881449-01
2021-09-13T19:08:25.270Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:08:25.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ed7b06a1d857ad1c811ae34aee27b9a2ad59354-39d130a837faa56b-01 outer:exit 2b-8ed7b06a1d857ad1c811ae34aee27b9a2ad59354-0c794d43faecd5ed-01
2021-09-13T19:08:25.273Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:08:25.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-0be11cf03a57e8f8d11d3df51168a534c5cb4e3c-b643d8b3275fed4f-01 outer:exit 2b-0be11cf03a57e8f8d11d3df51168a534c5cb4e3c-6a49fddacd8f1c82-01
2021-09-13T19:08:25.276Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:08:25.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-56c492781dbded22c1dead7e21c60e96a8c7f203-e346d0e3f186f7b4-01 outer:exit 2b-56c492781dbded22c1dead7e21c60e96a8c7f203-23558108723d70f7-01
2021-09-13T19:08:25.280Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:08:25.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1e8f3194b1b8e3a0cbccfe1de811a7b9f32e37c-bbc7cf4f6a26d8a7-01 outer:exit 2b-a1e8f3194b1b8e3a0cbccfe1de811a7b9f32e37c-37cf5a0e795c9e01-01
2021-09-13T19:08:25.284Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:08:25.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a5223cb5c3e6d402047f8b215ea09a9f25678ca-f68b7b9c0727d03f-01 outer:exit 2b-4a5223cb5c3e6d402047f8b215ea09a9f25678ca-3355e07d43aaf221-01
2021-09-13T19:08:25.289Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:08:25.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-74d784a286b4ec9e165aa45d2b57c0ec0b77a636-6207f004f3d9fae5-01 outer:exit 2b-74d784a286b4ec9e165aa45d2b57c0ec0b77a636-f8650783a5a2e075-01
2021-09-13T19:08:25.296Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:08:25.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-0600abc0e0a594bac70538cef2a2ddc81f817110-51045a7232e33ecf-01 outer:exit 2b-0600abc0e0a594bac70538cef2a2ddc81f817110-567a1ec2330d247c-01
2021-09-13T19:08:25.316Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:08:25.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-524ed0df39ca9918a0ce7f3d7cc9394838209bfe-53feb52d8029a7c6-01 outer:exit 2b-524ed0df39ca9918a0ce7f3d7cc9394838209bfe-2424678154835a4b-01
2021-09-13T19:08:25.364Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:08:25.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-c21aef78de43efecd8a7fad21fe534be123eb1ea-f542947ffa9368e9-01 outer:exit 2b-c21aef78de43efecd8a7fad21fe534be123eb1ea-56175c3501225ba0-01
2021-09-13T19:08:25.367Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:08:25.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-c98f9f331b0f010784f692492fc88cb2c522f894-7a39b1d3339264a5-01 outer:exit 2b-c98f9f331b0f010784f692492fc88cb2c522f894-ef22847d8d6fb8bc-01
2021-09-13T19:08:25.370Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:08:25.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-85939ba04377e6e8db6536efe19f3890b0c05c10-659af3fb54bf2e6b-01 outer:exit 2b-85939ba04377e6e8db6536efe19f3890b0c05c10-a89d6c713b054309-01
2021-09-13T19:08:25.377Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:08:25.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-a60dfbe8da433c4b3e0f6e725e1165e0bebb1811-5d5654ac829f518e-01 outer:exit 2b-a60dfbe8da433c4b3e0f6e725e1165e0bebb1811-958457094c0ffb4f-01
2021-09-13T19:08:25.381Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:08:25.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ac50b69e84936a81aadcefe1a50a16c2ddbe63c-32a2723ef9cd44ad-01 outer:exit 2b-5ac50b69e84936a81aadcefe1a50a16c2ddbe63c-04cc5d5bd2f24130-01
2021-09-13T19:08:25.383Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:08:25.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-3279abcd9fc9b34dcc474e04abbb5e7ed6a0e900-c1c1a8dfa0faa233-01 outer:exit 2b-3279abcd9fc9b34dcc474e04abbb5e7ed6a0e900-818212997cb3b018-01
2021-09-13T19:08:25.386Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:08:25.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-732148ca20064bf4cb736c39fd8cb04c79a2f19c-5566eed55c180977-01 outer:exit 2b-732148ca20064bf4cb736c39fd8cb04c79a2f19c-363185fee427c175-01
2021-09-13T19:08:25.393Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:08:25.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-d92d8acfee65eea8be36367ffe379a839b4a6cb1-40c05d137502828b-01 outer:exit 2b-d92d8acfee65eea8be36367ffe379a839b4a6cb1-0c2002c8f35a459e-01
2021-09-13T19:08:25.396Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:08:25.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-12450647c2b090e68a9cd5ad3071396e9509f603-6f5eadf9d7142c8f-01 outer:exit 2b-12450647c2b090e68a9cd5ad3071396e9509f603-ca792abfde46e127-01
2021-09-13T19:08:25.402Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:08:25.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93e758dc44dfd74a57fbb4c91b967d2fd4e2bdf-347e65d147760eac-01 outer:exit 2b-a93e758dc44dfd74a57fbb4c91b967d2fd4e2bdf-827d75193452194c-01
2021-09-13T19:08:25.407Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:08:25.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-88894d7c32bca273c2fdecd339426c2d27013aa6-2b7459849230adcb-01 outer:exit 2b-88894d7c32bca273c2fdecd339426c2d27013aa6-122e5bf8a6d280cb-01
2021-09-13T19:08:25.413Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:08:25.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-c463e7d1dbde9450cd8a471a6628d7b1258afd0d-34a700f79fca5000-01 outer:exit 2b-c463e7d1dbde9450cd8a471a6628d7b1258afd0d-8230f5a43abe406f-01
2021-09-13T19:08:25.416Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:08:25.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f7ad9134676e8f9cdffe3b2f1eda0ed705883ed-8a6f6920c0d3f08f-01 outer:exit 2b-0f7ad9134676e8f9cdffe3b2f1eda0ed705883ed-ea230e0e58de8b05-01
2021-09-13T19:08:25.426Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:08:25.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b9a51cfdf90e3774b6b4f6c9f4a035d6b4aab3f-f76a8312b41e5ea7-01 outer:exit 2b-1b9a51cfdf90e3774b6b4f6c9f4a035d6b4aab3f-87453d44f5e505cd-01
2021-09-13T19:08:25.435Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:08:25.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1c84e24b11726e437311d555c05e6abcee99bfa-63c0509abe6e1be1-01 outer:exit 2b-f1c84e24b11726e437311d555c05e6abcee99bfa-d2de5a33793430ef-01
2021-09-13T19:08:25.446Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:08:25.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0c74a7081c1baacf211a8d8459c947f93fcd31b-c6de0168aa9b8ba1-01 outer:exit 2b-c0c74a7081c1baacf211a8d8459c947f93fcd31b-db9501b59b574a64-01
2021-09-13T19:08:25.455Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:08:25.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b9e00ae288550ac80334d8e5e574c81661f424-fc237936a58dd8b6-01 outer:exit 2b-58b9e00ae288550ac80334d8e5e574c81661f424-6d59cd20395bd9a3-01
2021-09-13T19:08:25.458Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:08:25.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-326a0cefbc93a12368fc62b28623c5720a591ffd-f44f1c7a89df34fe-01 outer:exit 2b-326a0cefbc93a12368fc62b28623c5720a591ffd-b48ac5736febd9c3-01
2021-09-13T19:08:25.465Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:08:25.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bc14c708e3b23cb7f65799a64fdb1f5702690e8-af8b216183a58655-01 outer:exit 2b-6bc14c708e3b23cb7f65799a64fdb1f5702690e8-2b141edcd2b2fd71-01
2021-09-13T19:08:25.475Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:08:25.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-754aafb7f957aa8865dfaffa8a9c16bc8eafa2c1-c76507544eea7849-01 outer:exit 2b-754aafb7f957aa8865dfaffa8a9c16bc8eafa2c1-d35e21a6ba5a5104-01
2021-09-13T19:08:25.477Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:08:25.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2c9fd7d244c0a7198ed933474c2021fe2f28d7b-529e37abf0dcc8a5-01 outer:exit 2b-f2c9fd7d244c0a7198ed933474c2021fe2f28d7b-d63b6d285faf46ac-01
2021-09-13T19:08:25.480Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:08:25.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a74aff922fe53429a8f29d1229468e60ff32e37-924a877911ee9d39-01 outer:exit 2b-6a74aff922fe53429a8f29d1229468e60ff32e37-c7553d139ef0fd62-01
2021-09-13T19:08:25.485Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:08:25.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-c177af2d583ef4da214139d0b84939f61eaea02d-4e67752af8dc6b13-01 outer:exit 2b-c177af2d583ef4da214139d0b84939f61eaea02d-9a58da5a30a5c673-01
2021-09-13T19:08:25.488Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:08:25.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b3ad37fc44e71d23ba344589b8f6e3f731f09c5-2d85838290250084-01 outer:exit 2b-6b3ad37fc44e71d23ba344589b8f6e3f731f09c5-b74bb6eebec2afb5-01
2021-09-13T19:08:25.493Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:08:25.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad16a4d75824b0ffc14a82b642cd38b507487ff3-3d997766530d445e-01 outer:exit 2b-ad16a4d75824b0ffc14a82b642cd38b507487ff3-8fa0c8383920305f-01
2021-09-13T19:08:25.505Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:08:25.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0e0a852894809a9f1924ba0e5f99452dcfbd751-6b4f21072f052382-01 outer:exit 2b-c0e0a852894809a9f1924ba0e5f99452dcfbd751-bd10ea2f9f2c5434-01
2021-09-13T19:08:25.520Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:08:25.526Z appoptics:debug span.exit - no last event outer outer:entry 2b-b62bec13280cbec3640d09c9e07b02700837bf6b-1437ff0499c2dc4c-01 outer:exit 2b-b62bec13280cbec3640d09c9e07b02700837bf6b-cf657dbedf1db8a4-01
2021-09-13T19:08:25.526Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:08:25.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f3e4d0c77211da56dad20a61a584c4242471bd8-ecf56c8b5cb59070-01 outer:exit 2b-3f3e4d0c77211da56dad20a61a584c4242471bd8-46ebdf2548abbd92-01
2021-09-13T19:08:25.531Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:08:25.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-36f8ab64bbbf3d8d9c887b1eaf866371e2a41176-0a3d4dd5d3d991ee-01 outer:exit 2b-36f8ab64bbbf3d8d9c887b1eaf866371e2a41176-f39ad52eda7dfcde-01
2021-09-13T19:08:25.537Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:08:25.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-21fecf55812f0913dd85bee94252fc0341889555-897af8aeb55fb602-01 outer:exit 2b-21fecf55812f0913dd85bee94252fc0341889555-1c4bcf16d73b4ee1-01
2021-09-13T19:08:25.575Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (444ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:33.432Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:33.433Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:33.433Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:33.434Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:33.507Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:33.557Z appoptics:patching patched crypto 
2021-09-13T19:08:33.582Z appoptics:patching patched https 
2021-09-13T19:08:33.583Z appoptics:patching patched http 
2021-09-13T19:08:33.631Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:33.632Z appoptics:patching patched fs 
2021-09-13T19:08:33.672Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v16.9.1)
2021-09-13T19:08:33.681Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-09-13T19:08:33.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-073740e3fb0dee151dc037067cac039f2c9810a2-9e968beeeabeb103-01 outer:exit 2b-073740e3fb0dee151dc037067cac039f2c9810a2-72666ca67d9969d6-01
2021-09-13T19:08:33.917Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:08:33.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb5cc984e12f5d2f079a5ea735361050b34813c3-2d0b9fcc2088518e-01 outer:exit 2b-eb5cc984e12f5d2f079a5ea735361050b34813c3-ee2dc9a76e4e1855-01
2021-09-13T19:08:33.962Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:08:33.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-800f90e367710f1f3e142b305527b0b3720b2582-f09cceacb0f625df-01 outer:exit 2b-800f90e367710f1f3e142b305527b0b3720b2582-b59a209e2b0755d5-01
2021-09-13T19:08:33.966Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:08:33.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-47298bdf7d4c916baa0571ee2308f8a3c6d4feff-9e54a038f8c8b7bd-01 outer:exit 2b-47298bdf7d4c916baa0571ee2308f8a3c6d4feff-99d60790d661cac9-01
2021-09-13T19:08:33.969Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:08:33.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2c9595f46cfe5ec76dd7cc455b07582250b5a63-48144a2297f73b0d-01 outer:exit 2b-d2c9595f46cfe5ec76dd7cc455b07582250b5a63-4b09b2ff53691cc1-01
2021-09-13T19:08:33.975Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:08:33.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cd28c16b4ec2343b6ffdc0674a36dac9ff40d96-d504180108e6b03c-01 outer:exit 2b-9cd28c16b4ec2343b6ffdc0674a36dac9ff40d96-69191b58b138ef39-01
2021-09-13T19:08:33.979Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:08:33.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e403def294ec8e52eecd2e476cfc3891a156fc6-4cbe638053b969cc-01 outer:exit 2b-9e403def294ec8e52eecd2e476cfc3891a156fc6-5b42b9253f68d1de-01
2021-09-13T19:08:33.981Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:08:33.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-07349bc9df289ae5cc831ff34f1787097468164c-d7b856653f7c395d-01 outer:exit 2b-07349bc9df289ae5cc831ff34f1787097468164c-8eab648c6e8ce4cf-01
2021-09-13T19:08:33.985Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:08:33.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4ca027300cb641ad7302ce3d1098354f286bd58-1c71e7ead2928621-01 outer:exit 2b-e4ca027300cb641ad7302ce3d1098354f286bd58-c111f2226079cac1-01
2021-09-13T19:08:33.988Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:08:33.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-474cf13edcbbe15572dfb8f5b644797c27210d86-339e111a8adf0605-01 outer:exit 2b-474cf13edcbbe15572dfb8f5b644797c27210d86-1116261daffbdf25-01
2021-09-13T19:08:33.992Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:08:33.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd58c3805403e1a430aa133a7e7888c98d2eb815-2ae1fba69aae4276-01 outer:exit 2b-bd58c3805403e1a430aa133a7e7888c98d2eb815-28b152a94f2480dc-01
2021-09-13T19:08:33.996Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:08:34.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-b163d430dbf850ac58da62b77fdc329b345dddc4-457b044aa460440e-01 outer:exit 2b-b163d430dbf850ac58da62b77fdc329b345dddc4-0e8cd78fedc499b1-01
2021-09-13T19:08:34.003Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:08:34.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-91aa666f9cc7a9594b88166ada3dc64ce7bc83d1-9bacb0fb3710fa83-01 outer:exit 2b-91aa666f9cc7a9594b88166ada3dc64ce7bc83d1-8324a9fbcc72c4ed-01
2021-09-13T19:08:34.019Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:08:34.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8bf46e1d5936aac9dd4d35555a396a393f1b42d-dc3e367594d9ea0b-01 outer:exit 2b-a8bf46e1d5936aac9dd4d35555a396a393f1b42d-deafaf06127f89cd-01
2021-09-13T19:08:34.062Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:08:34.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5df01d471b8e76277ce7818913a2e576e6980a6-0cd45fa4a04c5502-01 outer:exit 2b-e5df01d471b8e76277ce7818913a2e576e6980a6-0b2ea5a6c7f4f79b-01
2021-09-13T19:08:34.066Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:08:34.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e7f679674e7da7aac58c8b02dfc2b9cd0d4641b-a9d714a46cd37e14-01 outer:exit 2b-4e7f679674e7da7aac58c8b02dfc2b9cd0d4641b-d40c1ce299ad9472-01
2021-09-13T19:08:34.069Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:08:34.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-53e89a2f024be9737e0483c704b1e55bb8ba1cf2-365b1b460c36675a-01 outer:exit 2b-53e89a2f024be9737e0483c704b1e55bb8ba1cf2-80711077907f4fb1-01
2021-09-13T19:08:34.072Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:08:34.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-587969e6893564a9e3db8f576bf20c88d783b1f0-5bfb86742925499a-01 outer:exit 2b-587969e6893564a9e3db8f576bf20c88d783b1f0-0f4cc6d1e78cb8e2-01
2021-09-13T19:08:34.075Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:08:34.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-42d3305d2d7d4682963a56b86d254c7eef618acf-ef25cb39bc37ffae-01 outer:exit 2b-42d3305d2d7d4682963a56b86d254c7eef618acf-50c10aa7b663fc23-01
2021-09-13T19:08:34.078Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:08:34.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-3124981ea14f7af9aa9ebcb7d102746b852af1ab-581332a0811817f8-01 outer:exit 2b-3124981ea14f7af9aa9ebcb7d102746b852af1ab-a98f25467218609e-01
2021-09-13T19:08:34.080Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:08:34.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-dde6b202cd257caa9653eaa64a98a1993d24829b-467a5b2ba62d0669-01 outer:exit 2b-dde6b202cd257caa9653eaa64a98a1993d24829b-0537809dd3dd0ce0-01
2021-09-13T19:08:34.083Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:08:34.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-2135db71016f85e8183a8b89b26de02d112455d5-ead3b629ebefc9b3-01 outer:exit 2b-2135db71016f85e8183a8b89b26de02d112455d5-a968ed63f0658ce3-01
2021-09-13T19:08:34.086Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:08:34.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5b36d96a93d849ac690ee5245e2ae07b59f8dd9-a43a7cb9b5651072-01 outer:exit 2b-c5b36d96a93d849ac690ee5245e2ae07b59f8dd9-47fd8fb94add02b0-01
2021-09-13T19:08:34.090Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:08:34.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-889a0f352514d05ba5d9e271bd66e337df21aeea-20200cd86ba7a830-01 outer:exit 2b-889a0f352514d05ba5d9e271bd66e337df21aeea-6e08e12d519bf667-01
2021-09-13T19:08:34.093Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:08:34.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-fba2fb5c8780814e50a86bf35c6fc3adf867a5e2-c41c6990cb5dbe1a-01 outer:exit 2b-fba2fb5c8780814e50a86bf35c6fc3adf867a5e2-7c0db84fb588dae9-01
2021-09-13T19:08:34.096Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:08:34.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-85fb9735a8a42e3c5687bd40778d92e283c51feb-e4706defb4fdbe9f-01 outer:exit 2b-85fb9735a8a42e3c5687bd40778d92e283c51feb-818b54634cb7cf3a-01
2021-09-13T19:08:34.099Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:08:34.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-e073bb9fead5f116a56949cfad6c5cdc03c55a52-096ec59df7705b27-01 outer:exit 2b-e073bb9fead5f116a56949cfad6c5cdc03c55a52-72af1003237ebad5-01
2021-09-13T19:08:34.121Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:08:34.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa90f355fb4266a364b28f7df320350c7ea9d1df-0fa703b66fac0d4d-01 outer:exit 2b-aa90f355fb4266a364b28f7df320350c7ea9d1df-75288a8c18972ec2-01
2021-09-13T19:08:34.130Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:08:34.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-f914c0df7ad9cc65388db26624ea166ce9d67c51-c6d970a1f45396af-01 outer:exit 2b-f914c0df7ad9cc65388db26624ea166ce9d67c51-fae945216a05a620-01
2021-09-13T19:08:34.144Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:08:34.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-06229ccc154d2a018cb7970791d923f30f9281da-b0d42779686de0d8-01 outer:exit 2b-06229ccc154d2a018cb7970791d923f30f9281da-dba7fbe87cb29d81-01
2021-09-13T19:08:34.153Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:08:34.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dc9e3a55423e588eee3d0416a2a39593b232e83-65147c50109dcf33-01 outer:exit 2b-7dc9e3a55423e588eee3d0416a2a39593b232e83-ff64aa5cf93368d1-01
2021-09-13T19:08:34.156Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:08:34.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-747ebf0c7deb1c67a8089f9e42af37c77e53abe1-c39b3eb80da1c27d-01 outer:exit 2b-747ebf0c7deb1c67a8089f9e42af37c77e53abe1-18abac45c2a69e45-01
2021-09-13T19:08:34.160Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:08:34.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2a14586d36ffd6624158bb0170054961c96e414-161465da98ab1956-01 outer:exit 2b-d2a14586d36ffd6624158bb0170054961c96e414-57aa9681e4704b1f-01
2021-09-13T19:08:34.170Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:08:34.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ba9ea067303306a7c9f2433615021b71c212c67-ca254492bdf5cdc7-01 outer:exit 2b-3ba9ea067303306a7c9f2433615021b71c212c67-b8a2a98bbe7539de-01
2021-09-13T19:08:34.174Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:08:34.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d11f9517e9c4499f7c1e26778da2c1a6e001416-d4bfde69a3d916f5-01 outer:exit 2b-4d11f9517e9c4499f7c1e26778da2c1a6e001416-f5d061ee509e7ec4-01
2021-09-13T19:08:34.177Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:08:34.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f31d1aca77f5fe053daadea43fb42210b6b256c-82555186fb42eeac-01 outer:exit 2b-9f31d1aca77f5fe053daadea43fb42210b6b256c-d5d82face8fb5393-01
2021-09-13T19:08:34.180Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:08:34.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-e789fb112949ed953d621b8f0748d8505a083d8a-ed96c58ef90d677b-01 outer:exit 2b-e789fb112949ed953d621b8f0748d8505a083d8a-86077beb19dd5794-01
2021-09-13T19:08:34.183Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:08:34.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-069d777e0ac976c02e281ae25fe44912792991b3-a4ef773c996f1946-01 outer:exit 2b-069d777e0ac976c02e281ae25fe44912792991b3-69dfe141b13924ee-01
2021-09-13T19:08:34.187Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:08:34.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-7babec8ef05ea2c639b4c6eb47d97edb1c218d96-6e070891708306ec-01 outer:exit 2b-7babec8ef05ea2c639b4c6eb47d97edb1c218d96-6b05b060295c1ee2-01
2021-09-13T19:08:34.208Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:08:34.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-f514fa2b2f45ee435508bf0f22603856c8668198-7108500ff7055522-01 outer:exit 2b-f514fa2b2f45ee435508bf0f22603856c8668198-8ed8feee31b0d4b8-01
2021-09-13T19:08:34.219Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:08:34.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-c54050cce3d987b84c7cbaef5e95d0dabb7fda52-103de6de57bb8e0e-01 outer:exit 2b-c54050cce3d987b84c7cbaef5e95d0dabb7fda52-e30c4adea8ae098d-01
2021-09-13T19:08:34.223Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:08:34.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-62d70e44a85cf3230c66145e80671a46a3da6b2f-33f3a70c9fdfc6a8-01 outer:exit 2b-62d70e44a85cf3230c66145e80671a46a3da6b2f-54e50d43ff3cb288-01
2021-09-13T19:08:34.227Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:08:34.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-39a7d62a7dba359ff1598390b913a7f51c56adb6-83b17ac9eab08914-01 outer:exit 2b-39a7d62a7dba359ff1598390b913a7f51c56adb6-c060394765565939-01
2021-09-13T19:08:34.232Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:08:34.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca07f2a4f6223aade2f23dcd051986a2cfcc7552-2b029041c94acff6-01 outer:exit 2b-ca07f2a4f6223aade2f23dcd051986a2cfcc7552-07a30954312efc87-01
2021-09-13T19:08:34.265Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (391ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:42.613Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:42.614Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:42.614Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:42.615Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:42.690Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:42.740Z appoptics:patching patched crypto 
2021-09-13T19:08:42.765Z appoptics:patching patched https 
2021-09-13T19:08:42.766Z appoptics:patching patched http 
2021-09-13T19:08:42.817Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:42.819Z appoptics:patching patched fs 
2021-09-13T19:08:42.856Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v16.9.1)
2021-09-13T19:08:42.865Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-09-13T19:08:43.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c1a1eca140c26171a7def59be2b2da93363deeb-7b5ecbbb39bbae68-01 outer:exit 2b-5c1a1eca140c26171a7def59be2b2da93363deeb-9e02b4df7dbbb0a4-01
2021-09-13T19:08:43.070Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:08:43.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6728b117de13fe00ed3d2506552d4abda274a94-f99b909889821b23-01 outer:exit 2b-d6728b117de13fe00ed3d2506552d4abda274a94-137f06444783581d-01
2021-09-13T19:08:43.110Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:08:43.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b6dafa076ed67df7bd63f30f9bfde8a65d331d0-48af7bbc3e0741f7-01 outer:exit 2b-8b6dafa076ed67df7bd63f30f9bfde8a65d331d0-735e32bcc3634dcd-01
2021-09-13T19:08:43.114Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:08:43.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4291a0db5a785bedb8f2ec04304a34cb47c0847-7dec3e7128c0642b-01 outer:exit 2b-d4291a0db5a785bedb8f2ec04304a34cb47c0847-b7126f4f68dbb5c3-01
2021-09-13T19:08:43.118Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:08:43.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cda650143ee930b6cec85dfb51d2a7cdfb15512-5f231f52189e3f7a-01 outer:exit 2b-5cda650143ee930b6cec85dfb51d2a7cdfb15512-04b4f97bdeb2dc27-01
2021-09-13T19:08:43.123Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:08:43.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-12bce0659b807c3baf54b6235668f77ca56bcb72-f473faa84fc21217-01 outer:exit 2b-12bce0659b807c3baf54b6235668f77ca56bcb72-ba2e0d3b68177de9-01
2021-09-13T19:08:43.127Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:08:43.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2ae0853f32ba75523d61d019de33be644f63b5f-0ccfdabc7401c2ac-01 outer:exit 2b-c2ae0853f32ba75523d61d019de33be644f63b5f-83b6e6a2f8488ab5-01
2021-09-13T19:08:43.131Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:08:43.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-5960b453fd518358aae58ad7e402e0a9ed2c611c-ba9e3725cf27c015-01 outer:exit 2b-5960b453fd518358aae58ad7e402e0a9ed2c611c-e9b0ce42ffb59a75-01
2021-09-13T19:08:43.134Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:08:43.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f12889742ebc5283f73bc5cbddb70960d0aac85-c83c2dc2d45a1530-01 outer:exit 2b-9f12889742ebc5283f73bc5cbddb70960d0aac85-8c50dec51d1d8d79-01
2021-09-13T19:08:43.137Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:08:43.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-a452056cd6de8b390ba72132a56e418645a19c40-5e05ee284c1fd07f-01 outer:exit 2b-a452056cd6de8b390ba72132a56e418645a19c40-a4990bd715c00043-01
2021-09-13T19:08:43.140Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:08:43.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-30f7357e73965cfdaed319bee164b74c3befc963-d4a30fbbee0b5eeb-01 outer:exit 2b-30f7357e73965cfdaed319bee164b74c3befc963-45bd0bbe129b610e-01
2021-09-13T19:08:43.145Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:08:43.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-b69115fc8a457bace73ea4605fb353d88120c6c3-00f8b77db79f1cd6-01 outer:exit 2b-b69115fc8a457bace73ea4605fb353d88120c6c3-975823821e89e61c-01
2021-09-13T19:08:43.153Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:08:43.170Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c1ada245a1340f1855c9af30a4d7340d0daa7ab-365b110e308db4d8-01 outer:exit 2b-5c1ada245a1340f1855c9af30a4d7340d0daa7ab-7914b4d0654783cd-01
2021-09-13T19:08:43.170Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:08:43.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-238e96e213aca4ab11d6df42e3e4ae8e4b5f1cb6-d914a71a4cdc0b7b-01 outer:exit 2b-238e96e213aca4ab11d6df42e3e4ae8e4b5f1cb6-9177d5f25a8d0075-01
2021-09-13T19:08:43.209Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:08:43.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-9087518ee14690a7b4d93c5741497e66fb19d6cb-a760540d295e9dfb-01 outer:exit 2b-9087518ee14690a7b4d93c5741497e66fb19d6cb-bdba25fbea45dead-01
2021-09-13T19:08:43.212Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:08:43.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d90524f002cd0155041dd5830e2247686a8e0c3-ca5fbe2078362105-01 outer:exit 2b-7d90524f002cd0155041dd5830e2247686a8e0c3-d7e417fdbb97fc72-01
2021-09-13T19:08:43.215Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:08:43.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-90ee2f1b9ef2efc5fea86a483ee54a522b4320c4-54b6a991bb49f046-01 outer:exit 2b-90ee2f1b9ef2efc5fea86a483ee54a522b4320c4-8aad136c1336299f-01
2021-09-13T19:08:43.219Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:08:43.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-2002d22ef4a4c70dcaa401f4bbcd406ae2066107-eb9eb5cbe6b42f87-01 outer:exit 2b-2002d22ef4a4c70dcaa401f4bbcd406ae2066107-cf20be552f2e7b1d-01
2021-09-13T19:08:43.221Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:08:43.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4f99fb1e17c0faa2702cffeaaca4d2c3b960ef8-97de53c99554bff1-01 outer:exit 2b-a4f99fb1e17c0faa2702cffeaaca4d2c3b960ef8-757f2d470e20b76a-01
2021-09-13T19:08:43.224Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:08:43.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a01ca70f95da20487246255ec5a684e65a926a5-ff6dcec13f030854-01 outer:exit 2b-5a01ca70f95da20487246255ec5a684e65a926a5-066963d075eb6dd5-01
2021-09-13T19:08:43.227Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:08:43.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec5e8e40795cebe91af1ccb54ada48e7f0344a9c-157a204b233830df-01 outer:exit 2b-ec5e8e40795cebe91af1ccb54ada48e7f0344a9c-15cb819e0bce4693-01
2021-09-13T19:08:43.229Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:08:43.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-99c72545382b602681e82abfe3c383846a3efabf-5cf94ee41f835c19-01 outer:exit 2b-99c72545382b602681e82abfe3c383846a3efabf-76c748e884623100-01
2021-09-13T19:08:43.232Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:08:43.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-856ebbf82ebcf0f8557a3ae6595ded5ce6796340-7331efb158545ca8-01 outer:exit 2b-856ebbf82ebcf0f8557a3ae6595ded5ce6796340-f7b2184c57817843-01
2021-09-13T19:08:43.235Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:08:43.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3c37eff38ee06136a80ef5fc7c9c8dd98133eaa-cdd8a3ebb6b1ddec-01 outer:exit 2b-c3c37eff38ee06136a80ef5fc7c9c8dd98133eaa-2dc5968dfeb0fd6a-01
2021-09-13T19:08:43.239Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:08:43.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddc94d95e351eb2d5e7c1dc7beb4726145e60e3a-1110b1cc00e7c103-01 outer:exit 2b-ddc94d95e351eb2d5e7c1dc7beb4726145e60e3a-b0b2e89782e4e0e9-01
2021-09-13T19:08:43.242Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:08:43.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b442b3f564c8881f8209bf5fcf3d1616c697637-73e4a75dbd1909e3-01 outer:exit 2b-8b442b3f564c8881f8209bf5fcf3d1616c697637-68e9bad096f1385c-01
2021-09-13T19:08:43.245Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:08:43.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-232644ac72b04e2cc1add0723fed6b7b123423bd-eb042d4ee738065e-01 outer:exit 2b-232644ac72b04e2cc1add0723fed6b7b123423bd-528751a1bcc63191-01
2021-09-13T19:08:43.254Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:08:43.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-9de5f33731b14d18c93622d9444bd0d25e50664b-4978349b35d0ecb1-01 outer:exit 2b-9de5f33731b14d18c93622d9444bd0d25e50664b-971c212da96b01a8-01
2021-09-13T19:08:43.260Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:08:43.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5eadfa103f6e28a128e60ded8939cdb8dccd75e-84690db5fbdab336-01 outer:exit 2b-b5eadfa103f6e28a128e60ded8939cdb8dccd75e-d868bbdda6008279-01
2021-09-13T19:08:43.273Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:08:43.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-4af7839626b40986f0ac112272f398cdf06d89d0-7530aaa9a607997a-01 outer:exit 2b-4af7839626b40986f0ac112272f398cdf06d89d0-67bc59d32b24fbdf-01
2021-09-13T19:08:43.281Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:08:43.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-42dcf0b98ebf5f31c3a79a35ec9a72190feeeb04-701218dad3c9d2c0-01 outer:exit 2b-42dcf0b98ebf5f31c3a79a35ec9a72190feeeb04-be82463304fdf442-01
2021-09-13T19:08:43.284Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:08:43.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e8fa5e3a40cfbced1d798379e033aeba6930034-9254ac8a44b4a6a8-01 outer:exit 2b-5e8fa5e3a40cfbced1d798379e033aeba6930034-1c28963477898729-01
2021-09-13T19:08:43.288Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:08:43.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6b44f50e6c239f4bc0aa0bad19189253b7c6939-12e2ff5031df5fd0-01 outer:exit 2b-c6b44f50e6c239f4bc0aa0bad19189253b7c6939-8cef682fc16c5f3f-01
2021-09-13T19:08:43.296Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:08:43.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c931f8da7f8e995fb96903d674d06369260cab-b6ba8dd72ae9d03a-01 outer:exit 2b-69c931f8da7f8e995fb96903d674d06369260cab-9c44255e5c67425b-01
2021-09-13T19:08:43.298Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:08:43.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-881f0cd441100d272897ef31c653dd35909796a6-8530042683b156b4-01 outer:exit 2b-881f0cd441100d272897ef31c653dd35909796a6-ac44431e557eb7b8-01
2021-09-13T19:08:43.301Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:08:43.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a919c00411612e87e2823b3ca823b76e3492619-786cf3999d942e0a-01 outer:exit 2b-3a919c00411612e87e2823b3ca823b76e3492619-bf1890d17b4762fb-01
2021-09-13T19:08:43.307Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:08:43.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-50e51cfb5406578eab77ad56c1009808e4f114f8-e5b89f7f2070a04b-01 outer:exit 2b-50e51cfb5406578eab77ad56c1009808e4f114f8-86e2183a651c6da8-01
2021-09-13T19:08:43.309Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:08:43.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fad762fa4bd8f2fa9d299bc3e4227b62b0c984f-ffcae18dd63d834a-01 outer:exit 2b-2fad762fa4bd8f2fa9d299bc3e4227b62b0c984f-baad52595ab849c9-01
2021-09-13T19:08:43.311Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:08:43.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e861409111dd9de972438bd6664f18e74215772-061a6b29bad92f6c-01 outer:exit 2b-3e861409111dd9de972438bd6664f18e74215772-59cf9e8868e8c023-01
2021-09-13T19:08:43.321Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:08:43.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-e200b2144155bd035e936c763e7b0b885225870f-d4db30077cd1b95e-01 outer:exit 2b-e200b2144155bd035e936c763e7b0b885225870f-399232c37c54677b-01
2021-09-13T19:08:43.331Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:08:43.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-4392dd1a3572df8f3067accb67e15b30df82f200-cd54e610aa9cd189-01 outer:exit 2b-4392dd1a3572df8f3067accb67e15b30df82f200-b14a7c438fba64c9-01
2021-09-13T19:08:43.335Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:08:43.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-658277d88e888a27fe863a3ace10a0310c73a6d1-b3694f4ad0ff5a14-01 outer:exit 2b-658277d88e888a27fe863a3ace10a0310c73a6d1-e1fc512663cd6c3a-01
2021-09-13T19:08:43.338Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:08:43.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0be8acb3d8f35fe64b403de12c2af1d8b7e6304-41dc69f6e2cc58a9-01 outer:exit 2b-e0be8acb3d8f35fe64b403de12c2af1d8b7e6304-a8b9055e3cffe83e-01
2021-09-13T19:08:43.344Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:08:43.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-0164e48ccbbadffaad462c5aa81729de22604024-9c0571efe3f60351-01 outer:exit 2b-0164e48ccbbadffaad462c5aa81729de22604024-e7bb9db389801c28-01
2021-09-13T19:08:43.374Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (348ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:08:51.923Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:08:51.923Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:08:51.923Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:08:51.924Z appoptics:debug using context provider: ace-context
2021-09-13T19:08:51.997Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:08:52.052Z appoptics:patching patched crypto 
2021-09-13T19:08:52.077Z appoptics:patching patched https 
2021-09-13T19:08:52.078Z appoptics:patching patched http 
2021-09-13T19:08:52.126Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:08:52.126Z appoptics:patching patched fs 
2021-09-13T19:08:52.168Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v16.9.1)
2021-09-13T19:08:52.177Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-09-13T19:08:52.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb301189c0c3083429b804a50944ad75e3976f8c-55280c9f86617a51-01 outer:exit 2b-eb301189c0c3083429b804a50944ad75e3976f8c-ed7fde9c0ac4f5e3-01
2021-09-13T19:08:52.382Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:08:52.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2f4c9384981b1c97913b543d25d471887c1a742-5efc566a76c40fae-01 outer:exit 2b-b2f4c9384981b1c97913b543d25d471887c1a742-b358cc3e50ea2e2e-01
2021-09-13T19:08:52.460Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:08:52.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6e5294bece8b89d6588438583c706a62cc8f886-f03291ca0cca64fc-01 outer:exit 2b-f6e5294bece8b89d6588438583c706a62cc8f886-d1860309e3ff4f45-01
2021-09-13T19:08:52.464Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:08:52.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-40b99a9ce2a4a80e6e0e0667e7e996050c4a0768-4ac56f39798c37ef-01 outer:exit 2b-40b99a9ce2a4a80e6e0e0667e7e996050c4a0768-83edcdee3d7cfa52-01
2021-09-13T19:08:52.467Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:08:52.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbf0eee6939945a91fab1650c8c774f573301c6b-4dc4c464ecd28013-01 outer:exit 2b-dbf0eee6939945a91fab1650c8c774f573301c6b-ef7a902f34a43117-01
2021-09-13T19:08:52.472Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:08:52.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-0412b06d93681856b555d44f0099bb85e5615b3b-b4cfd9d200f85a6d-01 outer:exit 2b-0412b06d93681856b555d44f0099bb85e5615b3b-d078bfc778e4a3bd-01
2021-09-13T19:08:52.476Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:08:52.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d49ff51c48712a1fd6de21e99705dbff3f45706-728d355a01fdb3e1-01 outer:exit 2b-5d49ff51c48712a1fd6de21e99705dbff3f45706-5cec06e6de80c3c5-01
2021-09-13T19:08:52.479Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:08:52.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-be6e21e5688f2eb3a1da24beda8430744d351661-3117c883476f069a-01 outer:exit 2b-be6e21e5688f2eb3a1da24beda8430744d351661-a1dafb29b0374a6b-01
2021-09-13T19:08:52.482Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:08:52.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e52db0bdcf2997cb1c8162b4988305347bae66f-18e1774c8f450531-01 outer:exit 2b-7e52db0bdcf2997cb1c8162b4988305347bae66f-165467a0fe517e24-01
2021-09-13T19:08:52.485Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:08:52.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-a806dfc8bc4d3f5f7f8daad4a8075bf6e362bd91-811fd6cbe9b2c3ad-01 outer:exit 2b-a806dfc8bc4d3f5f7f8daad4a8075bf6e362bd91-3b7eddec064929ad-01
2021-09-13T19:08:52.489Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:08:52.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d2d7a5dcd711d36d2ec44d7a34fa258dd92840-7bb82534e6c2f661-01 outer:exit 2b-d8d2d7a5dcd711d36d2ec44d7a34fa258dd92840-3cf6ebb1eefe8ada-01
2021-09-13T19:08:52.493Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:08:52.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-92fd318cdfdd823e9ff19c84b0bfacabfab009e7-545f04868e466009-01 outer:exit 2b-92fd318cdfdd823e9ff19c84b0bfacabfab009e7-9d670e28bdf275fc-01
2021-09-13T19:08:52.500Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:08:52.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ca62d2ddbaf574e8e8383d0ca08b29ce3e77ef0-7e2bc5673f439cb6-01 outer:exit 2b-6ca62d2ddbaf574e8e8383d0ca08b29ce3e77ef0-2d2f83807e26d4f6-01
2021-09-13T19:08:52.518Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:08:52.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a2acd285a84798161e82017b721538539bd84be-5851fc0727e0972a-01 outer:exit 2b-0a2acd285a84798161e82017b721538539bd84be-c151cfdccbcf0a21-01
2021-09-13T19:08:52.559Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:08:52.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-18f1305be5d6b19c636b91d5f871a6a79e07c173-f08559102847e424-01 outer:exit 2b-18f1305be5d6b19c636b91d5f871a6a79e07c173-7be2a1de5afa088e-01
2021-09-13T19:08:52.562Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:08:52.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-934e9917aa8f80611a253e82d9fe944908458148-98046bb87290e167-01 outer:exit 2b-934e9917aa8f80611a253e82d9fe944908458148-2267ebc380d5214e-01
2021-09-13T19:08:52.565Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:08:52.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-104705b66694fff2c2f24151f36e64fad8ea3b57-923ea827a2c51b58-01 outer:exit 2b-104705b66694fff2c2f24151f36e64fad8ea3b57-441293c00f12e45a-01
2021-09-13T19:08:52.568Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:08:52.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-de099756813a6d05d2895ebec4b8ef1c6b47ab31-904b27ea95e14604-01 outer:exit 2b-de099756813a6d05d2895ebec4b8ef1c6b47ab31-4acebda888295698-01
2021-09-13T19:08:52.571Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:08:52.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-23c69b822efc2558575f66262b36800590c42de7-39d4747289b59ea2-01 outer:exit 2b-23c69b822efc2558575f66262b36800590c42de7-b45b2b9811a9ed3a-01
2021-09-13T19:08:52.573Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:08:52.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-fec6ab242346035717093f42cb80cb294346d931-b6a78128c2820c81-01 outer:exit 2b-fec6ab242346035717093f42cb80cb294346d931-9e529f2a2f1f89fa-01
2021-09-13T19:08:52.576Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:08:52.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-f12ff31b50b79b34e521c65169149598c74194fe-03d2a7720aecb2ed-01 outer:exit 2b-f12ff31b50b79b34e521c65169149598c74194fe-80c29db9d24bc3f4-01
2021-09-13T19:08:52.578Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:08:52.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-da47e80f66796ba6a3d14e083a03d6b2a8f01221-ec23238ffdd683c4-01 outer:exit 2b-da47e80f66796ba6a3d14e083a03d6b2a8f01221-4f7b7a8210464c2d-01
2021-09-13T19:08:52.582Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:08:52.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-061dd4040ec812194a3d2874aea96b6800794825-42a7f98c1d7fff44-01 outer:exit 2b-061dd4040ec812194a3d2874aea96b6800794825-02f8265741ed1c64-01
2021-09-13T19:08:52.585Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:08:52.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-51323a203065a6d6b98c8df6830883fb30b79524-956fa914f1818ce6-01 outer:exit 2b-51323a203065a6d6b98c8df6830883fb30b79524-443fda2ee6468a58-01
2021-09-13T19:08:52.589Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:08:52.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e3880390c285a2d9bb4f7f666f0a41b3c7e7e2e-3d8d1e8a04a007c3-01 outer:exit 2b-9e3880390c285a2d9bb4f7f666f0a41b3c7e7e2e-8504f9a91df8a64a-01
2021-09-13T19:08:52.592Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:08:52.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed67ddfb1532b59a3194128832be0a5007bce8d6-9b080f7e3c05ee84-01 outer:exit 2b-ed67ddfb1532b59a3194128832be0a5007bce8d6-7b034cd7f60eb921-01
2021-09-13T19:08:52.595Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:08:52.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9e97a55030a8d0c3ad0a504fd68b085d6ba2ed8-aa22e4c92ccb6011-01 outer:exit 2b-e9e97a55030a8d0c3ad0a504fd68b085d6ba2ed8-84917617c2651d2f-01
2021-09-13T19:08:52.604Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:08:52.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8bec80dc2c1c9056adb7dc2009315a19868554e-73a84f231795bde5-01 outer:exit 2b-d8bec80dc2c1c9056adb7dc2009315a19868554e-841b89c01e4f6c57-01
2021-09-13T19:08:52.610Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:08:52.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a8310475ceb0126209555febf77a1d96391c68d-634e94ea2231ed18-01 outer:exit 2b-4a8310475ceb0126209555febf77a1d96391c68d-e360da9e3b0ff8b3-01
2021-09-13T19:08:52.620Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:08:52.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b3d80e3375b9fdcc42ab3fb588d9fa2722e72a-996f504b491b9dd5-01 outer:exit 2b-98b3d80e3375b9fdcc42ab3fb588d9fa2722e72a-ec61e04f0f8da82d-01
2021-09-13T19:08:52.627Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:08:52.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4c3e58b82b76fa7602dde97407ecb60bae807d1-54e807848a55ac04-01 outer:exit 2b-c4c3e58b82b76fa7602dde97407ecb60bae807d1-0ee6df02c3fa0e21-01
2021-09-13T19:08:52.630Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:08:52.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd41496d574ee4357118cb41b69e4c4669322afe-35082f2a507a3184-01 outer:exit 2b-fd41496d574ee4357118cb41b69e4c4669322afe-ea47f712586b972a-01
2021-09-13T19:08:52.634Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:08:52.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7dd2198109cd1db48fd70f6372501efc41376dd-5decc5711a0ee1f1-01 outer:exit 2b-b7dd2198109cd1db48fd70f6372501efc41376dd-b02c86ee32f049cc-01
2021-09-13T19:08:52.641Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:08:52.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cb7dcb1ba6dd172f041adb27c78bdfea0d24f7a-e350d73b0bf16959-01 outer:exit 2b-6cb7dcb1ba6dd172f041adb27c78bdfea0d24f7a-b6d91cfb7f4ccfdc-01
2021-09-13T19:08:52.643Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:08:52.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb8cf5fbe7aad0e3bbcb20a4f72f0460725de54-19444d32b97a9ce3-01 outer:exit 2b-9cb8cf5fbe7aad0e3bbcb20a4f72f0460725de54-0a510228fd88c264-01
2021-09-13T19:08:52.646Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:08:52.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c4a6e1c6a0ad14819e79a874eb7d9712a2dc178-d0b41238d5d76283-01 outer:exit 2b-9c4a6e1c6a0ad14819e79a874eb7d9712a2dc178-96f9b91d32f8aae5-01
2021-09-13T19:08:52.652Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:08:52.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f19a0ebaae1bead0e3deb2390f78e41512f54a6-54f898926bb80555-01 outer:exit 2b-9f19a0ebaae1bead0e3deb2390f78e41512f54a6-c7c856ad8c14e063-01
2021-09-13T19:08:52.654Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:08:52.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ae00387126e4561f68bf5586877ee0a47978f8e-0444d4e1f68c4634-01 outer:exit 2b-7ae00387126e4561f68bf5586877ee0a47978f8e-63f35c174b062815-01
2021-09-13T19:08:52.657Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:08:52.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-b716a1c8bcfdef87c57739eb02427e43b03b0895-c2bb770107eeda01-01 outer:exit 2b-b716a1c8bcfdef87c57739eb02427e43b03b0895-e83eed7d2fc63cd3-01
2021-09-13T19:08:52.667Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:08:52.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-61573be884f9770fd85f6dfdb3dbb0d932069a3e-0b4cd2409b2a563e-01 outer:exit 2b-61573be884f9770fd85f6dfdb3dbb0d932069a3e-522cb61147578b4e-01
2021-09-13T19:08:52.677Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:08:52.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2b8e233d2cc9099cdacf684e1b004faa930195b-c0f84c55eb6b820c-01 outer:exit 2b-c2b8e233d2cc9099cdacf684e1b004faa930195b-0a01a5a48a0d4b9c-01
2021-09-13T19:08:52.680Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:08:52.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-abee769c0bdcc438f4a8b8d13a5af0f52f31539b-a5ef9b69f93f4b20-01 outer:exit 2b-abee769c0bdcc438f4a8b8d13a5af0f52f31539b-50e3003c29a533b2-01
2021-09-13T19:08:52.683Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:08:52.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c4eb8fc9a6600fb449b95a75b12ca9bc3c1697b-0171c88b4b4de30b-01 outer:exit 2b-8c4eb8fc9a6600fb449b95a75b12ca9bc3c1697b-354ce3dbfd97d259-01
2021-09-13T19:08:52.686Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:08:52.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-d740e189cafe5c90a1b6763d6f30181dcdfde05f-917cacbc6ce11599-01 outer:exit 2b-d740e189cafe5c90a1b6763d6f30181dcdfde05f-9bd277f029d27749-01
2021-09-13T19:08:52.717Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (379ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:00.230Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:00.231Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:00.231Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:00.231Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:00.330Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:00.425Z appoptics:patching patched crypto 
2021-09-13T19:09:00.477Z appoptics:patching patched https 
2021-09-13T19:09:00.478Z appoptics:patching patched http 
2021-09-13T19:09:00.538Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:00.540Z appoptics:patching patched fs 
2021-09-13T19:09:00.582Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v16.9.1)
2021-09-13T19:09:00.592Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-09-13T19:09:00.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2c7fa0563945c0fcb1da96a1a1a2c8c5eb6b89-fcbf2108b6aadb47-01 outer:exit 2b-0c2c7fa0563945c0fcb1da96a1a1a2c8c5eb6b89-caa71c45e4d8c278-01
2021-09-13T19:09:00.825Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:09:00.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6ff6226abbe45557b890fbbc0c03eaa70857ead-6d44afe16d0c4b6c-01 outer:exit 2b-d6ff6226abbe45557b890fbbc0c03eaa70857ead-7da74424eb964c77-01
2021-09-13T19:09:00.867Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:09:00.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-14cd69efe75002b8002429eb117763eb878d0325-655c0c6b8dc79ec4-01 outer:exit 2b-14cd69efe75002b8002429eb117763eb878d0325-c0afb6c3f007f3a6-01
2021-09-13T19:09:00.897Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:09:00.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-afecb22a29a1b054bb657d7993cdbd11fa7dfb0a-c488a11ab8d83d6f-01 outer:exit 2b-afecb22a29a1b054bb657d7993cdbd11fa7dfb0a-d1a0ed933a378a80-01
2021-09-13T19:09:00.900Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:09:00.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b2da11c8810d9025426c43d769ea09df226c69-c532d44b7c0edca1-01 outer:exit 2b-98b2da11c8810d9025426c43d769ea09df226c69-4ca224310b8b272f-01
2021-09-13T19:09:00.906Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:09:00.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-28f6c8aa54e44146a676e1acf6ac77675e54fcb4-4fc4c19a25c2d921-01 outer:exit 2b-28f6c8aa54e44146a676e1acf6ac77675e54fcb4-be965a9f9c112e17-01
2021-09-13T19:09:00.910Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:09:00.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5ec530cfee9fd40e4dcafac174f256b68fc082b-325b326ed281de5e-01 outer:exit 2b-a5ec530cfee9fd40e4dcafac174f256b68fc082b-4a58669171602ef0-01
2021-09-13T19:09:00.918Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:09:00.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-509340892d808bfb022ce6b09ed40617b2f9a92c-578fb784a0bb0528-01 outer:exit 2b-509340892d808bfb022ce6b09ed40617b2f9a92c-2a6414b164d23a43-01
2021-09-13T19:09:00.921Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:09:00.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d3e1b86674239715f3193dadd506435c37a01c7-9c874b9499c5dcf0-01 outer:exit 2b-2d3e1b86674239715f3193dadd506435c37a01c7-7c96dc7e747f58e7-01
2021-09-13T19:09:00.925Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:09:00.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc31c7f2028624b4675465e1da5ef873e082ee54-11f295ecd63ac9fb-01 outer:exit 2b-fc31c7f2028624b4675465e1da5ef873e082ee54-ba1ce3e4b25e4133-01
2021-09-13T19:09:00.928Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:09:00.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-6346b3a1bad3f1e854c3e737b08d631bfe09de06-bcbb8c035371afde-01 outer:exit 2b-6346b3a1bad3f1e854c3e737b08d631bfe09de06-d5c0d5f582a57944-01
2021-09-13T19:09:00.933Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:09:00.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab5feca700283031f40d51a98a1bfcbd0d0c29e8-9738901cd5cb691e-01 outer:exit 2b-ab5feca700283031f40d51a98a1bfcbd0d0c29e8-ea2a9718a42345d6-01
2021-09-13T19:09:00.941Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:09:00.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae5e3477df3ead4c60bfd2ff413a6a59be419bc6-64d9a86c0951ef54-01 outer:exit 2b-ae5e3477df3ead4c60bfd2ff413a6a59be419bc6-26cc908f19fd9c53-01
2021-09-13T19:09:00.962Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:09:01.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e313f3965b46feca273c2327a4cee8bf3cd9fb2-cb7872200c9a6ddf-01 outer:exit 2b-8e313f3965b46feca273c2327a4cee8bf3cd9fb2-aa032f949ab84b11-01
2021-09-13T19:09:01.005Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:09:01.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdb984d0b39fbe420a8b27a5e94c937e01f82546-618647e151d1bbad-01 outer:exit 2b-fdb984d0b39fbe420a8b27a5e94c937e01f82546-859bade8c9308035-01
2021-09-13T19:09:01.009Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:09:01.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbafd4b6a85f809fa232283d77e8e52062a90bb0-970da36ac1407417-01 outer:exit 2b-bbafd4b6a85f809fa232283d77e8e52062a90bb0-d60ee7e0559fe605-01
2021-09-13T19:09:01.013Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:09:01.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-623cf5a0a005c90732cb20f8e0bc49d14c51173f-2353e0581c244849-01 outer:exit 2b-623cf5a0a005c90732cb20f8e0bc49d14c51173f-36cc9d3453dbdc7b-01
2021-09-13T19:09:01.018Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:09:01.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-f90a12be5dfe1fbbeeaa2e1be7b9d85be0a1b77f-36bd32ce7d49f0d6-01 outer:exit 2b-f90a12be5dfe1fbbeeaa2e1be7b9d85be0a1b77f-dc50ab829c0fed04-01
2021-09-13T19:09:01.021Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:09:01.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ceb74de642826cdc1982f7830ff731e3099391a-4bf4cf1ec4ee425a-01 outer:exit 2b-1ceb74de642826cdc1982f7830ff731e3099391a-7d4b203864c915e1-01
2021-09-13T19:09:01.025Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:09:01.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d4b69d41c620eb756960265a3fe97e5b48bc31-705fdfa8ab99a9df-01 outer:exit 2b-b2d4b69d41c620eb756960265a3fe97e5b48bc31-0d98a0b610ac6752-01
2021-09-13T19:09:01.028Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:09:01.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cf5e44a65b8aa269281d1598e80f8f6eede73ec-d568c163d417fecb-01 outer:exit 2b-1cf5e44a65b8aa269281d1598e80f8f6eede73ec-cf7379012d8567f4-01
2021-09-13T19:09:01.031Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:09:01.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-3be8a60c5338069473a5b57aabebb2cc5098941f-5a76f4e070599f37-01 outer:exit 2b-3be8a60c5338069473a5b57aabebb2cc5098941f-803f0d9826c9cadc-01
2021-09-13T19:09:01.034Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:09:01.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d44ee98fd8670faa474984d836a80d977e4d381-b457217c3a760ecb-01 outer:exit 2b-3d44ee98fd8670faa474984d836a80d977e4d381-c9e8a22bd1390d3a-01
2021-09-13T19:09:01.038Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:09:01.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-01c4fe82471e5df8dcae9890ee5c899bf796ce31-0364ede32ad21b95-01 outer:exit 2b-01c4fe82471e5df8dcae9890ee5c899bf796ce31-f0b0ceb72c2c5734-01
2021-09-13T19:09:01.041Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:09:01.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-f213b891bd0a0355d0955258c21a287da82ebe3a-bed43c6813c3b789-01 outer:exit 2b-f213b891bd0a0355d0955258c21a287da82ebe3a-03c11888b0664e8f-01
2021-09-13T19:09:01.045Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:09:01.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e740c0f56c84abff2be804e03e561bbaafddb4d-eacfb6aa8e20816f-01 outer:exit 2b-3e740c0f56c84abff2be804e03e561bbaafddb4d-d2e6cee743782d58-01
2021-09-13T19:09:01.050Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:09:01.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-c559e6772e27d9ffd952550ce734aa2be1a174bb-0f9d42d34fe02b74-01 outer:exit 2b-c559e6772e27d9ffd952550ce734aa2be1a174bb-66ecec4e31ff9128-01
2021-09-13T19:09:01.058Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:09:01.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-b95cac24159ba9e31c58722073e4e130b275a536-dc7371b7782b4155-01 outer:exit 2b-b95cac24159ba9e31c58722073e4e130b275a536-c5444322a7819596-01
2021-09-13T19:09:01.069Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:09:01.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-983e4d9c7df3b768605fe741efffcd2083ffd8f9-033042d3c8a0c1f9-01 outer:exit 2b-983e4d9c7df3b768605fe741efffcd2083ffd8f9-1da9897a6d30f412-01
2021-09-13T19:09:01.079Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:09:01.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-d11d70e16e5a09c232858f00b83eece9c89dff8d-b3cf825a2883564d-01 outer:exit 2b-d11d70e16e5a09c232858f00b83eece9c89dff8d-047ea0efdab32822-01
2021-09-13T19:09:01.087Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:09:01.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-f877d85f08f77c9153dd5cafd248b61ce016e9dc-bbb76b7286f8ad63-01 outer:exit 2b-f877d85f08f77c9153dd5cafd248b61ce016e9dc-d63affc3dc9dba8b-01
2021-09-13T19:09:01.090Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:09:01.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9d624129eac2055b36c5eb6aea657776aee9fb8-090ea9efc4b42445-01 outer:exit 2b-a9d624129eac2055b36c5eb6aea657776aee9fb8-f81359d182e73c9e-01
2021-09-13T19:09:01.094Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:09:01.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-97b059b8b70b544aa77bc5bb7d20eadb2bd64a2f-12dc310c19ab9bc6-01 outer:exit 2b-97b059b8b70b544aa77bc5bb7d20eadb2bd64a2f-5f0728a4e54a335b-01
2021-09-13T19:09:01.109Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:09:01.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-79ed52e2f114001f712d397c9f627ef3adc3aa23-58ef7b3bccc441d3-01 outer:exit 2b-79ed52e2f114001f712d397c9f627ef3adc3aa23-16551f8b8ec2992f-01
2021-09-13T19:09:01.111Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:09:01.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9c2acac0d3993a9884a89d5bb6e4105e7c5352-c5b1ea18bbccc8a2-01 outer:exit 2b-dd9c2acac0d3993a9884a89d5bb6e4105e7c5352-5562e9dac40ac88d-01
2021-09-13T19:09:01.114Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:09:01.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee6956ab6a30136041836005a22e9b1bbf4a4b3c-8cd34e0b5661a2fc-01 outer:exit 2b-ee6956ab6a30136041836005a22e9b1bbf4a4b3c-abea82c8309616db-01
2021-09-13T19:09:01.117Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:09:01.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-233bc1bb4366c67c4e0a222a7829b02c187149bd-e1f93624ee115ebe-01 outer:exit 2b-233bc1bb4366c67c4e0a222a7829b02c187149bd-47346ecf78efe57a-01
2021-09-13T19:09:01.120Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:09:01.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e2ccfe95ea105d7281182b8f91b2de754c19fee-8c4a69bcfa3b6960-01 outer:exit 2b-2e2ccfe95ea105d7281182b8f91b2de754c19fee-3ebf3e6e2d091a46-01
2021-09-13T19:09:01.123Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:09:01.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d5918d89ca73bccdaf170beb21936e0a810e094-43211d37c5769a14-01 outer:exit 2b-2d5918d89ca73bccdaf170beb21936e0a810e094-fa8057f584726e35-01
2021-09-13T19:09:01.137Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:09:01.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe27fec9812ebc6e1b439699c3f5addeea9108d0-8c33dcdd78df35be-01 outer:exit 2b-fe27fec9812ebc6e1b439699c3f5addeea9108d0-4a6925ec7801f0ae-01
2021-09-13T19:09:01.146Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:09:01.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f1620d2fcb68b16fe9dc78b6d510328e1e0fa8a-c7ead6e639e5dfa9-01 outer:exit 2b-9f1620d2fcb68b16fe9dc78b6d510328e1e0fa8a-e1b77f3d080c831c-01
2021-09-13T19:09:01.150Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:09:01.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-efb7d1465f1701f498f868a9d87ce07be1af1ad5-2471d5dfd15c698a-01 outer:exit 2b-efb7d1465f1701f498f868a9d87ce07be1af1ad5-57efac5655bd7b7e-01
2021-09-13T19:09:01.153Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:09:01.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-413886abda172e0712e2c48414246b56b4e69593-2f15fd4b2eedaeff-01 outer:exit 2b-413886abda172e0712e2c48414246b56b4e69593-931f0b930e4197b8-01
2021-09-13T19:09:01.156Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:09:01.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-567d378b5e7f1e71e5c7ac3c947c923409b5e7c4-e09b737f951ca628-01 outer:exit 2b-567d378b5e7f1e71e5c7ac3c947c923409b5e7c4-768adf51626efd1b-01
2021-09-13T19:09:01.191Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (419ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:09.513Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:09.514Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:09.514Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:09.515Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:09.616Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:09.674Z appoptics:patching patched crypto 
2021-09-13T19:09:09.700Z appoptics:patching patched https 
2021-09-13T19:09:09.700Z appoptics:patching patched http 
2021-09-13T19:09:09.750Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:09.752Z appoptics:patching patched fs 
2021-09-13T19:09:09.790Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v16.9.1)
2021-09-13T19:09:09.799Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-09-13T19:09:10.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e810361f2b530fc8cf143e9e3cb94d9afafee06-03529e6709210e86-01 outer:exit 2b-7e810361f2b530fc8cf143e9e3cb94d9afafee06-31163c9b9ddad2b8-01
2021-09-13T19:09:10.012Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-13T19:09:10.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eb75e718eddf63e2b664da19f1c5400b02f6df0-dfccdb5606a576ab-01 outer:exit 2b-3eb75e718eddf63e2b664da19f1c5400b02f6df0-a5909d9c14d09f73-01
2021-09-13T19:09:10.066Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-13T19:09:10.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef04b7891d64b2eade0812830f9a70e567e2e59-b8092210c9fa4765-01 outer:exit 2b-3ef04b7891d64b2eade0812830f9a70e567e2e59-a4f084d9fb6e9d93-01
2021-09-13T19:09:10.073Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-13T19:09:10.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-b85f602a9e855a68d564c195c59bb495f97f4b03-9fa834376f18c2c8-01 outer:exit 2b-b85f602a9e855a68d564c195c59bb495f97f4b03-5dc8e7197dc401ec-01
2021-09-13T19:09:10.077Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-13T19:09:10.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-48e744a0084986c860f914903292103b9b9496cc-7ebf0f8b1d50a7d4-01 outer:exit 2b-48e744a0084986c860f914903292103b9b9496cc-52345db22f2c0070-01
2021-09-13T19:09:10.089Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-13T19:09:10.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-da73e23c3601ca80184738cf1dd83423a602720b-5218f0b0e2334b9b-01 outer:exit 2b-da73e23c3601ca80184738cf1dd83423a602720b-6da87261c93a6bf4-01
2021-09-13T19:09:10.097Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-13T19:09:10.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa25eeceb709b440f73aaea5dfec6a0393e9a97b-fb2ace2afa3c99d7-01 outer:exit 2b-aa25eeceb709b440f73aaea5dfec6a0393e9a97b-09471d3d502839ea-01
2021-09-13T19:09:10.100Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-13T19:09:10.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-1803793b9450e9629be1118f45768f018ead989a-d53411e5f103f5f4-01 outer:exit 2b-1803793b9450e9629be1118f45768f018ead989a-ebfe1e1620776475-01
2021-09-13T19:09:10.103Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-13T19:09:10.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-19948a22ab36c78cfb34c9102c0a369c2b3344bc-c7c6b0373e627be9-01 outer:exit 2b-19948a22ab36c78cfb34c9102c0a369c2b3344bc-7326d0f1d3656652-01
2021-09-13T19:09:10.107Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-13T19:09:10.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-645aa81b23a3ab0c042483018fc757d17e7447f9-fdbbcab2adddd433-01 outer:exit 2b-645aa81b23a3ab0c042483018fc757d17e7447f9-39e28b0aefc201c6-01
2021-09-13T19:09:10.110Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-13T19:09:10.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b432e364878e52de1fc72357dc94c868213e5b-d5cfccb4d25f25ff-01 outer:exit 2b-98b432e364878e52de1fc72357dc94c868213e5b-835131b06763818d-01
2021-09-13T19:09:10.115Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-13T19:09:10.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d45695d74e30e32c95e9ba9e65552460cda4737-f7340935b4f955d4-01 outer:exit 2b-7d45695d74e30e32c95e9ba9e65552460cda4737-20a81271d6760bff-01
2021-09-13T19:09:10.123Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-13T19:09:10.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-1af0a3cd9a3bf4420721fecce63be655e366d99b-b6f16b7c2284d4ca-01 outer:exit 2b-1af0a3cd9a3bf4420721fecce63be655e366d99b-10cb0397fd496863-01
2021-09-13T19:09:10.143Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-13T19:09:10.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-66127f145b897aa0351f29f21ff0b7b9cf0bc9e8-19c0a58801d47065-01 outer:exit 2b-66127f145b897aa0351f29f21ff0b7b9cf0bc9e8-5c4559582577fbc2-01
2021-09-13T19:09:10.204Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-13T19:09:10.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c56a0b4c60a8b42dca96a93afd70ffbdfca7895-e6e88a64c5c5bea8-01 outer:exit 2b-8c56a0b4c60a8b42dca96a93afd70ffbdfca7895-5be4ef47d5e89941-01
2021-09-13T19:09:10.208Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-13T19:09:10.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a4af0e45b19583ba22f08b89b7b6ba1951b2fc3-5b5a1b04dc8fe6d7-01 outer:exit 2b-7a4af0e45b19583ba22f08b89b7b6ba1951b2fc3-bbcad56d81ead4c7-01
2021-09-13T19:09:10.210Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-13T19:09:10.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fb3fd463b3b087d52604a587759750d6fb6137b-a3d1ce5f24250dcc-01 outer:exit 2b-8fb3fd463b3b087d52604a587759750d6fb6137b-a033ad8ff5330802-01
2021-09-13T19:09:10.214Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-13T19:09:10.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-8419e8a602bbce22fc3540dcac4aed74839939a8-f0625364558081b4-01 outer:exit 2b-8419e8a602bbce22fc3540dcac4aed74839939a8-289177151302c43a-01
2021-09-13T19:09:10.217Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-13T19:09:10.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ea9d925e78308c2c935867856480d40f9170108-cf7e53f35097cdcf-01 outer:exit 2b-5ea9d925e78308c2c935867856480d40f9170108-57f67585df602635-01
2021-09-13T19:09:10.219Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-13T19:09:10.222Z appoptics:debug span.exit - no last event outer outer:entry 2b-f251a2ce2e733b0d59197f834c30695115aa9cdc-a4d626cd7f35a705-01 outer:exit 2b-f251a2ce2e733b0d59197f834c30695115aa9cdc-6929b4754f3863fe-01
2021-09-13T19:09:10.222Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-13T19:09:10.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-533ef50aa2723715f5c3bccd8a2fa12aee8736c7-9f09b4be006587d1-01 outer:exit 2b-533ef50aa2723715f5c3bccd8a2fa12aee8736c7-e7cfd686544435d9-01
2021-09-13T19:09:10.225Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-13T19:09:10.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-906f1c91a0cd8f25188428e8685268790e6b575f-c8bf280b56737c00-01 outer:exit 2b-906f1c91a0cd8f25188428e8685268790e6b575f-0f4a598a6318b8cd-01
2021-09-13T19:09:10.228Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-13T19:09:10.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-441f5fe28465dbb4bda9f0463ee2c306cd992ec0-3ce3b18ebcd6aba0-01 outer:exit 2b-441f5fe28465dbb4bda9f0463ee2c306cd992ec0-cbbd95a7fc2689c7-01
2021-09-13T19:09:10.232Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-13T19:09:10.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-da085f0d1a57016d77f97571bc68d550f83af3cf-01d87e82c5d807e8-01 outer:exit 2b-da085f0d1a57016d77f97571bc68d550f83af3cf-c4027a5fc5090739-01
2021-09-13T19:09:10.235Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-13T19:09:10.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-74f177621b5a71a4b00473d8ae731e5707bb0ff0-3a44b773f638147f-01 outer:exit 2b-74f177621b5a71a4b00473d8ae731e5707bb0ff0-a4edf798552a07c4-01
2021-09-13T19:09:10.238Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-13T19:09:10.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ac26cf390b3a9c06d35fa25f55d484b31180b5-2c68281e8cd19c39-01 outer:exit 2b-e5ac26cf390b3a9c06d35fa25f55d484b31180b5-880d5904bba6ba2c-01
2021-09-13T19:09:10.241Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-13T19:09:10.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ae5d2323ae5f5054571b53cbc66280c81872406-4ad169e78792050b-01 outer:exit 2b-9ae5d2323ae5f5054571b53cbc66280c81872406-e1625088906160db-01
2021-09-13T19:09:10.248Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-13T19:09:10.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-3149003157647e7d60d0e1e4aa52e479c566352f-1c6e4e762926337d-01 outer:exit 2b-3149003157647e7d60d0e1e4aa52e479c566352f-e561dce385de5707-01
2021-09-13T19:09:10.255Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-13T19:09:10.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-515b9ae288ecbd4b8629751efd83c7838336d689-4d76b3b63c6314b8-01 outer:exit 2b-515b9ae288ecbd4b8629751efd83c7838336d689-68ba85060d5e3e89-01
2021-09-13T19:09:10.265Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-13T19:09:10.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-715d0003d6177fe94341fc3a9a40c01454e0d12b-f41437d22ae7a451-01 outer:exit 2b-715d0003d6177fe94341fc3a9a40c01454e0d12b-256995b88d954a78-01
2021-09-13T19:09:10.273Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-13T19:09:10.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-abc3ca6065de111f17ade32ac110b8e38d0d1456-1a5c3a21f11e19af-01 outer:exit 2b-abc3ca6065de111f17ade32ac110b8e38d0d1456-5d90b05e24637140-01
2021-09-13T19:09:10.275Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-13T19:09:10.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac42f4de15098ba2e40839abcffe944e746cc9b9-8c4e2f6df992e530-01 outer:exit 2b-ac42f4de15098ba2e40839abcffe944e746cc9b9-ad6a7a031e85d3d3-01
2021-09-13T19:09:10.279Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-13T19:09:10.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-129775bcad3772ed686291bc0e69bf84c0847305-065d13a5f7a9ec3d-01 outer:exit 2b-129775bcad3772ed686291bc0e69bf84c0847305-d236d593a3cfa883-01
2021-09-13T19:09:10.287Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-13T19:09:10.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-b64ebc212f690ee52886eaca507c35af5eb1d37d-990a47869f719667-01 outer:exit 2b-b64ebc212f690ee52886eaca507c35af5eb1d37d-81ebcd1fd86e488b-01
2021-09-13T19:09:10.289Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-13T19:09:10.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-6008a2bce214266705208efe9a06b6df08865a04-53fe1594f079c48a-01 outer:exit 2b-6008a2bce214266705208efe9a06b6df08865a04-62bf3f3b2f599ac7-01
2021-09-13T19:09:10.292Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-13T19:09:10.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-1801b07a7be0412df96569c176f91f02d9341393-17ecf6612d0c719c-01 outer:exit 2b-1801b07a7be0412df96569c176f91f02d9341393-ea8bc6f8615e5a9c-01
2021-09-13T19:09:10.299Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-13T19:09:10.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7ffdde2a8bde2f5e91566a183ec30134697c5ba-c4ffbdf58aa753d5-01 outer:exit 2b-e7ffdde2a8bde2f5e91566a183ec30134697c5ba-71165b7ad12e973a-01
2021-09-13T19:09:10.301Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-13T19:09:10.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-e828ba9b44d62a63cfdcf9c7fb65b3de45fe8003-b500fe2c50ccaf6c-01 outer:exit 2b-e828ba9b44d62a63cfdcf9c7fb65b3de45fe8003-55717cb3bef02f7c-01
2021-09-13T19:09:10.303Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-13T19:09:10.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1fd0814800222876edd08c08027ea39fdfa07b6-54c9f6fe54d9aad8-01 outer:exit 2b-b1fd0814800222876edd08c08027ea39fdfa07b6-3d7583be05c35e61-01
2021-09-13T19:09:10.314Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-13T19:09:10.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-75bf46308397e8743ffb88b8688f4dab96744c4b-4521677b6e6badaf-01 outer:exit 2b-75bf46308397e8743ffb88b8688f4dab96744c4b-ba35457f9fb7cf32-01
2021-09-13T19:09:10.324Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-13T19:09:10.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdf529d792fbf46d41aa67159e33d0af0a550830-bb7dc4c1dcd212bb-01 outer:exit 2b-fdf529d792fbf46d41aa67159e33d0af0a550830-be1b872e7a21ee6f-01
2021-09-13T19:09:10.328Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-13T19:09:10.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-59e46db708f4c3081ddcbf6e1f2dcc8576a2352d-edd4bcad6088e80d-01 outer:exit 2b-59e46db708f4c3081ddcbf6e1f2dcc8576a2352d-10504bef3374592a-01
2021-09-13T19:09:10.331Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-13T19:09:10.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-98a72a28a9205ba21ffef9ab3d43700e4d9c5e42-511348b5c91da0f2-01 outer:exit 2b-98a72a28a9205ba21ffef9ab3d43700e4d9c5e42-9cc1d7585db633c7-01
2021-09-13T19:09:10.336Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-13T19:09:10.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbc53121eeeaf2703893109f614f20aba55f8c10-bf16715f04348b46-01 outer:exit 2b-fbc53121eeeaf2703893109f614f20aba55f8c10-495c89c575469a77-01
2021-09-13T19:09:10.367Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (410ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:394:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:394:28)
      at UDP.onMessage [as onmessage] (node:dgram:931:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:18.407Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:18.408Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:18.408Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:18.409Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:18.485Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:18.535Z appoptics:patching patched crypto 
2021-09-13T19:09:18.560Z appoptics:patching patched https 
2021-09-13T19:09:18.560Z appoptics:patching patched http 
2021-09-13T19:09:18.611Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:18.612Z appoptics:patching patched fs 
2021-09-13T19:09:18.629Z appoptics:patching patched zlib 
2021-09-13T19:09:18.657Z appoptics:patching patched mongodb-core 3.0.0
2021-09-13T19:09:18.667Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (418ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:26.896Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:26.897Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:26.897Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:26.898Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:27.008Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:27.073Z appoptics:patching patched crypto 
2021-09-13T19:09:27.101Z appoptics:patching patched https 
2021-09-13T19:09:27.101Z appoptics:patching patched http 
2021-09-13T19:09:27.162Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:27.162Z appoptics:patching patched fs 
2021-09-13T19:09:27.191Z appoptics:patching patched zlib 
2021-09-13T19:09:27.223Z appoptics:patching patched mongodb-core 3.0.1
2021-09-13T19:09:27.232Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (39ms)


  33 passing (415ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:35.966Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:35.966Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:35.966Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:35.967Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:36.042Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:36.094Z appoptics:patching patched crypto 
2021-09-13T19:09:36.123Z appoptics:patching patched https 
2021-09-13T19:09:36.123Z appoptics:patching patched http 
2021-09-13T19:09:36.176Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:36.176Z appoptics:patching patched fs 
2021-09-13T19:09:36.191Z appoptics:patching patched zlib 
2021-09-13T19:09:36.223Z appoptics:patching patched mongodb-core 3.0.2
2021-09-13T19:09:36.231Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (393ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:44.795Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:44.796Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:44.796Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:44.797Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:44.871Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:44.921Z appoptics:patching patched crypto 
2021-09-13T19:09:44.945Z appoptics:patching patched https 
2021-09-13T19:09:44.946Z appoptics:patching patched http 
2021-09-13T19:09:44.995Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:44.997Z appoptics:patching patched fs 
2021-09-13T19:09:45.011Z appoptics:patching patched zlib 
2021-09-13T19:09:45.044Z appoptics:patching patched mongodb-core 3.0.3
2021-09-13T19:09:45.052Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (83ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (45ms)


  33 passing (464ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:09:53.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:09:53.422Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:09:53.422Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:09:53.423Z appoptics:debug using context provider: ace-context
2021-09-13T19:09:53.515Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:09:53.570Z appoptics:patching patched crypto 
2021-09-13T19:09:53.599Z appoptics:patching patched https 
2021-09-13T19:09:53.600Z appoptics:patching patched http 
2021-09-13T19:09:53.661Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:09:53.661Z appoptics:patching patched fs 
2021-09-13T19:09:53.675Z appoptics:patching patched zlib 
2021-09-13T19:09:53.712Z appoptics:patching patched mongodb-core 3.0.4
2021-09-13T19:09:53.721Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (446ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:02.131Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:02.131Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:02.132Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:02.132Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:02.211Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:02.261Z appoptics:patching patched crypto 
2021-09-13T19:10:02.286Z appoptics:patching patched https 
2021-09-13T19:10:02.287Z appoptics:patching patched http 
2021-09-13T19:10:02.337Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:02.337Z appoptics:patching patched fs 
2021-09-13T19:10:02.354Z appoptics:patching patched zlib 
2021-09-13T19:10:02.387Z appoptics:patching patched mongodb-core 3.0.5
2021-09-13T19:10:02.395Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (342ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:11.495Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:11.496Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:11.496Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:11.498Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:11.626Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:11.676Z appoptics:patching patched crypto 
2021-09-13T19:10:11.702Z appoptics:patching patched https 
2021-09-13T19:10:11.702Z appoptics:patching patched http 
2021-09-13T19:10:11.751Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:11.752Z appoptics:patching patched fs 
2021-09-13T19:10:11.768Z appoptics:patching patched zlib 
2021-09-13T19:10:11.801Z appoptics:patching patched mongodb-core 3.0.6
2021-09-13T19:10:11.809Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (351ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:20.967Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:20.968Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:20.968Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:20.969Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:21.045Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:21.096Z appoptics:patching patched crypto 
2021-09-13T19:10:21.122Z appoptics:patching patched https 
2021-09-13T19:10:21.123Z appoptics:patching patched http 
2021-09-13T19:10:21.177Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:21.179Z appoptics:patching patched fs 
2021-09-13T19:10:21.193Z appoptics:patching patched zlib 
2021-09-13T19:10:21.228Z appoptics:patching patched mongodb-core 3.0.7
2021-09-13T19:10:21.237Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (66ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (388ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:29.255Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:29.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:29.256Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:29.256Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:29.332Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:29.379Z appoptics:patching patched crypto 
2021-09-13T19:10:29.409Z appoptics:patching patched https 
2021-09-13T19:10:29.410Z appoptics:patching patched http 
2021-09-13T19:10:29.460Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:29.460Z appoptics:patching patched fs 
2021-09-13T19:10:29.478Z appoptics:patching patched zlib 
2021-09-13T19:10:29.512Z appoptics:patching patched mongodb-core 3.0.8
2021-09-13T19:10:29.521Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (43ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (414ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:38.797Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:38.798Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:38.798Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:38.798Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:38.877Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:38.925Z appoptics:patching patched crypto 
2021-09-13T19:10:38.951Z appoptics:patching patched https 
2021-09-13T19:10:38.951Z appoptics:patching patched http 
2021-09-13T19:10:39.001Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:39.002Z appoptics:patching patched fs 
2021-09-13T19:10:39.018Z appoptics:patching patched zlib 
2021-09-13T19:10:39.052Z appoptics:patching patched mongodb-core 3.0.9
2021-09-13T19:10:39.061Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (403ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:48.029Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:48.029Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:48.029Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:48.030Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:48.107Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:48.161Z appoptics:patching patched crypto 
2021-09-13T19:10:48.189Z appoptics:patching patched https 
2021-09-13T19:10:48.189Z appoptics:patching patched http 
2021-09-13T19:10:48.243Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:48.244Z appoptics:patching patched fs 
2021-09-13T19:10:48.258Z appoptics:patching patched zlib 
2021-09-13T19:10:48.290Z appoptics:patching patched mongodb-core 3.0.11
2021-09-13T19:10:48.299Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (67ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (370ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:10:56.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:10:56.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:10:56.830Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:10:56.830Z appoptics:debug using context provider: ace-context
2021-09-13T19:10:56.974Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:10:57.049Z appoptics:patching patched crypto 
2021-09-13T19:10:57.078Z appoptics:patching patched https 
2021-09-13T19:10:57.079Z appoptics:patching patched http 
2021-09-13T19:10:57.140Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:10:57.142Z appoptics:patching patched fs 
2021-09-13T19:10:57.158Z appoptics:patching patched zlib 
2021-09-13T19:10:57.202Z appoptics:patching patched mongodb-core 3.1.0
2021-09-13T19:10:57.210Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (483ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (6 low, 3 moderate, 10 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:05.660Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:05.661Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:05.661Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:05.662Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:05.736Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:05.788Z appoptics:patching patched crypto 
2021-09-13T19:11:05.819Z appoptics:patching patched https 
2021-09-13T19:11:05.819Z appoptics:patching patched http 
2021-09-13T19:11:05.867Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:05.868Z appoptics:patching patched fs 
2021-09-13T19:11:05.885Z appoptics:patching patched zlib 
2021-09-13T19:11:05.923Z appoptics:patching patched mongodb-core 3.1.1
2021-09-13T19:11:05.931Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (59ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (354ms)


changed 2 packages, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:14.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:14.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:14.647Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:14.648Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:14.729Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:14.783Z appoptics:patching patched crypto 
2021-09-13T19:11:14.810Z appoptics:patching patched https 
2021-09-13T19:11:14.811Z appoptics:patching patched http 
2021-09-13T19:11:14.858Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:14.861Z appoptics:patching patched fs 
2021-09-13T19:11:14.876Z appoptics:patching patched zlib 
2021-09-13T19:11:14.917Z appoptics:patching patched mongodb-core 3.1.2
2021-09-13T19:11:14.926Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (371ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:23.684Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:23.684Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:23.684Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:23.685Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:23.758Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:23.808Z appoptics:patching patched crypto 
2021-09-13T19:11:23.832Z appoptics:patching patched https 
2021-09-13T19:11:23.832Z appoptics:patching patched http 
2021-09-13T19:11:23.875Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:23.878Z appoptics:patching patched fs 
2021-09-13T19:11:23.900Z appoptics:patching patched zlib 
2021-09-13T19:11:23.940Z appoptics:patching patched mongodb-core 3.1.3
2021-09-13T19:11:23.949Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (307ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:32.146Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:32.147Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:32.147Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:32.148Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:32.223Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:32.273Z appoptics:patching patched crypto 
2021-09-13T19:11:32.299Z appoptics:patching patched https 
2021-09-13T19:11:32.299Z appoptics:patching patched http 
2021-09-13T19:11:32.348Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:32.348Z appoptics:patching patched fs 
2021-09-13T19:11:32.363Z appoptics:patching patched zlib 
2021-09-13T19:11:32.401Z appoptics:patching patched mongodb-core 3.1.4
2021-09-13T19:11:32.409Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (65ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (872ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:41.367Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:41.368Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:41.368Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:41.369Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:41.471Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:41.529Z appoptics:patching patched crypto 
2021-09-13T19:11:41.559Z appoptics:patching patched https 
2021-09-13T19:11:41.560Z appoptics:patching patched http 
2021-09-13T19:11:41.604Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:41.606Z appoptics:patching patched fs 
2021-09-13T19:11:41.625Z appoptics:patching patched zlib 
2021-09-13T19:11:41.663Z appoptics:patching patched mongodb-core 3.1.5
2021-09-13T19:11:41.671Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (62ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (310ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:50.563Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:50.564Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:50.564Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:50.565Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:50.638Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:50.690Z appoptics:patching patched crypto 
2021-09-13T19:11:50.716Z appoptics:patching patched https 
2021-09-13T19:11:50.716Z appoptics:patching patched http 
2021-09-13T19:11:50.760Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:50.763Z appoptics:patching patched fs 
2021-09-13T19:11:50.782Z appoptics:patching patched zlib 
2021-09-13T19:11:50.820Z appoptics:patching patched mongodb-core 3.1.6
2021-09-13T19:11:50.828Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (369ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:11:59.252Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:11:59.258Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:11:59.258Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:11:59.258Z appoptics:debug using context provider: ace-context
2021-09-13T19:11:59.472Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:11:59.573Z appoptics:patching patched crypto 
2021-09-13T19:11:59.606Z appoptics:patching patched https 
2021-09-13T19:11:59.607Z appoptics:patching patched http 
2021-09-13T19:11:59.673Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:11:59.677Z appoptics:patching patched fs 
2021-09-13T19:11:59.696Z appoptics:patching patched zlib 
2021-09-13T19:11:59.738Z appoptics:patching patched mongodb-core 3.1.7
2021-09-13T19:11:59.746Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (61ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (486ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:08.162Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:08.163Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:08.163Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:08.164Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:08.242Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:08.297Z appoptics:patching patched crypto 
2021-09-13T19:12:08.322Z appoptics:patching patched https 
2021-09-13T19:12:08.322Z appoptics:patching patched http 
2021-09-13T19:12:08.366Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:08.369Z appoptics:patching patched fs 
2021-09-13T19:12:08.388Z appoptics:patching patched zlib 
2021-09-13T19:12:08.426Z appoptics:patching patched mongodb-core 3.1.8
2021-09-13T19:12:08.433Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (82ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (362ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:17.276Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:17.276Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:17.277Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:17.277Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:17.351Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:17.401Z appoptics:patching patched crypto 
2021-09-13T19:12:17.426Z appoptics:patching patched https 
2021-09-13T19:12:17.427Z appoptics:patching patched http 
2021-09-13T19:12:17.471Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:17.474Z appoptics:patching patched fs 
2021-09-13T19:12:17.493Z appoptics:patching patched zlib 
2021-09-13T19:12:17.543Z appoptics:patching patched mongodb-core 3.1.9
2021-09-13T19:12:17.551Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (331ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:26.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:26.422Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:26.422Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:26.423Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:26.503Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:26.551Z appoptics:patching patched crypto 
2021-09-13T19:12:26.577Z appoptics:patching patched https 
2021-09-13T19:12:26.577Z appoptics:patching patched http 
2021-09-13T19:12:26.626Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:26.627Z appoptics:patching patched fs 
2021-09-13T19:12:26.646Z appoptics:patching patched zlib 
2021-09-13T19:12:26.690Z appoptics:patching patched mongodb-core 3.1.10
2021-09-13T19:12:26.701Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (340ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:34.963Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:34.964Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:34.964Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:34.965Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:35.044Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:35.094Z appoptics:patching patched crypto 
2021-09-13T19:12:35.120Z appoptics:patching patched https 
2021-09-13T19:12:35.121Z appoptics:patching patched http 
2021-09-13T19:12:35.171Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:35.172Z appoptics:patching patched fs 
2021-09-13T19:12:35.188Z appoptics:patching patched zlib 
2021-09-13T19:12:35.228Z appoptics:patching patched mongodb-core 3.1.11
2021-09-13T19:12:35.236Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (428ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:12:43.806Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:12:43.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:12:43.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:12:43.808Z appoptics:debug using context provider: ace-context
2021-09-13T19:12:43.901Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:12:43.955Z appoptics:patching patched crypto 
2021-09-13T19:12:43.983Z appoptics:patching patched https 
2021-09-13T19:12:43.984Z appoptics:patching patched http 
2021-09-13T19:12:44.042Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:12:44.043Z appoptics:patching patched fs 
2021-09-13T19:12:44.060Z appoptics:patching patched zlib 
2021-09-13T19:12:44.107Z appoptics:patching patched mongodb-core 3.2.0
2021-09-13T19:12:44.116Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (338ms)


changed 1 package, and audited 1109 packages in 16s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:00.796Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:00.797Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:00.797Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:00.798Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:00.875Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:00.928Z appoptics:patching patched crypto 
2021-09-13T19:13:00.953Z appoptics:patching patched https 
2021-09-13T19:13:00.954Z appoptics:patching patched http 
2021-09-13T19:13:01.009Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:01.012Z appoptics:patching patched fs 
2021-09-13T19:13:01.042Z appoptics:patching patched zlib 
2021-09-13T19:13:01.093Z appoptics:patching patched mongodb-core 3.2.1
2021-09-13T19:13:01.101Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (453ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:10.226Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:10.226Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:10.227Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:10.227Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:10.298Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:10.350Z appoptics:patching patched crypto 
2021-09-13T19:13:10.374Z appoptics:patching patched https 
2021-09-13T19:13:10.375Z appoptics:patching patched http 
2021-09-13T19:13:10.421Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:10.421Z appoptics:patching patched fs 
2021-09-13T19:13:10.440Z appoptics:patching patched zlib 
2021-09-13T19:13:10.488Z appoptics:patching patched mongodb-core 3.2.2
2021-09-13T19:13:10.496Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (64ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (393ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:19.293Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:19.293Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:19.293Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:19.294Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:19.403Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:19.478Z appoptics:patching patched crypto 
2021-09-13T19:13:19.525Z appoptics:patching patched https 
2021-09-13T19:13:19.525Z appoptics:patching patched http 
2021-09-13T19:13:19.575Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:19.578Z appoptics:patching patched fs 
2021-09-13T19:13:19.600Z appoptics:patching patched zlib 
2021-09-13T19:13:19.647Z appoptics:patching patched mongodb-core 3.2.3
2021-09-13T19:13:19.655Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (66ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (348ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:28.271Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:28.272Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:28.272Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:28.277Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:28.488Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:28.599Z appoptics:patching patched crypto 
2021-09-13T19:13:28.661Z appoptics:patching patched https 
2021-09-13T19:13:28.662Z appoptics:patching patched http 
2021-09-13T19:13:28.776Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:28.782Z appoptics:patching patched fs 
2021-09-13T19:13:28.836Z appoptics:patching patched zlib 
2021-09-13T19:13:28.962Z appoptics:patching patched mongodb-core 3.2.4
2021-09-13T19:13:28.970Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (80ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (74ms)


  33 passing (551ms)


changed 1 package, and audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:37.159Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:37.160Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:37.160Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:37.161Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:37.233Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:37.281Z appoptics:patching patched crypto 
2021-09-13T19:13:37.305Z appoptics:patching patched https 
2021-09-13T19:13:37.305Z appoptics:patching patched http 
2021-09-13T19:13:37.352Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:37.354Z appoptics:patching patched fs 
2021-09-13T19:13:37.371Z appoptics:patching patched zlib 
2021-09-13T19:13:37.416Z appoptics:patching patched mongodb-core 3.2.5
2021-09-13T19:13:37.423Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (327ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:46.623Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:46.624Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:46.624Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:46.625Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:46.700Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:46.751Z appoptics:patching patched crypto 
2021-09-13T19:13:46.776Z appoptics:patching patched https 
2021-09-13T19:13:46.777Z appoptics:patching patched http 
2021-09-13T19:13:46.824Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:46.826Z appoptics:patching patched fs 
2021-09-13T19:13:46.842Z appoptics:patching patched zlib 
2021-09-13T19:13:46.891Z appoptics:patching patched mongodb-core 3.2.6
2021-09-13T19:13:46.899Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (63ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (408ms)


changed 1 package, and audited 1109 packages in 8s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2021-09-13T19:13:55.890Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-13T19:13:55.891Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-13T19:13:55.891Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-13T19:13:55.892Z appoptics:debug using context provider: ace-context
2021-09-13T19:13:55.969Z appoptics:debug apm 10.0.1, bindings 11.0.0, oboe 10.1.0
2021-09-13T19:13:56.023Z appoptics:patching patched crypto 
2021-09-13T19:13:56.048Z appoptics:patching patched https 
2021-09-13T19:13:56.049Z appoptics:patching patched http 
2021-09-13T19:13:56.096Z appoptics:patching fs.realpath - adding native method
2021-09-13T19:13:56.099Z appoptics:patching patched fs 
2021-09-13T19:13:56.117Z appoptics:patching patched zlib 
2021-09-13T19:13:56.166Z appoptics:patching patched mongodb-core 3.2.7
2021-09-13T19:13:56.174Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (344ms)


up to date, audited 1109 packages in 7s

72 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (6 low, 3 moderate, 8 high, 1 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
