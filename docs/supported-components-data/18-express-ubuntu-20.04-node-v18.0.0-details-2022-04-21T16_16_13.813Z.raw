npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated mkdirp@0.3.3: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.11: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.6.0: connect 2.x series is deprecated

added 19 packages, removed 26 packages, changed 9 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:20.489Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:20.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:20.489Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:20.490Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:20.576Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:20.702Z appoptics:patching patched crypto 
2022-04-21T16:16:20.745Z appoptics:patching patched https 
2022-04-21T16:16:20.745Z appoptics:patching patched http 
2022-04-21T16:16:20.780Z appoptics:patching patched zlib 
2022-04-21T16:16:20.786Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:20.786Z appoptics:patching patched fs 
2022-04-21T16:16:20.827Z appoptics:patching express 3.0.0 does not support render spans
2022-04-21T16:16:20.827Z appoptics:patching patched express 3.0.0
2022-04-21T16:16:20.832Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:20.838Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.0
    ✓ UDP might lose a message
2022-04-21T16:16:20.877Z appoptics:patching patched raw-body 2.5.1
(node:823) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (220ms)
  3 pending

npm WARN deprecated connect@2.6.2: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 2 packages, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:26.446Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:26.447Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:26.447Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:26.448Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:26.509Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:26.608Z appoptics:patching patched crypto 
2022-04-21T16:16:26.625Z appoptics:patching patched https 
2022-04-21T16:16:26.625Z appoptics:patching patched http 
2022-04-21T16:16:26.657Z appoptics:patching patched zlib 
2022-04-21T16:16:26.665Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:26.665Z appoptics:patching patched fs 
2022-04-21T16:16:26.693Z appoptics:patching express 3.0.1 does not support render spans
2022-04-21T16:16:26.693Z appoptics:patching patched express 3.0.1
2022-04-21T16:16:26.697Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:26.703Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.1
    ✓ UDP might lose a message
2022-04-21T16:16:26.734Z appoptics:patching patched raw-body 2.5.1
(node:845) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (170ms)
  3 pending


changed 1 package, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:32.677Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:32.677Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:32.677Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:32.678Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:32.748Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:32.901Z appoptics:patching patched crypto 
2022-04-21T16:16:32.959Z appoptics:patching patched https 
2022-04-21T16:16:32.964Z appoptics:patching patched http 
2022-04-21T16:16:33.032Z appoptics:patching patched zlib 
2022-04-21T16:16:33.045Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:33.045Z appoptics:patching patched fs 
2022-04-21T16:16:33.088Z appoptics:patching express 3.0.2 does not support render spans
2022-04-21T16:16:33.088Z appoptics:patching patched express 3.0.2
2022-04-21T16:16:33.093Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:33.099Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.2
    ✓ UDP might lose a message
2022-04-21T16:16:33.144Z appoptics:patching patched raw-body 2.5.1
(node:867) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (246ms)
  3 pending

npm WARN deprecated connect@2.7.0: connect 2.x series is deprecated

changed 3 packages, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:38.474Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:38.474Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:38.474Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:38.475Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:38.530Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:38.629Z appoptics:patching patched crypto 
2022-04-21T16:16:38.646Z appoptics:patching patched https 
2022-04-21T16:16:38.646Z appoptics:patching patched http 
2022-04-21T16:16:38.677Z appoptics:patching patched zlib 
2022-04-21T16:16:38.685Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:38.685Z appoptics:patching patched fs 
2022-04-21T16:16:38.712Z appoptics:patching express 3.0.3 does not support render spans
2022-04-21T16:16:38.712Z appoptics:patching patched express 3.0.3
2022-04-21T16:16:38.717Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:38.722Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.3
    ✓ UDP might lose a message
2022-04-21T16:16:38.754Z appoptics:patching patched raw-body 2.5.1
(node:889) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (168ms)
  3 pending

npm WARN deprecated connect@2.7.1: connect 2.x series is deprecated

added 1 package, changed 2 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:44.370Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:44.375Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:44.375Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:44.375Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:44.473Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:44.616Z appoptics:patching patched crypto 
2022-04-21T16:16:44.661Z appoptics:patching patched https 
2022-04-21T16:16:44.661Z appoptics:patching patched http 
2022-04-21T16:16:44.694Z appoptics:patching patched zlib 
2022-04-21T16:16:44.702Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:44.702Z appoptics:patching patched fs 
2022-04-21T16:16:44.735Z appoptics:patching express 3.0.4 does not support render spans
2022-04-21T16:16:44.735Z appoptics:patching patched express 3.0.4
2022-04-21T16:16:44.739Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:44.749Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.4
    ✓ UDP might lose a message
2022-04-21T16:16:44.784Z appoptics:patching patched raw-body 2.5.1
(node:911) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (238ms)
  3 pending


changed 1 package, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:50.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:50.219Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:50.219Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:50.220Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:50.274Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:50.388Z appoptics:patching patched crypto 
2022-04-21T16:16:50.420Z appoptics:patching patched https 
2022-04-21T16:16:50.421Z appoptics:patching patched http 
2022-04-21T16:16:50.449Z appoptics:patching patched zlib 
2022-04-21T16:16:50.456Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:50.457Z appoptics:patching patched fs 
2022-04-21T16:16:50.485Z appoptics:patching express 3.0.5 does not support render spans
2022-04-21T16:16:50.485Z appoptics:patching patched express 3.0.5
2022-04-21T16:16:50.489Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:50.495Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.5
    ✓ UDP might lose a message
2022-04-21T16:16:50.527Z appoptics:patching patched raw-body 2.5.1
(node:933) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (170ms)
  3 pending

npm WARN deprecated connect@2.7.2: connect 2.x series is deprecated

removed 1 package, changed 2 packages, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:55.988Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:55.989Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:55.989Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:55.989Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:56.061Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:56.171Z appoptics:patching patched crypto 
2022-04-21T16:16:56.205Z appoptics:patching patched https 
2022-04-21T16:16:56.206Z appoptics:patching patched http 
2022-04-21T16:16:56.238Z appoptics:patching patched zlib 
2022-04-21T16:16:56.246Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:56.246Z appoptics:patching patched fs 
2022-04-21T16:16:56.279Z appoptics:patching express 3.0.6 does not support render spans
2022-04-21T16:16:56.279Z appoptics:patching patched express 3.0.6
2022-04-21T16:16:56.283Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:56.289Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.6
    ✓ UDP might lose a message
2022-04-21T16:16:56.323Z appoptics:patching patched raw-body 2.5.1
(node:955) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (199ms)
  3 pending


changed 1 package, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:01.694Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:01.694Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:01.694Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:01.695Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:01.752Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:01.850Z appoptics:patching patched crypto 
2022-04-21T16:17:01.866Z appoptics:patching patched https 
2022-04-21T16:17:01.867Z appoptics:patching patched http 
2022-04-21T16:17:01.898Z appoptics:patching patched zlib 
2022-04-21T16:17:01.906Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:01.906Z appoptics:patching patched fs 
2022-04-21T16:17:01.933Z appoptics:patching express 3.1.0 does not support render spans
2022-04-21T16:17:01.933Z appoptics:patching patched express 3.1.0
2022-04-21T16:17:01.937Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:01.943Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.0
    ✓ UDP might lose a message
2022-04-21T16:17:01.977Z appoptics:patching patched raw-body 2.5.1
(node:977) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (191ms)
  3 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.4: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:07.392Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:07.393Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:07.393Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:07.393Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:07.447Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:07.562Z appoptics:patching patched crypto 
2022-04-21T16:17:07.589Z appoptics:patching patched https 
2022-04-21T16:17:07.590Z appoptics:patching patched http 
2022-04-21T16:17:07.626Z appoptics:patching patched zlib 
2022-04-21T16:17:07.633Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:07.634Z appoptics:patching patched fs 
2022-04-21T16:17:07.666Z appoptics:patching express 3.1.1 does not support render spans
2022-04-21T16:17:07.666Z appoptics:patching patched express 3.1.1
2022-04-21T16:17:07.670Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:07.677Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.1
    ✓ UDP might lose a message
2022-04-21T16:17:07.710Z appoptics:patching patched raw-body 2.5.1
(node:999) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (197ms)
  3 pending

npm WARN deprecated connect@2.7.5: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:13.386Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:13.387Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:13.387Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:13.388Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:13.451Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:13.558Z appoptics:patching patched crypto 
2022-04-21T16:17:13.595Z appoptics:patching patched https 
2022-04-21T16:17:13.596Z appoptics:patching patched http 
2022-04-21T16:17:13.624Z appoptics:patching patched zlib 
2022-04-21T16:17:13.631Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:13.632Z appoptics:patching patched fs 
2022-04-21T16:17:13.665Z appoptics:patching express 3.1.2 does not support render spans
2022-04-21T16:17:13.665Z appoptics:patching patched express 3.1.2
2022-04-21T16:17:13.669Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:13.675Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.2
    ✓ UDP might lose a message
2022-04-21T16:17:13.709Z appoptics:patching patched raw-body 2.5.1
(node:1021) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (174ms)
  3 pending

npm WARN deprecated connect@2.7.6: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:19.376Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:19.377Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:19.377Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:19.377Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:19.440Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:19.552Z appoptics:patching patched crypto 
2022-04-21T16:17:19.586Z appoptics:patching patched https 
2022-04-21T16:17:19.587Z appoptics:patching patched http 
2022-04-21T16:17:19.620Z appoptics:patching patched zlib 
2022-04-21T16:17:19.627Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:19.628Z appoptics:patching patched fs 
2022-04-21T16:17:19.658Z appoptics:patching patched express 3.2.0
2022-04-21T16:17:19.662Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:19.668Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.0
    ✓ UDP might lose a message
2022-04-21T16:17:19.706Z appoptics:patching patched raw-body 2.5.1
(node:1043) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (197ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated mkdirp@0.3.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.13: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.7: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 6 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:25.863Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:25.864Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:25.864Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:25.864Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:25.918Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:26.015Z appoptics:patching patched crypto 
2022-04-21T16:17:26.043Z appoptics:patching patched https 
2022-04-21T16:17:26.044Z appoptics:patching patched http 
2022-04-21T16:17:26.070Z appoptics:patching patched zlib 
2022-04-21T16:17:26.078Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:26.078Z appoptics:patching patched fs 
2022-04-21T16:17:26.106Z appoptics:patching patched express 3.2.1
2022-04-21T16:17:26.110Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:26.116Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.1
    ✓ UDP might lose a message
2022-04-21T16:17:26.148Z appoptics:patching patched raw-body 2.5.1
(node:1065) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (177ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.8: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:31.624Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:31.625Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:31.625Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:31.625Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:31.694Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:31.804Z appoptics:patching patched crypto 
2022-04-21T16:17:31.838Z appoptics:patching patched https 
2022-04-21T16:17:31.839Z appoptics:patching patched http 
2022-04-21T16:17:31.872Z appoptics:patching patched zlib 
2022-04-21T16:17:31.879Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:31.879Z appoptics:patching patched fs 
2022-04-21T16:17:31.911Z appoptics:patching patched express 3.2.2
2022-04-21T16:17:31.915Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:31.921Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.2
    ✓ UDP might lose a message
2022-04-21T16:17:31.955Z appoptics:patching patched raw-body 2.5.1
(node:1087) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (221ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.9: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:37.677Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:37.678Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:37.678Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:37.678Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:37.733Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:37.830Z appoptics:patching patched crypto 
2022-04-21T16:17:37.847Z appoptics:patching patched https 
2022-04-21T16:17:37.847Z appoptics:patching patched http 
2022-04-21T16:17:37.880Z appoptics:patching patched zlib 
2022-04-21T16:17:37.887Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:37.887Z appoptics:patching patched fs 
2022-04-21T16:17:37.914Z appoptics:patching patched express 3.2.3
2022-04-21T16:17:37.918Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:37.923Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.3
    ✓ UDP might lose a message
2022-04-21T16:17:37.953Z appoptics:patching patched raw-body 2.5.1
(node:1109) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (177ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v18.0.0', npm: '8.6.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 919 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:43.154Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:43.155Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:43.155Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:43.155Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:43.222Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:43.330Z appoptics:patching patched crypto 
2022-04-21T16:17:43.363Z appoptics:patching patched https 
2022-04-21T16:17:43.364Z appoptics:patching patched http 
2022-04-21T16:17:43.396Z appoptics:patching patched zlib 
2022-04-21T16:17:43.403Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:43.404Z appoptics:patching patched fs 
2022-04-21T16:17:43.435Z appoptics:patching patched express 3.2.4
2022-04-21T16:17:43.439Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:43.445Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.4
    ✓ UDP might lose a message
2022-04-21T16:17:43.478Z appoptics:patching patched raw-body 2.5.1
(node:1131) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (200ms)
  2 pending

npm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.10: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:49.429Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:49.430Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:49.430Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:49.431Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:49.484Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:49.581Z appoptics:patching patched crypto 
2022-04-21T16:17:49.597Z appoptics:patching patched https 
2022-04-21T16:17:49.598Z appoptics:patching patched http 
2022-04-21T16:17:49.629Z appoptics:patching patched zlib 
2022-04-21T16:17:49.636Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:49.636Z appoptics:patching patched fs 
2022-04-21T16:17:49.663Z appoptics:patching patched express 3.2.5
2022-04-21T16:17:49.667Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:49.673Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.5
    ✓ UDP might lose a message
2022-04-21T16:17:49.705Z appoptics:patching patched raw-body 2.5.1
(node:1153) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (188ms)
  2 pending

npm WARN deprecated connect@2.7.11: connect 2.x series is deprecated

added 2 packages, changed 2 packages, and audited 922 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:54.783Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:54.783Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:54.783Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:54.784Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:54.838Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:54.954Z appoptics:patching patched crypto 
2022-04-21T16:17:54.985Z appoptics:patching patched https 
2022-04-21T16:17:54.986Z appoptics:patching patched http 
2022-04-21T16:17:55.019Z appoptics:patching patched zlib 
2022-04-21T16:17:55.026Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:55.026Z appoptics:patching patched fs 
2022-04-21T16:17:55.071Z appoptics:patching patched express 3.2.6
2022-04-21T16:17:55.077Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:55.083Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.6
    ✓ UDP might lose a message
2022-04-21T16:17:55.124Z appoptics:patching patched raw-body 2.5.1
(node:1175) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated connect@2.8.0: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 4 packages, and audited 921 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:01.120Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:01.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:01.121Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:01.121Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:01.175Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:01.295Z appoptics:patching patched crypto 
2022-04-21T16:18:01.331Z appoptics:patching patched https 
2022-04-21T16:18:01.332Z appoptics:patching patched http 
2022-04-21T16:18:01.365Z appoptics:patching patched zlib 
2022-04-21T16:18:01.372Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:01.372Z appoptics:patching patched fs 
2022-04-21T16:18:01.401Z appoptics:patching patched express 3.3.0
2022-04-21T16:18:01.405Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:01.411Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.0
    ✓ UDP might lose a message
2022-04-21T16:18:01.444Z appoptics:patching patched raw-body 2.5.1
(node:1197) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (178ms)
  2 pending

npm WARN deprecated connect@2.8.1: connect 2.x series is deprecated

changed 2 packages, and audited 921 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:06.554Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:06.555Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:06.555Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:06.556Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:06.611Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:06.709Z appoptics:patching patched crypto 
2022-04-21T16:18:06.724Z appoptics:patching patched https 
2022-04-21T16:18:06.725Z appoptics:patching patched http 
2022-04-21T16:18:06.756Z appoptics:patching patched zlib 
2022-04-21T16:18:06.763Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:06.764Z appoptics:patching patched fs 
2022-04-21T16:18:06.792Z appoptics:patching patched express 3.3.1
2022-04-21T16:18:06.795Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:06.801Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.1
    ✓ UDP might lose a message
2022-04-21T16:18:06.831Z appoptics:patching patched raw-body 2.5.1
(node:1219) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (186ms)
  2 pending

npm WARN deprecated connect@2.8.2: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 3 packages, and audited 921 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:13.227Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:13.228Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:13.228Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:13.228Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:13.283Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:13.380Z appoptics:patching patched crypto 
2022-04-21T16:18:13.396Z appoptics:patching patched https 
2022-04-21T16:18:13.397Z appoptics:patching patched http 
2022-04-21T16:18:13.427Z appoptics:patching patched zlib 
2022-04-21T16:18:13.435Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:13.435Z appoptics:patching patched fs 
2022-04-21T16:18:13.463Z appoptics:patching patched express 3.3.2
2022-04-21T16:18:13.467Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:13.473Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.2
    ✓ UDP might lose a message
2022-04-21T16:18:13.504Z appoptics:patching patched raw-body 2.5.1
(node:1241) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (174ms)
  2 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.8.3: connect 2.x series is deprecated

added 1 package, changed 4 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:19.260Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:19.261Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:19.261Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:19.262Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:19.399Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:19.573Z appoptics:patching patched crypto 
2022-04-21T16:18:19.628Z appoptics:patching patched https 
2022-04-21T16:18:19.629Z appoptics:patching patched http 
2022-04-21T16:18:19.661Z appoptics:patching patched zlib 
2022-04-21T16:18:19.668Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:19.669Z appoptics:patching patched fs 
2022-04-21T16:18:19.702Z appoptics:patching patched express 3.3.3
2022-04-21T16:18:19.706Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:19.712Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.3
    ✓ UDP might lose a message
2022-04-21T16:18:19.746Z appoptics:patching patched raw-body 2.5.1
(node:1263) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (203ms)
  2 pending

npm WARN deprecated connect@2.8.4: connect 2.x series is deprecated

changed 3 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:25.175Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:25.175Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:25.175Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:25.176Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:25.230Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:25.327Z appoptics:patching patched crypto 
2022-04-21T16:18:25.343Z appoptics:patching patched https 
2022-04-21T16:18:25.344Z appoptics:patching patched http 
2022-04-21T16:18:25.376Z appoptics:patching patched zlib 
2022-04-21T16:18:25.383Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:25.383Z appoptics:patching patched fs 
2022-04-21T16:18:25.411Z appoptics:patching patched express 3.3.4
2022-04-21T16:18:25.416Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:25.421Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.4
    ✓ UDP might lose a message
2022-04-21T16:18:25.453Z appoptics:patching patched raw-body 2.5.1
(node:1285) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (196ms)
  2 pending

npm WARN deprecated connect@2.8.5: connect 2.x series is deprecated

changed 4 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:31.055Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:31.056Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:31.056Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:31.057Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:31.110Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:31.207Z appoptics:patching patched crypto 
2022-04-21T16:18:31.223Z appoptics:patching patched https 
2022-04-21T16:18:31.224Z appoptics:patching patched http 
2022-04-21T16:18:31.254Z appoptics:patching patched zlib 
2022-04-21T16:18:31.261Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:31.262Z appoptics:patching patched fs 
2022-04-21T16:18:31.290Z appoptics:patching patched express 3.3.5
2022-04-21T16:18:31.294Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:31.300Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.5
    ✓ UDP might lose a message
2022-04-21T16:18:31.349Z appoptics:patching patched raw-body 2.5.1
(node:1307) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (226ms)
  2 pending


changed 1 package, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:37.094Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:37.095Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:37.095Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:37.095Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:37.149Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:37.247Z appoptics:patching patched crypto 
2022-04-21T16:18:37.263Z appoptics:patching patched https 
2022-04-21T16:18:37.263Z appoptics:patching patched http 
2022-04-21T16:18:37.295Z appoptics:patching patched zlib 
2022-04-21T16:18:37.303Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:37.303Z appoptics:patching patched fs 
2022-04-21T16:18:37.331Z appoptics:patching patched express 3.3.6
2022-04-21T16:18:37.335Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:37.341Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.6
    ✓ UDP might lose a message
2022-04-21T16:18:37.373Z appoptics:patching patched raw-body 2.5.1
(node:1329) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (173ms)
  2 pending

npm WARN deprecated connect@2.8.7: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:43.465Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:43.466Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:43.466Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:43.466Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:43.522Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:43.636Z appoptics:patching patched crypto 
2022-04-21T16:18:43.671Z appoptics:patching patched https 
2022-04-21T16:18:43.671Z appoptics:patching patched http 
2022-04-21T16:18:43.704Z appoptics:patching patched zlib 
2022-04-21T16:18:43.711Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:43.712Z appoptics:patching patched fs 
2022-04-21T16:18:43.745Z appoptics:patching patched express 3.3.7
2022-04-21T16:18:43.749Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:43.764Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.7
    ✓ UDP might lose a message
2022-04-21T16:18:43.803Z appoptics:patching patched raw-body 2.5.1
(node:1351) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (195ms)
  2 pending

npm WARN deprecated connect@2.8.8: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:49.528Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:49.528Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:49.529Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:49.529Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:49.583Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:49.680Z appoptics:patching patched crypto 
2022-04-21T16:18:49.696Z appoptics:patching patched https 
2022-04-21T16:18:49.697Z appoptics:patching patched http 
2022-04-21T16:18:49.741Z appoptics:patching patched zlib 
2022-04-21T16:18:49.753Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:49.753Z appoptics:patching patched fs 
2022-04-21T16:18:49.787Z appoptics:patching patched express 3.3.8
2022-04-21T16:18:49.792Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:49.798Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.8
    ✓ UDP might lose a message
2022-04-21T16:18:49.833Z appoptics:patching patched raw-body 2.5.1
(node:1373) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (203ms)
  2 pending

npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.9.0: connect 2.x series is deprecated

added 6 packages, removed 2 packages, changed 3 packages, and audited 926 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:55.503Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:55.504Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:55.504Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:55.504Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:55.564Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:55.690Z appoptics:patching patched crypto 
2022-04-21T16:18:55.725Z appoptics:patching patched https 
2022-04-21T16:18:55.726Z appoptics:patching patched http 
2022-04-21T16:18:55.760Z appoptics:patching patched zlib 
2022-04-21T16:18:55.767Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:55.768Z appoptics:patching patched fs 
2022-04-21T16:18:55.807Z appoptics:patching patched express 3.4.0
2022-04-21T16:18:55.812Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:55.818Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.0
    ✓ UDP might lose a message
2022-04-21T16:18:55.853Z appoptics:patching patched raw-body 2.5.1
(node:1395) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (93ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (312ms)
  2 pending

npm WARN deprecated connect@2.9.1: connect 2.x series is deprecated

removed 5 packages, changed 5 packages, and audited 921 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:01.791Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:01.792Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:01.792Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:01.792Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:01.847Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:01.947Z appoptics:patching patched crypto 
2022-04-21T16:19:01.963Z appoptics:patching patched https 
2022-04-21T16:19:01.964Z appoptics:patching patched http 
2022-04-21T16:19:01.997Z appoptics:patching patched zlib 
2022-04-21T16:19:02.004Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:02.004Z appoptics:patching patched fs 
2022-04-21T16:19:02.045Z appoptics:patching patched express 3.4.1
2022-04-21T16:19:02.049Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:02.060Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.1
    ✓ UDP might lose a message
2022-04-21T16:19:02.091Z appoptics:patching patched raw-body 2.5.1
(node:1417) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (214ms)
  2 pending

npm WARN deprecated connect@2.9.2: connect 2.x series is deprecated

added 4 packages, changed 4 packages, and audited 925 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:07.725Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:07.726Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:07.726Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:07.726Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:07.797Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:07.908Z appoptics:patching patched crypto 
2022-04-21T16:19:07.952Z appoptics:patching patched https 
2022-04-21T16:19:07.953Z appoptics:patching patched http 
2022-04-21T16:19:07.976Z appoptics:patching patched zlib 
2022-04-21T16:19:07.983Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:07.983Z appoptics:patching patched fs 
2022-04-21T16:19:08.011Z appoptics:patching patched raw-body 0.0.3
2022-04-21T16:19:08.022Z appoptics:patching patched express 3.4.2
2022-04-21T16:19:08.027Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:08.033Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.2
    ✓ UDP might lose a message
2022-04-21T16:19:08.067Z appoptics:patching patched raw-body 2.5.1
(node:1439) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (82ms)
    ✓ should forward controller/action for POST (38ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (324ms)
  2 pending

npm WARN deprecated connect@2.10.1: connect 2.x series is deprecated

changed 2 packages, and audited 925 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:13.786Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:13.787Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:13.787Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:13.788Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:13.842Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:13.940Z appoptics:patching patched crypto 
2022-04-21T16:19:13.956Z appoptics:patching patched https 
2022-04-21T16:19:13.957Z appoptics:patching patched http 
2022-04-21T16:19:13.988Z appoptics:patching patched zlib 
2022-04-21T16:19:13.995Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:13.995Z appoptics:patching patched fs 
2022-04-21T16:19:14.018Z appoptics:patching patched raw-body 0.0.3
2022-04-21T16:19:14.029Z appoptics:patching patched express 3.4.3
2022-04-21T16:19:14.033Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:14.039Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.3
    ✓ UDP might lose a message
2022-04-21T16:19:14.070Z appoptics:patching patched raw-body 2.5.1
(node:1461) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (174ms)
  2 pending

npm WARN deprecated connect@2.11.0: connect 2.x series is deprecated

changed 6 packages, and audited 925 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:19.490Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:19.491Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:19.491Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:19.492Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:19.561Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:19.672Z appoptics:patching patched crypto 
2022-04-21T16:19:19.707Z appoptics:patching patched https 
2022-04-21T16:19:19.708Z appoptics:patching patched http 
2022-04-21T16:19:19.742Z appoptics:patching patched zlib 
2022-04-21T16:19:19.749Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:19.749Z appoptics:patching patched fs 
2022-04-21T16:19:19.777Z appoptics:patching patched raw-body 0.0.3
2022-04-21T16:19:19.789Z appoptics:patching patched express 3.4.4
2022-04-21T16:19:19.793Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:19.799Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.4
    ✓ UDP might lose a message
2022-04-21T16:19:19.833Z appoptics:patching patched raw-body 2.5.1
(node:1483) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (206ms)
  2 pending

npm WARN deprecated connect@2.11.1: connect 2.x series is deprecated

added 2 packages, changed 4 packages, and audited 927 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:25.628Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:25.629Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:25.629Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:25.630Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:25.683Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:25.780Z appoptics:patching patched crypto 
2022-04-21T16:19:25.797Z appoptics:patching patched https 
2022-04-21T16:19:25.798Z appoptics:patching patched http 
2022-04-21T16:19:25.830Z appoptics:patching patched zlib 
2022-04-21T16:19:25.836Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:25.837Z appoptics:patching patched fs 
2022-04-21T16:19:25.862Z appoptics:patching patched raw-body 1.1.1
2022-04-21T16:19:25.872Z appoptics:patching patched express 3.4.5
2022-04-21T16:19:25.876Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:25.882Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.5
    ✓ UDP might lose a message
2022-04-21T16:19:25.913Z appoptics:patching patched raw-body 2.5.1
(node:1505) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (180ms)
  2 pending

npm WARN deprecated connect@2.11.2: connect 2.x series is deprecated

changed 3 packages, and audited 927 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:31.206Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:31.207Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:31.207Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:31.208Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:31.276Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:31.379Z appoptics:patching patched crypto 
2022-04-21T16:19:31.410Z appoptics:patching patched https 
2022-04-21T16:19:31.411Z appoptics:patching patched http 
2022-04-21T16:19:31.445Z appoptics:patching patched zlib 
2022-04-21T16:19:31.452Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:31.452Z appoptics:patching patched fs 
2022-04-21T16:19:31.482Z appoptics:patching patched raw-body 1.1.2
2022-04-21T16:19:31.492Z appoptics:patching patched express 3.4.6
2022-04-21T16:19:31.497Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:31.503Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.6
    ✓ UDP might lose a message
2022-04-21T16:19:31.549Z appoptics:patching patched raw-body 2.5.1
(node:1527) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (217ms)
  2 pending

npm WARN deprecated connect@2.12.0: connect 2.x series is deprecated

added 2 packages, changed 3 packages, and audited 929 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:37.454Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:37.454Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:37.454Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:37.455Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:37.530Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:37.633Z appoptics:patching patched crypto 
2022-04-21T16:19:37.649Z appoptics:patching patched https 
2022-04-21T16:19:37.649Z appoptics:patching patched http 
2022-04-21T16:19:37.682Z appoptics:patching patched zlib 
2022-04-21T16:19:37.688Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:37.688Z appoptics:patching patched fs 
2022-04-21T16:19:37.714Z appoptics:patching patched raw-body 1.1.2
2022-04-21T16:19:37.725Z appoptics:patching patched express 3.4.7
2022-04-21T16:19:37.729Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:37.734Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.7
    ✓ UDP might lose a message
2022-04-21T16:19:37.764Z appoptics:patching patched raw-body 2.5.1
(node:1549) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (180ms)
  2 pending


changed 1 package, and audited 929 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:42.957Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:42.958Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:42.958Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:42.958Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:43.034Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:43.142Z appoptics:patching patched crypto 
2022-04-21T16:19:43.176Z appoptics:patching patched https 
2022-04-21T16:19:43.177Z appoptics:patching patched http 
2022-04-21T16:19:43.211Z appoptics:patching patched zlib 
2022-04-21T16:19:43.217Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:43.218Z appoptics:patching patched fs 
2022-04-21T16:19:43.248Z appoptics:patching patched raw-body 1.1.2
2022-04-21T16:19:43.259Z appoptics:patching patched express 3.4.8
2022-04-21T16:19:43.263Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:43.269Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.8
    ✓ UDP might lose a message
2022-04-21T16:19:43.311Z appoptics:patching patched raw-body 2.5.1
(node:1571) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (207ms)
  2 pending

npm WARN deprecated static-favicon@1.0.0: use serve-favicon module
npm WARN deprecated connect@2.14.1: connect 2.x series is deprecated

added 22 packages, removed 1 package, changed 10 packages, and audited 950 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:49.778Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:49.778Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:49.778Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:49.779Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:49.833Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:49.932Z appoptics:patching patched crypto 
2022-04-21T16:19:49.948Z appoptics:patching patched https 
2022-04-21T16:19:49.949Z appoptics:patching patched http 
2022-04-21T16:19:49.982Z appoptics:patching patched zlib 
2022-04-21T16:19:49.988Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:49.988Z appoptics:patching patched fs 
2022-04-21T16:19:50.014Z appoptics:patching patched raw-body 1.1.3
2022-04-21T16:19:50.027Z appoptics:patching patched morgan 1.0.0
2022-04-21T16:19:50.035Z appoptics:patching patched express 3.5.0
2022-04-21T16:19:50.044Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:50.055Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.0
    ✓ UDP might lose a message
2022-04-21T16:19:50.093Z appoptics:patching patched raw-body 2.5.1
(node:1593) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (196ms)
  2 pending


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:55.415Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:55.416Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:55.416Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:55.416Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:55.488Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:55.601Z appoptics:patching patched crypto 
2022-04-21T16:19:55.636Z appoptics:patching patched https 
2022-04-21T16:19:55.637Z appoptics:patching patched http 
2022-04-21T16:19:55.672Z appoptics:patching patched zlib 
2022-04-21T16:19:55.679Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:55.679Z appoptics:patching patched fs 
2022-04-21T16:19:55.710Z appoptics:patching patched raw-body 1.1.3
2022-04-21T16:19:55.724Z appoptics:patching patched morgan 1.0.0
2022-04-21T16:19:55.729Z appoptics:patching patched express 3.5.1
2022-04-21T16:19:55.733Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:55.749Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.1
    ✓ UDP might lose a message
2022-04-21T16:19:55.785Z appoptics:patching patched raw-body 2.5.1
(node:1615) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (199ms)
  2 pending

npm WARN deprecated static-favicon@1.0.2: use serve-favicon module
npm WARN deprecated scmp@0.0.3: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.14.5: connect 2.x series is deprecated

added 5 packages, changed 10 packages, and audited 955 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:04.101Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:04.102Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:04.102Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:04.102Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:04.157Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:04.255Z appoptics:patching patched crypto 
2022-04-21T16:20:04.271Z appoptics:patching patched https 
2022-04-21T16:20:04.272Z appoptics:patching patched http 
2022-04-21T16:20:04.303Z appoptics:patching patched zlib 
2022-04-21T16:20:04.310Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:04.310Z appoptics:patching patched fs 
2022-04-21T16:20:04.335Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:20:04.347Z appoptics:patching patched morgan 1.0.0
2022-04-21T16:20:04.354Z appoptics:patching patched express 3.5.2
2022-04-21T16:20:04.358Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:04.363Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.2
    ✓ UDP might lose a message
2022-04-21T16:20:04.395Z appoptics:patching patched raw-body 2.5.1
(node:1637) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (181ms)
  2 pending

npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 955 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:10.780Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:10.780Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:10.780Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:10.781Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:10.835Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:10.934Z appoptics:patching patched crypto 
2022-04-21T16:20:10.958Z appoptics:patching patched https 
2022-04-21T16:20:10.958Z appoptics:patching patched http 
2022-04-21T16:20:11.013Z appoptics:patching patched zlib 
2022-04-21T16:20:11.019Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:11.020Z appoptics:patching patched fs 
2022-04-21T16:20:11.050Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:20:11.063Z appoptics:patching patched morgan 1.0.0
2022-04-21T16:20:11.079Z appoptics:patching patched express 3.5.3
2022-04-21T16:20:11.083Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:11.089Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.3
    ✓ UDP might lose a message
2022-04-21T16:20:11.122Z appoptics:patching patched raw-body 2.5.1
(node:1659) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (181ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.15.0: connect 2.x series is deprecated

added 3 packages, removed 5 packages, changed 14 packages, and audited 953 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (3 low, 11 moderate, 11 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:16.747Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:16.748Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:16.748Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:16.748Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:16.804Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:16.905Z appoptics:patching patched crypto 
2022-04-21T16:20:16.922Z appoptics:patching patched https 
2022-04-21T16:20:16.923Z appoptics:patching patched http 
2022-04-21T16:20:16.956Z appoptics:patching patched zlib 
2022-04-21T16:20:16.963Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:16.963Z appoptics:patching patched fs 
2022-04-21T16:20:16.989Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:20:17.001Z appoptics:patching patched morgan 1.0.1
2022-04-21T16:20:17.007Z appoptics:patching patched express 3.6.0
2022-04-21T16:20:17.013Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:17.018Z appoptics:debug starting runtimeMetrics


  probes.express 3.6.0
    ✓ UDP might lose a message
2022-04-21T16:20:17.050Z appoptics:patching patched raw-body 2.5.1
(node:1681) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (181ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.16.2: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 10 packages, and audited 962 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:23.698Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:23.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:23.699Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:23.699Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:23.753Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:23.851Z appoptics:patching patched crypto 
2022-04-21T16:20:23.867Z appoptics:patching patched https 
2022-04-21T16:20:23.868Z appoptics:patching patched http 
2022-04-21T16:20:23.900Z appoptics:patching patched zlib 
2022-04-21T16:20:23.906Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:23.906Z appoptics:patching patched fs 
2022-04-21T16:20:23.938Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:20:23.949Z appoptics:patching patched morgan 1.0.1
2022-04-21T16:20:23.955Z appoptics:patching patched express 3.7.0
2022-04-21T16:20:23.961Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:23.966Z appoptics:debug starting runtimeMetrics


  probes.express 3.7.0
    ✓ UDP might lose a message
2022-04-21T16:20:23.999Z appoptics:patching patched raw-body 2.5.1
(node:1703) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (181ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.1: connect 2.x series is deprecated

removed 1 package, changed 6 packages, and audited 961 packages in 19s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:44.103Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:44.104Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:44.104Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:44.105Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:44.185Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:44.314Z appoptics:patching patched crypto 
2022-04-21T16:20:44.356Z appoptics:patching patched https 
2022-04-21T16:20:44.357Z appoptics:patching patched http 
2022-04-21T16:20:44.393Z appoptics:patching patched zlib 
2022-04-21T16:20:44.401Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:44.402Z appoptics:patching patched fs 
2022-04-21T16:20:44.445Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:20:44.459Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:20:44.479Z appoptics:patching patched express 3.8.0
2022-04-21T16:20:44.488Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:44.494Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.0
    ✓ UDP might lose a message
2022-04-21T16:20:44.552Z appoptics:patching patched raw-body 2.5.1
(node:1725) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (98ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.3: connect 2.x series is deprecated

removed 1 package, changed 7 packages, and audited 960 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 12 moderate, 13 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:50.149Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:50.150Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:50.150Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:50.150Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:50.213Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:50.333Z appoptics:patching patched crypto 
2022-04-21T16:20:50.350Z appoptics:patching patched https 
2022-04-21T16:20:50.351Z appoptics:patching patched http 
2022-04-21T16:20:50.383Z appoptics:patching patched zlib 
2022-04-21T16:20:50.393Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:50.394Z appoptics:patching patched fs 
2022-04-21T16:20:50.436Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:20:50.449Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:20:50.460Z appoptics:patching patched express 3.8.1
2022-04-21T16:20:50.467Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:50.473Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.1
    ✓ UDP might lose a message
2022-04-21T16:20:50.511Z appoptics:patching patched raw-body 2.5.1
(node:1747) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.18.0: connect 2.x series is deprecated

added 4 packages, removed 3 packages, changed 12 packages, and audited 961 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:56.589Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:56.590Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:56.590Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:56.591Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:56.646Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:56.745Z appoptics:patching patched crypto 
2022-04-21T16:20:56.761Z appoptics:patching patched https 
2022-04-21T16:20:56.762Z appoptics:patching patched http 
2022-04-21T16:20:56.794Z appoptics:patching patched zlib 
2022-04-21T16:20:56.800Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:56.800Z appoptics:patching patched fs 
2022-04-21T16:20:56.829Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:20:56.840Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:20:56.846Z appoptics:patching patched express 3.9.0
2022-04-21T16:20:56.852Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:56.857Z appoptics:debug starting runtimeMetrics


  probes.express 3.9.0
    ✓ UDP might lose a message
2022-04-21T16:20:56.889Z appoptics:patching patched raw-body 2.5.1
(node:1769) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (211ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.1: connect 2.x series is deprecated

added 2 packages, changed 12 packages, and audited 963 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:02.849Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:02.849Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:02.849Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:02.850Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:02.904Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:03.003Z appoptics:patching patched crypto 
2022-04-21T16:21:03.020Z appoptics:patching patched https 
2022-04-21T16:21:03.020Z appoptics:patching patched http 
2022-04-21T16:21:03.052Z appoptics:patching patched zlib 
2022-04-21T16:21:03.059Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:03.059Z appoptics:patching patched fs 
2022-04-21T16:21:03.087Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:03.099Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:03.104Z appoptics:patching patched express 3.10.0
2022-04-21T16:21:03.110Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:03.115Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.0
    ✓ UDP might lose a message
2022-04-21T16:21:03.147Z appoptics:patching patched raw-body 2.5.1
(node:1791) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (184ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.2: connect 2.x series is deprecated

changed 5 packages, and audited 963 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:09.386Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:09.386Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:09.386Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:09.387Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:09.441Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:09.590Z appoptics:patching patched crypto 
2022-04-21T16:21:09.614Z appoptics:patching patched https 
2022-04-21T16:21:09.615Z appoptics:patching patched http 
2022-04-21T16:21:09.645Z appoptics:patching patched zlib 
2022-04-21T16:21:09.652Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:09.652Z appoptics:patching patched fs 
2022-04-21T16:21:09.681Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:09.694Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:09.700Z appoptics:patching patched express 3.10.1
2022-04-21T16:21:09.706Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:09.711Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.1
    ✓ UDP might lose a message
2022-04-21T16:21:09.743Z appoptics:patching patched raw-body 2.5.1
(node:1813) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (179ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.3: connect 2.x series is deprecated

changed 4 packages, and audited 963 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:15.317Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:15.317Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:15.317Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:15.318Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:15.376Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:15.474Z appoptics:patching patched crypto 
2022-04-21T16:21:15.490Z appoptics:patching patched https 
2022-04-21T16:21:15.491Z appoptics:patching patched http 
2022-04-21T16:21:15.523Z appoptics:patching patched zlib 
2022-04-21T16:21:15.530Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:15.531Z appoptics:patching patched fs 
2022-04-21T16:21:15.559Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:15.571Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:15.577Z appoptics:patching patched express 3.10.2
2022-04-21T16:21:15.582Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:15.588Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.2
    ✓ UDP might lose a message
2022-04-21T16:21:15.620Z appoptics:patching patched raw-body 2.5.1
(node:1835) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.4: connect 2.x series is deprecated

added 3 packages, changed 8 packages, and audited 966 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:22.208Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:22.210Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:22.210Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:22.211Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:22.266Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:22.366Z appoptics:patching patched crypto 
2022-04-21T16:21:22.382Z appoptics:patching patched https 
2022-04-21T16:21:22.383Z appoptics:patching patched http 
2022-04-21T16:21:22.415Z appoptics:patching patched zlib 
2022-04-21T16:21:22.422Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:22.422Z appoptics:patching patched fs 
2022-04-21T16:21:22.451Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:22.462Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:22.468Z appoptics:patching patched express 3.10.3
2022-04-21T16:21:22.474Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:22.479Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.3
    ✓ UDP might lose a message
2022-04-21T16:21:22.511Z appoptics:patching patched raw-body 2.5.1
(node:1857) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.5: connect 2.x series is deprecated

added 6 packages, changed 11 packages, and audited 972 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:28.278Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:28.279Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:28.279Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:28.280Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:28.341Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:28.443Z appoptics:patching patched crypto 
2022-04-21T16:21:28.466Z appoptics:patching patched https 
2022-04-21T16:21:28.467Z appoptics:patching patched http 
2022-04-21T16:21:28.498Z appoptics:patching patched zlib 
2022-04-21T16:21:28.509Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:28.510Z appoptics:patching patched fs 
2022-04-21T16:21:28.541Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:28.553Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:28.562Z appoptics:patching patched express 3.10.4
2022-04-21T16:21:28.568Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:28.574Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.4
    ✓ UDP might lose a message
2022-04-21T16:21:28.631Z appoptics:patching patched raw-body 2.5.1
(node:1879) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (206ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.6: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 15 packages, and audited 972 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (2 low, 11 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:35.366Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:35.366Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:35.366Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:35.367Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:35.421Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:35.522Z appoptics:patching patched crypto 
2022-04-21T16:21:35.538Z appoptics:patching patched https 
2022-04-21T16:21:35.539Z appoptics:patching patched http 
2022-04-21T16:21:35.571Z appoptics:patching patched zlib 
2022-04-21T16:21:35.582Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:35.582Z appoptics:patching patched fs 
2022-04-21T16:21:35.611Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:35.622Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:35.628Z appoptics:patching patched express 3.10.5
2022-04-21T16:21:35.633Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:35.639Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.5
    ✓ UDP might lose a message
2022-04-21T16:21:35.672Z appoptics:patching patched raw-body 2.5.1
(node:1901) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (181ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.
npm WARN deprecated connect@2.20.2: connect 2.x series is deprecated

added 14 packages, removed 2 packages, changed 20 packages, and audited 984 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 11 moderate, 21 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:41.785Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:41.786Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:41.786Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:41.787Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:41.841Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:41.941Z appoptics:patching patched crypto 
2022-04-21T16:21:41.957Z appoptics:patching patched https 
2022-04-21T16:21:41.958Z appoptics:patching patched http 
2022-04-21T16:21:41.989Z appoptics:patching patched zlib 
2022-04-21T16:21:42.005Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:42.005Z appoptics:patching patched fs 
2022-04-21T16:21:42.043Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:42.052Z appoptics:patching patched express 3.11.0
2022-04-21T16:21:42.059Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:42.065Z appoptics:debug starting runtimeMetrics


  probes.express 3.11.0
    ✓ UDP might lose a message
2022-04-21T16:21:42.097Z appoptics:patching patched raw-body 2.5.1
(node:1923) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (183ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.0: connect 2.x series is deprecated

added 15 packages, removed 2 packages, changed 12 packages, and audited 997 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 10 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:48.697Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:48.698Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:48.698Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:48.698Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:48.753Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:48.871Z appoptics:patching patched crypto 
2022-04-21T16:21:48.889Z appoptics:patching patched https 
2022-04-21T16:21:48.890Z appoptics:patching patched http 
2022-04-21T16:21:48.937Z appoptics:patching patched zlib 
2022-04-21T16:21:48.953Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:48.954Z appoptics:patching patched fs 
2022-04-21T16:21:49.002Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:49.011Z appoptics:patching patched express 3.12.0
2022-04-21T16:21:49.017Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:49.023Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.0
    ✓ UDP might lose a message
2022-04-21T16:21:49.054Z appoptics:patching patched raw-body 2.5.1
(node:1945) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (183ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.1: connect 2.x series is deprecated

added 2 packages, removed 2 packages, changed 6 packages, and audited 997 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:54.781Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:54.782Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:54.782Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:54.783Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:54.855Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:54.962Z appoptics:patching patched crypto 
2022-04-21T16:21:54.997Z appoptics:patching patched https 
2022-04-21T16:21:54.997Z appoptics:patching patched http 
2022-04-21T16:21:55.029Z appoptics:patching patched zlib 
2022-04-21T16:21:55.046Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:55.046Z appoptics:patching patched fs 
2022-04-21T16:21:55.105Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:55.117Z appoptics:patching patched express 3.12.1
2022-04-21T16:21:55.122Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:55.128Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.1
    ✓ UDP might lose a message
2022-04-21T16:21:55.160Z appoptics:patching patched raw-body 2.5.1
(node:1967) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (201ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.22.0: connect 2.x series is deprecated

added 8 packages, removed 1 package, changed 10 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:01.889Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:01.890Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:01.890Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:01.890Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:01.946Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:02.044Z appoptics:patching patched crypto 
2022-04-21T16:22:02.062Z appoptics:patching patched https 
2022-04-21T16:22:02.063Z appoptics:patching patched http 
2022-04-21T16:22:02.096Z appoptics:patching patched zlib 
2022-04-21T16:22:02.112Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:02.113Z appoptics:patching patched fs 
2022-04-21T16:22:02.167Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:02.176Z appoptics:patching patched express 3.13.0
2022-04-21T16:22:02.180Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:02.186Z appoptics:debug starting runtimeMetrics


  probes.express 3.13.0
    ✓ UDP might lose a message
2022-04-21T16:22:02.216Z appoptics:patching patched raw-body 2.5.1
(node:1989) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.23.0: connect 2.x series is deprecated

added 3 packages, removed 1 package, changed 10 packages, and audited 1006 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:08.468Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:08.468Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:08.469Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:08.469Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:08.534Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:08.656Z appoptics:patching patched crypto 
2022-04-21T16:22:08.690Z appoptics:patching patched https 
2022-04-21T16:22:08.691Z appoptics:patching patched http 
2022-04-21T16:22:08.724Z appoptics:patching patched zlib 
2022-04-21T16:22:08.740Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:08.741Z appoptics:patching patched fs 
2022-04-21T16:22:08.843Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:08.857Z appoptics:patching patched express 3.14.0
2022-04-21T16:22:08.869Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:08.882Z appoptics:debug starting runtimeMetrics


  probes.express 3.14.0
    ✓ UDP might lose a message
2022-04-21T16:22:08.958Z appoptics:patching patched raw-body 2.5.1
(node:2011) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (294ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.0: connect 2.x series is deprecated

added 8 packages, removed 3 packages, changed 26 packages, and audited 1011 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:15.059Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:15.060Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:15.060Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:15.061Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:15.114Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:15.213Z appoptics:patching patched crypto 
2022-04-21T16:22:15.230Z appoptics:patching patched https 
2022-04-21T16:22:15.230Z appoptics:patching patched http 
2022-04-21T16:22:15.261Z appoptics:patching patched zlib 
2022-04-21T16:22:15.277Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:15.277Z appoptics:patching patched fs 
2022-04-21T16:22:15.334Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:22:15.344Z appoptics:patching patched express 3.15.0
2022-04-21T16:22:15.349Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:15.355Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.0
    ✓ UDP might lose a message
2022-04-21T16:22:15.387Z appoptics:patching patched raw-body 2.5.1
(node:2033) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (184ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.1: connect 2.x series is deprecated

changed 7 packages, and audited 1011 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:22.001Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:22.002Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:22.002Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:22.002Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:22.057Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:22.156Z appoptics:patching patched crypto 
2022-04-21T16:22:22.172Z appoptics:patching patched https 
2022-04-21T16:22:22.173Z appoptics:patching patched http 
2022-04-21T16:22:22.205Z appoptics:patching patched zlib 
2022-04-21T16:22:22.221Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:22.221Z appoptics:patching patched fs 
2022-04-21T16:22:22.278Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:22:22.289Z appoptics:patching patched express 3.15.1
2022-04-21T16:22:22.294Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:22.300Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.1
    ✓ UDP might lose a message
2022-04-21T16:22:22.331Z appoptics:patching patched raw-body 2.5.1
(node:2055) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (186ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.2: connect 2.x series is deprecated

removed 2 packages, changed 7 packages, and audited 1009 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:28.192Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:28.193Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:28.193Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:28.194Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:28.248Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:28.346Z appoptics:patching patched crypto 
2022-04-21T16:22:28.363Z appoptics:patching patched https 
2022-04-21T16:22:28.363Z appoptics:patching patched http 
2022-04-21T16:22:28.394Z appoptics:patching patched zlib 
2022-04-21T16:22:28.410Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:28.410Z appoptics:patching patched fs 
2022-04-21T16:22:28.465Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:22:28.475Z appoptics:patching patched express 3.15.2
2022-04-21T16:22:28.480Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:28.486Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.2
    ✓ UDP might lose a message
2022-04-21T16:22:28.517Z appoptics:patching patched raw-body 2.5.1
(node:2077) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.3: connect 2.x series is deprecated

removed 5 packages, changed 4 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:34.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:34.882Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:34.882Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:34.883Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:34.966Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:35.066Z appoptics:patching patched crypto 
2022-04-21T16:22:35.090Z appoptics:patching patched https 
2022-04-21T16:22:35.091Z appoptics:patching patched http 
2022-04-21T16:22:35.119Z appoptics:patching patched zlib 
2022-04-21T16:22:35.135Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:35.135Z appoptics:patching patched fs 
2022-04-21T16:22:35.185Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:22:35.195Z appoptics:patching patched express 3.15.3
2022-04-21T16:22:35.200Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:35.206Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.3
    ✓ UDP might lose a message
2022-04-21T16:22:35.236Z appoptics:patching patched raw-body 2.5.1
(node:2099) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (183ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated connect@2.25.0: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 11 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:41.437Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:41.438Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:41.438Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:41.439Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:41.493Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:41.591Z appoptics:patching patched crypto 
2022-04-21T16:22:41.608Z appoptics:patching patched https 
2022-04-21T16:22:41.608Z appoptics:patching patched http 
2022-04-21T16:22:41.640Z appoptics:patching patched zlib 
2022-04-21T16:22:41.656Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:41.656Z appoptics:patching patched fs 
2022-04-21T16:22:41.713Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:22:41.723Z appoptics:patching patched express 3.16.0
2022-04-21T16:22:41.728Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:41.734Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.0
    ✓ UDP might lose a message
2022-04-21T16:22:41.765Z appoptics:patching patched raw-body 2.5.1
(node:2121) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (184ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.1: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:47.774Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:47.775Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:47.775Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:47.775Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:47.830Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:47.929Z appoptics:patching patched crypto 
2022-04-21T16:22:47.945Z appoptics:patching patched https 
2022-04-21T16:22:47.946Z appoptics:patching patched http 
2022-04-21T16:22:47.984Z appoptics:patching patched zlib 
2022-04-21T16:22:48.005Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:48.005Z appoptics:patching patched fs 
2022-04-21T16:22:48.076Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:22:48.086Z appoptics:patching patched express 3.16.1
2022-04-21T16:22:48.091Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:48.097Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.1
    ✓ UDP might lose a message
2022-04-21T16:22:48.128Z appoptics:patching patched raw-body 2.5.1
(node:2143) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (184ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:54.234Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:54.235Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:54.235Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:54.236Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:54.289Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:54.389Z appoptics:patching patched crypto 
2022-04-21T16:22:54.405Z appoptics:patching patched https 
2022-04-21T16:22:54.406Z appoptics:patching patched http 
2022-04-21T16:22:54.437Z appoptics:patching patched zlib 
2022-04-21T16:22:54.453Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:54.453Z appoptics:patching patched fs 
2022-04-21T16:22:54.511Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:22:54.521Z appoptics:patching patched express 3.16.2
2022-04-21T16:22:54.526Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:54.532Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.2
    ✓ UDP might lose a message
2022-04-21T16:22:54.563Z appoptics:patching patched raw-body 2.5.1
(node:2165) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (186ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.3: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:00.587Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:00.587Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:00.587Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:00.588Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:00.642Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:00.795Z appoptics:patching patched crypto 
2022-04-21T16:23:00.853Z appoptics:patching patched https 
2022-04-21T16:23:00.853Z appoptics:patching patched http 
2022-04-21T16:23:00.891Z appoptics:patching patched zlib 
2022-04-21T16:23:00.907Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:00.908Z appoptics:patching patched fs 
2022-04-21T16:23:00.966Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:00.976Z appoptics:patching patched express 3.16.3
2022-04-21T16:23:00.981Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:00.987Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.3
    ✓ UDP might lose a message
2022-04-21T16:23:01.021Z appoptics:patching patched raw-body 2.5.1
(node:2187) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (180ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.4: connect 2.x series is deprecated

removed 10 packages, changed 7 packages, and audited 1003 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:06.822Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:06.823Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:06.823Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:06.823Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:06.877Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:06.977Z appoptics:patching patched crypto 
2022-04-21T16:23:06.994Z appoptics:patching patched https 
2022-04-21T16:23:06.995Z appoptics:patching patched http 
2022-04-21T16:23:07.028Z appoptics:patching patched zlib 
2022-04-21T16:23:07.044Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:07.044Z appoptics:patching patched fs 
2022-04-21T16:23:07.102Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:07.111Z appoptics:patching patched express 3.16.4
2022-04-21T16:23:07.116Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:07.122Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.4
    ✓ UDP might lose a message
2022-04-21T16:23:07.153Z appoptics:patching patched raw-body 2.5.1
(node:2209) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (206ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.5: connect 2.x series is deprecated

changed 3 packages, and audited 1003 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:13.464Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:13.464Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:13.464Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:13.465Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:13.519Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:13.618Z appoptics:patching patched crypto 
2022-04-21T16:23:13.634Z appoptics:patching patched https 
2022-04-21T16:23:13.635Z appoptics:patching patched http 
2022-04-21T16:23:13.667Z appoptics:patching patched zlib 
2022-04-21T16:23:13.683Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:13.683Z appoptics:patching patched fs 
2022-04-21T16:23:13.738Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:13.748Z appoptics:patching patched express 3.16.5
2022-04-21T16:23:13.753Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:13.758Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.5
    ✓ UDP might lose a message
2022-04-21T16:23:13.790Z appoptics:patching patched raw-body 2.5.1
(node:2231) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (199ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.6: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1004 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:19.706Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:19.706Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:19.706Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:19.707Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:19.822Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:20.070Z appoptics:patching patched crypto 
2022-04-21T16:23:20.138Z appoptics:patching patched https 
2022-04-21T16:23:20.138Z appoptics:patching patched http 
2022-04-21T16:23:20.207Z appoptics:patching patched zlib 
2022-04-21T16:23:20.224Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:20.225Z appoptics:patching patched fs 
2022-04-21T16:23:20.310Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:20.323Z appoptics:patching patched express 3.16.6
2022-04-21T16:23:20.330Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:20.341Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.6
    ✓ UDP might lose a message
2022-04-21T16:23:20.389Z appoptics:patching patched raw-body 2.5.1
(node:2253) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.7: connect 2.x series is deprecated

added 3 packages, removed 3 packages, changed 4 packages, and audited 1004 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:26.413Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:26.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:26.413Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:26.414Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:26.468Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:26.569Z appoptics:patching patched crypto 
2022-04-21T16:23:26.585Z appoptics:patching patched https 
2022-04-21T16:23:26.586Z appoptics:patching patched http 
2022-04-21T16:23:26.617Z appoptics:patching patched zlib 
2022-04-21T16:23:26.633Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:26.633Z appoptics:patching patched fs 
2022-04-21T16:23:26.688Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:26.698Z appoptics:patching patched express 3.16.7
2022-04-21T16:23:26.703Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:26.709Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.7
    ✓ UDP might lose a message
2022-04-21T16:23:26.740Z appoptics:patching patched raw-body 2.5.1
(node:2275) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.8: connect 2.x series is deprecated

changed 4 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:33.108Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:33.109Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:33.109Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:33.110Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:33.166Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:33.266Z appoptics:patching patched crypto 
2022-04-21T16:23:33.282Z appoptics:patching patched https 
2022-04-21T16:23:33.283Z appoptics:patching patched http 
2022-04-21T16:23:33.314Z appoptics:patching patched zlib 
2022-04-21T16:23:33.331Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:33.331Z appoptics:patching patched fs 
2022-04-21T16:23:33.389Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:33.398Z appoptics:patching patched express 3.16.8
2022-04-21T16:23:33.402Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:33.408Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.8
    ✓ UDP might lose a message
2022-04-21T16:23:33.438Z appoptics:patching patched raw-body 2.5.1
(node:2297) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (184ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.9: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1003 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:39.008Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:39.008Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:39.008Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:39.009Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:39.064Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:39.165Z appoptics:patching patched crypto 
2022-04-21T16:23:39.182Z appoptics:patching patched https 
2022-04-21T16:23:39.182Z appoptics:patching patched http 
2022-04-21T16:23:39.213Z appoptics:patching patched zlib 
2022-04-21T16:23:39.229Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:39.230Z appoptics:patching patched fs 
2022-04-21T16:23:39.288Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:39.297Z appoptics:patching patched express 3.16.9
2022-04-21T16:23:39.302Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:39.308Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.9
    ✓ UDP might lose a message
2022-04-21T16:23:39.340Z appoptics:patching patched raw-body 2.5.1
(node:2319) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (185ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.10: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 995 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:45.680Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:45.680Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:45.680Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:45.681Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:45.746Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:45.854Z appoptics:patching patched crypto 
2022-04-21T16:23:45.889Z appoptics:patching patched https 
2022-04-21T16:23:45.889Z appoptics:patching patched http 
2022-04-21T16:23:45.925Z appoptics:patching patched zlib 
2022-04-21T16:23:45.959Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:45.959Z appoptics:patching patched fs 
2022-04-21T16:23:46.035Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:46.045Z appoptics:patching patched express 3.16.10
2022-04-21T16:23:46.050Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:46.055Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.10
    ✓ UDP might lose a message
2022-04-21T16:23:46.086Z appoptics:patching patched raw-body 2.5.1
(node:2341) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (183ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.0: connect 2.x series is deprecated

added 24 packages, removed 3 packages, changed 38 packages, and audited 1016 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:52.483Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:52.483Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:52.483Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:52.484Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:52.538Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:52.637Z appoptics:patching patched crypto 
2022-04-21T16:23:52.654Z appoptics:patching patched https 
2022-04-21T16:23:52.655Z appoptics:patching patched http 
2022-04-21T16:23:52.686Z appoptics:patching patched zlib 
2022-04-21T16:23:52.703Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:52.703Z appoptics:patching patched fs 
2022-04-21T16:23:52.775Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:23:52.784Z appoptics:patching patched express 3.17.0
2022-04-21T16:23:52.789Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:52.795Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.0
    ✓ UDP might lose a message
2022-04-21T16:23:52.832Z appoptics:patching patched raw-body 2.5.1
(node:2363) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (174ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1016 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:59.256Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:59.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:59.256Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:59.257Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:59.311Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:59.410Z appoptics:patching patched crypto 
2022-04-21T16:23:59.426Z appoptics:patching patched https 
2022-04-21T16:23:59.427Z appoptics:patching patched http 
2022-04-21T16:23:59.458Z appoptics:patching patched zlib 
2022-04-21T16:23:59.475Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:59.475Z appoptics:patching patched fs 
2022-04-21T16:23:59.545Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:23:59.555Z appoptics:patching patched express 3.17.1
2022-04-21T16:23:59.560Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:59.565Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.1
    ✓ UDP might lose a message
2022-04-21T16:23:59.600Z appoptics:patching patched raw-body 2.5.1
(node:2385) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (175ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.1: connect 2.x series is deprecated

removed 3 packages, changed 7 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:05.165Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:05.165Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:05.165Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:05.166Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:05.220Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:05.320Z appoptics:patching patched crypto 
2022-04-21T16:24:05.336Z appoptics:patching patched https 
2022-04-21T16:24:05.337Z appoptics:patching patched http 
2022-04-21T16:24:05.370Z appoptics:patching patched zlib 
2022-04-21T16:24:05.387Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:05.387Z appoptics:patching patched fs 
2022-04-21T16:24:05.456Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:24:05.466Z appoptics:patching patched express 3.17.2
2022-04-21T16:24:05.470Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:05.476Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.2
    ✓ UDP might lose a message
2022-04-21T16:24:05.513Z appoptics:patching patched raw-body 2.5.1
(node:2407) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (175ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

added 1 package, changed 4 packages, and audited 1014 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:12.065Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:12.065Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:12.065Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:12.066Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:12.121Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:12.226Z appoptics:patching patched crypto 
2022-04-21T16:24:12.243Z appoptics:patching patched https 
2022-04-21T16:24:12.243Z appoptics:patching patched http 
2022-04-21T16:24:12.277Z appoptics:patching patched zlib 
2022-04-21T16:24:12.294Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:12.294Z appoptics:patching patched fs 
2022-04-21T16:24:12.364Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:24:12.373Z appoptics:patching patched express 3.17.3
2022-04-21T16:24:12.378Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:12.384Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.3
    ✓ UDP might lose a message
2022-04-21T16:24:12.419Z appoptics:patching patched raw-body 2.5.1
(node:2429) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (175ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.2: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:17.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:17.947Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:17.947Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:17.947Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:18.002Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:18.102Z appoptics:patching patched crypto 
2022-04-21T16:24:18.118Z appoptics:patching patched https 
2022-04-21T16:24:18.119Z appoptics:patching patched http 
2022-04-21T16:24:18.150Z appoptics:patching patched zlib 
2022-04-21T16:24:18.167Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:18.167Z appoptics:patching patched fs 
2022-04-21T16:24:18.237Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:24:18.246Z appoptics:patching patched express 3.17.4
2022-04-21T16:24:18.251Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:18.257Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.4
    ✓ UDP might lose a message
2022-04-21T16:24:18.293Z appoptics:patching patched raw-body 2.5.1
(node:2451) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (195ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.3: connect 2.x series is deprecated

removed 9 packages, changed 5 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:25.345Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:25.346Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:25.346Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:25.346Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:25.401Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:25.500Z appoptics:patching patched crypto 
2022-04-21T16:24:25.516Z appoptics:patching patched https 
2022-04-21T16:24:25.517Z appoptics:patching patched http 
2022-04-21T16:24:25.548Z appoptics:patching patched zlib 
2022-04-21T16:24:25.565Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:25.566Z appoptics:patching patched fs 
2022-04-21T16:24:25.626Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:24:25.636Z appoptics:patching patched express 3.17.5
2022-04-21T16:24:25.641Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:25.647Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.5
    ✓ UDP might lose a message
2022-04-21T16:24:25.679Z appoptics:patching patched raw-body 2.5.1
(node:2473) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (180ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.4: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:31.603Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:31.603Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:31.604Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:31.604Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:31.665Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:31.887Z appoptics:patching patched crypto 
2022-04-21T16:24:31.922Z appoptics:patching patched https 
2022-04-21T16:24:31.922Z appoptics:patching patched http 
2022-04-21T16:24:31.955Z appoptics:patching patched zlib 
2022-04-21T16:24:31.973Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:31.973Z appoptics:patching patched fs 
2022-04-21T16:24:32.050Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:24:32.059Z appoptics:patching patched express 3.17.6
2022-04-21T16:24:32.064Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:32.070Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.6
    ✓ UDP might lose a message
2022-04-21T16:24:32.131Z appoptics:patching patched raw-body 2.5.1
(node:2495) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (299ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.5: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:38.419Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:38.420Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:38.420Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:38.420Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:38.475Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:38.575Z appoptics:patching patched crypto 
2022-04-21T16:24:38.591Z appoptics:patching patched https 
2022-04-21T16:24:38.592Z appoptics:patching patched http 
2022-04-21T16:24:38.623Z appoptics:patching patched zlib 
2022-04-21T16:24:38.641Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:38.641Z appoptics:patching patched fs 
2022-04-21T16:24:38.702Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:24:38.712Z appoptics:patching patched express 3.17.7
2022-04-21T16:24:38.717Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:38.723Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.7
    ✓ UDP might lose a message
2022-04-21T16:24:38.754Z appoptics:patching patched raw-body 2.5.1
(node:2517) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (179ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.6: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:44.945Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:44.946Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:44.946Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:44.947Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:45.023Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:45.154Z appoptics:patching patched crypto 
2022-04-21T16:24:45.178Z appoptics:patching patched https 
2022-04-21T16:24:45.178Z appoptics:patching patched http 
2022-04-21T16:24:45.214Z appoptics:patching patched zlib 
2022-04-21T16:24:45.231Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:45.231Z appoptics:patching patched fs 
2022-04-21T16:24:45.293Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:24:45.303Z appoptics:patching patched express 3.17.8
2022-04-21T16:24:45.307Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:45.313Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.8
    ✓ UDP might lose a message
2022-04-21T16:24:45.345Z appoptics:patching patched raw-body 2.5.1
(node:2539) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (187ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.0: connect 2.x series is deprecated

added 22 packages, removed 4 packages, changed 38 packages, and audited 1022 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:52.449Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:52.449Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:52.449Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:52.450Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:52.521Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:52.635Z appoptics:patching patched crypto 
2022-04-21T16:24:52.652Z appoptics:patching patched https 
2022-04-21T16:24:52.652Z appoptics:patching patched http 
2022-04-21T16:24:52.684Z appoptics:patching patched zlib 
2022-04-21T16:24:52.704Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:52.704Z appoptics:patching patched fs 
2022-04-21T16:24:52.774Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:24:52.788Z appoptics:patching patched express 3.18.0
2022-04-21T16:24:52.791Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:52.796Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.0
    ✓ UDP might lose a message
Thu, 21 Apr 2022 16:24:52 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/express.js:36:9
2022-04-21T16:24:52.834Z appoptics:patching patched raw-body 2.5.1
(node:2561) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
Thu, 21 Apr 2022 16:24:52 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:487:9
Thu, 21 Apr 2022 16:24:52 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:490:30
Thu, 21 Apr 2022 16:24:52 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:493:9
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (176ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.1: connect 2.x series is deprecated

removed 9 packages, changed 8 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:58.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:58.893Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:58.893Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:58.894Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:58.948Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:59.047Z appoptics:patching patched crypto 
2022-04-21T16:24:59.063Z appoptics:patching patched https 
2022-04-21T16:24:59.064Z appoptics:patching patched http 
2022-04-21T16:24:59.095Z appoptics:patching patched zlib 
2022-04-21T16:24:59.115Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:59.116Z appoptics:patching patched fs 
2022-04-21T16:24:59.177Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:24:59.190Z appoptics:patching patched express 3.18.1
2022-04-21T16:24:59.194Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:59.199Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.1
    ✓ UDP might lose a message
2022-04-21T16:24:59.231Z appoptics:patching patched raw-body 2.5.1
(node:2583) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (188ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:05.160Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:05.160Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:05.160Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:05.161Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:05.218Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:05.318Z appoptics:patching patched crypto 
2022-04-21T16:25:05.335Z appoptics:patching patched https 
2022-04-21T16:25:05.335Z appoptics:patching patched http 
2022-04-21T16:25:05.367Z appoptics:patching patched zlib 
2022-04-21T16:25:05.387Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:05.387Z appoptics:patching patched fs 
2022-04-21T16:25:05.448Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:25:05.462Z appoptics:patching patched express 3.18.2
2022-04-21T16:25:05.466Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:05.471Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.2
    ✓ UDP might lose a message
2022-04-21T16:25:05.502Z appoptics:patching patched raw-body 2.5.1
(node:2605) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (179ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.3: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:11.711Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:11.711Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:11.711Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:11.712Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:11.766Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:11.867Z appoptics:patching patched crypto 
2022-04-21T16:25:11.884Z appoptics:patching patched https 
2022-04-21T16:25:11.884Z appoptics:patching patched http 
2022-04-21T16:25:11.915Z appoptics:patching patched zlib 
2022-04-21T16:25:11.935Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:11.935Z appoptics:patching patched fs 
2022-04-21T16:25:11.995Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:25:12.009Z appoptics:patching patched express 3.18.3
2022-04-21T16:25:12.012Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:12.018Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.3
    ✓ UDP might lose a message
2022-04-21T16:25:12.050Z appoptics:patching patched raw-body 2.5.1
(node:2627) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (184ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.4: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1012 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:18.290Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:18.291Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:18.291Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:18.292Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:18.347Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:18.448Z appoptics:patching patched crypto 
2022-04-21T16:25:18.465Z appoptics:patching patched https 
2022-04-21T16:25:18.465Z appoptics:patching patched http 
2022-04-21T16:25:18.498Z appoptics:patching patched zlib 
2022-04-21T16:25:18.518Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:18.519Z appoptics:patching patched fs 
2022-04-21T16:25:18.580Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:25:18.595Z appoptics:patching patched express 3.18.4
2022-04-21T16:25:18.598Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:18.603Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.4
    ✓ UDP might lose a message
2022-04-21T16:25:18.634Z appoptics:patching patched raw-body 2.5.1
(node:2649) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (179ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.6: connect 2.x series is deprecated

changed 3 packages, and audited 1012 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:25.028Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:25.029Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:25.029Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:25.030Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:25.084Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:25.187Z appoptics:patching patched crypto 
2022-04-21T16:25:25.204Z appoptics:patching patched https 
2022-04-21T16:25:25.205Z appoptics:patching patched http 
2022-04-21T16:25:25.239Z appoptics:patching patched zlib 
2022-04-21T16:25:25.259Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:25.259Z appoptics:patching patched fs 
2022-04-21T16:25:25.322Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:25:25.336Z appoptics:patching patched express 3.18.5
2022-04-21T16:25:25.340Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:25.345Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.5
    ✓ UDP might lose a message
2022-04-21T16:25:25.376Z appoptics:patching patched raw-body 2.5.1
(node:2671) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (182ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1012 packages in 10s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:36.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:36.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:36.041Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:36.042Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:36.096Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:36.196Z appoptics:patching patched crypto 
2022-04-21T16:25:36.213Z appoptics:patching patched https 
2022-04-21T16:25:36.214Z appoptics:patching patched http 
2022-04-21T16:25:36.246Z appoptics:patching patched zlib 
2022-04-21T16:25:36.265Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:36.266Z appoptics:patching patched fs 
2022-04-21T16:25:36.350Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:25:36.364Z appoptics:patching patched express 3.18.6
2022-04-21T16:25:36.368Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:36.373Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.6
    ✓ UDP might lose a message
2022-04-21T16:25:36.413Z appoptics:patching patched raw-body 2.5.1
(node:2693) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (190ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.1: connect 2.x series is deprecated

added 17 packages, removed 12 packages, changed 30 packages, and audited 1017 packages in 14s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:51.436Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:51.437Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:51.437Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:51.437Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:51.491Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:51.590Z appoptics:patching patched crypto 
2022-04-21T16:25:51.606Z appoptics:patching patched https 
2022-04-21T16:25:51.606Z appoptics:patching patched http 
2022-04-21T16:25:51.642Z appoptics:patching patched zlib 
2022-04-21T16:25:51.662Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:51.663Z appoptics:patching patched fs 
2022-04-21T16:25:51.740Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:25:51.754Z appoptics:patching patched express 3.19.0
2022-04-21T16:25:51.757Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:51.763Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.0
    ✓ UDP might lose a message
2022-04-21T16:25:51.799Z appoptics:patching patched raw-body 2.5.1
(node:2715) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (170ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.2: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1009 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:58.368Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:58.369Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:58.369Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:58.369Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:58.424Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:58.523Z appoptics:patching patched crypto 
2022-04-21T16:25:58.540Z appoptics:patching patched https 
2022-04-21T16:25:58.540Z appoptics:patching patched http 
2022-04-21T16:25:58.572Z appoptics:patching patched zlib 
2022-04-21T16:25:58.592Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:58.592Z appoptics:patching patched fs 
2022-04-21T16:25:58.659Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:25:58.673Z appoptics:patching patched express 3.19.1
2022-04-21T16:25:58.676Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:58.681Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.1
    ✓ UDP might lose a message
2022-04-21T16:25:58.717Z appoptics:patching patched raw-body 2.5.1
(node:2737) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (172ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.3: connect 2.x series is deprecated

changed 3 packages, and audited 1009 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:04.170Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:04.170Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:04.170Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:04.171Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:04.225Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:04.324Z appoptics:patching patched crypto 
2022-04-21T16:26:04.341Z appoptics:patching patched https 
2022-04-21T16:26:04.341Z appoptics:patching patched http 
2022-04-21T16:26:04.374Z appoptics:patching patched zlib 
2022-04-21T16:26:04.394Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:04.394Z appoptics:patching patched fs 
2022-04-21T16:26:04.462Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:26:04.476Z appoptics:patching patched express 3.19.2
2022-04-21T16:26:04.479Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:04.484Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.2
    ✓ UDP might lose a message
2022-04-21T16:26:04.521Z appoptics:patching patched raw-body 2.5.1
(node:2759) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (171ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.0: connect 2.x series is deprecated

added 13 packages, removed 5 packages, changed 22 packages, and audited 1017 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:11.182Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:11.182Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:11.182Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:11.183Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:11.237Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:11.336Z appoptics:patching patched crypto 
2022-04-21T16:26:11.352Z appoptics:patching patched https 
2022-04-21T16:26:11.353Z appoptics:patching patched http 
2022-04-21T16:26:11.384Z appoptics:patching patched zlib 
2022-04-21T16:26:11.405Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:11.406Z appoptics:patching patched fs 
2022-04-21T16:26:11.474Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:26:11.489Z appoptics:patching patched express 3.20.0
2022-04-21T16:26:11.492Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:11.497Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.0
    ✓ UDP might lose a message
2022-04-21T16:26:11.532Z appoptics:patching patched raw-body 2.5.1
(node:2781) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (42ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (173ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1017 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:16.947Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:16.948Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:16.948Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:16.948Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:17.003Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:17.120Z appoptics:patching patched crypto 
2022-04-21T16:26:17.157Z appoptics:patching patched https 
2022-04-21T16:26:17.158Z appoptics:patching patched http 
2022-04-21T16:26:17.186Z appoptics:patching patched zlib 
2022-04-21T16:26:17.207Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:17.208Z appoptics:patching patched fs 
2022-04-21T16:26:17.278Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:26:17.291Z appoptics:patching patched express 3.20.1
2022-04-21T16:26:17.294Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:17.299Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.1
    ✓ UDP might lose a message
2022-04-21T16:26:17.336Z appoptics:patching patched raw-body 2.5.1
(node:2803) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (42ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (171ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.1: connect 2.x series is deprecated

changed 8 packages, and audited 1017 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:24.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:24.049Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:24.049Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:24.050Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:24.104Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:24.204Z appoptics:patching patched crypto 
2022-04-21T16:26:24.220Z appoptics:patching patched https 
2022-04-21T16:26:24.221Z appoptics:patching patched http 
2022-04-21T16:26:24.255Z appoptics:patching patched zlib 
2022-04-21T16:26:24.277Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:24.277Z appoptics:patching patched fs 
2022-04-21T16:26:24.347Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:26:24.361Z appoptics:patching patched express 3.20.2
2022-04-21T16:26:24.365Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:24.370Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.2
    ✓ UDP might lose a message
2022-04-21T16:26:24.406Z appoptics:patching patched raw-body 2.5.1
(node:2825) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (173ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.2: connect 2.x series is deprecated

added 1 package, removed 14 packages, changed 15 packages, and audited 1004 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:30.040Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:30.040Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:30.041Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:30.041Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:30.115Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:30.234Z appoptics:patching patched crypto 
2022-04-21T16:26:30.266Z appoptics:patching patched https 
2022-04-21T16:26:30.266Z appoptics:patching patched http 
2022-04-21T16:26:30.294Z appoptics:patching patched zlib 
2022-04-21T16:26:30.316Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:30.316Z appoptics:patching patched fs 
2022-04-21T16:26:30.380Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:26:30.393Z appoptics:patching patched express 3.20.3
2022-04-21T16:26:30.396Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:30.401Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.3
    ✓ UDP might lose a message
2022-04-21T16:26:30.437Z appoptics:patching patched raw-body 2.5.1
(node:2847) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (42ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (172ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.0: connect 2.x series is deprecated

added 21 packages, removed 10 packages, changed 37 packages, and audited 1015 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:37.149Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:37.150Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:37.150Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:37.150Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:37.204Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:37.303Z appoptics:patching patched crypto 
2022-04-21T16:26:37.320Z appoptics:patching patched https 
2022-04-21T16:26:37.321Z appoptics:patching patched http 
2022-04-21T16:26:37.381Z appoptics:patching patched zlib 
2022-04-21T16:26:37.404Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:37.404Z appoptics:patching patched fs 
2022-04-21T16:26:37.484Z appoptics:patching patched morgan 1.6.1
2022-04-21T16:26:37.499Z appoptics:patching patched express 3.21.0
2022-04-21T16:26:37.502Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:37.507Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.0
    ✓ UDP might lose a message
2022-04-21T16:26:37.538Z appoptics:patching patched raw-body 2.5.1
(node:2869) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (179ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.1: connect 2.x series is deprecated

removed 2 packages, changed 6 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:43.719Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:43.720Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:43.720Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:43.720Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:43.803Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:43.917Z appoptics:patching patched crypto 
2022-04-21T16:26:43.948Z appoptics:patching patched https 
2022-04-21T16:26:43.948Z appoptics:patching patched http 
2022-04-21T16:26:43.982Z appoptics:patching patched zlib 
2022-04-21T16:26:44.006Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:44.006Z appoptics:patching patched fs 
2022-04-21T16:26:44.091Z appoptics:patching patched morgan 1.6.1
2022-04-21T16:26:44.121Z appoptics:patching patched express 3.21.1
2022-04-21T16:26:44.129Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:44.140Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.1
    ✓ UDP might lose a message
2022-04-21T16:26:44.204Z appoptics:patching patched raw-body 2.5.1
(node:2891) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (87ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (267ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.2: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:49.792Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:49.793Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:49.793Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:49.794Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:49.850Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:49.949Z appoptics:patching patched crypto 
2022-04-21T16:26:49.966Z appoptics:patching patched https 
2022-04-21T16:26:49.967Z appoptics:patching patched http 
2022-04-21T16:26:49.998Z appoptics:patching patched zlib 
2022-04-21T16:26:50.020Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:50.020Z appoptics:patching patched fs 
2022-04-21T16:26:50.088Z appoptics:patching patched morgan 1.6.1
2022-04-21T16:26:50.102Z appoptics:patching patched express 3.21.2
2022-04-21T16:26:50.105Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:50.110Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.2
    ✓ UDP might lose a message
2022-04-21T16:26:50.143Z appoptics:patching patched raw-body 2.5.1
(node:2913) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (173ms)
  2 pending


added 14 packages, removed 97 packages, changed 21 packages, and audited 930 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:56.304Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:56.304Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:56.304Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:56.305Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:56.385Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:56.548Z appoptics:patching patched crypto 
2022-04-21T16:26:56.581Z appoptics:patching patched https 
2022-04-21T16:26:56.581Z appoptics:patching patched http 
2022-04-21T16:26:56.610Z appoptics:patching patched zlib 
2022-04-21T16:26:56.619Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:56.620Z appoptics:patching patched fs 
2022-04-21T16:26:56.639Z appoptics:patching patched express 4.0.0
2022-04-21T16:26:56.643Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:56.649Z appoptics:debug starting runtimeMetrics


  probes.express 4.0.0
    ✓ UDP might lose a message
2022-04-21T16:26:56.681Z appoptics:patching patched raw-body 2.5.1
(node:2935) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


added 1 package, removed 3 packages, changed 7 packages, and audited 928 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:01.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:01.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:01.821Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:01.822Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:01.876Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:02.001Z appoptics:patching patched crypto 
2022-04-21T16:27:02.019Z appoptics:patching patched https 
2022-04-21T16:27:02.019Z appoptics:patching patched http 
2022-04-21T16:27:02.063Z appoptics:patching patched zlib 
2022-04-21T16:27:02.075Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:02.075Z appoptics:patching patched fs 
2022-04-21T16:27:02.093Z appoptics:patching patched express 4.1.0
2022-04-21T16:27:02.102Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:02.108Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.0
    ✓ UDP might lose a message
2022-04-21T16:27:02.138Z appoptics:patching patched raw-body 2.5.1
(node:2957) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (212ms)


changed 1 package, and audited 928 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:07.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:07.659Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:07.659Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:07.660Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:07.730Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:07.898Z appoptics:patching patched crypto 
2022-04-21T16:27:07.952Z appoptics:patching patched https 
2022-04-21T16:27:07.952Z appoptics:patching patched http 
2022-04-21T16:27:07.998Z appoptics:patching patched zlib 
2022-04-21T16:27:08.012Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:08.012Z appoptics:patching patched fs 
2022-04-21T16:27:08.040Z appoptics:patching patched express 4.1.1
2022-04-21T16:27:08.050Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:08.059Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.1
    ✓ UDP might lose a message
2022-04-21T16:27:08.118Z appoptics:patching patched raw-body 2.5.1
(node:2979) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (94ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (45ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (307ms)


changed 1 package, and audited 928 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:13.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:13.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:13.409Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:13.410Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:13.542Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:13.698Z appoptics:patching patched crypto 
2022-04-21T16:27:13.733Z appoptics:patching patched https 
2022-04-21T16:27:13.733Z appoptics:patching patched http 
2022-04-21T16:27:13.766Z appoptics:patching patched zlib 
2022-04-21T16:27:13.774Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:13.774Z appoptics:patching patched fs 
2022-04-21T16:27:13.793Z appoptics:patching patched express 4.1.2
2022-04-21T16:27:13.799Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:13.805Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.2
    ✓ UDP might lose a message
2022-04-21T16:27:13.836Z appoptics:patching patched raw-body 2.5.1
(node:3001) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


changed 2 packages, and audited 928 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:19.255Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:19.256Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:19.256Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:19.257Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:19.328Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:19.436Z appoptics:patching patched crypto 
2022-04-21T16:27:19.470Z appoptics:patching patched https 
2022-04-21T16:27:19.471Z appoptics:patching patched http 
2022-04-21T16:27:19.503Z appoptics:patching patched zlib 
2022-04-21T16:27:19.511Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:19.511Z appoptics:patching patched fs 
2022-04-21T16:27:19.533Z appoptics:patching patched express 4.2.0
2022-04-21T16:27:19.539Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:19.545Z appoptics:debug starting runtimeMetrics


  probes.express 4.2.0
    ✓ UDP might lose a message
2022-04-21T16:27:19.577Z appoptics:patching patched raw-body 2.5.1
(node:3023) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (212ms)


added 2 packages, changed 2 packages, and audited 930 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:25.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:25.225Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:25.225Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:25.225Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:25.280Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:25.377Z appoptics:patching patched crypto 
2022-04-21T16:27:25.393Z appoptics:patching patched https 
2022-04-21T16:27:25.394Z appoptics:patching patched http 
2022-04-21T16:27:25.425Z appoptics:patching patched zlib 
2022-04-21T16:27:25.433Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:25.434Z appoptics:patching patched fs 
2022-04-21T16:27:25.453Z appoptics:patching patched express 4.3.0
2022-04-21T16:27:25.458Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:25.464Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.0
    ✓ UDP might lose a message
2022-04-21T16:27:25.494Z appoptics:patching patched raw-body 2.5.1
(node:3045) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 1 package, and audited 930 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:30.668Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:30.669Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:30.669Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:30.671Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:30.776Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:30.900Z appoptics:patching patched crypto 
2022-04-21T16:27:30.934Z appoptics:patching patched https 
2022-04-21T16:27:30.935Z appoptics:patching patched http 
2022-04-21T16:27:30.967Z appoptics:patching patched zlib 
2022-04-21T16:27:30.976Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:30.976Z appoptics:patching patched fs 
2022-04-21T16:27:30.999Z appoptics:patching patched express 4.3.1
2022-04-21T16:27:31.005Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:31.011Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.1
    ✓ UDP might lose a message
2022-04-21T16:27:31.045Z appoptics:patching patched raw-body 2.5.1
(node:3067) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (218ms)


changed 1 package, and audited 930 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:36.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:36.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:36.744Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:36.744Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:36.798Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:36.897Z appoptics:patching patched crypto 
2022-04-21T16:27:36.914Z appoptics:patching patched https 
2022-04-21T16:27:36.914Z appoptics:patching patched http 
2022-04-21T16:27:36.944Z appoptics:patching patched zlib 
2022-04-21T16:27:36.953Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:36.953Z appoptics:patching patched fs 
2022-04-21T16:27:36.973Z appoptics:patching patched express 4.3.2
2022-04-21T16:27:36.978Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:36.984Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.2
    ✓ UDP might lose a message
2022-04-21T16:27:37.016Z appoptics:patching patched raw-body 2.5.1
(node:3089) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (190ms)


added 1 package, changed 6 packages, and audited 931 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:42.073Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:42.074Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:42.074Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:42.075Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:42.129Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:42.227Z appoptics:patching patched crypto 
2022-04-21T16:27:42.243Z appoptics:patching patched https 
2022-04-21T16:27:42.244Z appoptics:patching patched http 
2022-04-21T16:27:42.275Z appoptics:patching patched zlib 
2022-04-21T16:27:42.284Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:42.284Z appoptics:patching patched fs 
2022-04-21T16:27:42.304Z appoptics:patching patched express 4.4.0
2022-04-21T16:27:42.309Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:42.315Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.0
    ✓ UDP might lose a message
2022-04-21T16:27:42.346Z appoptics:patching patched raw-body 2.5.1
(node:3111) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (199ms)


changed 4 packages, and audited 931 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:48.274Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:48.275Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:48.275Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:48.275Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:48.330Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:48.436Z appoptics:patching patched crypto 
2022-04-21T16:27:48.462Z appoptics:patching patched https 
2022-04-21T16:27:48.462Z appoptics:patching patched http 
2022-04-21T16:27:48.500Z appoptics:patching patched zlib 
2022-04-21T16:27:48.509Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:48.509Z appoptics:patching patched fs 
2022-04-21T16:27:48.536Z appoptics:patching patched express 4.4.1
2022-04-21T16:27:48.542Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:48.548Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.1
    ✓ UDP might lose a message
2022-04-21T16:27:48.580Z appoptics:patching patched raw-body 2.5.1
(node:3133) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (188ms)


added 5 packages, changed 9 packages, and audited 936 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:53.638Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:53.639Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:53.639Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:53.640Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:53.694Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:53.790Z appoptics:patching patched crypto 
2022-04-21T16:27:53.807Z appoptics:patching patched https 
2022-04-21T16:27:53.807Z appoptics:patching patched http 
2022-04-21T16:27:53.838Z appoptics:patching patched zlib 
2022-04-21T16:27:53.847Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:53.848Z appoptics:patching patched fs 
2022-04-21T16:27:53.872Z appoptics:patching patched express 4.4.2
2022-04-21T16:27:53.878Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:53.886Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.2
    ✓ UDP might lose a message
2022-04-21T16:27:53.937Z appoptics:patching patched raw-body 2.5.1
(node:3155) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (234ms)


added 1 package, changed 8 packages, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:59.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:59.928Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:59.929Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:59.929Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:59.984Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:00.084Z appoptics:patching patched crypto 
2022-04-21T16:28:00.100Z appoptics:patching patched https 
2022-04-21T16:28:00.101Z appoptics:patching patched http 
2022-04-21T16:28:00.133Z appoptics:patching patched zlib 
2022-04-21T16:28:00.142Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:00.143Z appoptics:patching patched fs 
2022-04-21T16:28:00.166Z appoptics:patching patched express 4.4.3
2022-04-21T16:28:00.172Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:00.178Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.3
    ✓ UDP might lose a message
2022-04-21T16:28:00.211Z appoptics:patching patched raw-body 2.5.1
(node:3177) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (186ms)


added 6 packages, removed 1 package, changed 6 packages, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:05.406Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:05.407Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:05.407Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:05.408Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:05.482Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:05.580Z appoptics:patching patched crypto 
2022-04-21T16:28:05.596Z appoptics:patching patched https 
2022-04-21T16:28:05.597Z appoptics:patching patched http 
2022-04-21T16:28:05.628Z appoptics:patching patched zlib 
2022-04-21T16:28:05.638Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:05.638Z appoptics:patching patched fs 
2022-04-21T16:28:05.664Z appoptics:patching patched express 4.4.4
2022-04-21T16:28:05.669Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:05.675Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.4
    ✓ UDP might lose a message
2022-04-21T16:28:05.708Z appoptics:patching patched raw-body 2.5.1
(node:3199) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (193ms)


changed 2 packages, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (1 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:11.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:11.638Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:11.638Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:11.638Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:11.692Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:11.789Z appoptics:patching patched crypto 
2022-04-21T16:28:11.805Z appoptics:patching patched https 
2022-04-21T16:28:11.806Z appoptics:patching patched http 
2022-04-21T16:28:11.837Z appoptics:patching patched zlib 
2022-04-21T16:28:11.846Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:11.846Z appoptics:patching patched fs 
2022-04-21T16:28:11.872Z appoptics:patching patched express 4.4.5
2022-04-21T16:28:11.877Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:11.883Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.5
    ✓ UDP might lose a message
2022-04-21T16:28:11.917Z appoptics:patching patched raw-body 2.5.1
(node:3221) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (189ms)


added 11 packages, removed 1 package, changed 5 packages, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:17.111Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:17.111Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:17.111Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:17.112Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:17.165Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:17.262Z appoptics:patching patched crypto 
2022-04-21T16:28:17.278Z appoptics:patching patched https 
2022-04-21T16:28:17.279Z appoptics:patching patched http 
2022-04-21T16:28:17.311Z appoptics:patching patched zlib 
2022-04-21T16:28:17.322Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:17.323Z appoptics:patching patched fs 
2022-04-21T16:28:17.356Z appoptics:patching patched express 4.5.0
2022-04-21T16:28:17.362Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:17.368Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.0
    ✓ UDP might lose a message
2022-04-21T16:28:17.401Z appoptics:patching patched raw-body 2.5.1
(node:3243) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


changed 1 package, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:23.559Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:23.560Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:23.560Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:23.560Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:23.614Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:23.712Z appoptics:patching patched crypto 
2022-04-21T16:28:23.728Z appoptics:patching patched https 
2022-04-21T16:28:23.728Z appoptics:patching patched http 
2022-04-21T16:28:23.760Z appoptics:patching patched zlib 
2022-04-21T16:28:23.770Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:23.770Z appoptics:patching patched fs 
2022-04-21T16:28:23.803Z appoptics:patching patched express 4.5.1
2022-04-21T16:28:23.808Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:23.814Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.1
    ✓ UDP might lose a message
2022-04-21T16:28:23.847Z appoptics:patching patched raw-body 2.5.1
(node:3265) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


added 1 package, removed 6 packages, changed 9 packages, and audited 947 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:29.073Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:29.101Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:29.101Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:29.102Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:29.176Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:29.276Z appoptics:patching patched crypto 
2022-04-21T16:28:29.292Z appoptics:patching patched https 
2022-04-21T16:28:29.293Z appoptics:patching patched http 
2022-04-21T16:28:29.324Z appoptics:patching patched zlib 
2022-04-21T16:28:29.336Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:29.336Z appoptics:patching patched fs 
2022-04-21T16:28:29.362Z appoptics:patching patched express 4.6.0
2022-04-21T16:28:29.368Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:29.374Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.0
    ✓ UDP might lose a message
2022-04-21T16:28:29.408Z appoptics:patching patched raw-body 2.5.1
(node:3287) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (210ms)


changed 1 package, and audited 947 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:35.298Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:35.298Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:35.298Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:35.299Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:35.353Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:35.450Z appoptics:patching patched crypto 
2022-04-21T16:28:35.467Z appoptics:patching patched https 
2022-04-21T16:28:35.467Z appoptics:patching patched http 
2022-04-21T16:28:35.498Z appoptics:patching patched zlib 
2022-04-21T16:28:35.510Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:35.511Z appoptics:patching patched fs 
2022-04-21T16:28:35.536Z appoptics:patching patched express 4.6.1
2022-04-21T16:28:35.541Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:35.547Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.1
    ✓ UDP might lose a message
2022-04-21T16:28:35.581Z appoptics:patching patched raw-body 2.5.1
(node:3309) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (195ms)


added 5 packages, changed 10 packages, and audited 952 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:40.668Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:40.669Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:40.669Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:40.670Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:40.730Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:40.837Z appoptics:patching patched crypto 
2022-04-21T16:28:40.869Z appoptics:patching patched https 
2022-04-21T16:28:40.869Z appoptics:patching patched http 
2022-04-21T16:28:40.903Z appoptics:patching patched zlib 
2022-04-21T16:28:40.917Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:40.917Z appoptics:patching patched fs 
2022-04-21T16:28:40.954Z appoptics:patching patched express 4.7.0
2022-04-21T16:28:40.960Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:40.969Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.0
    ✓ UDP might lose a message
2022-04-21T16:28:41.012Z appoptics:patching patched raw-body 2.5.1
(node:3331) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (217ms)


changed 4 packages, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:46.992Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:46.992Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:46.992Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:46.993Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:47.047Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:47.145Z appoptics:patching patched crypto 
2022-04-21T16:28:47.161Z appoptics:patching patched https 
2022-04-21T16:28:47.161Z appoptics:patching patched http 
2022-04-21T16:28:47.192Z appoptics:patching patched zlib 
2022-04-21T16:28:47.205Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:47.205Z appoptics:patching patched fs 
2022-04-21T16:28:47.238Z appoptics:patching patched express 4.7.1
2022-04-21T16:28:47.243Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:47.249Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.1
    ✓ UDP might lose a message
2022-04-21T16:28:47.283Z appoptics:patching patched raw-body 2.5.1
(node:3353) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (193ms)


changed 4 packages, and audited 952 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:52.648Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:52.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:52.648Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:52.649Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:52.703Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:52.800Z appoptics:patching patched crypto 
2022-04-21T16:28:52.816Z appoptics:patching patched https 
2022-04-21T16:28:52.816Z appoptics:patching patched http 
2022-04-21T16:28:52.848Z appoptics:patching patched zlib 
2022-04-21T16:28:52.860Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:52.860Z appoptics:patching patched fs 
2022-04-21T16:28:52.903Z appoptics:patching patched express 4.7.2
2022-04-21T16:28:52.908Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:52.914Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.2
    ✓ UDP might lose a message
2022-04-21T16:28:52.947Z appoptics:patching patched raw-body 2.5.1
(node:3375) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 2 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:59.133Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:59.133Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:59.134Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:59.134Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:59.189Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:59.288Z appoptics:patching patched crypto 
2022-04-21T16:28:59.304Z appoptics:patching patched https 
2022-04-21T16:28:59.305Z appoptics:patching patched http 
2022-04-21T16:28:59.337Z appoptics:patching patched zlib 
2022-04-21T16:28:59.349Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:59.349Z appoptics:patching patched fs 
2022-04-21T16:28:59.382Z appoptics:patching patched express 4.7.3
2022-04-21T16:28:59.387Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:59.393Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.3
    ✓ UDP might lose a message
2022-04-21T16:28:59.426Z appoptics:patching patched raw-body 2.5.1
(node:3397) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (206ms)


removed 5 packages, changed 2 packages, and audited 947 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:04.729Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:04.729Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:04.729Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:04.730Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:04.808Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:04.930Z appoptics:patching patched crypto 
2022-04-21T16:29:04.972Z appoptics:patching patched https 
2022-04-21T16:29:04.976Z appoptics:patching patched http 
2022-04-21T16:29:05.009Z appoptics:patching patched zlib 
2022-04-21T16:29:05.021Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:05.021Z appoptics:patching patched fs 
2022-04-21T16:29:05.048Z appoptics:patching patched express 4.7.4
2022-04-21T16:29:05.054Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:05.060Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.4
    ✓ UDP might lose a message
2022-04-21T16:29:05.093Z appoptics:patching patched raw-body 2.5.1
(node:3419) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (217ms)


added 9 packages, changed 4 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:10.972Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:10.973Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:10.973Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:10.974Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:11.028Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:11.124Z appoptics:patching patched crypto 
2022-04-21T16:29:11.141Z appoptics:patching patched https 
2022-04-21T16:29:11.142Z appoptics:patching patched http 
2022-04-21T16:29:11.174Z appoptics:patching patched zlib 
2022-04-21T16:29:11.184Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:11.185Z appoptics:patching patched fs 
2022-04-21T16:29:11.221Z appoptics:patching patched express 4.8.0
2022-04-21T16:29:11.226Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:11.232Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.0
    ✓ UDP might lose a message
2022-04-21T16:29:11.266Z appoptics:patching patched raw-body 2.5.1
(node:3441) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (190ms)


changed 2 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:16.933Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:16.934Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:16.934Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:16.935Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:16.989Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:17.087Z appoptics:patching patched crypto 
2022-04-21T16:29:17.103Z appoptics:patching patched https 
2022-04-21T16:29:17.104Z appoptics:patching patched http 
2022-04-21T16:29:17.135Z appoptics:patching patched zlib 
2022-04-21T16:29:17.144Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:17.145Z appoptics:patching patched fs 
2022-04-21T16:29:17.182Z appoptics:patching patched express 4.8.1
2022-04-21T16:29:17.187Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:17.193Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.1
    ✓ UDP might lose a message
2022-04-21T16:29:17.227Z appoptics:patching patched raw-body 2.5.1
(node:3463) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 2 packages, and audited 956 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:23.064Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:23.064Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:23.064Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:23.065Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:23.120Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:23.217Z appoptics:patching patched crypto 
2022-04-21T16:29:23.234Z appoptics:patching patched https 
2022-04-21T16:29:23.234Z appoptics:patching patched http 
2022-04-21T16:29:23.266Z appoptics:patching patched zlib 
2022-04-21T16:29:23.276Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:23.276Z appoptics:patching patched fs 
2022-04-21T16:29:23.313Z appoptics:patching patched express 4.8.2
2022-04-21T16:29:23.318Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:23.324Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.2
    ✓ UDP might lose a message
2022-04-21T16:29:23.358Z appoptics:patching patched raw-body 2.5.1
(node:3485) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


removed 3 packages, changed 3 packages, and audited 953 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:29.069Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:29.069Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:29.069Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:29.070Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:29.124Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:29.221Z appoptics:patching patched crypto 
2022-04-21T16:29:29.237Z appoptics:patching patched https 
2022-04-21T16:29:29.238Z appoptics:patching patched http 
2022-04-21T16:29:29.271Z appoptics:patching patched zlib 
2022-04-21T16:29:29.281Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:29.281Z appoptics:patching patched fs 
2022-04-21T16:29:29.318Z appoptics:patching patched express 4.8.3
2022-04-21T16:29:29.323Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:29.328Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.3
    ✓ UDP might lose a message
2022-04-21T16:29:29.362Z appoptics:patching patched raw-body 2.5.1
(node:3507) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (193ms)


added 1 package, changed 3 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:35.325Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:35.325Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:35.325Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:35.326Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:35.454Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:35.585Z appoptics:patching patched crypto 
2022-04-21T16:29:35.615Z appoptics:patching patched https 
2022-04-21T16:29:35.616Z appoptics:patching patched http 
2022-04-21T16:29:35.648Z appoptics:patching patched zlib 
2022-04-21T16:29:35.658Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:35.658Z appoptics:patching patched fs 
2022-04-21T16:29:35.698Z appoptics:patching patched express 4.8.4
2022-04-21T16:29:35.703Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:35.711Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.4
    ✓ UDP might lose a message
2022-04-21T16:29:35.742Z appoptics:patching patched raw-body 2.5.1
(node:3529) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


added 3 packages, removed 3 packages, changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:41.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:41.106Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:41.106Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:41.107Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:41.161Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:41.258Z appoptics:patching patched crypto 
2022-04-21T16:29:41.274Z appoptics:patching patched https 
2022-04-21T16:29:41.275Z appoptics:patching patched http 
2022-04-21T16:29:41.306Z appoptics:patching patched zlib 
2022-04-21T16:29:41.315Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:41.316Z appoptics:patching patched fs 
2022-04-21T16:29:41.353Z appoptics:patching patched express 4.8.5
2022-04-21T16:29:41.358Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:41.363Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.5
    ✓ UDP might lose a message
2022-04-21T16:29:41.397Z appoptics:patching patched raw-body 2.5.1
(node:3551) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (190ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:47.508Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:47.509Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:47.509Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:47.510Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:47.564Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:47.661Z appoptics:patching patched crypto 
2022-04-21T16:29:47.678Z appoptics:patching patched https 
2022-04-21T16:29:47.678Z appoptics:patching patched http 
2022-04-21T16:29:47.710Z appoptics:patching patched zlib 
2022-04-21T16:29:47.720Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:47.720Z appoptics:patching patched fs 
2022-04-21T16:29:47.759Z appoptics:patching patched express 4.8.6
2022-04-21T16:29:47.765Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:47.771Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.6
    ✓ UDP might lose a message
2022-04-21T16:29:47.805Z appoptics:patching patched raw-body 2.5.1
(node:3573) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 2 packages, and audited 954 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:52.941Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:52.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:52.942Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:52.942Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:53.005Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:53.102Z appoptics:patching patched crypto 
2022-04-21T16:29:53.118Z appoptics:patching patched https 
2022-04-21T16:29:53.119Z appoptics:patching patched http 
2022-04-21T16:29:53.151Z appoptics:patching patched zlib 
2022-04-21T16:29:53.160Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:53.160Z appoptics:patching patched fs 
2022-04-21T16:29:53.197Z appoptics:patching patched express 4.8.7
2022-04-21T16:29:53.202Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:53.208Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.7
    ✓ UDP might lose a message
2022-04-21T16:29:53.241Z appoptics:patching patched raw-body 2.5.1
(node:3595) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


removed 8 packages, changed 2 packages, and audited 946 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:59.230Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:59.230Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:59.230Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:59.231Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:59.285Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:59.382Z appoptics:patching patched crypto 
2022-04-21T16:29:59.399Z appoptics:patching patched https 
2022-04-21T16:29:59.399Z appoptics:patching patched http 
2022-04-21T16:29:59.430Z appoptics:patching patched zlib 
2022-04-21T16:29:59.440Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:59.440Z appoptics:patching patched fs 
2022-04-21T16:29:59.470Z appoptics:patching patched express 4.8.8
2022-04-21T16:29:59.475Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:59.480Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.8
    ✓ UDP might lose a message
2022-04-21T16:29:59.513Z appoptics:patching patched raw-body 2.5.1
(node:3617) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (190ms)


added 14 packages, removed 1 package, changed 18 packages, and audited 959 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:04.761Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:04.761Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:04.761Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:04.762Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:04.816Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:04.912Z appoptics:patching patched crypto 
2022-04-21T16:30:04.929Z appoptics:patching patched https 
2022-04-21T16:30:04.930Z appoptics:patching patched http 
2022-04-21T16:30:04.961Z appoptics:patching patched zlib 
2022-04-21T16:30:04.970Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:04.971Z appoptics:patching patched fs 
2022-04-21T16:30:05.014Z appoptics:patching patched express 4.9.0
2022-04-21T16:30:05.019Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:05.025Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.0
    ✓ UDP might lose a message
2022-04-21T16:30:05.058Z appoptics:patching patched raw-body 2.5.1
(node:3639) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


removed 1 package, changed 4 packages, and audited 958 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:11.200Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:11.201Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:11.201Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:11.202Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:11.256Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:11.353Z appoptics:patching patched crypto 
2022-04-21T16:30:11.370Z appoptics:patching patched https 
2022-04-21T16:30:11.370Z appoptics:patching patched http 
2022-04-21T16:30:11.403Z appoptics:patching patched zlib 
2022-04-21T16:30:11.413Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:11.413Z appoptics:patching patched fs 
2022-04-21T16:30:11.456Z appoptics:patching patched express 4.9.1
2022-04-21T16:30:11.462Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:11.467Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.1
    ✓ UDP might lose a message
2022-04-21T16:30:11.501Z appoptics:patching patched raw-body 2.5.1
(node:3661) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 1 package, and audited 958 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:17.013Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:17.014Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:17.014Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:17.014Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:17.068Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:17.164Z appoptics:patching patched crypto 
2022-04-21T16:30:17.180Z appoptics:patching patched https 
2022-04-21T16:30:17.181Z appoptics:patching patched http 
2022-04-21T16:30:17.212Z appoptics:patching patched zlib 
2022-04-21T16:30:17.221Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:17.221Z appoptics:patching patched fs 
2022-04-21T16:30:17.264Z appoptics:patching patched express 4.9.2
2022-04-21T16:30:17.270Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:17.276Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.2
    ✓ UDP might lose a message
2022-04-21T16:30:17.308Z appoptics:patching patched raw-body 2.5.1
(node:3683) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


added 1 package, changed 3 packages, and audited 959 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:23.516Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:23.517Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:23.517Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:23.517Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:23.571Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:23.667Z appoptics:patching patched crypto 
2022-04-21T16:30:23.684Z appoptics:patching patched https 
2022-04-21T16:30:23.684Z appoptics:patching patched http 
2022-04-21T16:30:23.715Z appoptics:patching patched zlib 
2022-04-21T16:30:23.724Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:23.725Z appoptics:patching patched fs 
2022-04-21T16:30:23.769Z appoptics:patching patched express 4.9.3
2022-04-21T16:30:23.775Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:23.781Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.3
    ✓ UDP might lose a message
2022-04-21T16:30:23.814Z appoptics:patching patched raw-body 2.5.1
(node:3705) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


changed 2 packages, and audited 959 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:29.007Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:29.008Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:29.008Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:29.008Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:29.062Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:29.160Z appoptics:patching patched crypto 
2022-04-21T16:30:29.176Z appoptics:patching patched https 
2022-04-21T16:30:29.176Z appoptics:patching patched http 
2022-04-21T16:30:29.207Z appoptics:patching patched zlib 
2022-04-21T16:30:29.216Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:29.217Z appoptics:patching patched fs 
2022-04-21T16:30:29.262Z appoptics:patching patched express 4.9.4
2022-04-21T16:30:29.268Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:29.274Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.4
    ✓ UDP might lose a message
2022-04-21T16:30:29.307Z appoptics:patching patched raw-body 2.5.1
(node:3727) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


removed 9 packages, changed 3 packages, and audited 950 packages in 11s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:41.459Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:41.460Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:41.460Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:41.460Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:41.514Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:41.611Z appoptics:patching patched crypto 
2022-04-21T16:30:41.627Z appoptics:patching patched https 
2022-04-21T16:30:41.628Z appoptics:patching patched http 
2022-04-21T16:30:41.669Z appoptics:patching patched zlib 
2022-04-21T16:30:41.719Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:41.719Z appoptics:patching patched fs 
2022-04-21T16:30:41.759Z appoptics:patching patched express 4.9.5
2022-04-21T16:30:41.767Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:41.772Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.5
    ✓ UDP might lose a message
2022-04-21T16:30:41.810Z appoptics:patching patched raw-body 2.5.1
(node:3749) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (208ms)


changed 1 package, and audited 950 packages in 14s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:56.205Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:56.206Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:56.206Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:56.206Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:56.261Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:56.379Z appoptics:patching patched crypto 
2022-04-21T16:30:56.395Z appoptics:patching patched https 
2022-04-21T16:30:56.396Z appoptics:patching patched http 
2022-04-21T16:30:56.427Z appoptics:patching patched zlib 
2022-04-21T16:30:56.437Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:56.437Z appoptics:patching patched fs 
2022-04-21T16:30:56.473Z appoptics:patching patched express 4.9.6
2022-04-21T16:30:56.479Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:56.485Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.6
    ✓ UDP might lose a message
2022-04-21T16:30:56.531Z appoptics:patching patched raw-body 2.5.1
(node:3771) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (212ms)


changed 1 package, and audited 950 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:01.774Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:01.775Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:01.775Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:01.776Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:01.831Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:01.949Z appoptics:patching patched crypto 
2022-04-21T16:31:01.983Z appoptics:patching patched https 
2022-04-21T16:31:01.984Z appoptics:patching patched http 
2022-04-21T16:31:02.019Z appoptics:patching patched zlib 
2022-04-21T16:31:02.029Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:02.029Z appoptics:patching patched fs 
2022-04-21T16:31:02.070Z appoptics:patching patched express 4.9.7
2022-04-21T16:31:02.075Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:02.081Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.7
    ✓ UDP might lose a message
2022-04-21T16:31:02.125Z appoptics:patching patched raw-body 2.5.1
(node:3793) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (210ms)


changed 1 package, and audited 950 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:08.009Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:08.009Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:08.009Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:08.010Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:08.066Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:08.164Z appoptics:patching patched crypto 
2022-04-21T16:31:08.185Z appoptics:patching patched https 
2022-04-21T16:31:08.186Z appoptics:patching patched http 
2022-04-21T16:31:08.233Z appoptics:patching patched zlib 
2022-04-21T16:31:08.244Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:08.245Z appoptics:patching patched fs 
2022-04-21T16:31:08.291Z appoptics:patching patched express 4.9.8
2022-04-21T16:31:08.297Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:08.303Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.8
    ✓ UDP might lose a message
2022-04-21T16:31:08.340Z appoptics:patching patched raw-body 2.5.1
(node:3815) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (189ms)


added 4 packages, changed 17 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:13.708Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:13.708Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:13.708Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:13.709Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:13.764Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:13.861Z appoptics:patching patched crypto 
2022-04-21T16:31:13.877Z appoptics:patching patched https 
2022-04-21T16:31:13.878Z appoptics:patching patched http 
2022-04-21T16:31:13.909Z appoptics:patching patched zlib 
2022-04-21T16:31:13.921Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:13.921Z appoptics:patching patched fs 
2022-04-21T16:31:13.957Z appoptics:patching patched express 4.10.0
2022-04-21T16:31:13.962Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:13.968Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.0
    ✓ UDP might lose a message
2022-04-21T16:31:14.001Z appoptics:patching patched raw-body 2.5.1
(node:3837) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (190ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:19.930Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:19.930Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:19.930Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:19.931Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:19.985Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:20.081Z appoptics:patching patched crypto 
2022-04-21T16:31:20.098Z appoptics:patching patched https 
2022-04-21T16:31:20.099Z appoptics:patching patched http 
2022-04-21T16:31:20.129Z appoptics:patching patched zlib 
2022-04-21T16:31:20.141Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:20.142Z appoptics:patching patched fs 
2022-04-21T16:31:20.177Z appoptics:patching patched express 4.10.1
2022-04-21T16:31:20.183Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:20.189Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.1
    ✓ UDP might lose a message
2022-04-21T16:31:20.224Z appoptics:patching patched raw-body 2.5.1
(node:3859) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:25.580Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:25.580Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:25.580Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:25.581Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:25.635Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:25.731Z appoptics:patching patched crypto 
2022-04-21T16:31:25.747Z appoptics:patching patched https 
2022-04-21T16:31:25.748Z appoptics:patching patched http 
2022-04-21T16:31:25.778Z appoptics:patching patched zlib 
2022-04-21T16:31:25.790Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:25.790Z appoptics:patching patched fs 
2022-04-21T16:31:25.825Z appoptics:patching patched express 4.10.2
2022-04-21T16:31:25.830Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:25.836Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.2
    ✓ UDP might lose a message
2022-04-21T16:31:25.869Z appoptics:patching patched raw-body 2.5.1
(node:3881) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (211ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:31.938Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:31.939Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:31.939Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:31.939Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:31.993Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:32.092Z appoptics:patching patched crypto 
2022-04-21T16:31:32.129Z appoptics:patching patched https 
2022-04-21T16:31:32.143Z appoptics:patching patched http 
2022-04-21T16:31:32.202Z appoptics:patching patched zlib 
2022-04-21T16:31:32.218Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:32.218Z appoptics:patching patched fs 
2022-04-21T16:31:32.259Z appoptics:patching patched express 4.10.3
2022-04-21T16:31:32.265Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:32.273Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.3
    ✓ UDP might lose a message
2022-04-21T16:31:32.307Z appoptics:patching patched raw-body 2.5.1
(node:3903) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:37.664Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:37.665Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:37.665Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:37.666Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:37.719Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:37.817Z appoptics:patching patched crypto 
2022-04-21T16:31:37.833Z appoptics:patching patched https 
2022-04-21T16:31:37.834Z appoptics:patching patched http 
2022-04-21T16:31:37.865Z appoptics:patching patched zlib 
2022-04-21T16:31:37.877Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:37.877Z appoptics:patching patched fs 
2022-04-21T16:31:37.912Z appoptics:patching patched express 4.10.4
2022-04-21T16:31:37.917Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:37.923Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.4
    ✓ UDP might lose a message
2022-04-21T16:31:37.957Z appoptics:patching patched raw-body 2.5.1
(node:3925) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:43.880Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:43.881Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:43.881Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:43.881Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:43.935Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:44.032Z appoptics:patching patched crypto 
2022-04-21T16:31:44.048Z appoptics:patching patched https 
2022-04-21T16:31:44.049Z appoptics:patching patched http 
2022-04-21T16:31:44.080Z appoptics:patching patched zlib 
2022-04-21T16:31:44.092Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:44.092Z appoptics:patching patched fs 
2022-04-21T16:31:44.126Z appoptics:patching patched express 4.10.5
2022-04-21T16:31:44.132Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:44.137Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.5
    ✓ UDP might lose a message
2022-04-21T16:31:44.171Z appoptics:patching patched raw-body 2.5.1
(node:3947) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (49ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:49.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:49.460Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:49.460Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:49.461Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:49.516Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:49.612Z appoptics:patching patched crypto 
2022-04-21T16:31:49.629Z appoptics:patching patched https 
2022-04-21T16:31:49.629Z appoptics:patching patched http 
2022-04-21T16:31:49.660Z appoptics:patching patched zlib 
2022-04-21T16:31:49.672Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:49.672Z appoptics:patching patched fs 
2022-04-21T16:31:49.708Z appoptics:patching patched express 4.10.6
2022-04-21T16:31:49.713Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:49.719Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.6
    ✓ UDP might lose a message
2022-04-21T16:31:49.752Z appoptics:patching patched raw-body 2.5.1
(node:3969) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (189ms)


changed 5 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:55.785Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:55.785Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:55.785Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:55.786Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:55.840Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:55.943Z appoptics:patching patched crypto 
2022-04-21T16:31:55.961Z appoptics:patching patched https 
2022-04-21T16:31:55.962Z appoptics:patching patched http 
2022-04-21T16:31:56.000Z appoptics:patching patched zlib 
2022-04-21T16:31:56.013Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:56.013Z appoptics:patching patched fs 
2022-04-21T16:31:56.054Z appoptics:patching patched express 4.10.7
2022-04-21T16:31:56.059Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:56.065Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.7
    ✓ UDP might lose a message
2022-04-21T16:31:56.099Z appoptics:patching patched raw-body 2.5.1
(node:3991) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (50ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (47ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (221ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:01.431Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:01.431Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:01.431Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:01.432Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:01.486Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:01.582Z appoptics:patching patched crypto 
2022-04-21T16:32:01.599Z appoptics:patching patched https 
2022-04-21T16:32:01.599Z appoptics:patching patched http 
2022-04-21T16:32:01.634Z appoptics:patching patched zlib 
2022-04-21T16:32:01.646Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:01.646Z appoptics:patching patched fs 
2022-04-21T16:32:01.682Z appoptics:patching patched express 4.10.8
2022-04-21T16:32:01.687Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:01.693Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.8
    ✓ UDP might lose a message
2022-04-21T16:32:01.727Z appoptics:patching patched raw-body 2.5.1
(node:4013) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (48ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (189ms)


added 10 packages, removed 8 packages, changed 8 packages, and audited 956 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:07.897Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:07.898Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:07.898Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:07.898Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:07.954Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:08.051Z appoptics:patching patched crypto 
2022-04-21T16:32:08.067Z appoptics:patching patched https 
2022-04-21T16:32:08.067Z appoptics:patching patched http 
2022-04-21T16:32:08.098Z appoptics:patching patched zlib 
2022-04-21T16:32:08.110Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:08.110Z appoptics:patching patched fs 
2022-04-21T16:32:08.158Z appoptics:patching patched express 4.11.0
2022-04-21T16:32:08.164Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:08.170Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.0
    ✓ UDP might lose a message
2022-04-21T16:32:08.203Z appoptics:patching patched raw-body 2.5.1
(node:4035) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (183ms)


removed 8 packages, changed 2 packages, and audited 948 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:13.326Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:13.326Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:13.326Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:13.327Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:13.398Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:13.511Z appoptics:patching patched crypto 
2022-04-21T16:32:13.528Z appoptics:patching patched https 
2022-04-21T16:32:13.529Z appoptics:patching patched http 
2022-04-21T16:32:13.560Z appoptics:patching patched zlib 
2022-04-21T16:32:13.572Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:13.572Z appoptics:patching patched fs 
2022-04-21T16:32:13.613Z appoptics:patching patched express 4.11.1
2022-04-21T16:32:13.618Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:13.624Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.1
    ✓ UDP might lose a message
2022-04-21T16:32:13.659Z appoptics:patching patched raw-body 2.5.1
(node:4057) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


changed 1 package, and audited 948 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:19.868Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:19.869Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:19.869Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:19.869Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:19.923Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:20.022Z appoptics:patching patched crypto 
2022-04-21T16:32:20.039Z appoptics:patching patched https 
2022-04-21T16:32:20.039Z appoptics:patching patched http 
2022-04-21T16:32:20.074Z appoptics:patching patched zlib 
2022-04-21T16:32:20.086Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:20.086Z appoptics:patching patched fs 
2022-04-21T16:32:20.127Z appoptics:patching patched express 4.11.2
2022-04-21T16:32:20.132Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:20.138Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.2
    ✓ UDP might lose a message
2022-04-21T16:32:20.172Z appoptics:patching patched raw-body 2.5.1
(node:4079) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


added 9 packages, removed 3 packages, changed 5 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:25.490Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:25.490Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:25.490Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:25.491Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:25.548Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:25.646Z appoptics:patching patched crypto 
2022-04-21T16:32:25.662Z appoptics:patching patched https 
2022-04-21T16:32:25.663Z appoptics:patching patched http 
2022-04-21T16:32:25.695Z appoptics:patching patched zlib 
2022-04-21T16:32:25.707Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:25.708Z appoptics:patching patched fs 
2022-04-21T16:32:25.749Z appoptics:patching patched express 4.12.0
2022-04-21T16:32:25.754Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:25.760Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.0
    ✓ UDP might lose a message
2022-04-21T16:32:25.793Z appoptics:patching patched raw-body 2.5.1
(node:4101) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (42ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (184ms)


changed 2 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:32.336Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:32.337Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:32.337Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:32.337Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:32.392Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:32.489Z appoptics:patching patched crypto 
2022-04-21T16:32:32.505Z appoptics:patching patched https 
2022-04-21T16:32:32.506Z appoptics:patching patched http 
2022-04-21T16:32:32.537Z appoptics:patching patched zlib 
2022-04-21T16:32:32.549Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:32.550Z appoptics:patching patched fs 
2022-04-21T16:32:32.590Z appoptics:patching patched express 4.12.1
2022-04-21T16:32:32.595Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:32.601Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.1
    ✓ UDP might lose a message
2022-04-21T16:32:32.634Z appoptics:patching patched raw-body 2.5.1
(node:4123) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (185ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:37.854Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:37.855Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:37.855Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:37.855Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:37.910Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:38.024Z appoptics:patching patched crypto 
2022-04-21T16:32:38.049Z appoptics:patching patched https 
2022-04-21T16:32:38.050Z appoptics:patching patched http 
2022-04-21T16:32:38.087Z appoptics:patching patched zlib 
2022-04-21T16:32:38.099Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:38.100Z appoptics:patching patched fs 
2022-04-21T16:32:38.142Z appoptics:patching patched express 4.12.2
2022-04-21T16:32:38.147Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:38.153Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.2
    ✓ UDP might lose a message
2022-04-21T16:32:38.186Z appoptics:patching patched raw-body 2.5.1
(node:4145) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (186ms)


changed 5 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:44.083Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:44.084Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:44.084Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:44.084Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:44.139Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:44.236Z appoptics:patching patched crypto 
2022-04-21T16:32:44.252Z appoptics:patching patched https 
2022-04-21T16:32:44.253Z appoptics:patching patched http 
2022-04-21T16:32:44.284Z appoptics:patching patched zlib 
2022-04-21T16:32:44.296Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:44.296Z appoptics:patching patched fs 
2022-04-21T16:32:44.338Z appoptics:patching patched express 4.12.3
2022-04-21T16:32:44.344Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:44.349Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.3
    ✓ UDP might lose a message
2022-04-21T16:32:44.382Z appoptics:patching patched raw-body 2.5.1
(node:4167) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (42ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (185ms)


removed 9 packages, changed 12 packages, and audited 945 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:49.593Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:49.593Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:49.593Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:49.594Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:49.648Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:49.747Z appoptics:patching patched crypto 
2022-04-21T16:32:49.772Z appoptics:patching patched https 
2022-04-21T16:32:49.773Z appoptics:patching patched http 
2022-04-21T16:32:49.816Z appoptics:patching patched zlib 
2022-04-21T16:32:49.829Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:49.829Z appoptics:patching patched fs 
2022-04-21T16:32:49.870Z appoptics:patching patched express 4.12.4
2022-04-21T16:32:49.875Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:49.881Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.4
    ✓ UDP might lose a message
2022-04-21T16:32:49.914Z appoptics:patching patched raw-body 2.5.1
(node:4189) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (186ms)


added 13 packages, removed 4 packages, changed 13 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:55.941Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:55.942Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:55.942Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:55.942Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:55.997Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:56.096Z appoptics:patching patched crypto 
2022-04-21T16:32:56.113Z appoptics:patching patched https 
2022-04-21T16:32:56.113Z appoptics:patching patched http 
2022-04-21T16:32:56.144Z appoptics:patching patched zlib 
2022-04-21T16:32:56.158Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:56.158Z appoptics:patching patched fs 
2022-04-21T16:32:56.198Z appoptics:patching patched express 4.13.0
2022-04-21T16:32:56.204Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:56.210Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.0
    ✓ UDP might lose a message
2022-04-21T16:32:56.242Z appoptics:patching patched raw-body 2.5.1
(node:4211) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (188ms)


changed 2 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:01.561Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:01.562Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:01.562Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:01.563Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:01.617Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:01.714Z appoptics:patching patched crypto 
2022-04-21T16:33:01.730Z appoptics:patching patched https 
2022-04-21T16:33:01.731Z appoptics:patching patched http 
2022-04-21T16:33:01.762Z appoptics:patching patched zlib 
2022-04-21T16:33:01.776Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:01.777Z appoptics:patching patched fs 
2022-04-21T16:33:01.814Z appoptics:patching patched express 4.13.1
2022-04-21T16:33:01.820Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:01.825Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.1
    ✓ UDP might lose a message
2022-04-21T16:33:01.859Z appoptics:patching patched raw-body 2.5.1
(node:4233) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (191ms)


changed 3 packages, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:07.997Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:07.997Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:07.997Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:07.998Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:08.053Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:08.152Z appoptics:patching patched crypto 
2022-04-21T16:33:08.168Z appoptics:patching patched https 
2022-04-21T16:33:08.169Z appoptics:patching patched http 
2022-04-21T16:33:08.199Z appoptics:patching patched zlib 
2022-04-21T16:33:08.213Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:08.213Z appoptics:patching patched fs 
2022-04-21T16:33:08.252Z appoptics:patching patched express 4.13.2
2022-04-21T16:33:08.257Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:08.263Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.2
    ✓ UDP might lose a message
2022-04-21T16:33:08.297Z appoptics:patching patched raw-body 2.5.1
(node:4255) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (208ms)


changed 1 package, and audited 954 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:13.643Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:13.643Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:13.643Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:13.644Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:13.705Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:13.802Z appoptics:patching patched crypto 
2022-04-21T16:33:13.818Z appoptics:patching patched https 
2022-04-21T16:33:13.819Z appoptics:patching patched http 
2022-04-21T16:33:13.883Z appoptics:patching patched zlib 
2022-04-21T16:33:13.937Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:13.937Z appoptics:patching patched fs 
2022-04-21T16:33:13.981Z appoptics:patching patched express 4.13.3
2022-04-21T16:33:13.986Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:13.992Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.3
    ✓ UDP might lose a message
2022-04-21T16:33:14.027Z appoptics:patching patched raw-body 2.5.1
(node:4277) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (189ms)


removed 3 packages, changed 11 packages, and audited 951 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:19.904Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:19.905Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:19.905Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:19.905Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:19.959Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:20.056Z appoptics:patching patched crypto 
2022-04-21T16:33:20.072Z appoptics:patching patched https 
2022-04-21T16:33:20.073Z appoptics:patching patched http 
2022-04-21T16:33:20.103Z appoptics:patching patched zlib 
2022-04-21T16:33:20.118Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:20.118Z appoptics:patching patched fs 
2022-04-21T16:33:20.158Z appoptics:patching patched express 4.13.4
2022-04-21T16:33:20.166Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:20.172Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.4
    ✓ UDP might lose a message
2022-04-21T16:33:20.208Z appoptics:patching patched raw-body 2.5.1
(node:4299) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (200ms)


added 6 packages, removed 8 packages, changed 19 packages, and audited 949 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:25.928Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:25.928Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:25.928Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:25.929Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:25.983Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:26.080Z appoptics:patching patched crypto 
2022-04-21T16:33:26.096Z appoptics:patching patched https 
2022-04-21T16:33:26.097Z appoptics:patching patched http 
2022-04-21T16:33:26.128Z appoptics:patching patched zlib 
2022-04-21T16:33:26.143Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:26.143Z appoptics:patching patched fs 
2022-04-21T16:33:26.184Z appoptics:patching patched express 4.14.0
2022-04-21T16:33:26.189Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:26.195Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.0
    ✓ UDP might lose a message
2022-04-21T16:33:26.228Z appoptics:patching patched raw-body 2.5.1
(node:4321) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (186ms)


added 1 package, removed 12 packages, changed 6 packages, and audited 938 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:32.019Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:32.019Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:32.020Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:32.020Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:32.074Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:32.171Z appoptics:patching patched crypto 
2022-04-21T16:33:32.188Z appoptics:patching patched https 
2022-04-21T16:33:32.188Z appoptics:patching patched http 
2022-04-21T16:33:32.220Z appoptics:patching patched zlib 
2022-04-21T16:33:32.235Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:32.235Z appoptics:patching patched fs 
2022-04-21T16:33:32.266Z appoptics:patching patched express 4.14.1
2022-04-21T16:33:32.271Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:32.277Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.1
    ✓ UDP might lose a message
2022-04-21T16:33:32.310Z appoptics:patching patched raw-body 2.5.1
(node:4343) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (47ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (190ms)


added 5 packages, removed 4 packages, changed 14 packages, and audited 939 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:37.846Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:37.846Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:37.846Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:37.847Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:37.901Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:37.997Z appoptics:patching patched crypto 
2022-04-21T16:33:38.014Z appoptics:patching patched https 
2022-04-21T16:33:38.014Z appoptics:patching patched http 
2022-04-21T16:33:38.045Z appoptics:patching patched zlib 
2022-04-21T16:33:38.062Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:38.063Z appoptics:patching patched fs 
2022-04-21T16:33:38.095Z appoptics:patching patched express 4.15.0
2022-04-21T16:33:38.099Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:38.105Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.0
    ✓ UDP might lose a message
2022-04-21T16:33:38.139Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (206ms)


changed 4 packages, and audited 939 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:44.352Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:44.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:44.352Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:44.353Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:44.422Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:44.524Z appoptics:patching patched crypto 
2022-04-21T16:33:44.549Z appoptics:patching patched https 
2022-04-21T16:33:44.550Z appoptics:patching patched http 
2022-04-21T16:33:44.578Z appoptics:patching patched zlib 
2022-04-21T16:33:44.596Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:44.596Z appoptics:patching patched fs 
2022-04-21T16:33:44.629Z appoptics:patching patched express 4.15.1
2022-04-21T16:33:44.633Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:44.639Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.1
    ✓ UDP might lose a message
2022-04-21T16:33:44.673Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (186ms)


changed 2 packages, and audited 939 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:49.975Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:49.976Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:49.976Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:49.976Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:50.031Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:50.128Z appoptics:patching patched crypto 
2022-04-21T16:33:50.145Z appoptics:patching patched https 
2022-04-21T16:33:50.145Z appoptics:patching patched http 
2022-04-21T16:33:50.176Z appoptics:patching patched zlib 
2022-04-21T16:33:50.192Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:50.193Z appoptics:patching patched fs 
2022-04-21T16:33:50.225Z appoptics:patching patched express 4.15.2
2022-04-21T16:33:50.229Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:50.234Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.2
    ✓ UDP might lose a message
2022-04-21T16:33:50.267Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


removed 2 packages, changed 6 packages, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:56.009Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:56.009Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:56.009Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:56.010Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:56.064Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:56.160Z appoptics:patching patched crypto 
2022-04-21T16:33:56.176Z appoptics:patching patched https 
2022-04-21T16:33:56.177Z appoptics:patching patched http 
2022-04-21T16:33:56.231Z appoptics:patching patched zlib 
2022-04-21T16:33:56.251Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:56.251Z appoptics:patching patched fs 
2022-04-21T16:33:56.285Z appoptics:patching patched express 4.15.3
2022-04-21T16:33:56.289Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:56.294Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.3
    ✓ UDP might lose a message
2022-04-21T16:33:56.328Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (212ms)


changed 7 packages, and audited 937 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:01.599Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:01.600Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:01.600Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:01.601Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:01.654Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:01.751Z appoptics:patching patched crypto 
2022-04-21T16:34:01.767Z appoptics:patching patched https 
2022-04-21T16:34:01.768Z appoptics:patching patched http 
2022-04-21T16:34:01.800Z appoptics:patching patched zlib 
2022-04-21T16:34:01.817Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:01.817Z appoptics:patching patched fs 
2022-04-21T16:34:01.849Z appoptics:patching patched express 4.15.4
2022-04-21T16:34:01.853Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:01.858Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.4
    ✓ UDP might lose a message
2022-04-21T16:34:01.892Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (192ms)


removed 4 packages, changed 5 packages, and audited 933 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

13 vulnerabilities (10 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:07.932Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:07.933Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:07.933Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:07.933Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:08.006Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:08.104Z appoptics:patching patched crypto 
2022-04-21T16:34:08.121Z appoptics:patching patched https 
2022-04-21T16:34:08.121Z appoptics:patching patched http 
2022-04-21T16:34:08.152Z appoptics:patching patched zlib 
2022-04-21T16:34:08.168Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:08.168Z appoptics:patching patched fs 
2022-04-21T16:34:08.198Z appoptics:patching patched express 4.15.5
2022-04-21T16:34:08.202Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:08.208Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.5
    ✓ UDP might lose a message
2022-04-21T16:34:08.241Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (46ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (189ms)


added 11 packages, removed 2 packages, changed 11 packages, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:13.535Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:13.536Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:13.536Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:13.536Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:13.596Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:13.694Z appoptics:patching patched crypto 
2022-04-21T16:34:13.710Z appoptics:patching patched https 
2022-04-21T16:34:13.711Z appoptics:patching patched http 
2022-04-21T16:34:13.742Z appoptics:patching patched zlib 
2022-04-21T16:34:13.758Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:13.759Z appoptics:patching patched fs 
2022-04-21T16:34:13.797Z appoptics:patching patched raw-body 2.3.2
2022-04-21T16:34:13.802Z appoptics:patching patched express 4.16.0
2022-04-21T16:34:13.805Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:13.810Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.0
    ✓ UDP might lose a message
2022-04-21T16:34:13.843Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (187ms)


changed 4 packages, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:20.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:20.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:20.042Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:20.043Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:20.097Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:20.194Z appoptics:patching patched crypto 
2022-04-21T16:34:20.211Z appoptics:patching patched https 
2022-04-21T16:34:20.211Z appoptics:patching patched http 
2022-04-21T16:34:20.243Z appoptics:patching patched zlib 
2022-04-21T16:34:20.259Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:20.259Z appoptics:patching patched fs 
2022-04-21T16:34:20.298Z appoptics:patching patched raw-body 2.3.2
2022-04-21T16:34:20.302Z appoptics:patching patched express 4.16.1
2022-04-21T16:34:20.306Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:20.311Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.1
    ✓ UDP might lose a message
2022-04-21T16:34:20.344Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (44ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (184ms)


changed 1 package, and audited 942 packages in 5s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:25.881Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:25.882Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:25.882Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:25.883Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:25.937Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:26.034Z appoptics:patching patched crypto 
2022-04-21T16:34:26.050Z appoptics:patching patched https 
2022-04-21T16:34:26.051Z appoptics:patching patched http 
2022-04-21T16:34:26.082Z appoptics:patching patched zlib 
2022-04-21T16:34:26.098Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:26.099Z appoptics:patching patched fs 
2022-04-21T16:34:26.137Z appoptics:patching patched raw-body 2.3.2
2022-04-21T16:34:26.142Z appoptics:patching patched express 4.16.2
2022-04-21T16:34:26.145Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:26.151Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.2
    ✓ UDP might lose a message
2022-04-21T16:34:26.183Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (186ms)


removed 10 packages, changed 6 packages, and audited 932 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:32.538Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:32.538Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:32.538Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:32.539Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:32.593Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:32.689Z appoptics:patching patched crypto 
2022-04-21T16:34:32.705Z appoptics:patching patched https 
2022-04-21T16:34:32.706Z appoptics:patching patched http 
2022-04-21T16:34:32.737Z appoptics:patching patched zlib 
2022-04-21T16:34:32.753Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:32.753Z appoptics:patching patched fs 
2022-04-21T16:34:32.790Z appoptics:patching patched raw-body 2.3.2
2022-04-21T16:34:32.795Z appoptics:patching patched express 4.16.3
2022-04-21T16:34:32.799Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:32.804Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.3
    ✓ UDP might lose a message
2022-04-21T16:34:32.836Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (185ms)


removed 3 packages, changed 6 packages, and audited 929 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:37.981Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:37.982Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:37.982Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:37.983Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:38.038Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:38.135Z appoptics:patching patched crypto 
2022-04-21T16:34:38.152Z appoptics:patching patched https 
2022-04-21T16:34:38.152Z appoptics:patching patched http 
2022-04-21T16:34:38.186Z appoptics:patching patched zlib 
2022-04-21T16:34:38.202Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:38.202Z appoptics:patching patched fs 
2022-04-21T16:34:38.236Z appoptics:patching patched raw-body 2.3.3
2022-04-21T16:34:38.240Z appoptics:patching patched express 4.16.4
2022-04-21T16:34:38.244Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:38.249Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.4
    ✓ UDP might lose a message
2022-04-21T16:34:38.288Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (45ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (197ms)


added 13 packages, removed 5 packages, changed 15 packages, and audited 937 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:44.510Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:44.511Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:44.511Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:44.512Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:44.566Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:44.666Z appoptics:patching patched crypto 
2022-04-21T16:34:44.682Z appoptics:patching patched https 
2022-04-21T16:34:44.683Z appoptics:patching patched http 
2022-04-21T16:34:44.714Z appoptics:patching patched zlib 
2022-04-21T16:34:44.730Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:44.731Z appoptics:patching patched fs 
2022-04-21T16:34:44.765Z appoptics:patching patched raw-body 2.4.0
2022-04-21T16:34:44.770Z appoptics:patching patched express 4.17.0
2022-04-21T16:34:44.774Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:44.779Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.0
    ✓ UDP might lose a message
2022-04-21T16:34:44.811Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (228ms)


changed 1 package, and audited 937 packages in 4s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:49.836Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:49.837Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:49.837Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:49.838Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:49.892Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:49.990Z appoptics:patching patched crypto 
2022-04-21T16:34:50.006Z appoptics:patching patched https 
2022-04-21T16:34:50.007Z appoptics:patching patched http 
2022-04-21T16:34:50.038Z appoptics:patching patched zlib 
2022-04-21T16:34:50.054Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:50.054Z appoptics:patching patched fs 
2022-04-21T16:34:50.088Z appoptics:patching patched raw-body 2.4.0
2022-04-21T16:34:50.093Z appoptics:patching patched express 4.17.1
2022-04-21T16:34:50.097Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:50.102Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.1
    ✓ UDP might lose a message
2022-04-21T16:34:50.132Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (41ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (180ms)


removed 9 packages, changed 14 packages, and audited 928 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:56.094Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:56.094Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:56.094Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:56.095Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:56.149Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:56.246Z appoptics:patching patched crypto 
2022-04-21T16:34:56.263Z appoptics:patching patched https 
2022-04-21T16:34:56.263Z appoptics:patching patched http 
2022-04-21T16:34:56.295Z appoptics:patching patched zlib 
2022-04-21T16:34:56.311Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:56.312Z appoptics:patching patched fs 
2022-04-21T16:34:56.345Z appoptics:patching patched raw-body 2.4.2
2022-04-21T16:34:56.350Z appoptics:patching patched express 4.17.2
2022-04-21T16:34:56.353Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:56.359Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.2
    ✓ UDP might lose a message
2022-04-21T16:34:56.389Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (41ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (182ms)


removed 1 package, changed 5 packages, and audited 927 packages in 4s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:35:01.457Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:35:01.458Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:35:01.458Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:35:01.459Z appoptics:debug using context provider: ace-context
2022-04-21T16:35:01.513Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:35:01.609Z appoptics:patching patched crypto 
2022-04-21T16:35:01.625Z appoptics:patching patched https 
2022-04-21T16:35:01.626Z appoptics:patching patched http 
2022-04-21T16:35:01.658Z appoptics:patching patched zlib 
2022-04-21T16:35:01.674Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:35:01.674Z appoptics:patching patched fs 
2022-04-21T16:35:01.708Z appoptics:patching patched raw-body 2.4.3
2022-04-21T16:35:01.714Z appoptics:patching patched express 4.17.3
2022-04-21T16:35:01.718Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:35:01.723Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.3
    ✓ UDP might lose a message
2022-04-21T16:35:01.765Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (43ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (200ms)


up to date, audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
