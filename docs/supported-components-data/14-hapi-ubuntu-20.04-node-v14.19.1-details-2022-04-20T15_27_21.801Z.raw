npm WARN deprecated hapi@13.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@7.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.0.0
added 51 packages, removed 5 packages, updated 19 packages and audited 981 packages in 8.439s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
npm WARN deprecated vision@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@4.3.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.6.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ vision@4.1.1
removed 1 package, updated 6 packages and audited 980 packages in 5.221s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:38.481Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:38.482Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:38.482Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:38.482Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:38.534Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:38.702Z appoptics:patching patched crypto 
2022-04-20T15:27:38.735Z appoptics:patching patched https 
2022-04-20T15:27:38.735Z appoptics:patching patched http 
2022-04-20T15:27:38.769Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.1.0
removed 32 packages, updated 2 packages, moved 1 package and audited 948 packages in 5.301s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:45.279Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:45.280Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:45.280Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:45.280Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:45.333Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:45.486Z appoptics:patching patched crypto 
2022-04-20T15:27:45.509Z appoptics:patching patched https 
2022-04-20T15:27:45.509Z appoptics:patching patched http 
2022-04-20T15:27:45.546Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.0
updated 1 package and audited 948 packages in 5.559s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:52.258Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:52.258Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:52.258Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:52.259Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:52.313Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:52.477Z appoptics:patching patched crypto 
2022-04-20T15:27:52.503Z appoptics:patching patched https 
2022-04-20T15:27:52.504Z appoptics:patching patched http 
2022-04-20T15:27:52.553Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.1
updated 1 package and audited 948 packages in 5.413s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:27:59.159Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:27:59.160Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:27:59.160Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:27:59.161Z appoptics:debug using context provider: ace-context
2022-04-20T15:27:59.215Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:27:59.376Z appoptics:patching patched crypto 
2022-04-20T15:27:59.396Z appoptics:patching patched https 
2022-04-20T15:27:59.397Z appoptics:patching patched http 
2022-04-20T15:27:59.436Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.2.2
updated 1 package and audited 948 packages in 6.087s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:06.766Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:06.766Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:06.766Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:06.767Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:06.820Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:06.973Z appoptics:patching patched crypto 
2022-04-20T15:28:06.993Z appoptics:patching patched https 
2022-04-20T15:28:06.993Z appoptics:patching patched http 
2022-04-20T15:28:07.030Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.2.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.3.0
updated 1 package and audited 948 packages in 4.641s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:12.991Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:12.995Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:12.995Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:12.996Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:13.072Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:13.248Z appoptics:patching patched crypto 
2022-04-20T15:28:13.290Z appoptics:patching patched https 
2022-04-20T15:28:13.291Z appoptics:patching patched http 
2022-04-20T15:28:13.329Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.0
removed 3 packages, updated 1 package and audited 945 packages in 5.153s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:19.723Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:19.724Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:19.724Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:19.725Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:19.779Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:19.935Z appoptics:patching patched crypto 
2022-04-20T15:28:19.955Z appoptics:patching patched https 
2022-04-20T15:28:19.955Z appoptics:patching patched http 
2022-04-20T15:28:19.991Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.1
updated 1 package and audited 945 packages in 5.143s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:26.825Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:26.826Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:26.826Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:26.828Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:26.925Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:27.102Z appoptics:patching patched crypto 
2022-04-20T15:28:27.142Z appoptics:patching patched https 
2022-04-20T15:28:27.142Z appoptics:patching patched http 
2022-04-20T15:28:27.180Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.4.2
updated 1 package and audited 945 packages in 6.145s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:34.488Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:34.489Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:34.489Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:34.489Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:34.538Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:34.699Z appoptics:patching patched crypto 
2022-04-20T15:28:34.719Z appoptics:patching patched https 
2022-04-20T15:28:34.719Z appoptics:patching patched http 
2022-04-20T15:28:34.753Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:51:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.5.0
updated 1 package and audited 945 packages in 5.866s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:41.763Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:41.764Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:41.764Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:41.765Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:41.817Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:41.976Z appoptics:patching patched crypto 
2022-04-20T15:28:41.996Z appoptics:patching patched https 
2022-04-20T15:28:41.996Z appoptics:patching patched http 
2022-04-20T15:28:42.033Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@13.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@8.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@13.5.3
updated 1 package and audited 945 packages in 4.204s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:47.361Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:47.362Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:47.362Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:47.363Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:47.413Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:47.568Z appoptics:patching patched crypto 
2022-04-20T15:28:47.588Z appoptics:patching patched https 
2022-04-20T15:28:47.589Z appoptics:patching patched http 
2022-04-20T15:28:47.624Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.0.0
updated 2 packages and audited 945 packages in 5.278s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:28:54.020Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:28:54.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:28:54.021Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:28:54.022Z appoptics:debug using context provider: ace-context
2022-04-20T15:28:54.073Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:28:54.223Z appoptics:patching patched crypto 
2022-04-20T15:28:54.242Z appoptics:patching patched https 
2022-04-20T15:28:54.242Z appoptics:patching patched http 
2022-04-20T15:28:54.278Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.1.0
updated 1 package and audited 945 packages in 4.703s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:00.105Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:00.106Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:00.106Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:00.107Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:00.160Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:00.344Z appoptics:patching patched crypto 
2022-04-20T15:29:00.366Z appoptics:patching patched https 
2022-04-20T15:29:00.366Z appoptics:patching patched http 
2022-04-20T15:29:00.422Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@14.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@3.2.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated kilt@2.0.2: This module is no longer maintained.
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated peekaboo@2.0.2: This module is no longer maintained.
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@4.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@14.2.0
updated 1 package and audited 945 packages in 4.871s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:06.529Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:06.530Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:06.530Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:06.531Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:06.582Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:06.734Z appoptics:patching patched crypto 
2022-04-20T15:29:06.753Z appoptics:patching patched https 
2022-04-20T15:29:06.754Z appoptics:patching patched http 
2022-04-20T15:29:06.787Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:52:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:16:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:12:20)
npm WARN deprecated hapi@15.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.1
added 4 packages from 1 contributor, removed 3 packages, updated 4 packages and audited 946 packages in 5.145s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:13.068Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:13.069Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:13.069Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:13.070Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:13.123Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:13.274Z appoptics:patching patched crypto 
2022-04-20T15:29:13.294Z appoptics:patching patched https 
2022-04-20T15:29:13.294Z appoptics:patching patched http 
2022-04-20T15:29:13.332Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.2
updated 1 package and audited 946 packages in 5.268s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:19.761Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:19.762Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:19.762Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:19.763Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:19.817Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:19.980Z appoptics:patching patched crypto 
2022-04-20T15:29:20.002Z appoptics:patching patched https 
2022-04-20T15:29:20.003Z appoptics:patching patched http 
2022-04-20T15:29:20.039Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.0.3
updated 1 package and audited 946 packages in 4.516s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:25.698Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:25.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:25.699Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:25.700Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:25.752Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:25.907Z appoptics:patching patched crypto 
2022-04-20T15:29:25.927Z appoptics:patching patched https 
2022-04-20T15:29:25.927Z appoptics:patching patched http 
2022-04-20T15:29:25.963Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.1.0
updated 1 package and audited 946 packages in 5.219s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:32.356Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:32.357Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:32.357Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:32.358Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:32.423Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:32.578Z appoptics:patching patched crypto 
2022-04-20T15:29:32.598Z appoptics:patching patched https 
2022-04-20T15:29:32.599Z appoptics:patching patched http 
2022-04-20T15:29:32.637Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.1.1
updated 1 package and audited 946 packages in 5.044s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:38.865Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:38.866Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:38.866Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:38.867Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:38.961Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:39.173Z appoptics:patching patched crypto 
2022-04-20T15:29:39.254Z appoptics:patching patched https 
2022-04-20T15:29:39.255Z appoptics:patching patched http 
2022-04-20T15:29:39.284Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@15.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@3.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@9.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@15.2.0
updated 1 package and audited 946 packages in 4.693s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:45.483Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:45.483Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:45.483Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:45.484Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:45.532Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:45.686Z appoptics:patching patched crypto 
2022-04-20T15:29:45.717Z appoptics:patching patched https 
2022-04-20T15:29:45.721Z appoptics:patching patched http 
2022-04-20T15:29:45.749Z appoptics:patching patched zlib 

TypeError: Os.tmpDir is not a function
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/defaults.js:54:25)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/cors.js:7:18)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:17:14)
    at Module._compile (internal/modules/cjs/loader.js:1085:14)
    at Object.Module._extensions..js (internal/modules/cjs/loader.js:1114:10)
    at Module.load (internal/modules/cjs/loader.js:950:32)
    at Function.Module._load (internal/modules/cjs/loader.js:790:12)
    at Module.require (internal/modules/cjs/loader.js:974:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:57:25)
    at require (internal/modules/cjs/helpers.js:101:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:11:20)
npm WARN deprecated hapi@16.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.0
added 1 package, removed 1 package, updated 2 packages and audited 946 packages in 4.748s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:51.756Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:51.757Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:51.757Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:51.758Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:51.824Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:51.990Z appoptics:patching patched crypto 
2022-04-20T15:29:52.032Z appoptics:patching patched https 
2022-04-20T15:29:52.042Z appoptics:patching patched http 
2022-04-20T15:29:52.069Z appoptics:patching patched zlib 
2022-04-20T15:29:52.200Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:52.200Z appoptics:patching patched fs 
2022-04-20T15:29:52.222Z appoptics:patching patched hapi 16.0.0
2022-04-20T15:29:52.227Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:52.227Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:52.231Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
2022-04-20T15:29:52.331Z appoptics:debug http: ule hapi:exit 2b-17f771d1823701bdf5880c903c6e8971b3760b16-26c271383fcc915c-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:29:52.468Z appoptics:debug http: ule hapi:exit 2b-253a8d4ec30b25cda7d67c467fff5e909a65583b-8e0c1109fa9f4958-01


  3 passing (224ms)
  7 failing

  1) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '26C271383FCC915C',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 847,
  Timestamp_u: 1650468592326309,
  'X-Trace': '2B17F771D1823701BDF5880C903C6E8971B3760B163EB468BDC45C687101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '22B240FEEF0582C3',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 847,
  Timestamp_u: 1650468592355589,
  'X-Trace': '2B17F771D1823701BDF5880C903C6E8971B3760B16E00CF1CD67A5FCE601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '3AD0E237B0DA5AFB',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 847,
  Timestamp_u: 1650468592383116,
  'X-Trace': '2B9760B93FE34CE6676C640259823F7432D466E4C9F45DE416DFE4E6EF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '2DE929982304C5BF',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 847,
  Timestamp_u: 1650468592430408,
  'X-Trace': '2B83C25297A6A5BD1015138E531302DDC8F3105C98B8C73EF8EC1567CD01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '8E0C1109FA9F4958',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 847,
  Timestamp_u: 1650468592465835,
  'X-Trace': '2B253A8D4EC30B25CDA7D67C467FFF5E909A65583B52B837F8C57382A301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.1
updated 1 package and audited 946 packages in 4.573s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:29:58.226Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:29:58.227Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:29:58.227Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:29:58.227Z appoptics:debug using context provider: ace-context
2022-04-20T15:29:58.277Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:29:58.423Z appoptics:patching patched crypto 
2022-04-20T15:29:58.442Z appoptics:patching patched https 
2022-04-20T15:29:58.443Z appoptics:patching patched http 
2022-04-20T15:29:58.477Z appoptics:patching patched zlib 
2022-04-20T15:29:58.575Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:29:58.576Z appoptics:patching patched fs 
2022-04-20T15:29:58.594Z appoptics:patching patched hapi 16.0.1
2022-04-20T15:29:58.598Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:29:58.598Z appoptics:patching patched vision 4.1.1
2022-04-20T15:29:58.602Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
2022-04-20T15:29:58.697Z appoptics:debug http: ule hapi:exit 2b-9605fdaca1c89354d643dd191d1d7c7421bdf4ed-b6e14cf9b6812eca-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-20T15:29:58.783Z appoptics:debug http: ule hapi:exit 2b-8ff21461757ca8fe8f304b27467ab699208eec91-8081aa6f4f36df2f-01


  3 passing (169ms)
  8 failing

  1) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'B6E14CF9B6812ECA',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 869,
  Timestamp_u: 1650468598692531,
  'X-Trace': '2B9605FDACA1C89354D643DD191D1D7C7421BDF4ED3EBD2F60DE68A81E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'D86C4020E47F8147',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 869,
  Timestamp_u: 1650468598712927,
  'X-Trace': '2B9605FDACA1C89354D643DD191D1D7C7421BDF4ED6F6032BF535CD76D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '5A0BEA640254376F',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 869,
  Timestamp_u: 1650468598725028,
  'X-Trace': '2B9605FDACA1C89354D643DD191D1D7C7421BDF4EDB407F1C7B882291D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'D86C4020E47F8147',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 869,
  Timestamp_u: 1650468598712927,
  'X-Trace': '2B9605FDACA1C89354D643DD191D1D7C7421BDF4ED6F6032BF535CD76D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.0.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '12542BD035CA3DA4',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 869,
  Timestamp_u: 1650468598753261,
  'X-Trace': '2BC3824865A517C32AC94A1AC3DC14B10E638D083FA4CE1E78830C885201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '5A0BEA640254376F',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 869,
  Timestamp_u: 1650468598725028,
  'X-Trace': '2B9605FDACA1C89354D643DD191D1D7C7421BDF4EDB407F1C7B882291D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.0.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '8081AA6F4F36DF2F',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 869,
  Timestamp_u: 1650468598781136,
  'X-Trace': '2B8FF21461757CA8FE8F304B27467AB699208EEC91C54E9515A86BAFEF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.2
updated 1 package and audited 946 packages in 4.872s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:04.744Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:04.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:04.744Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:04.745Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:04.812Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:05.034Z appoptics:patching patched crypto 
2022-04-20T15:30:05.088Z appoptics:patching patched https 
2022-04-20T15:30:05.088Z appoptics:patching patched http 
2022-04-20T15:30:05.154Z appoptics:patching patched zlib 
2022-04-20T15:30:05.313Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:05.315Z appoptics:patching patched fs 
2022-04-20T15:30:05.345Z appoptics:patching patched hapi 16.0.2
2022-04-20T15:30:05.353Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:05.353Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:05.357Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
2022-04-20T15:30:05.456Z appoptics:debug http: ule hapi:exit 2b-057ed0e4c8cac6f0bc8a3518f21352a12676822b-1cec3f6c1bcbdadc-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:30:05.543Z appoptics:debug http: ule hapi:exit 2b-5c6dacae0eef1a06869a02e88ee7adb346b4e365-b71a7eef6dc5a7c7-01


  3 passing (171ms)
  7 failing

  1) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '1CEC3F6C1BCBDADC',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 891,
  Timestamp_u: 1650468605452427,
  'X-Trace': '2B057ED0E4C8CAC6F0BC8A3518F21352A12676822B57FC0D95D548533901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'EAB9672BD0BBD81C',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 891,
  Timestamp_u: 1650468605470873,
  'X-Trace': '2B057ED0E4C8CAC6F0BC8A3518F21352A12676822BC969C18393831C3E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'DD21DFF2A45FB744',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 891,
  Timestamp_u: 1650468605483583,
  'X-Trace': '2BF827AF11BD50B62B83C3B0634DC3A9214813284ECF812ECE34F5284A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '731ECF52BCCCDD58',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 891,
  Timestamp_u: 1650468605512777,
  'X-Trace': '2B96478947E37027EA4F1B37F73E29F1A2D86ECD529CEE527109DE82F901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'B71A7EEF6DC5A7C7',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 891,
  Timestamp_u: 1650468605540909,
  'X-Trace': '2B5C6DACAE0EEF1A06869A02E88EE7ADB346B4E36511E48A7EF95DA6E101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.0.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.0.3
updated 1 package and audited 946 packages in 4.471s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:11.031Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:11.031Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:11.031Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:11.032Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:11.084Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:11.231Z appoptics:patching patched crypto 
2022-04-20T15:30:11.249Z appoptics:patching patched https 
2022-04-20T15:30:11.250Z appoptics:patching patched http 
2022-04-20T15:30:11.284Z appoptics:patching patched zlib 
2022-04-20T15:30:11.382Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:11.383Z appoptics:patching patched fs 
2022-04-20T15:30:11.401Z appoptics:patching patched hapi 16.0.3
2022-04-20T15:30:11.405Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:11.405Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:11.409Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.0.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    1) should forward controller/action data from post request
2022-04-20T15:30:11.502Z appoptics:debug http: ule hapi:exit 2b-5df3faf16dc13fef495d77bc4e6a144a37ec38f6-e9ab35bf9083187a-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:30:11.600Z appoptics:debug http: ule hapi:exit 2b-7d0d8d98e8f6b8eaa83b3d7a18b0ea235ed6b720-920f390833bdd078-01


  3 passing (180ms)
  7 failing

  1) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'E9AB35BF9083187A',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 913,
  Timestamp_u: 1650468611498244,
  'X-Trace': '2B5DF3FAF16DC13FEF495D77BC4E6A144A37EC38F636E112AD339C813D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '237C7DF6034B03C6',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 913,
  Timestamp_u: 1650468611517967,
  'X-Trace': '2B5DF3FAF16DC13FEF495D77BC4E6A144A37EC38F6D0F851C96CDEBF4D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'FF7F5CE808CFEE5E',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 913,
  Timestamp_u: 1650468611530482,
  'X-Trace': '2B5DF3FAF16DC13FEF495D77BC4E6A144A37EC38F63BA3D809F05F4E3F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.0.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.0.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.0.3 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:78:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:271:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: '1D325B9F572CAB03',
  Hostname: '7529dec18a71',
  Label: 'entry',
  Layer: 'hapi',
  TID: 913,
  Timestamp_u: 1650468611551055,
  'X-Trace': '2B056C134491ED3B3D36E948E4CA35203A227819B7C593BE43F6F1927B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: '1D325B9F572CAB03',
    Hostname: '7529dec18a71',
    Label: 'entry',
    Layer: 'hapi',
    TID: 913,
    Timestamp_u: 1650468611551055,
    'X-Trace': '2B056C134491ED3B3D36E948E4CA35203A227819B7C593BE43F6F1927B01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.0.3 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.0.3 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.0.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:334:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:403:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:326:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '920F390833BDD078',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 913,
  Timestamp_u: 1650468611597807,
  'X-Trace': '2B7D0D8D98E8F6B8EAA83B3D7A18B0EA235ED6B720D699D13BBB1E98F301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.1.0
updated 1 package and audited 946 packages in 4.324s

86 packages are looking for funding
  run `npm fund` for details

found 11 vulnerabilities (3 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:17.190Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:17.191Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:17.191Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:17.192Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:17.313Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:17.594Z appoptics:patching patched crypto 
2022-04-20T15:30:17.625Z appoptics:patching patched https 
2022-04-20T15:30:17.626Z appoptics:patching patched http 
2022-04-20T15:30:17.716Z appoptics:patching patched zlib 
2022-04-20T15:30:17.985Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:17.986Z appoptics:patching patched fs 
2022-04-20T15:30:18.025Z appoptics:patching patched hapi 16.1.0
2022-04-20T15:30:18.040Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:18.040Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:18.046Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (65ms)
    1) should forward controller/action data from post request
2022-04-20T15:30:18.195Z appoptics:debug http: ule hapi:exit 2b-58b6e4946e17d0acf379cef25683f6d32b55497e-b2431ddc6ce36072-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:30:18.318Z appoptics:debug http: ule hapi:exit 2b-5525aa4415e06a138de3d801c73ac3d9d1e0b580-bed8d7c0f17553df-01


  3 passing (240ms)
  7 failing

  1) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'B2431DDC6CE36072',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 935,
  Timestamp_u: 1650468618190376,
  'X-Trace': '2B58B6E4946E17D0ACF379CEF25683F6D32B55497E18415138A3556C7D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '71C93E15F10D43B8',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 935,
  Timestamp_u: 1650468618212178,
  'X-Trace': '2B58B6E4946E17D0ACF379CEF25683F6D32B55497EC1B5CA497EE8764101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '86D88C96F87A588A',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 935,
  Timestamp_u: 1650468618226269,
  'X-Trace': '2BA95DA710FDBB2109A8D45CBEBD528BDD827C47F361E254CFBA80FAEC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.1.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.1.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.1.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '6E153E496A4BAC49',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 935,
  Timestamp_u: 1650468618275086,
  'X-Trace': '2B0D3DDD2C7D3808143F7B3A407E4CA16E3AC81F2769AD7F6D26714DC201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.1.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.1.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.1.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'BED8D7C0F17553DF',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 935,
  Timestamp_u: 1650468618315466,
  'X-Trace': '2B5525AA4415E06A138DE3D801C73AC3D9D1E0B5808A009633517A581201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.1.1
updated 1 package and audited 946 packages in 5.247s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:24.540Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:24.541Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:24.541Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:24.542Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:24.595Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:24.746Z appoptics:patching patched crypto 
2022-04-20T15:30:24.765Z appoptics:patching patched https 
2022-04-20T15:30:24.765Z appoptics:patching patched http 
2022-04-20T15:30:24.800Z appoptics:patching patched zlib 
2022-04-20T15:30:24.901Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:24.902Z appoptics:patching patched fs 
2022-04-20T15:30:24.920Z appoptics:patching patched hapi 16.1.1
2022-04-20T15:30:24.924Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:24.925Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:24.928Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.1.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    1) should forward controller/action data from post request
2022-04-20T15:30:25.030Z appoptics:debug http: ule hapi:exit 2b-fb371d01e3cc76272084b3c1594f55c3b475d542-d0c928b3891c5a46-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-20T15:30:25.122Z appoptics:debug http: ule hapi:exit 2b-7fad3d8689e8caa9e0b6fbfa605b754d654adf54-b018514761fa2471-01


  3 passing (184ms)
  8 failing

  1) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D0C928B3891C5A46',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 957,
  Timestamp_u: 1650468625025417,
  'X-Trace': '2BFB371D01E3CC76272084B3C1594F55C3B475D5424A94D6DB61E4654101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '2386B8BFB40AED7B',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 957,
  Timestamp_u: 1650468625045952,
  'X-Trace': '2BFB371D01E3CC76272084B3C1594F55C3B475D5422960364E5E112B8801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'C7DD93B95DAD1E81',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 957,
  Timestamp_u: 1650468625059786,
  'X-Trace': '2BFB371D01E3CC76272084B3C1594F55C3B475D5428EF250417972B6A101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '2386B8BFB40AED7B',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 957,
  Timestamp_u: 1650468625045952,
  'X-Trace': '2BFB371D01E3CC76272084B3C1594F55C3B475D5422960364E5E112B8801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.1.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'EC03DD349C81633E',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 957,
  Timestamp_u: 1650468625089396,
  'X-Trace': '2B46F558715B35382A6B53E8331F79AE63E4F9EDCBECE6EBD21275708101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.1.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.1.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.1.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'C7DD93B95DAD1E81',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 957,
  Timestamp_u: 1650468625059786,
  'X-Trace': '2BFB371D01E3CC76272084B3C1594F55C3B475D5428EF250417972B6A101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.1.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'B018514761FA2471',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 957,
  Timestamp_u: 1650468625120176,
  'X-Trace': '2B7FAD3D8689E8CAA9E0B6FBFA605B754D654ADF54E2711E49DB47672B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.2.0
added 1 package, updated 1 package and audited 947 packages in 5.073s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:31.449Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:31.450Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:31.450Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:31.451Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:31.500Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:31.658Z appoptics:patching patched crypto 
2022-04-20T15:30:31.678Z appoptics:patching patched https 
2022-04-20T15:30:31.678Z appoptics:patching patched http 
2022-04-20T15:30:31.715Z appoptics:patching patched zlib 
2022-04-20T15:30:31.842Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:31.843Z appoptics:patching patched fs 
2022-04-20T15:30:31.878Z appoptics:patching patched hapi 16.2.0
2022-04-20T15:30:31.883Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:31.883Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:31.887Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.2.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
2022-04-20T15:30:31.984Z appoptics:debug http: ule hapi:exit 2b-85f79a343fda3379e962c58774734448c5b8ef87-5de67c7047dbaabc-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:30:32.076Z appoptics:debug http: ule hapi:exit 2b-45ca88a584e16dfb131de695e0c49bd0ce3eaa81-549d46c529844efc-01


  3 passing (179ms)
  7 failing

  1) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '5DE67C7047DBAABC',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 979,
  Timestamp_u: 1650468631980056,
  'X-Trace': '2B85F79A343FDA3379E962C58774734448C5B8EF87BC56395222952DE401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '0948653578657DC0',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 979,
  Timestamp_u: 1650468632001324,
  'X-Trace': '2B85F79A343FDA3379E962C58774734448C5B8EF87FB6628983626E37001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '9693C2612EC9ED8C',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 979,
  Timestamp_u: 1650468632024318,
  'X-Trace': '2B9CB7DFEFC2A583ADD83AA862EFED38CD692C85868ED4653F6B3AE94401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.2.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.2.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.2.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '0290D10C80C314C1',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 979,
  Timestamp_u: 1650468632034696,
  'X-Trace': '2B5803194574AFE662B4F3F82F6257CD55A19D31A7C24EB4D39D2B2D1001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.2.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.2.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.2.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:340:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:409:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:332:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '549D46C529844EFC',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 979,
  Timestamp_u: 1650468632074075,
  'X-Trace': '2B45CA88A584E16DFB131DE695E0C49BD0CE3EAA81E4AEE4632523359201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.3.0
updated 1 package and audited 947 packages in 4.458s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:37.534Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:37.535Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:37.535Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:37.536Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:37.589Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:37.743Z appoptics:patching patched crypto 
2022-04-20T15:30:37.763Z appoptics:patching patched https 
2022-04-20T15:30:37.764Z appoptics:patching patched http 
2022-04-20T15:30:37.800Z appoptics:patching patched zlib 
2022-04-20T15:30:37.901Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:37.901Z appoptics:patching patched fs 
2022-04-20T15:30:37.920Z appoptics:patching patched hapi 16.3.0
2022-04-20T15:30:37.925Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:37.925Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:37.930Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
2022-04-20T15:30:38.026Z appoptics:debug http: ule hapi:exit 2b-5d5ac99b84d110a8695f317091d5f70f8d9e4e8a-98154896ac2bff68-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should skip when disabled
    5) should skip when disabled
    6) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:30:38.161Z appoptics:debug http: ule hapi:exit 2b-46991e656fede5fa22cc25a4ea8ce9fd04b05a26-1af5f220576129c6-01


  3 passing (220ms)
  7 failing

  1) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '98154896AC2BFF68',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1001,
  Timestamp_u: 1650468638021868,
  'X-Trace': '2B5D5AC99B84D110A8695F317091D5F70F8D9E4E8AF15ABFEC994C983F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '129D9412D651CBAD',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1001,
  Timestamp_u: 1650468638044575,
  'X-Trace': '2B5D5AC99B84D110A8695F317091D5F70F8D9E4E8A13B8B903364BA23101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '248EF325D3D071A5',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1001,
  Timestamp_u: 1650468638052768,
  'X-Trace': '2B5D5AC99B84D110A8695F317091D5F70F8D9E4E8AD9A7AEDE8A7B84B101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.3.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'AB7B8DF8E44C67F4',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1001,
  Timestamp_u: 1650468638129841,
  'X-Trace': '2B9A01E57033EA1832C733E5D548F1F84DEA1E7E6E85C2E2E7DDDC056101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.3.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.3.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  6) probes.hapi 16.3.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '248EF325D3D071A5',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1001,
  Timestamp_u: 1650468638052768,
  'X-Trace': '2B5D5AC99B84D110A8695F317091D5F70F8D9E4E8AD9A7AEDE8A7B84B101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.hapi 16.3.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '1AF5F220576129C6',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1001,
  Timestamp_u: 1650468638159497,
  'X-Trace': '2B46991E656FEDE5FA22CC25A4EA8CE9FD04B05A26F84C74F2747DC56601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.3.1
updated 1 package and audited 947 packages in 5.446s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:44.634Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:44.634Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:44.634Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:44.635Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:44.687Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:44.864Z appoptics:patching patched crypto 
2022-04-20T15:30:44.885Z appoptics:patching patched https 
2022-04-20T15:30:44.885Z appoptics:patching patched http 
2022-04-20T15:30:44.926Z appoptics:patching patched zlib 
2022-04-20T15:30:45.033Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:45.034Z appoptics:patching patched fs 
2022-04-20T15:30:45.057Z appoptics:patching patched hapi 16.3.1
2022-04-20T15:30:45.062Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:45.062Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:45.066Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.3.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    1) should forward controller/action data from post request
2022-04-20T15:30:45.164Z appoptics:debug http: ule hapi:exit 2b-6adbdf833c66cf13e49f3bde4a0650386780b8c9-ec7de670e84f6f24-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-20T15:30:45.259Z appoptics:debug http: ule hapi:exit 2b-fffb1be2d7cd2e0ad52edfe02338d95ecba41c65-20a0d1b7db47c435-01


  3 passing (182ms)
  8 failing

  1) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'EC7DE670E84F6F24',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1023,
  Timestamp_u: 1650468645159763,
  'X-Trace': '2B6ADBDF833C66CF13E49F3BDE4A0650386780B8C97A7204E29F49BCF501',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '1D97D4EBADE52C63',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1023,
  Timestamp_u: 1650468645180961,
  'X-Trace': '2B6ADBDF833C66CF13E49F3BDE4A0650386780B8C950C5B510F55040D801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '1A32BC97AB8D041E',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1023,
  Timestamp_u: 1650468645194418,
  'X-Trace': '2B6ADBDF833C66CF13E49F3BDE4A0650386780B8C99D1C17205B198BA201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '1D97D4EBADE52C63',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1023,
  Timestamp_u: 1650468645180961,
  'X-Trace': '2B6ADBDF833C66CF13E49F3BDE4A0650386780B8C950C5B510F55040D801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.3.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'F1157CAE770926EF',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1023,
  Timestamp_u: 1650468645225797,
  'X-Trace': '2B158DEA68B45FC61C0DD55D93C683D211777E07CD578F5A8DD6E5F52D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.3.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.3.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.3.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '1A32BC97AB8D041E',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1023,
  Timestamp_u: 1650468645194418,
  'X-Trace': '2B6ADBDF833C66CF13E49F3BDE4A0650386780B8C99D1C17205B198BA201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.3.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '20A0D1B7DB47C435',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1023,
  Timestamp_u: 1650468645256727,
  'X-Trace': '2BFFFB1BE2D7CD2E0AD52EDFE02338D95ECBA41C650D07EF3980DC320701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.0
updated 1 package and audited 947 packages in 6.048s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:52.384Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:52.384Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:52.385Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:52.385Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:52.438Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:30:52.596Z appoptics:patching patched crypto 
2022-04-20T15:30:52.615Z appoptics:patching patched https 
2022-04-20T15:30:52.615Z appoptics:patching patched http 
2022-04-20T15:30:52.655Z appoptics:patching patched zlib 
2022-04-20T15:30:52.759Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:30:52.760Z appoptics:patching patched fs 
2022-04-20T15:30:52.780Z appoptics:patching patched hapi 16.4.0
2022-04-20T15:30:52.785Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:30:52.785Z appoptics:patching patched vision 4.1.1
2022-04-20T15:30:52.788Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
2022-04-20T15:30:52.886Z appoptics:debug http: ule hapi:exit 2b-9174ab644ed68a24f3bd7fdb723b97b195106c22-96661c1f28256b25-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-20T15:30:52.979Z appoptics:debug http: ule hapi:exit 2b-087b92defe6830b84567233903893b01f6cee0df-555bb0b5af0c4007-01


  3 passing (179ms)
  8 failing

  1) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '96661C1F28256B25',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1045,
  Timestamp_u: 1650468652881698,
  'X-Trace': '2B9174AB644ED68A24F3BD7FDB723B97B195106C22310CEC3FDD61419901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '11DD03A0409102D5',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1045,
  Timestamp_u: 1650468652903046,
  'X-Trace': '2B9174AB644ED68A24F3BD7FDB723B97B195106C22DA0893B18CBEE99C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '3CC5BBC74AC4E360',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1045,
  Timestamp_u: 1650468652916755,
  'X-Trace': '2B9174AB644ED68A24F3BD7FDB723B97B195106C22271A82FCBAAEB95601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '11DD03A0409102D5',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1045,
  Timestamp_u: 1650468652903046,
  'X-Trace': '2B9174AB644ED68A24F3BD7FDB723B97B195106C22DA0893B18CBEE99C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.4.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'C7CD22A1CFD54C52',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1045,
  Timestamp_u: 1650468652945870,
  'X-Trace': '2B38BA41AA46EFE1AD63789F50351AAA42AE7D102C2011C0D2E7B5D67801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '3CC5BBC74AC4E360',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1045,
  Timestamp_u: 1650468652916755,
  'X-Trace': '2B9174AB644ED68A24F3BD7FDB723B97B195106C22271A82FCBAAEB95601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.4.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '555BB0B5AF0C4007',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1045,
  Timestamp_u: 1650468652976909,
  'X-Trace': '2B087B92DEFE6830B84567233903893B01F6CEE0DFBB526FC4417C7A6701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.1.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated hoek@4.1.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@10.5.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.2.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated items@2.1.1: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.1
added 3 packages, removed 4 packages, updated 6 packages and audited 946 packages in 5.818s

86 packages are looking for funding
  run `npm fund` for details

found 12 vulnerabilities (4 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:30:59.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:30:59.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:30:59.830Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:30:59.831Z appoptics:debug using context provider: ace-context
2022-04-20T15:30:59.888Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:00.048Z appoptics:patching patched crypto 
2022-04-20T15:31:00.068Z appoptics:patching patched https 
2022-04-20T15:31:00.068Z appoptics:patching patched http 
2022-04-20T15:31:00.106Z appoptics:patching patched zlib 
2022-04-20T15:31:00.212Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:00.213Z appoptics:patching patched fs 
2022-04-20T15:31:00.236Z appoptics:patching patched hapi 16.4.1
2022-04-20T15:31:00.241Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:00.241Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:00.244Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (54ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:00.342Z appoptics:debug http: ule hapi:exit 2b-29d35c7b80bb098060a8ca5014ab7d662199970f-174dc13b26964306-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension (47ms)
    8) should trace render span without template extension
2022-04-20T15:31:00.499Z appoptics:debug http: ule hapi:exit 2b-07aa91f86b1ee073b711e7dc8a0efa65f5ed6113-920f0e4e45db1f98-01


  3 passing (244ms)
  8 failing

  1) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:266:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '174DC13B26964306',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1067,
  Timestamp_u: 1650468660338022,
  'X-Trace': '2B29D35C7B80BB098060A8CA5014AB7D662199970FADA86048E110E26F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '43C1CCF70CB24301',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1067,
  Timestamp_u: 1650468660359030,
  'X-Trace': '2B29D35C7B80BB098060A8CA5014AB7D662199970FED8382E5070662FB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '64CDD87AB5877F0C',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1067,
  Timestamp_u: 1650468660372007,
  'X-Trace': '2B29D35C7B80BB098060A8CA5014AB7D662199970F1AEDBE9BDC4B67BE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '43C1CCF70CB24301',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1067,
  Timestamp_u: 1650468660359030,
  'X-Trace': '2B29D35C7B80BB098060A8CA5014AB7D662199970FED8382E5070662FB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.4.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '3C148B66A0433A35',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1067,
  Timestamp_u: 1650468660417635,
  'X-Trace': '2B0AD5FF010D26979E9FE4BCE835EFAA1D2B54B157DBF139FBACDF34A401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '64CDD87AB5877F0C',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1067,
  Timestamp_u: 1650468660372007,
  'X-Trace': '2B29D35C7B80BB098060A8CA5014AB7D662199970F1AEDBE9BDC4B67BE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.4.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:266:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '920F0E4E45DB1F98',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1067,
  Timestamp_u: 1650468660496507,
  'X-Trace': '2B07AA91F86B1EE073B711E7DC8A0EFA65F5ED61135891818806E2D20001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.2
added 4 packages from 1 contributor, removed 3 packages, updated 6 packages and audited 947 packages in 5.201s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:06.838Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:06.839Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:06.839Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:06.840Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:06.912Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:07.092Z appoptics:patching patched crypto 
2022-04-20T15:31:07.137Z appoptics:patching patched https 
2022-04-20T15:31:07.138Z appoptics:patching patched http 
2022-04-20T15:31:07.179Z appoptics:patching patched zlib 
2022-04-20T15:31:07.319Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:07.319Z appoptics:patching patched fs 
2022-04-20T15:31:07.339Z appoptics:patching patched hapi 16.4.2
2022-04-20T15:31:07.345Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:07.345Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:07.348Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:07.458Z appoptics:debug http: ule hapi:exit 2b-111a50a66b187bcdc32afb3a915f66f7375d73bc-9572e9f697dc90b2-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:31:07.606Z appoptics:debug http: ule hapi:exit 2b-abbe0b51c1c53e3066bc248e9ff8bb3e4ce2ba88-a3101b8ba3e7a111-01


  3 passing (245ms)
  7 failing

  1) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '9572E9F697DC90B2',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1089,
  Timestamp_u: 1650468667453244,
  'X-Trace': '2B111A50A66B187BCDC32AFB3A915F66F7375D73BC14FBC142A0229E5D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '1184F49BF7A42792',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1089,
  Timestamp_u: 1650468667483193,
  'X-Trace': '2B111A50A66B187BCDC32AFB3A915F66F7375D73BCB3EBB90943FD17FE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '632BC06F2D5C367A',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1089,
  Timestamp_u: 1650468667515340,
  'X-Trace': '2B57FD2302C0E29F19707EFDD827E4CE5F6F52E510629D8D2A95C7BEC201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.2 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.2 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'C83BF0FBC02B8436',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1089,
  Timestamp_u: 1650468667564645,
  'X-Trace': '2BA699C817B1FBDA808A637D9753D1D0D0C165657438E92AB1FF6F770201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'A3101B8BA3E7A111',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1089,
  Timestamp_u: 1650468667602861,
  'X-Trace': '2BABBE0B51C1C53E3066BC248E9FF8BB3E4CE2BA88BB80F1840006BB6001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.4.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@4.4.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.4.3
updated 1 package and audited 947 packages in 5.083s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:13.899Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:13.900Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:13.900Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:13.901Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:13.969Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:14.158Z appoptics:patching patched crypto 
2022-04-20T15:31:14.178Z appoptics:patching patched https 
2022-04-20T15:31:14.179Z appoptics:patching patched http 
2022-04-20T15:31:14.217Z appoptics:patching patched zlib 
2022-04-20T15:31:14.325Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:14.325Z appoptics:patching patched fs 
2022-04-20T15:31:14.345Z appoptics:patching patched hapi 16.4.3
2022-04-20T15:31:14.351Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:14.351Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:14.354Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.4.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (55ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:14.453Z appoptics:debug http: ule hapi:exit 2b-58058dace9092cbe19ebac782f5ebc826266ef6a-cf5094873255b812-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:31:14.549Z appoptics:debug http: ule hapi:exit 2b-7a6c345b21d78c9eaf644701e51f33cab8d8f76c-c0463f1bee9eee73-01


  3 passing (183ms)
  7 failing

  1) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'CF5094873255B812',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1111,
  Timestamp_u: 1650468674448839,
  'X-Trace': '2B58058DACE9092CBE19EBAC782F5EBC826266EF6A47EFEF99A2CD4A0D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '8F0233BE5F9EEEB2',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1111,
  Timestamp_u: 1650468674470086,
  'X-Trace': '2B58058DACE9092CBE19EBAC782F5EBC826266EF6AD7566188A303187001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '2F8E6B655EB26173',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1111,
  Timestamp_u: 1650468674484648,
  'X-Trace': '2BD9C829143C7A846F95AD996436DEB21AF067474C6437FB5591E6BF4601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.4.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.4.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.4.3 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '356CCF2E0F1CDCAD',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1111,
  Timestamp_u: 1650468674513599,
  'X-Trace': '2B2A996B11CE2BEBDBF60A0C01EE7DC53249155A307D6107731599C14C01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.4.3 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.4.3 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.4.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:341:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:410:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:333:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'C0463F1BEE9EEE73',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1111,
  Timestamp_u: 1650468674546760,
  'X-Trace': '2B7A6C345B21D78C9EAF644701E51F33CAB8D8F76C2479C6AFDB67E57E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.0
updated 2 packages and audited 947 packages in 6.118s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:21.698Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:21.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:21.699Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:21.700Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:21.761Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:21.928Z appoptics:patching patched crypto 
2022-04-20T15:31:21.974Z appoptics:patching patched https 
2022-04-20T15:31:21.975Z appoptics:patching patched http 
2022-04-20T15:31:22.009Z appoptics:patching patched zlib 
2022-04-20T15:31:22.117Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:22.117Z appoptics:patching patched fs 
2022-04-20T15:31:22.140Z appoptics:patching patched hapi 16.5.0
2022-04-20T15:31:22.146Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:22.146Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:22.149Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:22.251Z appoptics:debug http: ule hapi:exit 2b-7ae0c5e461155655087e13bd1487a270c2657e0c-879659dc97688712-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-20T15:31:22.374Z appoptics:debug http: ule hapi:exit 2b-f9ec1d450f62d5dd91ad3f11edb5eadceb523e04-921b1915199fc987-01


  3 passing (214ms)
  8 failing

  1) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '879659DC97688712',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1133,
  Timestamp_u: 1650468682246297,
  'X-Trace': '2B7AE0C5E461155655087E13BD1487A270C2657E0C0E22090A5EBAC93101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '8506703BABB693F6',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1133,
  Timestamp_u: 1650468682268284,
  'X-Trace': '2B7AE0C5E461155655087E13BD1487A270C2657E0CBE7CE0290504A2CB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '2B63EACCF009C123',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1133,
  Timestamp_u: 1650468682280739,
  'X-Trace': '2B7AE0C5E461155655087E13BD1487A270C2657E0C3DCF257A91F1FABC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '8506703BABB693F6',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1133,
  Timestamp_u: 1650468682268284,
  'X-Trace': '2B7AE0C5E461155655087E13BD1487A270C2657E0CBE7CE0290504A2CB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.5.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '683C00B413247268',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1133,
  Timestamp_u: 1650468682327086,
  'X-Trace': '2B304C22C82B48E974D8B46A3CF146FB9CC4240E7CCA6A6D7B6462587901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '2B63EACCF009C123',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1133,
  Timestamp_u: 1650468682280739,
  'X-Trace': '2B7AE0C5E461155655087E13BD1487A270C2657E0C3DCF257A91F1FABC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.5.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '921B1915199FC987',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1133,
  Timestamp_u: 1650468682369923,
  'X-Trace': '2BF9EC1D450F62D5DD91AD3F11EDB5EADCEB523E04CD06EDBEE06B5B6001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.1
updated 1 package and audited 947 packages in 4.919s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:28.327Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:28.328Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:28.328Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:28.329Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:28.382Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:28.531Z appoptics:patching patched crypto 
2022-04-20T15:31:28.556Z appoptics:patching patched https 
2022-04-20T15:31:28.557Z appoptics:patching patched http 
2022-04-20T15:31:28.618Z appoptics:patching patched zlib 
2022-04-20T15:31:28.734Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:28.734Z appoptics:patching patched fs 
2022-04-20T15:31:28.755Z appoptics:patching patched hapi 16.5.1
2022-04-20T15:31:28.761Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:28.762Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:28.765Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:28.864Z appoptics:debug http: ule hapi:exit 2b-e0ecabe74ed6eefc5959006282eb253b3ba646c9-3c8ce5204194e9be-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-20T15:31:28.970Z appoptics:debug http: ule hapi:exit 2b-e1bff92f14895f41e5910bf27d6a6c1b14eafed1-ce368371d6fc1b09-01


  3 passing (195ms)
  8 failing

  1) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '3C8CE5204194E9BE',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1155,
  Timestamp_u: 1650468688859040,
  'X-Trace': '2BE0ECABE74ED6EEFC5959006282EB253B3BA646C97E2F8A7BC2C95D3201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'E6DDDFFB30C11C9A',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1155,
  Timestamp_u: 1650468688880309,
  'X-Trace': '2BE0ECABE74ED6EEFC5959006282EB253B3BA646C926BD24542800DA4201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '24807D600E0FBAE9',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1155,
  Timestamp_u: 1650468688911172,
  'X-Trace': '2BE0ECABE74ED6EEFC5959006282EB253B3BA646C9B878F12F30B28E0A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'E6DDDFFB30C11C9A',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1155,
  Timestamp_u: 1650468688880309,
  'X-Trace': '2BE0ECABE74ED6EEFC5959006282EB253B3BA646C926BD24542800DA4201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.5.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '219D9B9F28362C2F',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1155,
  Timestamp_u: 1650468688935526,
  'X-Trace': '2B9E9FA8CA0B49B9EA6643EA1C748951729AFE476725F505643C4FD3AF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '24807D600E0FBAE9',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1155,
  Timestamp_u: 1650468688911172,
  'X-Trace': '2BE0ECABE74ED6EEFC5959006282EB253B3BA646C9B878F12F30B28E0A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.5.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'CE368371D6FC1B09',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1155,
  Timestamp_u: 1650468688968037,
  'X-Trace': '2BE1BFF92F14895F41E5910BF27D6A6C1B14EAFED1B39688170AF18EC401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.5.2
updated 1 package and audited 947 packages in 5.049s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:35.233Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:35.234Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:35.234Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:35.234Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:35.301Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:35.477Z appoptics:patching patched crypto 
2022-04-20T15:31:35.512Z appoptics:patching patched https 
2022-04-20T15:31:35.513Z appoptics:patching patched http 
2022-04-20T15:31:35.542Z appoptics:patching patched zlib 
2022-04-20T15:31:35.647Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:35.647Z appoptics:patching patched fs 
2022-04-20T15:31:35.667Z appoptics:patching patched hapi 16.5.2
2022-04-20T15:31:35.673Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:35.673Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:35.676Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.5.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:35.769Z appoptics:debug http: ule hapi:exit 2b-649ddc2f4b5a754a76f9d47e266e01d5dae3d730-bd1be057b18ba593-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-20T15:31:35.861Z appoptics:debug http: ule hapi:exit 2b-7b9ebf64f5c7ef23b68149d7052da5c21afb0338-e35ce667c3c2cfa7-01


  3 passing (175ms)
  8 failing

  1) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'BD1BE057B18BA593',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1177,
  Timestamp_u: 1650468695765446,
  'X-Trace': '2B649DDC2F4B5A754A76F9D47E266E01D5DAE3D7300F379883603B600F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'D47E445AED249BF7',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1177,
  Timestamp_u: 1650468695784390,
  'X-Trace': '2B649DDC2F4B5A754A76F9D47E266E01D5DAE3D730BE5A1FA2A3A3F70F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'A30DC915391A215B',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1177,
  Timestamp_u: 1650468695795569,
  'X-Trace': '2B649DDC2F4B5A754A76F9D47E266E01D5DAE3D73039E32495AAF6756A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'D47E445AED249BF7',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1177,
  Timestamp_u: 1650468695784390,
  'X-Trace': '2B649DDC2F4B5A754A76F9D47E266E01D5DAE3D730BE5A1FA2A3A3F70F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.5.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '2DD1738D0496E3A0',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1177,
  Timestamp_u: 1650468695830754,
  'X-Trace': '2B8F99C86E763AD146BA6A9239DD7518A02470D14A609C5BCE06D6589A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.5.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.5.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.5.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'A30DC915391A215B',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1177,
  Timestamp_u: 1650468695795569,
  'X-Trace': '2B649DDC2F4B5A754A76F9D47E266E01D5DAE3D73039E32495AAF6756A01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.5.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'E35CE667C3C2CFA7',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1177,
  Timestamp_u: 1650468695859641,
  'X-Trace': '2B7B9EBF64F5C7EF23B68149D7052DA5C21AFB0338ADB40803086B617301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.0
updated 1 package and audited 947 packages in 4.511s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:41.398Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:41.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:41.399Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:41.400Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:41.465Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:41.646Z appoptics:patching patched crypto 
2022-04-20T15:31:41.666Z appoptics:patching patched https 
2022-04-20T15:31:41.667Z appoptics:patching patched http 
2022-04-20T15:31:41.707Z appoptics:patching patched zlib 
2022-04-20T15:31:41.810Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:41.811Z appoptics:patching patched fs 
2022-04-20T15:31:41.831Z appoptics:patching patched hapi 16.6.0
2022-04-20T15:31:41.837Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:41.837Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:41.841Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:41.934Z appoptics:debug http: ule hapi:exit 2b-7aaab9714d9fc9b933697055b53bfb27dccc58ca-d565bcb1b5d4ac9c-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    7) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    8) should trace render span without template extension
2022-04-20T15:31:42.024Z appoptics:debug http: ule hapi:exit 2b-4f7eff0733aab19374b9a740d72fd1178d155a11-d4776a6e522e50dd-01


  3 passing (173ms)
  8 failing

  1) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D565BCB1B5D4AC9C',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1199,
  Timestamp_u: 1650468701930316,
  'X-Trace': '2B7AAAB9714D9FC9B933697055B53BFB27DCCC58CAB4CB193C4A7C54F301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'AE7B378D10AB8524',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1199,
  Timestamp_u: 1650468701950108,
  'X-Trace': '2B7AAAB9714D9FC9B933697055B53BFB27DCCC58CA27656937DF53C69301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'ED292939EAA8D586',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1199,
  Timestamp_u: 1650468701963785,
  'X-Trace': '2B7AAAB9714D9FC9B933697055B53BFB27DCCC58CA043AD92FE104A75901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'AE7B378D10AB8524',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1199,
  Timestamp_u: 1650468701950108,
  'X-Trace': '2B7AAAB9714D9FC9B933697055B53BFB27DCCC58CA27656937DF53C69301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.6.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '41B62A059DFB8C1F',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1199,
  Timestamp_u: 1650468701990322,
  'X-Trace': '2B4D9399456CA52125AE200C895BE5655CB01697385B81F218AF03B2AB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'ED292939EAA8D586',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1199,
  Timestamp_u: 1650468701963785,
  'X-Trace': '2B7AAAB9714D9FC9B933697055B53BFB27DCCC58CA043AD92FE104A75901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  8) probes.hapi 16.6.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D4776A6E522E50DD',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1199,
  Timestamp_u: 1650468702021645,
  'X-Trace': '2B4F7EFF0733AAB19374B9A740D72FD1178D155A11390BA2FE2FCD3F7001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.1
added 3 packages from 1 contributor, updated 1 package and audited 950 packages in 5.221s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:48.258Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:48.259Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:48.259Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:48.260Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:48.313Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:48.469Z appoptics:patching patched crypto 
2022-04-20T15:31:48.488Z appoptics:patching patched https 
2022-04-20T15:31:48.489Z appoptics:patching patched http 
2022-04-20T15:31:48.526Z appoptics:patching patched zlib 
2022-04-20T15:31:48.651Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:48.652Z appoptics:patching patched fs 
2022-04-20T15:31:48.678Z appoptics:patching patched hapi 16.6.1
2022-04-20T15:31:48.683Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:48.683Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:48.687Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.1 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (65ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:48.840Z appoptics:debug http: ule hapi:exit 2b-6203cd8306c2dc7a11d140af5acf28655ff70ad5-52ef8f2c65cbc63f-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:31:48.977Z appoptics:debug http: ule hapi:exit 2b-c58c6c4b971d837dd75d4ebc6928224a88553ab9-4d1c5bf62c345901-01


  3 passing (264ms)
  7 failing

  1) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '52EF8F2C65CBC63F',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1221,
  Timestamp_u: 1650468708833719,
  'X-Trace': '2B6203CD8306C2DC7A11D140AF5ACF28655FF70AD530EF92373688E21B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '6B18F38B8A019E63',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1221,
  Timestamp_u: 1650468708859499,
  'X-Trace': '2B6203CD8306C2DC7A11D140AF5ACF28655FF70AD5469ECB08421081AE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '7CA1E6D3C73EC780',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1221,
  Timestamp_u: 1650468708872050,
  'X-Trace': '2B89209B0090A65E1CFBBACF6304D598D1F2B6B239FE1D7AADBF43C99F01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.1 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.1 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.1 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'AAEEC9CA57CAB8A7',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1221,
  Timestamp_u: 1650468708923747,
  'X-Trace': '2BB1DFFBAC233D9898412221A8B51B85D68639C4010F88308E2E6694B701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.1 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.1 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.1 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '4D1C5BF62C345901',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1221,
  Timestamp_u: 1650468708975151,
  'X-Trace': '2BC58C6C4B971D837DD75D4EBC6928224A88553AB9B33551E14FDAE88401',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.2
updated 1 package and audited 950 packages in 4.118s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:31:54.079Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:31:54.080Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:31:54.080Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:31:54.080Z appoptics:debug using context provider: ace-context
2022-04-20T15:31:54.134Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:31:54.283Z appoptics:patching patched crypto 
2022-04-20T15:31:54.301Z appoptics:patching patched https 
2022-04-20T15:31:54.302Z appoptics:patching patched http 
2022-04-20T15:31:54.339Z appoptics:patching patched zlib 
2022-04-20T15:31:54.462Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:31:54.462Z appoptics:patching patched fs 
2022-04-20T15:31:54.488Z appoptics:patching patched hapi 16.6.2
2022-04-20T15:31:54.493Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:31:54.493Z appoptics:patching patched vision 4.1.1
2022-04-20T15:31:54.497Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.2 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    1) should forward controller/action data from post request
2022-04-20T15:31:54.592Z appoptics:debug http: ule hapi:exit 2b-b2bbc3af704a9d871fe4bb3644e36d6d6b68f290-764e2ebddf6a7dfe-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should skip when disabled
    5) should skip when disabled
    6) should forward controller/action data from delete request
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:31:54.725Z appoptics:debug http: ule hapi:exit 2b-fa430b59a3b4f3469504d5a094f2dc99b847aff2-d681ee43825e487d-01


  3 passing (219ms)
  7 failing

  1) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '764E2EBDDF6A7DFE',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1243,
  Timestamp_u: 1650468714587180,
  'X-Trace': '2BB2BBC3AF704A9D871FE4BB3644E36D6D6B68F29036C39B6B642A6DDE01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'AF8F602674EF0845',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1243,
  Timestamp_u: 1650468714606602,
  'X-Trace': '2BB2BBC3AF704A9D871FE4BB3644E36D6D6B68F2900B5BF2CAD20B38DC01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'A560A5126AEAAB92',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1243,
  Timestamp_u: 1650468714612984,
  'X-Trace': '2BB2BBC3AF704A9D871FE4BB3644E36D6D6B68F290BDD7C886BDDD49E601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.2 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '999CD4E21F8026AF',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1243,
  Timestamp_u: 1650468714669291,
  'X-Trace': '2BA7D45569A1925C5F53E9FFB02106DF57F7EF6321B60221E09E37A3BF01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  5) probes.hapi 16.6.2 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.2 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  6) probes.hapi 16.6.2 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'A560A5126AEAAB92',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1243,
  Timestamp_u: 1650468714612984,
  'X-Trace': '2BB2BBC3AF704A9D871FE4BB3644E36D6D6B68F290BDD7C886BDDD49E601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  7) probes.hapi 16.6.2 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'D681EE43825E487D',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1243,
  Timestamp_u: 1650468714723056,
  'X-Trace': '2BFA430B59A3B4F3469504D5A094F2DC99B847AFF227AE2F66E42C0ED101',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.3
updated 1 package and audited 950 packages in 5.334s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:01.020Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:01.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:01.021Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:01.022Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:01.072Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:01.214Z appoptics:patching patched crypto 
2022-04-20T15:32:01.232Z appoptics:patching patched https 
2022-04-20T15:32:01.233Z appoptics:patching patched http 
2022-04-20T15:32:01.286Z appoptics:patching patched zlib 
2022-04-20T15:32:01.420Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:01.420Z appoptics:patching patched fs 
2022-04-20T15:32:01.444Z appoptics:patching patched hapi 16.6.3
2022-04-20T15:32:01.454Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:01.454Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:01.458Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.3 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    1) should forward controller/action data from post request
2022-04-20T15:32:01.546Z appoptics:debug http: ule hapi:exit 2b-0dc0452ecff456486b46a0f9d887e7262794c7f9-f4d71c4426baf1e4-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:32:01.638Z appoptics:debug http: ule hapi:exit 2b-cff0881242aaba4c5a8028d1b9febacdeb6ebd4f-60fe017be44b42f6-01


  3 passing (175ms)
  7 failing

  1) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'F4D71C4426BAF1E4',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1265,
  Timestamp_u: 1650468721542050,
  'X-Trace': '2B0DC0452ECFF456486B46A0F9D887E7262794C7F9C1163789CEDCB8F901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'E862C5B8BF25B2CE',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1265,
  Timestamp_u: 1650468721561192,
  'X-Trace': '2B0DC0452ECFF456486B46A0F9D887E7262794C7F9819545A2AFF7DE0301',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '0B2BD46A4D809979',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1265,
  Timestamp_u: 1650468721572074,
  'X-Trace': '2BB9AE603A9675ABC1E64467F17A0603ACDC91CC5A45709B5DA8A5294901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.3 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.3 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.3 vision 4.1.1
       should skip when disabled:
     Uncaught expected Object {
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.instrumentHttp (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:645:30)\nat internals.Request.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/@hapi/hapi.js:248:8)\nat Domain.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:275:25)\nat Domain.run (domain.js:378:15)\nat module.exports.internals.Protect.internals.Protect.enter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/protect.js:76:17)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/connection.js:273:30)\nat Server.emit (events.js:400:28)\nat ao.requestStore.run.newContext (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:451:22)\nat Namespace.run (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:187:5)\nat Server.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:362:21)\nat parserOnIncoming (_http_server.js:900:12)\nat HTTPParser.parserOnHeadersComplete (_http_common.js:127:17)',
  Edge: 'A74AF16878EEE1BD',
  Hostname: '7529dec18a71',
  Label: 'entry',
  Layer: 'hapi',
  TID: 1265,
  Timestamp_u: 1650468721584916,
  'X-Trace': '2B1C484D02BBE2D97F82AF6C5337E9F95CC1726EEA19D3E275ED68160E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'hapi')
  AssertionError: expected Object {
    Edge: 'A74AF16878EEE1BD',
    Hostname: '7529dec18a71',
    Label: 'entry',
    Layer: 'hapi',
    TID: 1265,
    Timestamp_u: 1650468721584916,
    'X-Trace': '2B1C484D02BBE2D97F82AF6C5337E9F95CC1726EEA19D3E275ED68160E01',
    _V: '1'
  } to have property Layer of 'nodejs' (got 'hapi')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpExit (test/probes/hapi/hapi-16-and-below.js:59:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.3 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.3 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.3 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '60FE017BE44B42F6',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1265,
  Timestamp_u: 1650468721635825,
  'X-Trace': '2BCFF0881242AABA4C5A8028D1B9FEBACDEB6EBD4F8468E702A831C4F201',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.4
updated 1 package and audited 950 packages in 4.351s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:07.023Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:07.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:07.024Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:07.025Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:07.079Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:07.233Z appoptics:patching patched crypto 
2022-04-20T15:32:07.251Z appoptics:patching patched https 
2022-04-20T15:32:07.252Z appoptics:patching patched http 
2022-04-20T15:32:07.285Z appoptics:patching patched zlib 
2022-04-20T15:32:07.406Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:07.407Z appoptics:patching patched fs 
2022-04-20T15:32:07.431Z appoptics:patching patched hapi 16.6.4
2022-04-20T15:32:07.436Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:07.436Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:07.440Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.4 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
2022-04-20T15:32:07.536Z appoptics:debug http: ule hapi:exit 2b-2bdcbb5298c37ce7e9a609f74fa4315a1687f957-38ffbe9aa2bdc641-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:32:07.636Z appoptics:debug http: ule hapi:exit 2b-d405b5b213dcc607a622793377204cfe125dac86-ae303d9df6006546-01


  3 passing (186ms)
  7 failing

  1) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '38FFBE9AA2BDC641',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1287,
  Timestamp_u: 1650468727531304,
  'X-Trace': '2B2BDCBB5298C37CE7E9A609F74FA4315A1687F9575155E63572AAA1BD01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'D67A23B13A04F1A6',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1287,
  Timestamp_u: 1650468727551601,
  'X-Trace': '2B2BDCBB5298C37CE7E9A609F74FA4315A1687F957D339A8E822676E2801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: '2B3914B76055220B',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1287,
  Timestamp_u: 1650468727563749,
  'X-Trace': '2B6400D48C7EA02C7207ABBF7DB1946288DB41A5839B7DF9CEE466E97001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.4 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.4 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.4 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'EC0B4769DD3AB1A1',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1287,
  Timestamp_u: 1650468727594607,
  'X-Trace': '2BC3943BC90DFA16C2B5F68BCA720A86C9AC68C661D14E3F8DC93CBE7901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.4 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.4 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.4 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: 'AE303D9DF6006546',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1287,
  Timestamp_u: 1650468727633626,
  'X-Trace': '2BD405B5B213DCC607A622793377204CFE125DAC86F79B19CF2A7CC03701',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.6.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.6.5
updated 1 package and audited 950 packages in 5.402s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:14.161Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:14.161Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:14.161Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:14.162Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:14.216Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:14.374Z appoptics:patching patched crypto 
2022-04-20T15:32:14.393Z appoptics:patching patched https 
2022-04-20T15:32:14.394Z appoptics:patching patched http 
2022-04-20T15:32:14.431Z appoptics:patching patched zlib 
2022-04-20T15:32:14.555Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:14.555Z appoptics:patching patched fs 
2022-04-20T15:32:14.581Z appoptics:patching patched hapi 16.6.5
2022-04-20T15:32:14.586Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:14.586Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:14.589Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.6.5 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    1) should forward controller/action data from post request
2022-04-20T15:32:14.684Z appoptics:debug http: ule hapi:exit 2b-741a56de84430c1b48bc7bfb5ea6c42c6590c7d4-1cd1d7c306ecebbd-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:32:14.784Z appoptics:debug http: ule hapi:exit 2b-fee6423ce031bf10a613969908ac630eedebb394-6fb9683b20d636ea-01


  3 passing (185ms)
  7 failing

  1) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '1CD1D7C306ECEBBD',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1309,
  Timestamp_u: 1650468734680097,
  'X-Trace': '2B741A56DE84430C1B48BC7BFB5EA6C42C6590C7D4478C977907F7741D01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: '5062EC779F50F5FD',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1309,
  Timestamp_u: 1650468734699345,
  'X-Trace': '2B741A56DE84430C1B48BC7BFB5EA6C42C6590C7D42094F1A52248F79901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'EBC21E01FD1A154B',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1309,
  Timestamp_u: 1650468734711278,
  'X-Trace': '2BB3471B8021BD0365C321A3F7CF3252F937D07E0E98168D2DE67603C801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.6.5 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.6.5 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.6.5 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: '3A8F12FF55206840',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1309,
  Timestamp_u: 1650468734742786,
  'X-Trace': '2B6E2A15EC22D2EFDB519F56DF95EF49054BBE8C5D0B31C2187DC20A5901',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.6.5 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.6.5 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.6.5 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:343:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:412:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:335:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '6FB9683B20D636EA',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1309,
  Timestamp_u: 1650468734781481,
  'X-Trace': '2BFEE6423CE031BF10A613969908AC630EEDEBB394D57E7AF131D6E99601',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@16.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@2.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated ammo@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated boom@5.2.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated call@4.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox@7.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@2.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated cryptiles@3.1.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@4.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated iron@4.0.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@11.4.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@1.3.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated shot@3.4.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated statehood@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated subtext@5.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated somever@1.0.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@12.0.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@3.0.7: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated pez@2.1.5: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated wreck@12.5.1: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated b64@3.0.3: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated nigel@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated vise@2.0.2: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@16.7.0
added 1 package, updated 1 package and audited 951 packages in 4.439s

86 packages are looking for funding
  run `npm fund` for details

found 10 vulnerabilities (2 moderate, 5 high, 3 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:20.347Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:20.348Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:20.348Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:20.349Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:20.399Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:20.558Z appoptics:patching patched crypto 
2022-04-20T15:32:20.578Z appoptics:patching patched https 
2022-04-20T15:32:20.578Z appoptics:patching patched http 
2022-04-20T15:32:20.614Z appoptics:patching patched zlib 
2022-04-20T15:32:20.806Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:20.807Z appoptics:patching patched fs 
2022-04-20T15:32:20.830Z appoptics:patching patched hapi 16.7.0
2022-04-20T15:32:20.835Z appoptics:patching vision instrumentation not active before v5
2022-04-20T15:32:20.835Z appoptics:patching patched vision 4.1.1
2022-04-20T15:32:20.844Z appoptics:debug starting runtimeMetrics


  probes.hapi 16.7.0 vision 4.1.1
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    1) should forward controller/action data from post request
2022-04-20T15:32:20.944Z appoptics:debug http: ule hapi:exit 2b-6ca1723f70e08bc2f48c351a1842890191f4374a-0b3e192ccd8d80c1-01
    2) should forward controller/action data from put request
    3) should forward controller/action data from delete request
    4) should forward controller/action data from put request
    5) should skip when disabled
    6) should skip when disabled
    ✓ should trace render span with template extension
    7) should trace render span without template extension
2022-04-20T15:32:21.055Z appoptics:debug http: ule hapi:exit 2b-f19a59d24681c7784fdcac100e5f5236f2853b1b-2b176f06f8620411-01


  3 passing (207ms)
  7 failing

  1) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from post request:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:201:11\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:362:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:431:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:354:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '0B3E192CCD8D80C1',
  HTTPMethod: 'POST',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3502/hello/world',
  Spec: 'rsc',
  TID: 1331,
  Timestamp_u: 1650468740939168,
  'X-Trace': '2B6CA1723F70E08BC2F48C351A1842890191F4374A538607F592501D6E01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  2) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from put request:
     Uncaught AssertionError: expected Object {
  Edge: 'DD612EB9F43906C0',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1331,
  Timestamp_u: 1650468740959584,
  'X-Trace': '2B6CA1723F70E08BC2F48C351A1842890191F4374AE9A9E3AC156AED9801',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  3) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from delete request:
     Uncaught AssertionError: expected Object {
  Edge: 'E26DE83E2F37A1DC',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1331,
  Timestamp_u: 1650468740972400,
  'X-Trace': '2B0620FBE1B41AAC80DE4CE8C5866D480ED48B486D86E81B602D18D02001',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  4) probes.hapi 16.7.0 vision 4.1.1
       should forward controller/action data from put request:
     Error: done() called multiple times in test <probes.hapi 16.7.0 vision 4.1.1 should forward controller/action data from put request> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (test/probes/hapi/hapi-16-and-below.js:195:11)
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  5) probes.hapi 16.7.0 vision 4.1.1
       should skip when disabled:
     Uncaught AssertionError: expected Object {
  Edge: 'B942730CE5B407BD',
  Hostname: '7529dec18a71',
  Label: 'exit',
  Layer: 'zlib',
  TID: 1331,
  Timestamp_u: 1650468741005845,
  'X-Trace': '2B84FFB9981D5A0BFD51E075BCED7978F5DEA4767CC8B455900684995B01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'zlib')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)

  6) probes.hapi 16.7.0 vision 4.1.1
       should skip when disabled:
     Error: done() called multiple times in test <probes.hapi 16.7.0 vision 4.1.1 should skip when disabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi.test.js
      at Server.<anonymous> (lib/probes/http.js:252:23)
      at emitCloseNT (net.js:1677:8)
      at processTicksAndRejections (internal/process/task_queues.js:81:21)

  7) probes.hapi 16.7.0 vision 4.1.1
       should trace render span without template extension:
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:301:15)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/http.js:119:29)\nat RedirectableRequest._performRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:279:24)\nat new RedirectableRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:61:8)\nat Object.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/follow-redirects/index.js:487:14)\nat dispatchHttpRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:242:25)\nat new Promise (<anonymous>)\nat httpAdapter (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/adapters/http.js:48:10)\nat dispatchRequest (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/dispatchRequest.js:58:10)\nat Axios.request (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/core/Axios.js:108:15)\nat wrap (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/axios/lib/helpers/bind.js:9:15)\nat /__w/appoptics-apm-node/appoptics-apm-node/test/probes/hapi/hapi-16-and-below.js:255:9\nat /__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:362:24\nat module.exports.internals.Server.internals.Server._invoke (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:431:16)\nat Object.callback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/hapi/lib/server.js:354:18)\nat internals.itemCallback (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/podium/lib/index.js:297:10)\nat processTicksAndRejections (internal/process/task_queues.js:81:21)',
  Edge: '2B176F06F8620411',
  HTTPMethod: 'GET',
  Hostname: '7529dec18a71',
  IsService: 'yes',
  Label: 'entry',
  Layer: 'http-client',
  RemoteURL: 'http://localhost:3507/hello/world',
  Spec: 'rsc',
  TID: 1331,
  Timestamp_u: 1650468741051122,
  'X-Trace': '2BF19A59D24681C7784FDCAC100E5F5236F2853B1B62DE4255DC0F6ABB01',
  _V: '1'
} to have property Layer of 'nodejs' (got 'http-client')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at httpEntry (test/probes/hapi/hapi-16-and-below.js:55:23)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (domain.js:475:12)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (domain.js:475:12)
      at UDP.onMessage [as onmessage] (dgram.js:931:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:130:17)



npm WARN deprecated hapi@17.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.0
added 46 packages from 2 contributors, removed 2 packages, updated 34 packages and audited 995 packages in 6.649s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
npm WARN deprecated vision@5.4.4: This module has moved and is now available at @hapi/vision. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated boom@7.3.0: This module has moved and is now available at @hapi/boom. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@6.1.3: This module has moved and is now available at @hapi/hoek. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@14.3.1: This module has moved and is now available at @hapi/joi. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated items@2.1.2: This module has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version of hapi to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated topo@3.0.3: This module has moved and is now available at @hapi/topo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ vision@5.4.4
added 1 package from 1 contributor, updated 6 packages and audited 996 packages in 5.261s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:35.115Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:35.119Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:35.119Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:35.120Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:35.249Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:35.514Z appoptics:patching patched crypto 
2022-04-20T15:32:35.575Z appoptics:patching patched https 
2022-04-20T15:32:35.575Z appoptics:patching patched http 
2022-04-20T15:32:35.609Z appoptics:patching patched zlib 
2022-04-20T15:32:35.915Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:35.916Z appoptics:patching patched fs 
2022-04-20T15:32:35.946Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:32:35.946Z appoptics:patching patched hapi 17.0.0
2022-04-20T15:32:35.977Z appoptics:patching patched vision 5.4.4
2022-04-20T15:32:35.981Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (217ms)

npm WARN deprecated hapi@17.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.1
removed 59 packages, updated 1 package and audited 937 packages in 4.731s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:42.120Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:42.121Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:42.121Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:42.122Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:42.192Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:42.445Z appoptics:patching patched crypto 
2022-04-20T15:32:42.487Z appoptics:patching patched https 
2022-04-20T15:32:42.494Z appoptics:patching patched http 
2022-04-20T15:32:42.530Z appoptics:patching patched zlib 
2022-04-20T15:32:42.652Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:42.652Z appoptics:patching patched fs 
2022-04-20T15:32:42.664Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:32:42.664Z appoptics:patching patched hapi 17.0.1
2022-04-20T15:32:42.675Z appoptics:patching patched vision 5.4.4
2022-04-20T15:32:42.679Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (184ms)

npm WARN deprecated hapi@17.0.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.0.2
updated 1 package and audited 937 packages in 5.984s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:49.938Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:49.939Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:49.939Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:49.939Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:49.994Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:50.153Z appoptics:patching patched crypto 
2022-04-20T15:32:50.174Z appoptics:patching patched https 
2022-04-20T15:32:50.174Z appoptics:patching patched http 
2022-04-20T15:32:50.211Z appoptics:patching patched zlib 
2022-04-20T15:32:50.337Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:50.337Z appoptics:patching patched fs 
2022-04-20T15:32:50.350Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:32:50.350Z appoptics:patching patched hapi 17.0.2
2022-04-20T15:32:50.356Z appoptics:patching patched vision 5.4.4
2022-04-20T15:32:50.360Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.0.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (187ms)

npm WARN deprecated hapi@17.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.1.0
updated 1 package and audited 937 packages in 4.859s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:32:56.429Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:32:56.430Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:32:56.430Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:32:56.431Z appoptics:debug using context provider: ace-context
2022-04-20T15:32:56.484Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:32:56.640Z appoptics:patching patched crypto 
2022-04-20T15:32:56.660Z appoptics:patching patched https 
2022-04-20T15:32:56.660Z appoptics:patching patched http 
2022-04-20T15:32:56.696Z appoptics:patching patched zlib 
2022-04-20T15:32:56.825Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:32:56.825Z appoptics:patching patched fs 
2022-04-20T15:32:56.837Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:32:56.837Z appoptics:patching patched hapi 17.1.0
2022-04-20T15:32:56.843Z appoptics:patching patched vision 5.4.4
2022-04-20T15:32:56.847Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.1.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (184ms)

npm WARN deprecated hapi@17.1.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.1.1
updated 1 package and audited 937 packages in 5.103s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:03.180Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:03.181Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:03.181Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:03.182Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:03.232Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:03.390Z appoptics:patching patched crypto 
2022-04-20T15:33:03.409Z appoptics:patching patched https 
2022-04-20T15:33:03.410Z appoptics:patching patched http 
2022-04-20T15:33:03.446Z appoptics:patching patched zlib 
2022-04-20T15:33:03.603Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:03.604Z appoptics:patching patched fs 
2022-04-20T15:33:03.617Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:03.617Z appoptics:patching patched hapi 17.1.1
2022-04-20T15:33:03.623Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:03.627Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.1.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (60ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (297ms)

npm WARN deprecated hapi@17.2.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.0
updated 1 package and audited 937 packages in 4.744s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:09.792Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:09.792Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:09.792Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:09.793Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:09.849Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:10.007Z appoptics:patching patched crypto 
2022-04-20T15:33:10.026Z appoptics:patching patched https 
2022-04-20T15:33:10.027Z appoptics:patching patched http 
2022-04-20T15:33:10.063Z appoptics:patching patched zlib 
2022-04-20T15:33:10.190Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:10.190Z appoptics:patching patched fs 
2022-04-20T15:33:10.202Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:10.202Z appoptics:patching patched hapi 17.2.0
2022-04-20T15:33:10.209Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:10.212Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (181ms)

npm WARN deprecated hapi@17.2.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.1
updated 1 package and audited 937 packages in 5.483s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:16.891Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:16.892Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:16.892Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:16.893Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:16.947Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:17.097Z appoptics:patching patched crypto 
2022-04-20T15:33:17.116Z appoptics:patching patched https 
2022-04-20T15:33:17.117Z appoptics:patching patched http 
2022-04-20T15:33:17.151Z appoptics:patching patched zlib 
2022-04-20T15:33:17.275Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:17.275Z appoptics:patching patched fs 
2022-04-20T15:33:17.287Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:17.287Z appoptics:patching patched hapi 17.2.1
2022-04-20T15:33:17.293Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:17.297Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (175ms)

npm WARN deprecated hapi@17.2.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.2
updated 1 package and audited 937 packages in 4.205s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:22.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:22.743Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:22.743Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:22.744Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:22.797Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:22.999Z appoptics:patching patched crypto 
2022-04-20T15:33:23.035Z appoptics:patching patched https 
2022-04-20T15:33:23.036Z appoptics:patching patched http 
2022-04-20T15:33:23.074Z appoptics:patching patched zlib 
2022-04-20T15:33:23.215Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:23.216Z appoptics:patching patched fs 
2022-04-20T15:33:23.232Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:23.232Z appoptics:patching patched hapi 17.2.2
2022-04-20T15:33:23.238Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:23.242Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (224ms)

npm WARN deprecated hapi@17.2.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.2.3
updated 1 package and audited 937 packages in 5.069s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:29.661Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:29.662Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:29.662Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:29.663Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:29.711Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:29.861Z appoptics:patching patched crypto 
2022-04-20T15:33:29.914Z appoptics:patching patched https 
2022-04-20T15:33:29.915Z appoptics:patching patched http 
2022-04-20T15:33:29.957Z appoptics:patching patched zlib 
2022-04-20T15:33:30.078Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:30.078Z appoptics:patching patched fs 
2022-04-20T15:33:30.088Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:30.088Z appoptics:patching patched hapi 17.2.3
2022-04-20T15:33:30.099Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:30.103Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.2.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (180ms)

npm WARN deprecated hapi@17.3.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.3.0
updated 1 package and audited 937 packages in 4.867s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:36.295Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:36.296Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:36.296Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:36.297Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:36.364Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:36.658Z appoptics:patching patched crypto 
2022-04-20T15:33:36.696Z appoptics:patching patched https 
2022-04-20T15:33:36.697Z appoptics:patching patched http 
2022-04-20T15:33:36.768Z appoptics:patching patched zlib 
2022-04-20T15:33:37.054Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:37.054Z appoptics:patching patched fs 
2022-04-20T15:33:37.072Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:37.072Z appoptics:patching patched hapi 17.3.0
2022-04-20T15:33:37.092Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:37.096Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.3.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (111ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled (39ms)
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (356ms)

npm WARN deprecated hapi@17.3.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.3.1
updated 1 package and audited 937 packages in 4.311s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:43.218Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:43.219Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:43.219Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:43.220Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:43.297Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:43.456Z appoptics:patching patched crypto 
2022-04-20T15:33:43.477Z appoptics:patching patched https 
2022-04-20T15:33:43.477Z appoptics:patching patched http 
2022-04-20T15:33:43.513Z appoptics:patching patched zlib 
2022-04-20T15:33:43.637Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:43.637Z appoptics:patching patched fs 
2022-04-20T15:33:43.647Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:43.647Z appoptics:patching patched hapi 17.3.1
2022-04-20T15:33:43.654Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:43.658Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.3.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (185ms)

npm WARN deprecated hapi@17.4.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.4.0
updated 1 package and audited 937 packages in 4.782s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:50.016Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:50.017Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:50.017Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:50.017Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:50.128Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:50.365Z appoptics:patching patched crypto 
2022-04-20T15:33:50.399Z appoptics:patching patched https 
2022-04-20T15:33:50.399Z appoptics:patching patched http 
2022-04-20T15:33:50.456Z appoptics:patching patched zlib 
2022-04-20T15:33:50.616Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:50.616Z appoptics:patching patched fs 
2022-04-20T15:33:50.628Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:50.628Z appoptics:patching patched hapi 17.4.0
2022-04-20T15:33:50.636Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:50.640Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.4.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (59ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled (42ms)
    ✓ should allow a custom TransactionName (39ms)
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (310ms)

npm WARN deprecated hapi@17.5.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.0
updated 1 package and audited 937 packages in 4.752s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:33:56.754Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:33:56.755Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:33:56.755Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:33:56.755Z appoptics:debug using context provider: ace-context
2022-04-20T15:33:56.807Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:33:56.957Z appoptics:patching patched crypto 
2022-04-20T15:33:56.976Z appoptics:patching patched https 
2022-04-20T15:33:56.977Z appoptics:patching patched http 
2022-04-20T15:33:57.012Z appoptics:patching patched zlib 
2022-04-20T15:33:57.130Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:33:57.130Z appoptics:patching patched fs 
2022-04-20T15:33:57.140Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:33:57.140Z appoptics:patching patched hapi 17.5.0
2022-04-20T15:33:57.147Z appoptics:patching patched vision 5.4.4
2022-04-20T15:33:57.151Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (178ms)

npm WARN deprecated hapi@17.5.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.1
updated 1 package and audited 937 packages in 4.628s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:03.257Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:03.258Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:03.258Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:03.259Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:03.335Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:03.513Z appoptics:patching patched crypto 
2022-04-20T15:34:03.552Z appoptics:patching patched https 
2022-04-20T15:34:03.553Z appoptics:patching patched http 
2022-04-20T15:34:03.587Z appoptics:patching patched zlib 
2022-04-20T15:34:03.712Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:03.712Z appoptics:patching patched fs 
2022-04-20T15:34:03.722Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:03.722Z appoptics:patching patched hapi 17.5.1
2022-04-20T15:34:03.733Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:03.737Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (47ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (188ms)

npm WARN deprecated hapi@17.5.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.2
updated 1 package and audited 937 packages in 4.32s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:09.309Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:09.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:09.309Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:09.310Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:09.366Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:09.530Z appoptics:patching patched crypto 
2022-04-20T15:34:09.550Z appoptics:patching patched https 
2022-04-20T15:34:09.550Z appoptics:patching patched http 
2022-04-20T15:34:09.586Z appoptics:patching patched zlib 
2022-04-20T15:34:09.712Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:09.713Z appoptics:patching patched fs 
2022-04-20T15:34:09.723Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:09.723Z appoptics:patching patched hapi 17.5.2
2022-04-20T15:34:09.729Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:09.733Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (187ms)

npm WARN deprecated hapi@17.5.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.3
updated 1 package and audited 937 packages in 5.215s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:16.246Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:16.246Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:16.246Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:16.247Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:16.297Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:16.455Z appoptics:patching patched crypto 
2022-04-20T15:34:16.475Z appoptics:patching patched https 
2022-04-20T15:34:16.476Z appoptics:patching patched http 
2022-04-20T15:34:16.518Z appoptics:patching patched zlib 
2022-04-20T15:34:16.642Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:16.643Z appoptics:patching patched fs 
2022-04-20T15:34:16.653Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:16.653Z appoptics:patching patched hapi 17.5.3
2022-04-20T15:34:16.659Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:16.668Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (217ms)

npm WARN deprecated hapi@17.5.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.4
updated 1 package and audited 937 packages in 4.719s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:22.652Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:22.653Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:22.653Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:22.653Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:22.707Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:22.860Z appoptics:patching patched crypto 
2022-04-20T15:34:22.879Z appoptics:patching patched https 
2022-04-20T15:34:22.880Z appoptics:patching patched http 
2022-04-20T15:34:22.916Z appoptics:patching patched zlib 
2022-04-20T15:34:23.042Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:23.042Z appoptics:patching patched fs 
2022-04-20T15:34:23.052Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:23.052Z appoptics:patching patched hapi 17.5.4
2022-04-20T15:34:23.058Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:23.062Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (187ms)

npm WARN deprecated hapi@17.5.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.5.5
updated 1 package and audited 937 packages in 4.714s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:29.000Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:29.001Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:29.001Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:29.001Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:29.053Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:29.202Z appoptics:patching patched crypto 
2022-04-20T15:34:29.221Z appoptics:patching patched https 
2022-04-20T15:34:29.221Z appoptics:patching patched http 
2022-04-20T15:34:29.259Z appoptics:patching patched zlib 
2022-04-20T15:34:29.380Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:29.380Z appoptics:patching patched fs 
2022-04-20T15:34:29.390Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:29.390Z appoptics:patching patched hapi 17.5.5
2022-04-20T15:34:29.396Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:29.400Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.5.5 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (46ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (222ms)

npm WARN deprecated hapi@17.6.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated hoek@5.0.4: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated joi@13.7.0: This version has been deprecated in accordance with the hapi support policy (hapi.im/support). Please upgrade to the latest version to get the best features, bug fixes, and security patches. If you are unable to upgrade at this time, paid support is available for older versions (hapi.im/commercial).
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.0
updated 1 package and audited 937 packages in 4.543s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:35.192Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:35.193Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:35.193Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:35.194Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:35.247Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:35.440Z appoptics:patching patched crypto 
2022-04-20T15:34:35.506Z appoptics:patching patched https 
2022-04-20T15:34:35.506Z appoptics:patching patched http 
2022-04-20T15:34:35.575Z appoptics:patching patched zlib 
2022-04-20T15:34:35.713Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:35.713Z appoptics:patching patched fs 
2022-04-20T15:34:35.723Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:35.723Z appoptics:patching patched hapi 17.6.0
2022-04-20T15:34:35.734Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:35.738Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (191ms)

npm WARN deprecated hapi@17.6.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.1
removed 2 packages, updated 1 package and audited 935 packages in 5.439s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:42.415Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:42.415Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:42.415Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:42.416Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:42.467Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:42.630Z appoptics:patching patched crypto 
2022-04-20T15:34:42.650Z appoptics:patching patched https 
2022-04-20T15:34:42.651Z appoptics:patching patched http 
2022-04-20T15:34:42.688Z appoptics:patching patched zlib 
2022-04-20T15:34:42.785Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:42.785Z appoptics:patching patched fs 
2022-04-20T15:34:42.795Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:42.795Z appoptics:patching patched hapi 17.6.1
2022-04-20T15:34:42.803Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:42.807Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (191ms)

npm WARN deprecated hapi@17.6.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.2
updated 1 package and audited 935 packages in 4.847s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:48.907Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:48.908Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:48.908Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:48.909Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:48.959Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:49.117Z appoptics:patching patched crypto 
2022-04-20T15:34:49.137Z appoptics:patching patched https 
2022-04-20T15:34:49.137Z appoptics:patching patched http 
2022-04-20T15:34:49.173Z appoptics:patching patched zlib 
2022-04-20T15:34:49.266Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:49.266Z appoptics:patching patched fs 
2022-04-20T15:34:49.276Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:49.276Z appoptics:patching patched hapi 17.6.2
2022-04-20T15:34:49.280Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:49.284Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (192ms)

npm WARN deprecated hapi@17.6.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.3
updated 1 package and audited 935 packages in 5.444s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:34:56.030Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:34:56.031Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:34:56.031Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:34:56.031Z appoptics:debug using context provider: ace-context
2022-04-20T15:34:56.085Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:34:56.237Z appoptics:patching patched crypto 
2022-04-20T15:34:56.257Z appoptics:patching patched https 
2022-04-20T15:34:56.257Z appoptics:patching patched http 
2022-04-20T15:34:56.292Z appoptics:patching patched zlib 
2022-04-20T15:34:56.387Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:34:56.388Z appoptics:patching patched fs 
2022-04-20T15:34:56.398Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:34:56.398Z appoptics:patching patched hapi 17.6.3
2022-04-20T15:34:56.403Z appoptics:patching patched vision 5.4.4
2022-04-20T15:34:56.407Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (186ms)

npm WARN deprecated hapi@17.6.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.6.4
updated 1 package and audited 935 packages in 4.227s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:01.838Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:01.838Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:01.839Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:01.839Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:01.893Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:02.050Z appoptics:patching patched crypto 
2022-04-20T15:35:02.070Z appoptics:patching patched https 
2022-04-20T15:35:02.071Z appoptics:patching patched http 
2022-04-20T15:35:02.108Z appoptics:patching patched zlib 
2022-04-20T15:35:02.205Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:02.206Z appoptics:patching patched fs 
2022-04-20T15:35:02.216Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:02.216Z appoptics:patching patched hapi 17.6.4
2022-04-20T15:35:02.221Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:02.224Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.6.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (187ms)

npm WARN deprecated hapi@17.7.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.7.0
added 1 package, updated 1 package and audited 936 packages in 5.4s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:08.841Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:08.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:08.842Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:08.843Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:08.896Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:09.050Z appoptics:patching patched crypto 
2022-04-20T15:35:09.070Z appoptics:patching patched https 
2022-04-20T15:35:09.070Z appoptics:patching patched http 
2022-04-20T15:35:09.107Z appoptics:patching patched zlib 
2022-04-20T15:35:09.201Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:09.202Z appoptics:patching patched fs 
2022-04-20T15:35:09.211Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:09.212Z appoptics:patching patched hapi 17.7.0
2022-04-20T15:35:09.216Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:09.220Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.7.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (188ms)

npm WARN deprecated hapi@17.8.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.0
updated 1 package and audited 936 packages in 4.375s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:14.816Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:14.817Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:14.817Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:14.817Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:14.868Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:15.049Z appoptics:patching patched crypto 
2022-04-20T15:35:15.073Z appoptics:patching patched https 
2022-04-20T15:35:15.074Z appoptics:patching patched http 
2022-04-20T15:35:15.112Z appoptics:patching patched zlib 
2022-04-20T15:35:15.209Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:15.210Z appoptics:patching patched fs 
2022-04-20T15:35:15.220Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:15.220Z appoptics:patching patched hapi 17.8.0
2022-04-20T15:35:15.228Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:15.231Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (48ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (212ms)

npm WARN deprecated hapi@17.8.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.1
updated 1 package and audited 936 packages in 5.644s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:22.163Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:22.163Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:22.163Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:22.164Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:22.220Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:22.378Z appoptics:patching patched crypto 
2022-04-20T15:35:22.398Z appoptics:patching patched https 
2022-04-20T15:35:22.398Z appoptics:patching patched http 
2022-04-20T15:35:22.436Z appoptics:patching patched zlib 
2022-04-20T15:35:22.535Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:22.535Z appoptics:patching patched fs 
2022-04-20T15:35:22.545Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:22.545Z appoptics:patching patched hapi 17.8.1
2022-04-20T15:35:22.551Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:22.554Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (233ms)

npm WARN deprecated hapi@17.8.2: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.2
updated 1 package and audited 936 packages in 4.955s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:29.020Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:29.021Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:29.021Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:29.021Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:29.127Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:29.457Z appoptics:patching patched crypto 
2022-04-20T15:35:29.505Z appoptics:patching patched https 
2022-04-20T15:35:29.507Z appoptics:patching patched http 
2022-04-20T15:35:29.620Z appoptics:patching patched zlib 
2022-04-20T15:35:29.808Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:29.808Z appoptics:patching patched fs 
2022-04-20T15:35:29.821Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:29.821Z appoptics:patching patched hapi 17.8.2
2022-04-20T15:35:29.826Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:29.830Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.2 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (52ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (252ms)

npm WARN deprecated hapi@17.8.3: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.3
updated 1 package and audited 936 packages in 5.129s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:36.383Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:36.383Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:36.383Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:36.384Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:36.443Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:36.629Z appoptics:patching patched crypto 
2022-04-20T15:35:36.651Z appoptics:patching patched https 
2022-04-20T15:35:36.651Z appoptics:patching patched http 
2022-04-20T15:35:36.701Z appoptics:patching patched zlib 
2022-04-20T15:35:36.817Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:36.817Z appoptics:patching patched fs 
2022-04-20T15:35:36.827Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:36.827Z appoptics:patching patched hapi 17.8.3
2022-04-20T15:35:36.832Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:36.836Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.3 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (56ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (199ms)

npm WARN deprecated hapi@17.8.4: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.4
updated 1 package and audited 936 packages in 4.466s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:42.663Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:42.663Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:42.664Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:42.664Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:42.737Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:42.952Z appoptics:patching patched crypto 
2022-04-20T15:35:43.021Z appoptics:patching patched https 
2022-04-20T15:35:43.021Z appoptics:patching patched http 
2022-04-20T15:35:43.051Z appoptics:patching patched zlib 
2022-04-20T15:35:43.187Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:43.187Z appoptics:patching patched fs 
2022-04-20T15:35:43.198Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:43.198Z appoptics:patching patched hapi 17.8.4
2022-04-20T15:35:43.203Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:43.207Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.4 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (53ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (268ms)

npm WARN deprecated hapi@17.8.5: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@3.1.4: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@17.8.5
updated 1 package and audited 936 packages in 4.997s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:49.589Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:49.590Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:49.590Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:49.591Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:49.645Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:49.801Z appoptics:patching patched crypto 
2022-04-20T15:35:49.820Z appoptics:patching patched https 
2022-04-20T15:35:49.821Z appoptics:patching patched http 
2022-04-20T15:35:49.860Z appoptics:patching patched zlib 
2022-04-20T15:35:49.960Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:49.960Z appoptics:patching patched fs 
2022-04-20T15:35:49.970Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:49.970Z appoptics:patching patched hapi 17.8.5
2022-04-20T15:35:49.975Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:49.979Z appoptics:debug starting runtimeMetrics


  probes.hapi 17.8.5 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (51ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (195ms)

npm WARN deprecated hapi@18.0.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.0.0
removed 1 package, updated 2 packages and audited 935 packages in 5.778s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:35:57.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:35:57.041Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:35:57.041Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:35:57.042Z appoptics:debug using context provider: ace-context
2022-04-20T15:35:57.101Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:35:57.259Z appoptics:patching patched crypto 
2022-04-20T15:35:57.280Z appoptics:patching patched https 
2022-04-20T15:35:57.280Z appoptics:patching patched http 
2022-04-20T15:35:57.318Z appoptics:patching patched zlib 
2022-04-20T15:35:57.417Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:35:57.417Z appoptics:patching patched fs 
2022-04-20T15:35:57.427Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:35:57.427Z appoptics:patching patched hapi 18.0.0
2022-04-20T15:35:57.433Z appoptics:patching patched vision 5.4.4
2022-04-20T15:35:57.437Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.0.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (198ms)

npm WARN deprecated hapi@18.0.1: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.0.1
updated 1 package and audited 935 packages in 4.968s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:03.644Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:03.645Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:03.645Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:03.645Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:03.697Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:03.845Z appoptics:patching patched crypto 
2022-04-20T15:36:03.864Z appoptics:patching patched https 
2022-04-20T15:36:03.864Z appoptics:patching patched http 
2022-04-20T15:36:03.899Z appoptics:patching patched zlib 
2022-04-20T15:36:03.992Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:03.993Z appoptics:patching patched fs 
2022-04-20T15:36:04.002Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:04.002Z appoptics:patching patched hapi 18.0.1
2022-04-20T15:36:04.007Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:04.011Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.0.1 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (50ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (191ms)

npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.1.0
updated 1 package and audited 935 packages in 4.772s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
2022-04-20T15:36:09.978Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-20T15:36:09.979Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-20T15:36:09.979Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-20T15:36:09.980Z appoptics:debug using context provider: ace-context
2022-04-20T15:36:10.035Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-20T15:36:10.192Z appoptics:patching patched crypto 
2022-04-20T15:36:10.211Z appoptics:patching patched https 
2022-04-20T15:36:10.212Z appoptics:patching patched http 
2022-04-20T15:36:10.248Z appoptics:patching patched zlib 
2022-04-20T15:36:10.345Z appoptics:patching fs.realpath - adding native method
2022-04-20T15:36:10.345Z appoptics:patching patched fs 
2022-04-20T15:36:10.355Z appoptics:patching hapi - v17 not looking for hapi/lib/plugin
2022-04-20T15:36:10.355Z appoptics:patching patched hapi 18.1.0
2022-04-20T15:36:10.361Z appoptics:patching patched vision 5.4.4
2022-04-20T15:36:10.365Z appoptics:debug starting runtimeMetrics


  probes.hapi 18.1.0 vision 5.4.4
    ✓ UDP might lose a message
    ✓ should forward controller/action data from get request (49ms)
    ✓ should forward controller/action data from post request
    ✓ should forward controller/action data from put request
    ✓ should forward controller/action data from delete request
    ✓ should trace render span
    ✓ should skip vision when disabled
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function


  11 passing (194ms)

npm WARN deprecated hapi@18.1.0: This version contains severe security issues and defects and should not be used! Please upgrade to the latest version of @hapi/hapi or consider a commercial license (https://github.com/hapijs/hapi/issues/4114)
npm WARN read-shrinkwrap This version of npm is compatible with lockfileVersion@1, but package-lock.json was generated for lockfileVersion@2. I'll try to do my best with it!
npm WARN deprecated accept@3.1.3: This module has moved and is now available at @hapi/accept. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated ammo@3.0.3: This module has moved and is now available at @hapi/ammo. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bounce@1.2.3: This module has moved and is now available at @hapi/bounce. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated call@5.0.3: This module has moved and is now available at @hapi/call. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox@10.0.6: This module has moved and is now available at @hapi/catbox. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated catbox-memory@4.0.1: This module has moved and is now available at @hapi/catbox-memory. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated heavy@6.1.2: This module has moved and is now available at @hapi/heavy. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated mimos@4.0.2: This module has moved and is now available at @hapi/mimos. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated podium@3.2.0: This module has moved and is now available at @hapi/podium. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated shot@4.0.7: This module has moved and is now available at @hapi/shot. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated somever@2.0.0: This module has moved and is now available at @hapi/somever. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated statehood@6.0.9: This module has moved and is now available at @hapi/statehood. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated subtext@6.0.12: This module has moved and is now available at @hapi/subtext. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated teamwork@3.2.0: This module has moved and is now available at @hapi/teamwork. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated bourne@1.1.2: This module has moved and is now available at @hapi/bourne. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated cryptiles@4.1.3: This module has moved and is now available at @hapi/cryptiles. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated iron@5.0.6: This module has moved and is now available at @hapi/iron. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated b64@4.1.2: This module has moved and is now available at @hapi/b64. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated content@4.0.6: This module has moved and is now available at @hapi/content. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated pez@4.0.5: This module has moved and is now available at @hapi/pez. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated wreck@14.2.0: This module has moved and is now available at @hapi/wreck. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated nigel@3.0.4: This module has moved and is now available at @hapi/nigel. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN deprecated vise@3.0.2: This module has moved and is now available at @hapi/vise. Please update your dependencies as this version is no longer maintained an may contain bugs and security issues.
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ hapi@18.1.0
updated 1 package and audited 935 packages in 4.349s

86 packages are looking for funding
  run `npm fund` for details

found 7 vulnerabilities (2 moderate, 5 high)
  run `npm audit fix` to fix them, or `npm audit` for details
