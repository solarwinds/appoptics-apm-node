npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:38:43.699Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:38:43.700Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:38:43.700Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:38:43.700Z appoptics:debug using context provider: ace-context
2022-04-25T18:38:43.791Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:38:43.968Z appoptics:patching patched crypto 
2022-04-25T18:38:43.992Z appoptics:patching patched https 
2022-04-25T18:38:43.993Z appoptics:patching patched http 
2022-04-25T18:38:44.049Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:38:44.049Z appoptics:patching patched fs 
2022-04-25T18:38:44.073Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v16.14.2)
2022-04-25T18:38:44.081Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-25T18:38:44.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-43e6a78e8c8fb1c456d8063ec52921d373f5340b-e7290f15d289dfd5-01 outer:exit 2b-43e6a78e8c8fb1c456d8063ec52921d373f5340b-6b235ca7db4d87e9-01
2022-04-25T18:38:44.152Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:38:44.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb01651880a4fac0d4b5797b719c0f39f3f8dacc-70ae3deaff6075c2-01 outer:exit 2b-eb01651880a4fac0d4b5797b719c0f39f3f8dacc-99e6752f1c934f93-01
2022-04-25T18:38:44.233Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:38:44.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb59e130d39cf21fa21fe61fe4e386c55ddd62ca-20a8dcfdab12a03e-01 outer:exit 2b-fb59e130d39cf21fa21fe61fe4e386c55ddd62ca-c81e67b259e7aa97-01
2022-04-25T18:38:44.243Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:38:44.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-44975ba1792920b9348048bba3a93f88996807a8-d03ed632b5a9b055-01 outer:exit 2b-44975ba1792920b9348048bba3a93f88996807a8-8941009eca71e920-01
2022-04-25T18:38:44.250Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:38:44.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-2365f7d9c9f1ad7d0418390da241ea581e65654c-e033a5bee5eb641c-01 outer:exit 2b-2365f7d9c9f1ad7d0418390da241ea581e65654c-43a88248dbeb0daf-01
2022-04-25T18:38:44.259Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:38:44.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-80e51aa189f00c1a38d063193e2582757fc0dd7f-c867e63b898c2aa5-01 outer:exit 2b-80e51aa189f00c1a38d063193e2582757fc0dd7f-cd0aa911100d71dc-01
2022-04-25T18:38:44.265Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:38:44.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8510cf8519748dd450aaffcdfc47e65001affb6-49246439b50b0523-01 outer:exit 2b-c8510cf8519748dd450aaffcdfc47e65001affb6-38a50fccc44c7a11-01
2022-04-25T18:38:44.269Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:38:44.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0e828bb537e418aacee6aba28ddca49c30163fd-25d1fe52d042e82d-01 outer:exit 2b-f0e828bb537e418aacee6aba28ddca49c30163fd-548a5d3b03c9b0ab-01
2022-04-25T18:38:44.274Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:38:44.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-23d4ca8d3e35eac937810b3cf0875917222b9693-780616e0af96ea01-01 outer:exit 2b-23d4ca8d3e35eac937810b3cf0875917222b9693-fa4673687866f896-01
2022-04-25T18:38:44.277Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:38:44.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-b946af51b9198b2136eb621af259b17f33c303d1-79ee4f83532a301d-01 outer:exit 2b-b946af51b9198b2136eb621af259b17f33c303d1-23021b3471d50697-01
2022-04-25T18:38:44.281Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:38:44.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac9720fea558d78b85e3ba3be977e7bc4ee929ed-2091a3236161bcc6-01 outer:exit 2b-ac9720fea558d78b85e3ba3be977e7bc4ee929ed-41dfed4bb7dea403-01
2022-04-25T18:38:44.289Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:38:44.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb53319a8892cab99d130cf7272d4dde1b62f0ce-02659d959b9cea86-01 outer:exit 2b-eb53319a8892cab99d130cf7272d4dde1b62f0ce-84236318148b5702-01
2022-04-25T18:38:44.338Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:38:44.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e9f1e9022d0fab6a9d18381e7c2c1cb9376361f-7b16baec523ae7d9-01 outer:exit 2b-5e9f1e9022d0fab6a9d18381e7c2c1cb9376361f-64db6eb6b85db514-01
2022-04-25T18:38:44.373Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:38:44.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-852bc9dca10f1fe09fffa422e44d010202b74329-f2697ea37830c609-01 outer:exit 2b-852bc9dca10f1fe09fffa422e44d010202b74329-0e1d590d5ef46c07-01
2022-04-25T18:38:44.429Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:38:44.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae8da4a274582f40ac175d0fca0378f742cd85a7-add32668edf007e3-01 outer:exit 2b-ae8da4a274582f40ac175d0fca0378f742cd85a7-61f0b0b1729c3dc3-01
2022-04-25T18:38:44.437Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:38:44.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5956a6b1da9d9fe4b96ec519670b7d9559cf651-1ceeb9547fec0190-01 outer:exit 2b-b5956a6b1da9d9fe4b96ec519670b7d9559cf651-c2a57e9b07b8eabf-01
2022-04-25T18:38:44.440Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:38:44.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cd70ed70d1c4809f6f946e6e04d7d1f501c5367-01cbd39d104ca656-01 outer:exit 2b-7cd70ed70d1c4809f6f946e6e04d7d1f501c5367-673a724b72ea5f8a-01
2022-04-25T18:38:44.448Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:38:44.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff13231afa9571c90bed1e7841049450390055f7-df2a6c13029f462f-01 outer:exit 2b-ff13231afa9571c90bed1e7841049450390055f7-51d815a2ba6d5468-01
2022-04-25T18:38:44.452Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:38:44.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-62e08e25062592dab037320c6950ef6593e156a5-2be934b851839d67-01 outer:exit 2b-62e08e25062592dab037320c6950ef6593e156a5-baf3b46e7937b5ef-01
2022-04-25T18:38:44.458Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:38:44.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b03bd0d2230eee386dc82ba61cbd088fb6b797a-529eda97e5bc464d-01 outer:exit 2b-7b03bd0d2230eee386dc82ba61cbd088fb6b797a-b2684259d515c2e9-01
2022-04-25T18:38:44.462Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:38:44.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-36702cae2d4562077d8417143ea39bb28c05c5c7-dafd9cf1aade86af-01 outer:exit 2b-36702cae2d4562077d8417143ea39bb28c05c5c7-695f51faedc2613b-01
2022-04-25T18:38:44.464Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:38:44.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-449fb00bcba2a5e6269c8b19a8498ae6282499d8-0db3d1295653a642-01 outer:exit 2b-449fb00bcba2a5e6269c8b19a8498ae6282499d8-6ecf624d56ea1989-01
2022-04-25T18:38:44.467Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:38:44.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-933e6e5e00d40d246ea9e54b551c78fe145f1777-8d5642a2ff597395-01 outer:exit 2b-933e6e5e00d40d246ea9e54b551c78fe145f1777-1e768a94b70a78f0-01
2022-04-25T18:38:44.471Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:38:44.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-63e9a4c417cd96cd1d9edc220b545e2932ccf8c0-b2bf9af3c870919c-01 outer:exit 2b-63e9a4c417cd96cd1d9edc220b545e2932ccf8c0-27c13386fa8a0bde-01
2022-04-25T18:38:44.475Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:38:44.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4ac7360d406bd4dbdfd5da38800c28da06e5d93-03499fa831fcfbfd-01 outer:exit 2b-d4ac7360d406bd4dbdfd5da38800c28da06e5d93-8770788ac84af2d9-01
2022-04-25T18:38:44.477Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:38:44.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0f2eb11235695da1c69a4c20a994e3c91ea49bc-f99e208d51f49247-01 outer:exit 2b-e0f2eb11235695da1c69a4c20a994e3c91ea49bc-4150d6b42dfd84c7-01
2022-04-25T18:38:44.480Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:38:44.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f5a0f76d2cfc0c641782c15a19819893b6f15e2-dc7b2ab59bb88a3b-01 outer:exit 2b-3f5a0f76d2cfc0c641782c15a19819893b6f15e2-6d75d75e0e38ecc1-01
2022-04-25T18:38:44.561Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:38:44.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-dba16359c9c123ad9621919be7279f573f8217c5-6fef249978093acb-01 outer:exit 2b-dba16359c9c123ad9621919be7279f573f8217c5-c4a589701b31934f-01
2022-04-25T18:38:44.593Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:38:44.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ae124d2f9eb7ccb8f431e229eb8611a8d33247f-809e5f53f0a413ba-01 outer:exit 2b-9ae124d2f9eb7ccb8f431e229eb8611a8d33247f-a7b29e6de1833049-01
2022-04-25T18:38:44.606Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:38:44.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-db041420fbd70c1228e23fe1fc37e0659d08bc9d-5a9c5e36a0145ddc-01 outer:exit 2b-db041420fbd70c1228e23fe1fc37e0659d08bc9d-a9ec451ef41268b3-01
2022-04-25T18:38:44.645Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:38:44.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-1450dd62c4d64b25d603b7e1564fcf716fe1574f-01c6b9c63bf7697f-01 outer:exit 2b-1450dd62c4d64b25d603b7e1564fcf716fe1574f-d2fc531525bc8af3-01
2022-04-25T18:38:44.651Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:38:44.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4ea70a286d7787df3e61080964ee898be242894-9d0b626205f60af6-01 outer:exit 2b-f4ea70a286d7787df3e61080964ee898be242894-a6f1fd8b2f32cc89-01
2022-04-25T18:38:44.655Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:38:44.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddc22cc1e72a7bbf7dbf8c55f801596558e7cc5a-e88c634facc0af1d-01 outer:exit 2b-ddc22cc1e72a7bbf7dbf8c55f801596558e7cc5a-a2e43afaa7757fe5-01
2022-04-25T18:38:44.669Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:38:44.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9e3b3a30912c43330974c02a9bdfc3529a89c50-a6dfed27c13dd564-01 outer:exit 2b-a9e3b3a30912c43330974c02a9bdfc3529a89c50-dcad33517623098d-01
2022-04-25T18:38:44.681Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:38:44.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-19a0b9f64f9345f145349196d8ef98f7482bb9aa-8e3cf02717ec1bb2-01 outer:exit 2b-19a0b9f64f9345f145349196d8ef98f7482bb9aa-eb06307c8c2f7129-01
2022-04-25T18:38:44.684Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:38:44.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d628e42b71d6a19af8ef2c93760708fe8cba2ff-b4ec11523088346f-01 outer:exit 2b-1d628e42b71d6a19af8ef2c93760708fe8cba2ff-5f8c941b80898da5-01
2022-04-25T18:38:44.688Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:38:44.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-faf5b177664f600939f1b22605076ac37f4639d3-1ccd64387639b673-01 outer:exit 2b-faf5b177664f600939f1b22605076ac37f4639d3-13e3ebce6b0da0c7-01
2022-04-25T18:38:44.691Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:38:44.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ae0923324a1558f2716a71c8a3ca116777cff6b-9b73bc0064cad097-01 outer:exit 2b-7ae0923324a1558f2716a71c8a3ca116777cff6b-21412d89b85f1ab6-01
2022-04-25T18:38:44.693Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:38:44.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c4098829b7f68792561c3a1eb1e8412f0dc10fc-9deca114d06ff449-01 outer:exit 2b-3c4098829b7f68792561c3a1eb1e8412f0dc10fc-f0f853662b8db493-01
2022-04-25T18:38:44.707Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:38:44.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1ff218427241d0590227b06cc0352f8fe147334-ef914277b0025ffe-01 outer:exit 2b-b1ff218427241d0590227b06cc0352f8fe147334-28a59d86e2e01976-01
2022-04-25T18:38:44.719Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:38:44.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-2dddb81c4b82033f6cddce217347b36b83cb8283-47568b10da8d22f6-01 outer:exit 2b-2dddb81c4b82033f6cddce217347b36b83cb8283-6eb7f9b1c8ffea8e-01
2022-04-25T18:38:44.723Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:38:44.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d940c21fd5903dae956970f7bcd07f8971fa237-6668dac18e732c22-01 outer:exit 2b-0d940c21fd5903dae956970f7bcd07f8971fa237-11ca55cf94e539aa-01
2022-04-25T18:38:44.727Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:38:44.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-1615aa3d3266892a5e6e8ba931ba09bd1885e6a2-9a65d48ca865531d-01 outer:exit 2b-1615aa3d3266892a5e6e8ba931ba09bd1885e6a2-a10de67981a099b4-01
2022-04-25T18:38:44.802Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:38:44.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-716b566e7eb57b30cb6a8870372487bb0f069fa2-fff295e9bb65664e-01 outer:exit 2b-716b566e7eb57b30cb6a8870372487bb0f069fa2-b959d6409128ab00-01
2022-04-25T18:38:44.848Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (759ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:38:53.493Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:38:53.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:38:53.494Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:38:53.495Z appoptics:debug using context provider: ace-context
2022-04-25T18:38:53.602Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:38:53.857Z appoptics:patching patched crypto 
2022-04-25T18:38:53.912Z appoptics:patching patched https 
2022-04-25T18:38:53.924Z appoptics:patching patched http 
2022-04-25T18:38:53.975Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:38:53.975Z appoptics:patching patched fs 
2022-04-25T18:38:53.997Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v16.14.2)
2022-04-25T18:38:54.007Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-25T18:38:54.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-5add4489aa728ff972facf01004b1d1b6a54df1d-f7ff7aad43b23e28-01 outer:exit 2b-5add4489aa728ff972facf01004b1d1b6a54df1d-c9edda947d8c21bd-01
2022-04-25T18:38:54.066Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:38:54.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-0854b83dd213adb9d93045ff02ed442fdc2f2612-3adb176e8eb9c2b2-01 outer:exit 2b-0854b83dd213adb9d93045ff02ed442fdc2f2612-f4948293704a919e-01
2022-04-25T18:38:54.121Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:38:54.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-f07f8630fee871f92f545866664d1f988faa2d0d-c481678a7832027e-01 outer:exit 2b-f07f8630fee871f92f545866664d1f988faa2d0d-1937983a360c28a3-01
2022-04-25T18:38:54.126Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:38:54.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-d776150021e92d79c830141d53eb6b247c215fcd-fc9ac35c440a0cb7-01 outer:exit 2b-d776150021e92d79c830141d53eb6b247c215fcd-f10de55bad0f1218-01
2022-04-25T18:38:54.130Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:38:54.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddaf4ffe912b9288804cb4ff8c8c42a208baa40b-939cbbc17d82dfb8-01 outer:exit 2b-ddaf4ffe912b9288804cb4ff8c8c42a208baa40b-cbec4bb52635565a-01
2022-04-25T18:38:54.142Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:38:54.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-097f3c691b163e7b436cc84fb7342d0a6b80413b-03a27b669ab4b974-01 outer:exit 2b-097f3c691b163e7b436cc84fb7342d0a6b80413b-203db2c772e18bd8-01
2022-04-25T18:38:54.146Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:38:54.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b5cd13bdde0cf82129d5c411594ca5ec43c14c-94a1cb47233fb5af-01 outer:exit 2b-98b5cd13bdde0cf82129d5c411594ca5ec43c14c-9f03d46e6abc028e-01
2022-04-25T18:38:54.150Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:38:54.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-86633c9a34f43eaac214a9b18c647d512107a9ba-14091cd79c460ce5-01 outer:exit 2b-86633c9a34f43eaac214a9b18c647d512107a9ba-972d90f28e67d428-01
2022-04-25T18:38:54.154Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:38:54.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bb811e2f880a4b7b2acb0f18fd08e8cce66a70e-d1572cfdc9ed640c-01 outer:exit 2b-6bb811e2f880a4b7b2acb0f18fd08e8cce66a70e-ed18c1a930bea62a-01
2022-04-25T18:38:54.158Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:38:54.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-672a2b4ab4377712fab97ae3bf0eaddd361a5fed-ac01cf1e7e510d0f-01 outer:exit 2b-672a2b4ab4377712fab97ae3bf0eaddd361a5fed-40b5e9b7555afb1f-01
2022-04-25T18:38:54.163Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:38:54.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-3351b0087e9e2d170a97d167bf9f45fec668c56c-29bee72ef13b33d2-01 outer:exit 2b-3351b0087e9e2d170a97d167bf9f45fec668c56c-dd167fc95d74248d-01
2022-04-25T18:38:54.168Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:38:54.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8b634bcb4a2d5bfa579df0763187818390200a9-c1b422558ca21edc-01 outer:exit 2b-c8b634bcb4a2d5bfa579df0763187818390200a9-aa061742cca1fb2e-01
2022-04-25T18:38:54.177Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:38:54.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-5798f1453539155a4c4927a1d93cdaaf9ffd28b3-815266f1ff57c032-01 outer:exit 2b-5798f1453539155a4c4927a1d93cdaaf9ffd28b3-4abbfd0a0e17faae-01
2022-04-25T18:38:54.199Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:38:54.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-606b908e40ff6eb6619596da4b826b10c535cbf0-078e59ffd3f42832-01 outer:exit 2b-606b908e40ff6eb6619596da4b826b10c535cbf0-b72e0516597ad56a-01
2022-04-25T18:38:54.251Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:38:54.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a6c22ae539cbb3cfcae72db5adcf6977d5a41b1-a74cca0c589c0158-01 outer:exit 2b-2a6c22ae539cbb3cfcae72db5adcf6977d5a41b1-5760f1fba27fad5c-01
2022-04-25T18:38:54.254Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:38:54.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-8346db72d52e72970a6080ed96415b488d300cca-e81424f763cf897a-01 outer:exit 2b-8346db72d52e72970a6080ed96415b488d300cca-340cae7d1fda095a-01
2022-04-25T18:38:54.257Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:38:54.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc6fd8f9f04cea840ea6135ea79c912a99e701d3-10924f94d4b71279-01 outer:exit 2b-fc6fd8f9f04cea840ea6135ea79c912a99e701d3-ebe84e69ab203b5a-01
2022-04-25T18:38:54.261Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:38:54.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-9892071f8bef16cb807f4a933f5dc67c6e20d34f-db5ffc6b35066404-01 outer:exit 2b-9892071f8bef16cb807f4a933f5dc67c6e20d34f-6f607e6a622ad636-01
2022-04-25T18:38:54.265Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:38:54.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6bc817bf59b36d1fff56709e1eb4c27fe580fcb-2ffce93712e0561a-01 outer:exit 2b-e6bc817bf59b36d1fff56709e1eb4c27fe580fcb-d37469fe3ce2152b-01
2022-04-25T18:38:54.267Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:38:54.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ebe1b3fb20a50b1f113ae53d4d2e91295fcbc98-c4cc8d8aed1f126e-01 outer:exit 2b-4ebe1b3fb20a50b1f113ae53d4d2e91295fcbc98-781e20e21fd3c7b7-01
2022-04-25T18:38:54.270Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:38:54.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-54e9944b47f5cf7ed0c455a4cccb2dd239333087-589683d0a3a20ee3-01 outer:exit 2b-54e9944b47f5cf7ed0c455a4cccb2dd239333087-c6dd631473b38773-01
2022-04-25T18:38:54.273Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:38:54.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-efe8717fc680c2803a27cfc7c661640b5fca005a-6ccd67876a3e08a6-01 outer:exit 2b-efe8717fc680c2803a27cfc7c661640b5fca005a-323ac3c0ef2e7303-01
2022-04-25T18:38:54.276Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:38:54.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-83e5bd52990c3df4965394461bbf777fa2ec8154-e0be95dc2782bd4d-01 outer:exit 2b-83e5bd52990c3df4965394461bbf777fa2ec8154-74fa32cbef5b3063-01
2022-04-25T18:38:54.280Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:38:54.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b9b1999521e110f24f709b7ad0d1b3134cda27d-17ac6114fbfbda76-01 outer:exit 2b-5b9b1999521e110f24f709b7ad0d1b3134cda27d-59c474f80866dd56-01
2022-04-25T18:38:54.285Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:38:54.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ffe4f83c1668f58229fd9e6a228cadeb20b3fd2-a30ef7ba2b0675dc-01 outer:exit 2b-5ffe4f83c1668f58229fd9e6a228cadeb20b3fd2-3efc0f45063a41f7-01
2022-04-25T18:38:54.290Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:38:54.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-f21712a31d4f3e7de62083f24f4db95229453b8c-5263a990a87c7c20-01 outer:exit 2b-f21712a31d4f3e7de62083f24f4db95229453b8c-21544ffe8850ae50-01
2022-04-25T18:38:54.295Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:38:54.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-a36edb43e293fc9dafb8642004c4bcb37b7bb147-5158643783f1c6cb-01 outer:exit 2b-a36edb43e293fc9dafb8642004c4bcb37b7bb147-b0fd99a7ca02992d-01
2022-04-25T18:38:54.303Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:38:54.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-a718a07cc5c44aa78d4c87a0af8f14086cb4f682-55d9153ff025f802-01 outer:exit 2b-a718a07cc5c44aa78d4c87a0af8f14086cb4f682-c92110ec6c0f049a-01
2022-04-25T18:38:54.310Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:38:54.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-08b41537796800663cd9d802ba3f7de052c25176-012fe037141f4e5d-01 outer:exit 2b-08b41537796800663cd9d802ba3f7de052c25176-8182c1910a0354a1-01
2022-04-25T18:38:54.322Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:38:54.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0221a833c96f0422339cdf4da6d2427a66800e3-63c4d834bb36ff39-01 outer:exit 2b-e0221a833c96f0422339cdf4da6d2427a66800e3-e5437d8d0197f9ec-01
2022-04-25T18:38:54.334Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:38:54.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bf123bbd8480c16a2d97ddc4169672e8f806ed7-8b1c37ed98fa13cd-01 outer:exit 2b-4bf123bbd8480c16a2d97ddc4169672e8f806ed7-bf7b5eb95eb55bc8-01
2022-04-25T18:38:54.337Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:38:54.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-39fbf972342504d2465924331765ff8561d57093-2e33963aa75c9e4c-01 outer:exit 2b-39fbf972342504d2465924331765ff8561d57093-f76083e913667ed0-01
2022-04-25T18:38:54.340Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:38:54.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ca273f393cb21664989095d54e4f8254fc104aa-82db156db0ca7a12-01 outer:exit 2b-3ca273f393cb21664989095d54e4f8254fc104aa-799aed5e643c776c-01
2022-04-25T18:38:54.352Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:38:54.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-cade72f84d87aac9f0ae3969bbcaeb9aacee61b9-0fa6f30b01853a13-01 outer:exit 2b-cade72f84d87aac9f0ae3969bbcaeb9aacee61b9-8900fd22edd86cde-01
2022-04-25T18:38:54.354Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:38:54.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bea19b524737d7c030da63c2fa2b81aa0c198f7-c631504ba9bfd879-01 outer:exit 2b-0bea19b524737d7c030da63c2fa2b81aa0c198f7-e07d8ffaf5a1cd88-01
2022-04-25T18:38:54.357Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:38:54.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-e327b45346a7d45468ba2ef6889b6f77ffb64de0-b870ddbb8db0430d-01 outer:exit 2b-e327b45346a7d45468ba2ef6889b6f77ffb64de0-5dfde3852871658f-01
2022-04-25T18:38:54.359Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:38:54.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd87876d7899cc288672dc87be54b19ae5c1aa83-5236cec6d79c1379-01 outer:exit 2b-fd87876d7899cc288672dc87be54b19ae5c1aa83-93b376b41827f84b-01
2022-04-25T18:38:54.362Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:38:54.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-46751b4f849639a67912548a08d73a0e8f7b85f5-b6b19d724fe0efb0-01 outer:exit 2b-46751b4f849639a67912548a08d73a0e8f7b85f5-fd4d73857f8fd258-01
2022-04-25T18:38:54.365Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:38:54.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6cb459813dfaae3623e77471594d3df03b5e320-8de499c9c067ae25-01 outer:exit 2b-f6cb459813dfaae3623e77471594d3df03b5e320-6ec1d98817189411-01
2022-04-25T18:38:54.377Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:38:54.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e28b18f8a09e73c5ef71df675bf18560d59eb40-71c6e2bad462559a-01 outer:exit 2b-9e28b18f8a09e73c5ef71df675bf18560d59eb40-09db1e5e3105b3c0-01
2022-04-25T18:38:54.389Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:38:54.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc17ca056539970ef1de43bf12b07ca87304c98c-f3d8db78537faede-01 outer:exit 2b-fc17ca056539970ef1de43bf12b07ca87304c98c-a8af0a16c8eba8d2-01
2022-04-25T18:38:54.392Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:38:54.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-0947460f4241df5aaaa11f957170337ab4570d08-040caa57b6df1aed-01 outer:exit 2b-0947460f4241df5aaaa11f957170337ab4570d08-8962526ef106a5ab-01
2022-04-25T18:38:54.396Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:38:54.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c44f5916d01129ab510e889eebe5b35576b3d2f-beb69bb64bd2d747-01 outer:exit 2b-2c44f5916d01129ab510e889eebe5b35576b3d2f-9ee12178fcba97fc-01
2022-04-25T18:38:54.399Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:38:54.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-f906c7b7994c58473d122e5f9838310e3d9d1a8f-da1980ec8cb16f08-01 outer:exit 2b-f906c7b7994c58473d122e5f9838310e3d9d1a8f-ce2a0d5befaf7c59-01
2022-04-25T18:38:54.435Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (421ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:02.398Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:02.399Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:02.399Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:02.400Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:02.490Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:02.725Z appoptics:patching patched crypto 
2022-04-25T18:39:02.760Z appoptics:patching patched https 
2022-04-25T18:39:02.761Z appoptics:patching patched http 
2022-04-25T18:39:02.822Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:02.822Z appoptics:patching patched fs 
2022-04-25T18:39:02.846Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v16.14.2)
2022-04-25T18:39:02.854Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-25T18:39:02.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e43847000d2abf20cceef4363b5de8360d5509b-008e7dbc801c4514-01 outer:exit 2b-5e43847000d2abf20cceef4363b5de8360d5509b-cf42007e897acac7-01
2022-04-25T18:39:02.928Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:02.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c201e8a7e2da3a0b9792b10590e7d287a84a60-cdf59fe09fdb890c-01 outer:exit 2b-65c201e8a7e2da3a0b9792b10590e7d287a84a60-f23886d6d3f5f04b-01
2022-04-25T18:39:02.989Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:03.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-b80d8feceb329abb428f89668daf5419e67a8d7a-38acc3903d9a6159-01 outer:exit 2b-b80d8feceb329abb428f89668daf5419e67a8d7a-e4c598b969b07602-01
2022-04-25T18:39:03.003Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:03.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8b36f9359518fb63bbdee75f447b3815be89ffe-13d7d53d83f4c6fc-01 outer:exit 2b-e8b36f9359518fb63bbdee75f447b3815be89ffe-757de5c453a48dbc-01
2022-04-25T18:39:03.008Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:03.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf0aed1fc73174fcdfc0e941d9b0ddf86f106cca-4bc5ecfd96c66434-01 outer:exit 2b-bf0aed1fc73174fcdfc0e941d9b0ddf86f106cca-bedb3985b92fb35a-01
2022-04-25T18:39:03.040Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:03.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f08e05fa472563369a6b4b03df4201f92d941ea-1b654aa6bcd30e2d-01 outer:exit 2b-4f08e05fa472563369a6b4b03df4201f92d941ea-b58e22aee6ae66de-01
2022-04-25T18:39:03.046Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:03.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-1444bed9408a970cdd09d5aeffaa0626419ac376-388d6fbe4216252a-01 outer:exit 2b-1444bed9408a970cdd09d5aeffaa0626419ac376-ad27fad9d35abb85-01
2022-04-25T18:39:03.052Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:03.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-54cecdd924892ff5fda167f9d9539197cf8d887a-b722576f98282f0a-01 outer:exit 2b-54cecdd924892ff5fda167f9d9539197cf8d887a-c0fd790224693ad5-01
2022-04-25T18:39:03.057Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:03.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-08b5d760b258d420ddf2c1fc7e8d6cbe42ca9243-1d7353a5d4eecf75-01 outer:exit 2b-08b5d760b258d420ddf2c1fc7e8d6cbe42ca9243-269abff51db6c526-01
2022-04-25T18:39:03.066Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:03.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2bb31a3610c8ba0618c5fe1405d3ece6da61923-65574fd61965be1d-01 outer:exit 2b-e2bb31a3610c8ba0618c5fe1405d3ece6da61923-1810de2c0be27d6c-01
2022-04-25T18:39:03.071Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:03.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-82832af8a3c2bb0e42a76c3706ee4ec9d458c148-d87a48c7156a1464-01 outer:exit 2b-82832af8a3c2bb0e42a76c3706ee4ec9d458c148-b83eeba392535d32-01
2022-04-25T18:39:03.085Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:03.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a75d55888cbbb07fd797b0dae25892820031170-34b21ba1ab13ebfe-01 outer:exit 2b-1a75d55888cbbb07fd797b0dae25892820031170-23cedd81297daa5a-01
2022-04-25T18:39:03.095Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:03.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb82b3852e6406ed317c73866dd7028f731bb2a8-2b74f0023d58cb16-01 outer:exit 2b-fb82b3852e6406ed317c73866dd7028f731bb2a8-d6e7e80c16c0fe5d-01
2022-04-25T18:39:03.121Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:03.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-417ee044e148f76e87bddb21da6592389ec7313e-942b6ef493e8d69c-01 outer:exit 2b-417ee044e148f76e87bddb21da6592389ec7313e-3cf10e53b655b0b3-01
2022-04-25T18:39:03.176Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:03.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ae97e3ca5e1460e7b7287d84462b595f85c40fe-274b6af4b8f6b105-01 outer:exit 2b-0ae97e3ca5e1460e7b7287d84462b595f85c40fe-a9cf36d07525a5ac-01
2022-04-25T18:39:03.180Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:03.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-67090b2ec604e2e5b8649f3445a88ec8684b1a1f-687abaffd64791d3-01 outer:exit 2b-67090b2ec604e2e5b8649f3445a88ec8684b1a1f-f06094320ef42b43-01
2022-04-25T18:39:03.186Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:03.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-9433abb958ed3a8a04fde2e5a51491ac177d5c37-b8102989d7b3627c-01 outer:exit 2b-9433abb958ed3a8a04fde2e5a51491ac177d5c37-fa22b859ace67c9c-01
2022-04-25T18:39:03.192Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:03.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddd82f4dee55705b626dd3a9e49b72525d555314-54c79d3aceaf9a6b-01 outer:exit 2b-ddd82f4dee55705b626dd3a9e49b72525d555314-281d92fa34682a83-01
2022-04-25T18:39:03.195Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:03.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c5960c0cc4fbb7412bb1e6da0894c5bb4289e39-2334d53d67032799-01 outer:exit 2b-2c5960c0cc4fbb7412bb1e6da0894c5bb4289e39-325e28d61e0e0f48-01
2022-04-25T18:39:03.202Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:03.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-3968bdb9ee11e8414bd723a89378fcf66e8f73aa-993cea911fdf29be-01 outer:exit 2b-3968bdb9ee11e8414bd723a89378fcf66e8f73aa-b2406bcdeb02abed-01
2022-04-25T18:39:03.205Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:03.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-a80d1ded28aad91ad54677bdfec075f5b80df6bc-332d20b6f9973404-01 outer:exit 2b-a80d1ded28aad91ad54677bdfec075f5b80df6bc-1b1c54ff121fb142-01
2022-04-25T18:39:03.212Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:03.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-b084e824804c70676f05c19a9dc372609a3cf1bd-2a0878c982baed00-01 outer:exit 2b-b084e824804c70676f05c19a9dc372609a3cf1bd-d6b6ded613b2a764-01
2022-04-25T18:39:03.215Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:03.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-57c6bbebc75e72811bdf41b4b3d65e50c050cfbd-81551bd637292e06-01 outer:exit 2b-57c6bbebc75e72811bdf41b4b3d65e50c050cfbd-e80258b4aa789125-01
2022-04-25T18:39:03.219Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:03.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c170941367455fcd151ec4f4f9ffea342a63740-3a389f030bd69e3a-01 outer:exit 2b-3c170941367455fcd151ec4f4f9ffea342a63740-cd49a568b8f239e4-01
2022-04-25T18:39:03.227Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:03.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a5f35cc8f5dcc6ad839377cbe97a13101adcf3f-d6d6495864ec14c6-01 outer:exit 2b-8a5f35cc8f5dcc6ad839377cbe97a13101adcf3f-488caf0e7ae41cdf-01
2022-04-25T18:39:03.233Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:03.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e64075f954ceec60c19a30ce6bd4d672c7c1a5b-f7eec51383c2aa72-01 outer:exit 2b-9e64075f954ceec60c19a30ce6bd4d672c7c1a5b-b56ede7029cad537-01
2022-04-25T18:39:03.237Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:03.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-535a0eeeec0a018c11d2bccfe0528147616cae2a-5459ba09d980f414-01 outer:exit 2b-535a0eeeec0a018c11d2bccfe0528147616cae2a-d912c628b8625b39-01
2022-04-25T18:39:03.244Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:03.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-68ef248cb7dfce42f77eba337523a06ce43283f1-8df3203479caf07e-01 outer:exit 2b-68ef248cb7dfce42f77eba337523a06ce43283f1-805e0e8e9edd574d-01
2022-04-25T18:39:03.253Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:03.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd7e95418e9a7074610b653d18457e59fe5ca438-911a37e7732915af-01 outer:exit 2b-dd7e95418e9a7074610b653d18457e59fe5ca438-58b56f437221d4aa-01
2022-04-25T18:39:03.266Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:03.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-21f31c09d74dd93c7644ee06447f67d6e829e710-93a4b88aa930ad2e-01 outer:exit 2b-21f31c09d74dd93c7644ee06447f67d6e829e710-13ea8c79b59def06-01
2022-04-25T18:39:03.275Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:03.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-72b8b97e48f320bb20222386af28c65f2edefa75-510dcc741f3e17c0-01 outer:exit 2b-72b8b97e48f320bb20222386af28c65f2edefa75-30551669a616c951-01
2022-04-25T18:39:03.278Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:03.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-668e20f23a86fb02569bea56edb51e7abdc53481-29307ec50ade7a54-01 outer:exit 2b-668e20f23a86fb02569bea56edb51e7abdc53481-cd6917f9f4d31c99-01
2022-04-25T18:39:03.281Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:03.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-6293b8146e19e2288e6faaf3274adcf2c22a0268-27f9eef5530593fd-01 outer:exit 2b-6293b8146e19e2288e6faaf3274adcf2c22a0268-69aad4f132c6b9b8-01
2022-04-25T18:39:03.293Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:03.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee7afcebdfd70bc7e5049407004f57144309dcef-5fc4ad99c31ff82a-01 outer:exit 2b-ee7afcebdfd70bc7e5049407004f57144309dcef-75634ce9f89a9685-01
2022-04-25T18:39:03.296Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:03.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-43dc89ff979b834c218eff8ce27a4f5c5f1b39f7-b94176c3494fabec-01 outer:exit 2b-43dc89ff979b834c218eff8ce27a4f5c5f1b39f7-2fa9bb091b55cfcb-01
2022-04-25T18:39:03.300Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:03.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5f637418e028489afa766c58f8fe9f455dd74de-94dd7809f1d66105-01 outer:exit 2b-b5f637418e028489afa766c58f8fe9f455dd74de-6af442aa12869e97-01
2022-04-25T18:39:03.303Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:03.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a2af80c9968c0cf9de88ce350f68e8c05d05683-9cc38e3d385eaa51-01 outer:exit 2b-9a2af80c9968c0cf9de88ce350f68e8c05d05683-8f6f0de6e9bf0b7d-01
2022-04-25T18:39:03.306Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:03.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-000034e3f9113ec3eda079b5de3fa9efcc8b5882-88e2c8c094919234-01 outer:exit 2b-000034e3f9113ec3eda079b5de3fa9efcc8b5882-3667e5fdc658e354-01
2022-04-25T18:39:03.309Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:03.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c3848c65c590546a32c9f55f6ffd9f80974fc4e-6b73f684e5b00e84-01 outer:exit 2b-9c3848c65c590546a32c9f55f6ffd9f80974fc4e-02d00457cf7b1c0e-01
2022-04-25T18:39:03.322Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:03.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba29b01a06db36e81f2b3762baba0d2569bba5ef-84f0f6780a986ab1-01 outer:exit 2b-ba29b01a06db36e81f2b3762baba0d2569bba5ef-955e2e3ff3e902ac-01
2022-04-25T18:39:03.336Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:03.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-a577d77e64fdb857896f1ffe63135f8cf2ef6b83-0cfb49e8528b6c93-01 outer:exit 2b-a577d77e64fdb857896f1ffe63135f8cf2ef6b83-61e06e8b76c716ff-01
2022-04-25T18:39:03.340Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:03.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5947af97ba1bd9e05e33a76a24c998791ea7ab9-0dcd59a7ecad4987-01 outer:exit 2b-a5947af97ba1bd9e05e33a76a24c998791ea7ab9-cb47a8f6dedea122-01
2022-04-25T18:39:03.346Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:03.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-d37cd047532b06285cc3641fd7fa750be9345db3-02a9073eb5796752-01 outer:exit 2b-d37cd047532b06285cc3641fd7fa750be9345db3-487170f5bbd3d05c-01
2022-04-25T18:39:03.351Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:03.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-d01ffcf324c2ce1adb08ab3191148dfa99fa8198-acc512ae733fb3bf-01 outer:exit 2b-d01ffcf324c2ce1adb08ab3191148dfa99fa8198-21c8edc5509be242-01
2022-04-25T18:39:03.396Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (535ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:11.349Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:11.350Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:11.350Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:11.351Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:11.429Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:11.594Z appoptics:patching patched crypto 
2022-04-25T18:39:11.617Z appoptics:patching patched https 
2022-04-25T18:39:11.618Z appoptics:patching patched http 
2022-04-25T18:39:11.674Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:11.674Z appoptics:patching patched fs 
2022-04-25T18:39:11.693Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v16.14.2)
2022-04-25T18:39:11.701Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-25T18:39:11.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-85aaa7c23b22f8d15f3cdb83f0ec80b310d43028-16116d375f956964-01 outer:exit 2b-85aaa7c23b22f8d15f3cdb83f0ec80b310d43028-244da7d6c33162f2-01
2022-04-25T18:39:11.759Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:11.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-093712dae16398d63c2f5a27acdaed1c33209653-c675265b9f3e4d8a-01 outer:exit 2b-093712dae16398d63c2f5a27acdaed1c33209653-4fc4f183f0bbcd05-01
2022-04-25T18:39:11.814Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:11.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-f703a791457003c715dbfbb01eefe14ef9e3a6c0-933f6df84f0a2096-01 outer:exit 2b-f703a791457003c715dbfbb01eefe14ef9e3a6c0-7ed815dabb0580b4-01
2022-04-25T18:39:11.820Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:11.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-350e6eeaf8fb983bd9a58aa2d558a9f3e7af53da-e1de41be56539e4b-01 outer:exit 2b-350e6eeaf8fb983bd9a58aa2d558a9f3e7af53da-d30b331c0a544a99-01
2022-04-25T18:39:11.824Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:11.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-e619e95d3848bc4fe8e54c32e7287f4b14c0966a-740bead7213d92c8-01 outer:exit 2b-e619e95d3848bc4fe8e54c32e7287f4b14c0966a-0dcf2cfb4fe6de6b-01
2022-04-25T18:39:11.830Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:11.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6dc9fd94984699ef814c03057f6368fad89f22d-983f440b0bca9d52-01 outer:exit 2b-e6dc9fd94984699ef814c03057f6368fad89f22d-731cfb1d62c07aa1-01
2022-04-25T18:39:11.834Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:11.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdd08f827fabcb8714b221c1614387ee58bb80c8-45d478b0bf9e39a4-01 outer:exit 2b-cdd08f827fabcb8714b221c1614387ee58bb80c8-2e126bca207d564e-01
2022-04-25T18:39:11.839Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:11.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-352f664fe6de4c55c0a108049f60a9d5986585b9-c1949f758f85cbad-01 outer:exit 2b-352f664fe6de4c55c0a108049f60a9d5986585b9-b103e055c8cef2e0-01
2022-04-25T18:39:11.842Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:11.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-700bba03f5ef2138eb01a4b7d3a4958f2dffa0d5-9a6daf9458b081e9-01 outer:exit 2b-700bba03f5ef2138eb01a4b7d3a4958f2dffa0d5-0ab171a1888205c5-01
2022-04-25T18:39:11.846Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:11.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-482eda2faf1b131654258b8812738f2d9dd3c0f7-202adf3f30299cc1-01 outer:exit 2b-482eda2faf1b131654258b8812738f2d9dd3c0f7-bf32744ff6d17ce0-01
2022-04-25T18:39:11.850Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:11.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-12315ab803b44ee5ac2e0f1f7d0233ee0d172f99-e922ea62d4950024-01 outer:exit 2b-12315ab803b44ee5ac2e0f1f7d0233ee0d172f99-e55d9d632d28a9a0-01
2022-04-25T18:39:11.855Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:11.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-77e0b13a438ec5ba680d809d75c491d149f6f308-d76c8d38717931e1-01 outer:exit 2b-77e0b13a438ec5ba680d809d75c491d149f6f308-cdb362b237389c1e-01
2022-04-25T18:39:11.863Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:11.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8cf5edcf8eb7cd2662c7eca3ac957c0ccd2c74c-b60211e54ace0e87-01 outer:exit 2b-d8cf5edcf8eb7cd2662c7eca3ac957c0ccd2c74c-2669dc9894cb2cfc-01
2022-04-25T18:39:11.883Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:11.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e130e7f5da0d620b058e15ac2962935873f2383-8e3b3a95d3c24a5d-01 outer:exit 2b-4e130e7f5da0d620b058e15ac2962935873f2383-3df5ce975663a3bf-01
2022-04-25T18:39:11.930Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:11.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b135bb471f1eb129786a99de6a66e5522623bb0-fe30956acaac5b0b-01 outer:exit 2b-9b135bb471f1eb129786a99de6a66e5522623bb0-a6361a4aff7916c2-01
2022-04-25T18:39:11.934Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:11.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-f25a3605b77d354de8b90a144eb8b040ad6e477c-16e9200cef96d9dc-01 outer:exit 2b-f25a3605b77d354de8b90a144eb8b040ad6e477c-ae2e2e543a19f670-01
2022-04-25T18:39:11.936Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:11.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-e375fc072ba506b90388dd4cc9fe4da2d1c84fe7-2cc2dfb9b743d25d-01 outer:exit 2b-e375fc072ba506b90388dd4cc9fe4da2d1c84fe7-4402c78a727b6cac-01
2022-04-25T18:39:11.940Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:11.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b54e918f84bfa4d8c00c3ccca1aa0bc60b9cb23-b73af9c0f4170ab9-01 outer:exit 2b-1b54e918f84bfa4d8c00c3ccca1aa0bc60b9cb23-d020486f4a0935a7-01
2022-04-25T18:39:11.945Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:11.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a660debe940ad9588b6899dc16a446c95dbd180-19afb2ada1c058b1-01 outer:exit 2b-9a660debe940ad9588b6899dc16a446c95dbd180-7e867f08cb7f4e77-01
2022-04-25T18:39:11.947Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:11.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-77dce68f62110230d0895cbc1aa0eb7d71615d53-5fec500b2771cdac-01 outer:exit 2b-77dce68f62110230d0895cbc1aa0eb7d71615d53-e71f736fd3a52d56-01
2022-04-25T18:39:11.950Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:11.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-940ef093150b94b9222db7f44e9646cbccfa19fa-461b964592649059-01 outer:exit 2b-940ef093150b94b9222db7f44e9646cbccfa19fa-f925428a349dc616-01
2022-04-25T18:39:11.953Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:11.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-d32ac525d1941dd3f938fd2c0bd4632f5257f171-88f8dbedd5507ff5-01 outer:exit 2b-d32ac525d1941dd3f938fd2c0bd4632f5257f171-446a7c10d630524f-01
2022-04-25T18:39:11.955Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:11.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba44a288509c9e8af929f1f75e15d0bf336f7350-05c4074ce6ede1f0-01 outer:exit 2b-ba44a288509c9e8af929f1f75e15d0bf336f7350-e9c64f89215071f5-01
2022-04-25T18:39:11.959Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:11.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdc334e07d3ece425fadd906837d8e3fd8b53f31-faf597c7fa8e97a6-01 outer:exit 2b-fdc334e07d3ece425fadd906837d8e3fd8b53f31-80c00b1a2f20ee92-01
2022-04-25T18:39:11.962Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:11.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5dd1ae70ba59d5c8f3a8cc86c105d2b184d1ff7-b08a0972ec488a81-01 outer:exit 2b-b5dd1ae70ba59d5c8f3a8cc86c105d2b184d1ff7-039a35b46dff49a5-01
2022-04-25T18:39:11.965Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:11.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-a976485e7d43a303a790cb025d1671602a965788-52c12ee7cc0d673e-01 outer:exit 2b-a976485e7d43a303a790cb025d1671602a965788-83fefb50def79ebf-01
2022-04-25T18:39:11.968Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:11.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-58f95220b3c97ca7c49862c870aa33fcb716a66e-164e24655175e86e-01 outer:exit 2b-58f95220b3c97ca7c49862c870aa33fcb716a66e-c03a1a183b9fb34f-01
2022-04-25T18:39:11.975Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:11.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-316c20098cdb5da4802598e7eb5cfd2bd39eb474-11884a38068f810f-01 outer:exit 2b-316c20098cdb5da4802598e7eb5cfd2bd39eb474-58f9be48bc790ae4-01
2022-04-25T18:39:11.981Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:11.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0c22990eea850dadf00d37891b3f745f8ce513-6df7c005e03729c6-01 outer:exit 2b-0e0c22990eea850dadf00d37891b3f745f8ce513-62d563e0acf583dd-01
2022-04-25T18:39:11.991Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:12.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdc32f6fec034a2b179029f3bee62d0d5fe18199-da7604b2cafce3ca-01 outer:exit 2b-fdc32f6fec034a2b179029f3bee62d0d5fe18199-26cdbd41c3694200-01
2022-04-25T18:39:12.001Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:12.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d00bb8153dc71940235a24d0af5eaef3ec23e78-e2ccc31555802cc4-01 outer:exit 2b-5d00bb8153dc71940235a24d0af5eaef3ec23e78-0c029e392b8976b6-01
2022-04-25T18:39:12.003Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:12.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ff835d05060cfb34a8f09985e8e24df27b9a353-89f63720b456a397-01 outer:exit 2b-5ff835d05060cfb34a8f09985e8e24df27b9a353-87ea32d4b3f5ffa2-01
2022-04-25T18:39:12.007Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:12.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cd1b53bd8ab8a032585182688540e5cd5078ce6-7562d4714532c466-01 outer:exit 2b-6cd1b53bd8ab8a032585182688540e5cd5078ce6-9a387d48a7d595ce-01
2022-04-25T18:39:12.016Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:12.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac2eee159ea12d510696f205eea0289e62c9b6a7-be5de2b5de8fd675-01 outer:exit 2b-ac2eee159ea12d510696f205eea0289e62c9b6a7-246fd4f32e458f40-01
2022-04-25T18:39:12.019Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:12.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-cad1a1e7bae957c569a4fe771dd6b0dad71fe78c-f608a40213765605-01 outer:exit 2b-cad1a1e7bae957c569a4fe771dd6b0dad71fe78c-b62d4560aeb91029-01
2022-04-25T18:39:12.022Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:12.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-e990cb4d465fb94f86b4570610aa43b02ac84da8-85c3e8704112efcf-01 outer:exit 2b-e990cb4d465fb94f86b4570610aa43b02ac84da8-af7f9d8d40558fe3-01
2022-04-25T18:39:12.024Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:12.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-831737a64a06d33f4421b4f37db91166765c6d20-17bf43d816912021-01 outer:exit 2b-831737a64a06d33f4421b4f37db91166765c6d20-a431a6ae51b3bebc-01
2022-04-25T18:39:12.026Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:12.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e106e5d5f21ee961eecefa7ce08a5c22391ae99-caba2e4f489086a1-01 outer:exit 2b-6e106e5d5f21ee961eecefa7ce08a5c22391ae99-50838e4e1df8257f-01
2022-04-25T18:39:12.029Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:12.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8593b6c8f1c1d841cb05e2fd4d505f0ee8b228a-9fe6663a6f2bdc1f-01 outer:exit 2b-f8593b6c8f1c1d841cb05e2fd4d505f0ee8b228a-cfd3ae9ca5f9530b-01
2022-04-25T18:39:12.041Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:12.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf303cf41aa4c76a466eda3a915b53523847e0fb-ac7ec950c7d6a1dd-01 outer:exit 2b-bf303cf41aa4c76a466eda3a915b53523847e0fb-17c77bb6cbd92ec9-01
2022-04-25T18:39:12.052Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:12.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-84a08f95dc35b76eb3a28e15f0138fc553f1f8ad-797614074e1e9ea3-01 outer:exit 2b-84a08f95dc35b76eb3a28e15f0138fc553f1f8ad-027d56ffbd374f88-01
2022-04-25T18:39:12.055Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:12.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-57a7b335fd91423c9f11ec04b85067a9ce8741cd-56eecff4ca78d4ff-01 outer:exit 2b-57a7b335fd91423c9f11ec04b85067a9ce8741cd-822500ff351c9431-01
2022-04-25T18:39:12.059Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:12.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-c593e96784d3dd03dcff978b17f9357ca2efd573-8fe6ef6999cabf64-01 outer:exit 2b-c593e96784d3dd03dcff978b17f9357ca2efd573-7944f6bd793354d4-01
2022-04-25T18:39:12.062Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:12.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-2abeb9b747e99798246fae6f0901ef7528c28d3a-599d6c955632c6f3-01 outer:exit 2b-2abeb9b747e99798246fae6f0901ef7528c28d3a-38a56d41823aca3d-01
2022-04-25T18:39:12.096Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (388ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:20.876Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:20.877Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:20.877Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:20.878Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:20.959Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:21.124Z appoptics:patching patched crypto 
2022-04-25T18:39:21.147Z appoptics:patching patched https 
2022-04-25T18:39:21.148Z appoptics:patching patched http 
2022-04-25T18:39:21.202Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:21.203Z appoptics:patching patched fs 
2022-04-25T18:39:21.219Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v16.14.2)
2022-04-25T18:39:21.227Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-25T18:39:21.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-64a704ee39584c2d4e02574aff2f4652150f4ec0-0626c628e93a46ec-01 outer:exit 2b-64a704ee39584c2d4e02574aff2f4652150f4ec0-2958d9f3107486eb-01
2022-04-25T18:39:21.282Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:21.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7a405d043bb9832e5e72ba996b25de505bcc236-8bbd02560eff8c05-01 outer:exit 2b-c7a405d043bb9832e5e72ba996b25de505bcc236-226d98a4c9f26fab-01
2022-04-25T18:39:21.337Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:21.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-acc3026b09bedd2671d1b381ade4116e562e9ca3-445848c350e7d6c6-01 outer:exit 2b-acc3026b09bedd2671d1b381ade4116e562e9ca3-7ba6b4fcf6ac36e6-01
2022-04-25T18:39:21.341Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:21.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-e89d92f4be19da786d6e5aa83105f62a5b8a16d3-bc1b4d8aaa456d19-01 outer:exit 2b-e89d92f4be19da786d6e5aa83105f62a5b8a16d3-b014ede6e0f32746-01
2022-04-25T18:39:21.346Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:21.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-be2d5615f0bbdcb44c714de8ad8e4d2aa0b39ef0-eb7a822f252d0add-01 outer:exit 2b-be2d5615f0bbdcb44c714de8ad8e4d2aa0b39ef0-cdba10b398ee6a1a-01
2022-04-25T18:39:21.352Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:21.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-03a0e6387956a8f07688e9389573a2b45eba10ba-2fa625da08458c8d-01 outer:exit 2b-03a0e6387956a8f07688e9389573a2b45eba10ba-3c004c37ad693f91-01
2022-04-25T18:39:21.356Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:21.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5e7d361041d5192e2896ab01188844b42e66a12-b32f3e1318e9e1a7-01 outer:exit 2b-d5e7d361041d5192e2896ab01188844b42e66a12-1780a54e0db93ec7-01
2022-04-25T18:39:21.360Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:21.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bf00952a71731fb84d0a78b706d0720c923f9dd-f8c4c9ad05e4244e-01 outer:exit 2b-8bf00952a71731fb84d0a78b706d0720c923f9dd-fe990d1b1c7cf860-01
2022-04-25T18:39:21.363Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:21.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-4da95058d316c7293604ebda96b3a069e56a63d0-6603f810f1d3b478-01 outer:exit 2b-4da95058d316c7293604ebda96b3a069e56a63d0-ebdd885781f57ba6-01
2022-04-25T18:39:21.367Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:21.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-b22b69f703b6bbc7f90e0c2940577d9bff64b195-9aaf73d3a35c8a60-01 outer:exit 2b-b22b69f703b6bbc7f90e0c2940577d9bff64b195-785e5616afb13fbc-01
2022-04-25T18:39:21.371Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:21.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d08e3d55f2f8d2ecc982b9651f03675cbdf65b6-e03d3d0b10847614-01 outer:exit 2b-4d08e3d55f2f8d2ecc982b9651f03675cbdf65b6-07d9b788c6f8be87-01
2022-04-25T18:39:21.377Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:21.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-b920a9d650d4f0a583ab9482d759c12bfa726cb5-6d059a372954c9a7-01 outer:exit 2b-b920a9d650d4f0a583ab9482d759c12bfa726cb5-2258506b8274dc4f-01
2022-04-25T18:39:21.385Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:21.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e1f6928c07a88ae0f4f5f9658a32281f62c5032-7433b88a605c392f-01 outer:exit 2b-2e1f6928c07a88ae0f4f5f9658a32281f62c5032-19dab14ed425d945-01
2022-04-25T18:39:21.400Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:21.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-e87087d01cf8b2f6f42571adea1eb299450ebc20-6b4a156649d032a5-01 outer:exit 2b-e87087d01cf8b2f6f42571adea1eb299450ebc20-fa5a3dcb236f57c7-01
2022-04-25T18:39:21.450Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:21.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c97b894295b11da3ac92f8cc2715a9da93337d2-a44f89fac47415f2-01 outer:exit 2b-7c97b894295b11da3ac92f8cc2715a9da93337d2-9d784a58255c214e-01
2022-04-25T18:39:21.454Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:21.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8e25c22509e675e34d0a3e07afc4bc2fbf0ddf1-774fbc4560bf3b4b-01 outer:exit 2b-c8e25c22509e675e34d0a3e07afc4bc2fbf0ddf1-099c2d1f536d1492-01
2022-04-25T18:39:21.460Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:21.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-77083280e2da0ee12a8fb84f15ca2ec948f09dc0-4ea3a274aabda29e-01 outer:exit 2b-77083280e2da0ee12a8fb84f15ca2ec948f09dc0-39fe6c4bf8a7567c-01
2022-04-25T18:39:21.464Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:21.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-0db768a16fe42140fedf6c9cb4ff985da0356acf-1b87e651d06b56ff-01 outer:exit 2b-0db768a16fe42140fedf6c9cb4ff985da0356acf-ea40487abf36f0a0-01
2022-04-25T18:39:21.467Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:21.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-f230604f71f631d24d936235447ca6b2ce8fcc86-535bbac6f1214b07-01 outer:exit 2b-f230604f71f631d24d936235447ca6b2ce8fcc86-e9deca07712ed07b-01
2022-04-25T18:39:21.470Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:21.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dd12cc449a03ff7d9860b1b85a3dfdb71133182-a10dd21749de0902-01 outer:exit 2b-4dd12cc449a03ff7d9860b1b85a3dfdb71133182-1dc3eb3ea63f1967-01
2022-04-25T18:39:21.473Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:21.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad73b941466524a12466042fc9ed7eb430ed91f3-0fac54cc90f487be-01 outer:exit 2b-ad73b941466524a12466042fc9ed7eb430ed91f3-43db036f910a2ff8-01
2022-04-25T18:39:21.476Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:21.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea57637e8516b562eae559190e59fbe975105dae-ced74c33e88356dd-01 outer:exit 2b-ea57637e8516b562eae559190e59fbe975105dae-e6424ea1bea3ba67-01
2022-04-25T18:39:21.478Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:21.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8f3db9a7c84306c6174d4417486abe56626b394-4879f5d3fe1b66d0-01 outer:exit 2b-d8f3db9a7c84306c6174d4417486abe56626b394-074bbd66f75e3283-01
2022-04-25T18:39:21.482Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:21.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-26ff55709df065b87290b7d195c9052f57b06d58-f9729d8e0d1b3319-01 outer:exit 2b-26ff55709df065b87290b7d195c9052f57b06d58-51745f5d86ac7c4d-01
2022-04-25T18:39:21.486Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:21.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-351a49a186d0857110a7057c209d8f808a1fd029-523b6d4114a04351-01 outer:exit 2b-351a49a186d0857110a7057c209d8f808a1fd029-22118b7839877621-01
2022-04-25T18:39:21.488Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:21.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ccdf0af2fe649a2c3eec13f486cb2f35241d23-b29de1b1acc4e29c-01 outer:exit 2b-27ccdf0af2fe649a2c3eec13f486cb2f35241d23-ec6883beb0766ee6-01
2022-04-25T18:39:21.491Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:21.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ce759c8d331efb27253afa29d21ac8c17aa7361-1cbdda0a0d272263-01 outer:exit 2b-3ce759c8d331efb27253afa29d21ac8c17aa7361-35ceb68af337ac8b-01
2022-04-25T18:39:21.499Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:21.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-4674bbc4e1b5c9acce969b902c15d0aaf9ae175b-e28901ca818a2856-01 outer:exit 2b-4674bbc4e1b5c9acce969b902c15d0aaf9ae175b-45f9114a684a795c-01
2022-04-25T18:39:21.504Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:21.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c86b2fa2642a386292b5f9bac45a6e92968bed1-b6c57a68b8e972c6-01 outer:exit 2b-3c86b2fa2642a386292b5f9bac45a6e92968bed1-ea35d2b762305a8b-01
2022-04-25T18:39:21.513Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:21.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-58a1f124894320ad772995912e8b031440bd2373-b60b81e0b0924cc3-01 outer:exit 2b-58a1f124894320ad772995912e8b031440bd2373-98cc846e054d0560-01
2022-04-25T18:39:21.522Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:21.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-9257ec5e31a651b9b73a37ea90cde81849d0bf30-63858f5ab4cd5eb5-01 outer:exit 2b-9257ec5e31a651b9b73a37ea90cde81849d0bf30-dfb49c7c8034811b-01
2022-04-25T18:39:21.524Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:21.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-a805b00ab2ef157e367aa1c2ff7d05daa0b12688-7a0083cd899b5da8-01 outer:exit 2b-a805b00ab2ef157e367aa1c2ff7d05daa0b12688-9a8d93641d7a6507-01
2022-04-25T18:39:21.529Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:21.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-034501206a7ff4f8c6543ac8479fba943bed5458-1afe394524b4e34c-01 outer:exit 2b-034501206a7ff4f8c6543ac8479fba943bed5458-1beb23d44f42a01f-01
2022-04-25T18:39:21.537Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:21.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcb766895aae0b4389db32dbc13e1303ec89b892-0e3fcad640154ef4-01 outer:exit 2b-fcb766895aae0b4389db32dbc13e1303ec89b892-a4fa221d36d9a899-01
2022-04-25T18:39:21.541Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:21.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc63693c20592482d351e1c0f7dda12c774d56b2-7d48895664e9107d-01 outer:exit 2b-bc63693c20592482d351e1c0f7dda12c774d56b2-935843dba64e57b2-01
2022-04-25T18:39:21.544Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:21.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cb451ae066aeabb8b26d1a8e99bf3ed1de557ed-618256be3d30ee55-01 outer:exit 2b-8cb451ae066aeabb8b26d1a8e99bf3ed1de557ed-f0b74407c1f554d4-01
2022-04-25T18:39:21.547Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:21.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d71243629b965927f5e592dc1691c4030097c48-d74aab1dc7e531a6-01 outer:exit 2b-8d71243629b965927f5e592dc1691c4030097c48-05f5c49162956be9-01
2022-04-25T18:39:21.550Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:21.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-accd6b5d25d65f00b6b7133c3db26fdd514777dd-2ae239b80ba23656-01 outer:exit 2b-accd6b5d25d65f00b6b7133c3db26fdd514777dd-409b6941f7131146-01
2022-04-25T18:39:21.554Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:21.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-48da6ad518caee21f1f1d55de19f6e9ed6ed2849-5050d6c1883f2408-01 outer:exit 2b-48da6ad518caee21f1f1d55de19f6e9ed6ed2849-28628825f679d2a7-01
2022-04-25T18:39:21.566Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:21.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-badd70b82034684be20c838905f99dec6dcb3eaa-cde0d3d21e95ba1a-01 outer:exit 2b-badd70b82034684be20c838905f99dec6dcb3eaa-1b29c0ee0086b46c-01
2022-04-25T18:39:21.576Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:21.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-6346586830b4b2c2eeeffa2014d5284a196b4d40-a078923f98179fce-01 outer:exit 2b-6346586830b4b2c2eeeffa2014d5284a196b4d40-47d18a2baaa5ffae-01
2022-04-25T18:39:21.580Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:21.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeebc54cb3ffd4e5095303f3d6757ab8c2706ef4-440e6940e38c6e86-01 outer:exit 2b-aeebc54cb3ffd4e5095303f3d6757ab8c2706ef4-e7331f309fce2139-01
2022-04-25T18:39:21.583Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:21.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-939e0ca45e6d0e907393bfd79abe92ba32821adc-67af74f7b42ea4ff-01 outer:exit 2b-939e0ca45e6d0e907393bfd79abe92ba32821adc-4f097fdfb949add1-01
2022-04-25T18:39:21.587Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:21.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7119ed06b86a1c4e3900167ef397bc1efb8875d-58379e6f9369df1c-01 outer:exit 2b-a7119ed06b86a1c4e3900167ef397bc1efb8875d-b2d2907dc0beb95e-01
2022-04-25T18:39:21.620Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (386ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:30.216Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:30.217Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:30.218Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:30.218Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:30.295Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:30.470Z appoptics:patching patched crypto 
2022-04-25T18:39:30.492Z appoptics:patching patched https 
2022-04-25T18:39:30.492Z appoptics:patching patched http 
2022-04-25T18:39:30.548Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:30.549Z appoptics:patching patched fs 
2022-04-25T18:39:30.565Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v16.14.2)
2022-04-25T18:39:30.573Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-25T18:39:30.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-f20c48cf8b5dc1299a67c66f3c968b0f55d6aa62-d4e919fa14efcf64-01 outer:exit 2b-f20c48cf8b5dc1299a67c66f3c968b0f55d6aa62-f473ccb89d26b336-01
2022-04-25T18:39:30.625Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:30.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-5692f3266ad22dfd77f137a6755628198f0fb3c5-bc5e42e7774f5dfb-01 outer:exit 2b-5692f3266ad22dfd77f137a6755628198f0fb3c5-500fcd157ef9c3cf-01
2022-04-25T18:39:30.679Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:30.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff3824de1deb6bfe7f9d06b97e8ac0e6e875cf74-fd51ef30bb17a283-01 outer:exit 2b-ff3824de1deb6bfe7f9d06b97e8ac0e6e875cf74-d6edee1f28c0acdd-01
2022-04-25T18:39:30.683Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:30.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e66992f09c77d9afc31b69ed0473a9fa451744d-3cbf6adda9a3cf91-01 outer:exit 2b-3e66992f09c77d9afc31b69ed0473a9fa451744d-f4f112f39efafd08-01
2022-04-25T18:39:30.687Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:30.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-36a3257f81159d68e79666d021447ebfe8f39c28-3ce8f1fd782e458b-01 outer:exit 2b-36a3257f81159d68e79666d021447ebfe8f39c28-1fbe33ab99f2f285-01
2022-04-25T18:39:30.694Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:30.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6bf72e919ab4ac89f8b09efb4f413cc424ea917-9c5bef102af8af7e-01 outer:exit 2b-d6bf72e919ab4ac89f8b09efb4f413cc424ea917-0d341e4c16718097-01
2022-04-25T18:39:30.698Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:30.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9a08ca52364864639572bd1d44566d90689769c-4b838e09d6bb6f0c-01 outer:exit 2b-e9a08ca52364864639572bd1d44566d90689769c-26ae0bfddb52e0d7-01
2022-04-25T18:39:30.702Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:30.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f3c2b4f5722b86aa3779f04c6e923f1c79f287a-e3307f548896fd50-01 outer:exit 2b-7f3c2b4f5722b86aa3779f04c6e923f1c79f287a-5d14f67ada768213-01
2022-04-25T18:39:30.706Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:30.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-458be42731b4c89692d1709eb8dde21c82e97dc7-2e9e62797542aff0-01 outer:exit 2b-458be42731b4c89692d1709eb8dde21c82e97dc7-982010ec6c8f1154-01
2022-04-25T18:39:30.710Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:30.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f544524879fdbfa92b2015ef62b1bed511ac044-b36462be5a9c66bc-01 outer:exit 2b-0f544524879fdbfa92b2015ef62b1bed511ac044-79fd73b7e4cce5cc-01
2022-04-25T18:39:30.715Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:30.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f8578537f31d157b0c21204b8ef2abd3906bada-f524233bad14d7ef-01 outer:exit 2b-0f8578537f31d157b0c21204b8ef2abd3906bada-7f993edfea8cb4fb-01
2022-04-25T18:39:30.720Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:30.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f496c1b3e7433faa027cd72999598c770ebbd36-83187e2af82d3d11-01 outer:exit 2b-6f496c1b3e7433faa027cd72999598c770ebbd36-c1c7f1459c86bceb-01
2022-04-25T18:39:30.728Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:30.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-09abd7b0de0ee05c652fb94a91f18fe944361267-fb2df22a0a6f88b0-01 outer:exit 2b-09abd7b0de0ee05c652fb94a91f18fe944361267-ea83ff39af9054e5-01
2022-04-25T18:39:30.748Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:30.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-49a7e56e69c520c325e6f37dfce1b7178e37aa5e-799fb03d4e466cea-01 outer:exit 2b-49a7e56e69c520c325e6f37dfce1b7178e37aa5e-c7b44e08e60526ac-01
2022-04-25T18:39:30.796Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:30.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c33873c02d216bbdc4915c35058ff65eb9f3e41-856c19a9b34b4a61-01 outer:exit 2b-2c33873c02d216bbdc4915c35058ff65eb9f3e41-72cbb0c3d9c829e5-01
2022-04-25T18:39:30.799Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:30.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-c924e94a023ce5627ff699de13e03a994f5ffc13-9c87215bd3d96c26-01 outer:exit 2b-c924e94a023ce5627ff699de13e03a994f5ffc13-07a669ae01277002-01
2022-04-25T18:39:30.805Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:30.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-caf04030348a1b11c34cde822422a956f6196bda-ab3109753e9e3ff3-01 outer:exit 2b-caf04030348a1b11c34cde822422a956f6196bda-4fe9dada451fea8a-01
2022-04-25T18:39:30.809Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:30.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fcd1770e75cdc9f43a102762ea03e802b8a2c4d-1ea96e8159f6a37f-01 outer:exit 2b-5fcd1770e75cdc9f43a102762ea03e802b8a2c4d-f691fa14c18e7950-01
2022-04-25T18:39:30.812Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:30.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e12f0c1dd60074559d10572e586dcf2f612e27e-003b6b0729e41150-01 outer:exit 2b-9e12f0c1dd60074559d10572e586dcf2f612e27e-3ed205dfe1686015-01
2022-04-25T18:39:30.814Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:30.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2d04816332ed264c7328654637315b1e5bf2eff-7a51b88ac2030d4d-01 outer:exit 2b-c2d04816332ed264c7328654637315b1e5bf2eff-debf6a5f76d02bb5-01
2022-04-25T18:39:30.816Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:30.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-c882b8c6198d7a5181dcdb5f2b8dfa8a091efcc3-9b85f014bd9b61f9-01 outer:exit 2b-c882b8c6198d7a5181dcdb5f2b8dfa8a091efcc3-0304ce2d27c7bdf7-01
2022-04-25T18:39:30.819Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:30.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4f82b5ffb6fd2a25c73546bba50e2626b33864c-29a275b919d01ad2-01 outer:exit 2b-a4f82b5ffb6fd2a25c73546bba50e2626b33864c-97b6a6e9672df475-01
2022-04-25T18:39:30.821Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:30.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-999455a8f271b14c4c4009db0e4764eddc6408d7-c8981fa3161ac106-01 outer:exit 2b-999455a8f271b14c4c4009db0e4764eddc6408d7-dc30568600189341-01
2022-04-25T18:39:30.825Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:30.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-73098829f577c987ddf8532a244d215716b2e74c-6d0a636a4ee39d49-01 outer:exit 2b-73098829f577c987ddf8532a244d215716b2e74c-e1befe549d7856ce-01
2022-04-25T18:39:30.828Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:30.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-efef29a93b785b43b63a8153f0f996aa9699a467-3faf192d316ea960-01 outer:exit 2b-efef29a93b785b43b63a8153f0f996aa9699a467-d01e7bce6d61ec3a-01
2022-04-25T18:39:30.831Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:30.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ed9a35c8fc8c6b7dcf1c64a0fab55f981c5cb38-b8d6d633f77cd679-01 outer:exit 2b-8ed9a35c8fc8c6b7dcf1c64a0fab55f981c5cb38-b7f9b2765f6285ca-01
2022-04-25T18:39:30.835Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:30.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-241b2dd30c88bced722c333775aab97c741eb288-7b0671cbf5ba7fad-01 outer:exit 2b-241b2dd30c88bced722c333775aab97c741eb288-ed97107c89c17161-01
2022-04-25T18:39:30.842Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:30.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-0547244c527aef2c3b5ca1de29733696b55c916b-84fc3cdc57da8d47-01 outer:exit 2b-0547244c527aef2c3b5ca1de29733696b55c916b-236a3f5e2023bce8-01
2022-04-25T18:39:30.847Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:30.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca5f11dbb685b1a2f28446610a838032078ba7ca-b98851cb964eb40d-01 outer:exit 2b-ca5f11dbb685b1a2f28446610a838032078ba7ca-6e21c5c9993b6ffc-01
2022-04-25T18:39:30.858Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:30.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5fba2ea9969fb6e02436509a96b8dc3727b94b0-f5e08f734d188345-01 outer:exit 2b-e5fba2ea9969fb6e02436509a96b8dc3727b94b0-457d97c21119d4de-01
2022-04-25T18:39:30.869Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:30.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-85acd22b48ff702e2a848238ff0c3fd83c891d8e-5ab6cb5fc729037e-01 outer:exit 2b-85acd22b48ff702e2a848238ff0c3fd83c891d8e-c2b9466fb3008807-01
2022-04-25T18:39:30.872Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:30.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-03ceae1084fd70f63ce2b5516c7b04b729858e3f-272fa0b127f575f4-01 outer:exit 2b-03ceae1084fd70f63ce2b5516c7b04b729858e3f-03e70e490fa276bf-01
2022-04-25T18:39:30.875Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:30.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd329b3aedce933c690f3f46d9803d491612d109-aafd4e638d08d5d0-01 outer:exit 2b-bd329b3aedce933c690f3f46d9803d491612d109-f132a65728d8f9b5-01
2022-04-25T18:39:30.884Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:30.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9f01c714d894c06666f92f2a710a36c92b80de8-7dae01a8788ca8a5-01 outer:exit 2b-d9f01c714d894c06666f92f2a710a36c92b80de8-c1166cafa0ea65d3-01
2022-04-25T18:39:30.886Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:30.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-90df7b20b62c9602d267b1fa98654fbcb7028a57-f0189ddc46434dc2-01 outer:exit 2b-90df7b20b62c9602d267b1fa98654fbcb7028a57-be5af5bc08a9d15b-01
2022-04-25T18:39:30.889Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:30.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b52bd2846cee09932f93f18bf9ca46a7f060049-691c98f4aabc94d2-01 outer:exit 2b-0b52bd2846cee09932f93f18bf9ca46a7f060049-10eab0168296c0d2-01
2022-04-25T18:39:30.891Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:30.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-18aa375bcbe8b5b2f602573be33b6bd0a184a0a9-46191cfbb5fa1310-01 outer:exit 2b-18aa375bcbe8b5b2f602573be33b6bd0a184a0a9-1aab0e860067cc18-01
2022-04-25T18:39:30.893Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:30.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb71415f17c176c932fe35447fe446a5dd9517a0-efaa0399e8c92c59-01 outer:exit 2b-cb71415f17c176c932fe35447fe446a5dd9517a0-ee76a25d2304f867-01
2022-04-25T18:39:30.896Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:30.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-39cbbeac0e710c08780c496b8d8e71c87f37aaa8-5b1627f6e3c1df92-01 outer:exit 2b-39cbbeac0e710c08780c496b8d8e71c87f37aaa8-bb8d47165c1437f5-01
2022-04-25T18:39:30.908Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:30.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d7a1869e797a134d14d9680732a36f16da55b5b-fbfe99461d2eb3ad-01 outer:exit 2b-8d7a1869e797a134d14d9680732a36f16da55b5b-984db3e481d0d223-01
2022-04-25T18:39:30.920Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:30.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b82d29cfff56465a955b4ee6a418e2ff95e4d89-a5a6e0ef472852b4-01 outer:exit 2b-1b82d29cfff56465a955b4ee6a418e2ff95e4d89-0cdd141cdecfac2c-01
2022-04-25T18:39:30.924Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:30.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-e94577aa3798cc9f9556904e94466dd5d148dc6a-ee5a604049881320-01 outer:exit 2b-e94577aa3798cc9f9556904e94466dd5d148dc6a-ae8f22f4dd5d7592-01
2022-04-25T18:39:30.927Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:30.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-77821a2d85a7f1b73a03e332486f7b6e332d5923-169a41baac038474-01 outer:exit 2b-77821a2d85a7f1b73a03e332486f7b6e332d5923-306700ff44a6a9ab-01
2022-04-25T18:39:30.930Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:30.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-93a1d10aa716a132f90dc2eb11cf415566b29ce4-6e2ee41519c2225d-01 outer:exit 2b-93a1d10aa716a132f90dc2eb11cf415566b29ce4-9f1ceda55b32538e-01
2022-04-25T18:39:30.966Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (387ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:38.249Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:38.250Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:38.250Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:38.251Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:38.329Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:38.487Z appoptics:patching patched crypto 
2022-04-25T18:39:38.514Z appoptics:patching patched https 
2022-04-25T18:39:38.515Z appoptics:patching patched http 
2022-04-25T18:39:38.598Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:38.599Z appoptics:patching patched fs 
2022-04-25T18:39:38.622Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v16.14.2)
2022-04-25T18:39:38.630Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-25T18:39:38.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-e18644f5010486f993d5e58b9bbb41a35ebf718b-f7aa1db733e0ff25-01 outer:exit 2b-e18644f5010486f993d5e58b9bbb41a35ebf718b-1796875710761537-01
2022-04-25T18:39:38.714Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:38.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-2803195598a17168fa76162c81ec7f15cb84f969-665dc4979341fd7f-01 outer:exit 2b-2803195598a17168fa76162c81ec7f15cb84f969-1619035aaa9f535e-01
2022-04-25T18:39:38.804Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:38.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-515a0230860e864830b0ec51b7cb8e751824b896-75f49799b97d0e71-01 outer:exit 2b-515a0230860e864830b0ec51b7cb8e751824b896-323da09cc763c55d-01
2022-04-25T18:39:38.810Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:38.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1b21d59b6ba9ba55cde8275ab990dc3c96442e8-8982e433b750627c-01 outer:exit 2b-c1b21d59b6ba9ba55cde8275ab990dc3c96442e8-17c7ac833243d246-01
2022-04-25T18:39:38.816Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:38.830Z appoptics:debug span.exit - no last event outer outer:entry 2b-560876d1bb18a66730de340df93563013a426145-bb3ccb74f2c01e25-01 outer:exit 2b-560876d1bb18a66730de340df93563013a426145-81a4917e3328615f-01
2022-04-25T18:39:38.830Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:38.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cf1c4e4a40e85da216f99070823cded1f41850f-a95956eb52e60e38-01 outer:exit 2b-1cf1c4e4a40e85da216f99070823cded1f41850f-3ea5e5bf7dd19985-01
2022-04-25T18:39:38.840Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:38.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-75be0799dbcd1d1423ed5e2c271adc253f3d1262-48a7ebd9bfcdc406-01 outer:exit 2b-75be0799dbcd1d1423ed5e2c271adc253f3d1262-086fc0888e931d27-01
2022-04-25T18:39:38.845Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:38.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ec5d14df9eaf63cfa3a3f0de79cb523529c767b-12fe98029b489020-01 outer:exit 2b-4ec5d14df9eaf63cfa3a3f0de79cb523529c767b-76f9232503e3e4da-01
2022-04-25T18:39:38.848Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:38.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e53b0b80d8039fceed6559ba1546a510f3e3959-91bd5ba5689a146d-01 outer:exit 2b-9e53b0b80d8039fceed6559ba1546a510f3e3959-7a711dc24522c40d-01
2022-04-25T18:39:38.852Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:38.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb27fc8393606f068174884e41607d36d13f258b-d32c80741a45b39c-01 outer:exit 2b-bb27fc8393606f068174884e41607d36d13f258b-add73b26ce0c221e-01
2022-04-25T18:39:38.857Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:38.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8ab19e4c98df9a516371320cdc0c378956641f-9474ccc836fe5ffd-01 outer:exit 2b-dd8ab19e4c98df9a516371320cdc0c378956641f-b5258a4f8b35d2c1-01
2022-04-25T18:39:38.863Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:38.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d2b8dee9bdb05cc7696d89198c872ba8a37a0a7-0e1ca34bc5b4655b-01 outer:exit 2b-0d2b8dee9bdb05cc7696d89198c872ba8a37a0a7-b92e5592da759b5e-01
2022-04-25T18:39:38.873Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:38.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdf7d4543b1211d4be8541e2f5b98bae70f700f4-6442860f303d3f2f-01 outer:exit 2b-bdf7d4543b1211d4be8541e2f5b98bae70f700f4-786c9fdccb7fc288-01
2022-04-25T18:39:38.891Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:38.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-b497a1d3879a17fbe54290e7f294144c457f3dbf-1521104504539c9b-01 outer:exit 2b-b497a1d3879a17fbe54290e7f294144c457f3dbf-8265671220a8223e-01
2022-04-25T18:39:38.939Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:38.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a8073bf2fa0ec0800066e28c311733e3289f088-a215273b16728a3b-01 outer:exit 2b-0a8073bf2fa0ec0800066e28c311733e3289f088-b3ffaa5b64d167fe-01
2022-04-25T18:39:38.943Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:38.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-8efe0885a40544207f71e13aff1c5f871b02d4c0-fffc7410edc85c09-01 outer:exit 2b-8efe0885a40544207f71e13aff1c5f871b02d4c0-f7b85a82bab2868e-01
2022-04-25T18:39:38.948Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:38.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c10d6bd3163f94810370ceacbba10f3d9055d5f-e876c45e2328d544-01 outer:exit 2b-0c10d6bd3163f94810370ceacbba10f3d9055d5f-634ebb8c73dcdbee-01
2022-04-25T18:39:38.951Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:38.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad47a527a9742e83f9dc5765838c0c25b0f684fa-daff315f9d3e00a4-01 outer:exit 2b-ad47a527a9742e83f9dc5765838c0c25b0f684fa-13b7b63a7a132ee3-01
2022-04-25T18:39:38.954Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:38.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7129894c0db135ab32ab8930bc089cb8bf68832-e27e05fffb2d6273-01 outer:exit 2b-c7129894c0db135ab32ab8930bc089cb8bf68832-e3d26024d8a647a5-01
2022-04-25T18:39:38.956Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:38.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5dace7aed6d7a65e1c29b223d406e3698083c35-f89c6bad2621b864-01 outer:exit 2b-d5dace7aed6d7a65e1c29b223d406e3698083c35-fdc861041e8ef035-01
2022-04-25T18:39:38.959Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:38.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-723e8b752172f0f4674a661c7bad18c45ff60d81-09ae2d06ec8c408c-01 outer:exit 2b-723e8b752172f0f4674a661c7bad18c45ff60d81-a1f07e8344369421-01
2022-04-25T18:39:38.962Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:38.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b07072b346a9e469171573c9b0a97b95246c5a9-0eb3ce8e19f8fd24-01 outer:exit 2b-8b07072b346a9e469171573c9b0a97b95246c5a9-fd443bf29018ee6d-01
2022-04-25T18:39:38.965Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:38.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-849110eac9300cf91f3795e83ae5e16e43caff2a-41943f87cf35edd4-01 outer:exit 2b-849110eac9300cf91f3795e83ae5e16e43caff2a-5b6697e511436871-01
2022-04-25T18:39:38.969Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:38.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fc96aad645b1f31560e168c84a611455fb7fcdb-0a5392f6cbc8eee2-01 outer:exit 2b-7fc96aad645b1f31560e168c84a611455fb7fcdb-d114fcdd71eed7e3-01
2022-04-25T18:39:38.973Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:38.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5094af295afb226a5dbbf330e5d98d1278e6128-e02995ab25792d6d-01 outer:exit 2b-f5094af295afb226a5dbbf330e5d98d1278e6128-4eac7e7ea4d4e9c0-01
2022-04-25T18:39:38.976Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:38.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a46a806a326225c291fc46a719bcc6d46903f2e-af55074beb27aae1-01 outer:exit 2b-1a46a806a326225c291fc46a719bcc6d46903f2e-f14e0997a081a16e-01
2022-04-25T18:39:38.979Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:38.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-27bed7f7cf6c5c5735f340f1e18ba1fd7db3892f-7d517fa31414772b-01 outer:exit 2b-27bed7f7cf6c5c5735f340f1e18ba1fd7db3892f-af9c1d265a8a1be7-01
2022-04-25T18:39:38.989Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:38.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ac2c8ba24cb0ea21692ce8ea18b44bf95e3056a-534d9cf9c7acb9c2-01 outer:exit 2b-8ac2c8ba24cb0ea21692ce8ea18b44bf95e3056a-71f7f834e3a308dc-01
2022-04-25T18:39:38.995Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:39.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ec0c101fbf3aff917d675c2600e5dfa2156a3d1-feb6d7dbb8927d11-01 outer:exit 2b-8ec0c101fbf3aff917d675c2600e5dfa2156a3d1-cc77b6a2a30c78ee-01
2022-04-25T18:39:39.006Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:39.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-36ab440c9dca409db18d938e068a92c5595465eb-a4f7e44993a308d6-01 outer:exit 2b-36ab440c9dca409db18d938e068a92c5595465eb-532317e28fa3aadb-01
2022-04-25T18:39:39.018Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:39.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c437df297f092948daf4588b140b13186fc160f-41f0d8c5ba2523b8-01 outer:exit 2b-6c437df297f092948daf4588b140b13186fc160f-42e0578f5adb7897-01
2022-04-25T18:39:39.021Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:39.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-81688ca6f2e184a982baf1957f611e45394e7c64-471f54bb9e84ce5a-01 outer:exit 2b-81688ca6f2e184a982baf1957f611e45394e7c64-e4a508d992b9a9e2-01
2022-04-25T18:39:39.026Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:39.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-2065a8bebb3604b5cad23c366951738f1b11a44b-ca389e129bfcb38f-01 outer:exit 2b-2065a8bebb3604b5cad23c366951738f1b11a44b-9ff3dd8ce4458c27-01
2022-04-25T18:39:39.036Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:39.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfdc40248ca10066571628a0b75ed1c18092df03-e72f7dd3bc33d2d5-01 outer:exit 2b-bfdc40248ca10066571628a0b75ed1c18092df03-e0feb5fbcc2ca030-01
2022-04-25T18:39:39.039Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:39.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-aed7e27d941b86cdbd5ffa8800d55339f76b01be-ae4cb2cf72ea0885-01 outer:exit 2b-aed7e27d941b86cdbd5ffa8800d55339f76b01be-6e4a0ca796ec4350-01
2022-04-25T18:39:39.044Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:39.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3177a42ce32586413016509f5ebd58d0f4c55f1-e3e0b919219fdad9-01 outer:exit 2b-f3177a42ce32586413016509f5ebd58d0f4c55f1-828d26f2d0ee83da-01
2022-04-25T18:39:39.049Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:39.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b0711fffa441049329f0c11363b53e3c26bbc1f-78f39f484ebd0adc-01 outer:exit 2b-8b0711fffa441049329f0c11363b53e3c26bbc1f-a95688a4c9220a7c-01
2022-04-25T18:39:39.052Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:39.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-04722b167172d1fd64807744322a366ed94f2b8e-871979ae390a97aa-01 outer:exit 2b-04722b167172d1fd64807744322a366ed94f2b8e-7e4ca0083b6dbabc-01
2022-04-25T18:39:39.056Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:39.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-981d4525d7ca3013c9802e5325b65e3a82dc1235-8a2aa7f61d55fa97-01 outer:exit 2b-981d4525d7ca3013c9802e5325b65e3a82dc1235-6f07592041e353aa-01
2022-04-25T18:39:39.068Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:39.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-c08545bd33ea2f70c51bb85b9760b632d32e69f9-5082122763803cb1-01 outer:exit 2b-c08545bd33ea2f70c51bb85b9760b632d32e69f9-6719714c60f4bfdd-01
2022-04-25T18:39:39.079Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:39.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-905ace4f3583e04d9346c0ecc82fb7b51b1476ce-25075bbf9964a607-01 outer:exit 2b-905ace4f3583e04d9346c0ecc82fb7b51b1476ce-6f7ad323430f775c-01
2022-04-25T18:39:39.083Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:39.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-21327539b4f1d0a2a85d0c1bdb98aaf72361da95-78f8f0614e8faaf2-01 outer:exit 2b-21327539b4f1d0a2a85d0c1bdb98aaf72361da95-4c8d6a01d24b7787-01
2022-04-25T18:39:39.086Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:39.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-7399ac05485a23350ea20f933d0090d3d0aee89e-58710ad351bacaac-01 outer:exit 2b-7399ac05485a23350ea20f933d0090d3d0aee89e-7009ebea695971bb-01
2022-04-25T18:39:39.089Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:39.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-281b1629b2c0a8bf90b618c88adeb122de9ec4e3-8b26810949a7561f-01 outer:exit 2b-281b1629b2c0a8bf90b618c88adeb122de9ec4e3-13f8b0b9840b4004-01
2022-04-25T18:39:39.128Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (488ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:47.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:47.241Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:47.241Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:47.242Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:47.322Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:47.503Z appoptics:patching patched crypto 
2022-04-25T18:39:47.525Z appoptics:patching patched https 
2022-04-25T18:39:47.526Z appoptics:patching patched http 
2022-04-25T18:39:47.586Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:47.586Z appoptics:patching patched fs 
2022-04-25T18:39:47.604Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v16.14.2)
2022-04-25T18:39:47.612Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-25T18:39:47.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-26bb757e56feb7af97f92e9fb5236b15dfb6f3d6-24ea714232cc9376-01 outer:exit 2b-26bb757e56feb7af97f92e9fb5236b15dfb6f3d6-b66d494b705383f5-01
2022-04-25T18:39:47.692Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:47.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a230103fd53cc900cd89ca40c474e2be2bf1cdf-5820fbfbd4855a81-01 outer:exit 2b-8a230103fd53cc900cd89ca40c474e2be2bf1cdf-fdaa51a084a384e5-01
2022-04-25T18:39:47.751Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:47.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-8da3c3774cbb6cce61d45351d27e67d888419578-cbb1b1478f746aaf-01 outer:exit 2b-8da3c3774cbb6cce61d45351d27e67d888419578-254edb3ae72210f5-01
2022-04-25T18:39:47.761Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:47.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-2750a8584dd888c4997ed722f02c94ac46890bef-586ddce4812d4759-01 outer:exit 2b-2750a8584dd888c4997ed722f02c94ac46890bef-e4e3ea8345bc4ad7-01
2022-04-25T18:39:47.772Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:47.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-d93b8c069433ac8ad815fc67dd2742969d11583b-d098dd44127695d6-01 outer:exit 2b-d93b8c069433ac8ad815fc67dd2742969d11583b-b8087174e26dc65c-01
2022-04-25T18:39:47.784Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:47.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-1400fcfabf9f8ec681ba1a55e07721a4e23855a2-88ae7bf1ce0f29bb-01 outer:exit 2b-1400fcfabf9f8ec681ba1a55e07721a4e23855a2-1b57aaeda3b481c7-01
2022-04-25T18:39:47.791Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:47.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-caa6d832208eb7d61fa5bd889692ffa0c9a8b99e-9c226aee44ba3878-01 outer:exit 2b-caa6d832208eb7d61fa5bd889692ffa0c9a8b99e-e5136732f7b6ff92-01
2022-04-25T18:39:47.795Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:47.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-57483b5698e18806f47bee7b8d81902a408d59c0-9e402852b3bd7573-01 outer:exit 2b-57483b5698e18806f47bee7b8d81902a408d59c0-35d71419322f1259-01
2022-04-25T18:39:47.801Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:47.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-17123306913ed39e2e61cfdfd3d6a2321986ca1f-7a070069cdea6bce-01 outer:exit 2b-17123306913ed39e2e61cfdfd3d6a2321986ca1f-58e34d90d271d078-01
2022-04-25T18:39:47.813Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:47.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaa60e59b4b10fa599e8ecb06f4cc7b2294c5d74-132b090b8a8b5a93-01 outer:exit 2b-eaa60e59b4b10fa599e8ecb06f4cc7b2294c5d74-972f7123f4440fbd-01
2022-04-25T18:39:47.819Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:47.824Z appoptics:debug span.exit - no last event outer outer:entry 2b-719ab773d3908efb6d8102f3a80b93dc8e931520-840d0c6c0cac6cbd-01 outer:exit 2b-719ab773d3908efb6d8102f3a80b93dc8e931520-7b62b881400ddba7-01
2022-04-25T18:39:47.824Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:47.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb19cad6abc1edc352254a3be4331428773a996f-19a4a255916fd08d-01 outer:exit 2b-cb19cad6abc1edc352254a3be4331428773a996f-1db37429389f8c4c-01
2022-04-25T18:39:47.832Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:47.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e5c9f4e6aa7078f535ce959649686defdee4a2e-fef0efb818f3015d-01 outer:exit 2b-9e5c9f4e6aa7078f535ce959649686defdee4a2e-77d45bf26bcb5b71-01
2022-04-25T18:39:47.852Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:47.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ed128929612b71750144b0a2eb1caf239de50dc-22db9cb2b96ff77f-01 outer:exit 2b-6ed128929612b71750144b0a2eb1caf239de50dc-3ce9be3f1574c7b6-01
2022-04-25T18:39:47.903Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:47.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-303fd16fd5e9cd7ac60c464829ba7ed4aed1db86-dbd0c0cb1e85287a-01 outer:exit 2b-303fd16fd5e9cd7ac60c464829ba7ed4aed1db86-06f363b7404a9c0a-01
2022-04-25T18:39:47.910Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:47.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-3128462d0251ffc720e4512ab0f1b2c3ad6eded8-d75333e830222fa9-01 outer:exit 2b-3128462d0251ffc720e4512ab0f1b2c3ad6eded8-c615bf3abfe0a9a3-01
2022-04-25T18:39:47.917Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:47.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-0447d3b58c15ba5448918c0e5ee8db6880d75159-51f952ad0960b95b-01 outer:exit 2b-0447d3b58c15ba5448918c0e5ee8db6880d75159-3a4b240159607ee6-01
2022-04-25T18:39:47.920Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:47.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-65bbb194e4e40001101938cfe88f4b39ca426e7f-0047ab34ee00eda2-01 outer:exit 2b-65bbb194e4e40001101938cfe88f4b39ca426e7f-a2c85e852361e224-01
2022-04-25T18:39:47.923Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:47.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-359cbb85a03a5b783447fa2888cbf29fd3c49cdc-16bc09ee9242d16d-01 outer:exit 2b-359cbb85a03a5b783447fa2888cbf29fd3c49cdc-69d12e0791bd6e32-01
2022-04-25T18:39:47.926Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:47.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e93b4c2a8bc83d4950fc30e60e20358feb6f4ff-e212a1959187f85c-01 outer:exit 2b-0e93b4c2a8bc83d4950fc30e60e20358feb6f4ff-809f28de9f82cd48-01
2022-04-25T18:39:47.928Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:47.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-8db0ebb47ff351b175ddce44407acff9bd46ce4e-71db26021c81b58a-01 outer:exit 2b-8db0ebb47ff351b175ddce44407acff9bd46ce4e-c78ca8ea63bd6359-01
2022-04-25T18:39:47.931Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:47.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-c273a097deb104f5bd271932bdcc33d6919fe66b-99692fa5bd3e86d2-01 outer:exit 2b-c273a097deb104f5bd271932bdcc33d6919fe66b-a4c6989842678257-01
2022-04-25T18:39:47.934Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:47.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-c15c598f36fd168cf5ecbc93fb9dbbf9c211ad3d-594dd1f09a1c276c-01 outer:exit 2b-c15c598f36fd168cf5ecbc93fb9dbbf9c211ad3d-16b57e6be9ba8ae3-01
2022-04-25T18:39:47.937Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:47.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-123da01b686bbf69207e568eabe6871b78e22d55-67dbe261d43d9aac-01 outer:exit 2b-123da01b686bbf69207e568eabe6871b78e22d55-def2c383b0631be2-01
2022-04-25T18:39:47.941Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:47.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5b0a81a7ddd7d5cab0e304d2c380cf9676ff184-12a5597f0a56b8b3-01 outer:exit 2b-c5b0a81a7ddd7d5cab0e304d2c380cf9676ff184-45cf36c1f9034403-01
2022-04-25T18:39:47.944Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:47.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-2be273f34310f9158f6802fb04a21b9343047bf3-c934d94e1f7e92b8-01 outer:exit 2b-2be273f34310f9158f6802fb04a21b9343047bf3-e44ee06e4600319a-01
2022-04-25T18:39:47.946Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:47.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac0aaae6c67f2bbe86cd91583eb613ef8796e0ae-f4d278bdea334fac-01 outer:exit 2b-ac0aaae6c67f2bbe86cd91583eb613ef8796e0ae-eed3beed379f48eb-01
2022-04-25T18:39:47.953Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:47.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b577a74aa5423b1d324d46f94b4450b75f0fbe0-3c735d70b395f488-01 outer:exit 2b-9b577a74aa5423b1d324d46f94b4450b75f0fbe0-e8d159db46001c0f-01
2022-04-25T18:39:47.958Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:47.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-6beb2507c4c3956b656da45d835ae68d249756f8-ff55c5b2411cce10-01 outer:exit 2b-6beb2507c4c3956b656da45d835ae68d249756f8-83b3b114fc4ff9c6-01
2022-04-25T18:39:47.968Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:47.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-18252e7b4313dd441a6e67c64475040f1ef935b3-c1a7c28b9b771853-01 outer:exit 2b-18252e7b4313dd441a6e67c64475040f1ef935b3-a5fa14b4756b0d92-01
2022-04-25T18:39:47.976Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:47.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fb96fe5b942644a6e616b0be9caf089e7121f72-af7f67e29c89390b-01 outer:exit 2b-6fb96fe5b942644a6e616b0be9caf089e7121f72-d2b6011a24874a14-01
2022-04-25T18:39:47.979Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:47.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0483cd11c823d5dd7d4a8ceeab18832a0557c6f-29fe7d7c22ff542d-01 outer:exit 2b-d0483cd11c823d5dd7d4a8ceeab18832a0557c6f-9cac434a4c26d4a1-01
2022-04-25T18:39:47.981Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:47.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-897d888328fe36600724b2fb87b80f1f68fa73a2-7db251b1933d626a-01 outer:exit 2b-897d888328fe36600724b2fb87b80f1f68fa73a2-c56b0385a3e93a0b-01
2022-04-25T18:39:47.990Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:47.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-a34f2aac168c8ffe2b8585b782248b4a7d0698ab-2de851d29c35fcad-01 outer:exit 2b-a34f2aac168c8ffe2b8585b782248b4a7d0698ab-f7612f12a5f6fb48-01
2022-04-25T18:39:47.993Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:47.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-e88dd84d3b2bf603a25619a3dbb15b65378991fd-73d7df5730093c09-01 outer:exit 2b-e88dd84d3b2bf603a25619a3dbb15b65378991fd-9bc7535b3c842043-01
2022-04-25T18:39:47.995Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:47.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6586349530dbe8bcec0d507c44f705c6105ed05-a746879665f33bf6-01 outer:exit 2b-e6586349530dbe8bcec0d507c44f705c6105ed05-71c5875b316d788d-01
2022-04-25T18:39:47.998Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:48.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-f891e5bb2ec9518acaeb986089a0cc01709c0724-4ca4bdb9eedf7f55-01 outer:exit 2b-f891e5bb2ec9518acaeb986089a0cc01709c0724-a162eca0e3f2ed6b-01
2022-04-25T18:39:48.000Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:48.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5be8db379363c1305f2b9d50b2491175bb43f46-d59d3610f5a7e850-01 outer:exit 2b-b5be8db379363c1305f2b9d50b2491175bb43f46-fcc02f5cdd8cd5f8-01
2022-04-25T18:39:48.002Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:48.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ab9cf33e7a02f21674a43a6de0edca7ff2fec28-659441bc8d480c59-01 outer:exit 2b-3ab9cf33e7a02f21674a43a6de0edca7ff2fec28-907cf3e423831ab9-01
2022-04-25T18:39:48.014Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:48.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-512064ff3fe213dbd526a967b452c7aff1ab4fa5-7e714974fe99c8ed-01 outer:exit 2b-512064ff3fe213dbd526a967b452c7aff1ab4fa5-bc3c291c5a649f6f-01
2022-04-25T18:39:48.026Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:48.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bf7b5ad6814265ca2c4f5caf4ff73d8148910b1-a873b5384c0ab099-01 outer:exit 2b-5bf7b5ad6814265ca2c4f5caf4ff73d8148910b1-1b4c0f39d69c7ed6-01
2022-04-25T18:39:48.029Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:48.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-857d70f4cc06b50cba6064f4258ba78f194a6655-669a8e36afc8ad42-01 outer:exit 2b-857d70f4cc06b50cba6064f4258ba78f194a6655-94fbf2b9a27bbe4d-01
2022-04-25T18:39:48.032Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:48.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7d1b2e68a87fa2cd946f556485c918b10193b6a-0a7961a75cdb1713-01 outer:exit 2b-b7d1b2e68a87fa2cd946f556485c918b10193b6a-c3d03af35b6bda1c-01
2022-04-25T18:39:48.035Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:48.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-54c7752b53135214950ab622108e18a827bdfc4f-434c871fadd71021-01 outer:exit 2b-54c7752b53135214950ab622108e18a827bdfc4f-fbee3fe59c326027-01
2022-04-25T18:39:48.068Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (449ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:39:56.445Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:39:56.446Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:39:56.447Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:39:56.447Z appoptics:debug using context provider: ace-context
2022-04-25T18:39:56.521Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:39:56.693Z appoptics:patching patched crypto 
2022-04-25T18:39:56.718Z appoptics:patching patched https 
2022-04-25T18:39:56.719Z appoptics:patching patched http 
2022-04-25T18:39:56.792Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:39:56.793Z appoptics:patching patched fs 
2022-04-25T18:39:56.810Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v16.14.2)
2022-04-25T18:39:56.818Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-25T18:39:56.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5cffd0adee9bd5a65f56d5bf5d192850bc09005-691ce1859f5c5568-01 outer:exit 2b-f5cffd0adee9bd5a65f56d5bf5d192850bc09005-3b53bba7b3457cd7-01
2022-04-25T18:39:56.876Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:39:56.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-15328fafb1630be95942d876e7d99083be80badd-16bf83415940f9b4-01 outer:exit 2b-15328fafb1630be95942d876e7d99083be80badd-b3c3a061304e3b6f-01
2022-04-25T18:39:56.932Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:39:56.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dbb004eaffad9cd447714ad8127e987fa084998-0237a1498e22a53e-01 outer:exit 2b-5dbb004eaffad9cd447714ad8127e987fa084998-da61d17da779784e-01
2022-04-25T18:39:56.937Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:39:56.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-beb8ae9b7562b4ac4a2ca2bc36ee92cc4a7f743d-75c91c59d971324f-01 outer:exit 2b-beb8ae9b7562b4ac4a2ca2bc36ee92cc4a7f743d-0c313745aa2c5645-01
2022-04-25T18:39:56.942Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:39:56.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-a62c242223ad473e2563e71f47bf7ad91fe57cc6-f94606c6d46ce64d-01 outer:exit 2b-a62c242223ad473e2563e71f47bf7ad91fe57cc6-89fe5da23da4ec5b-01
2022-04-25T18:39:56.947Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:39:56.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-813adf242d56df942e1ae4ff9052ef63cc9ae1fb-56ea333d40e59f5c-01 outer:exit 2b-813adf242d56df942e1ae4ff9052ef63cc9ae1fb-89b1776d07be91ba-01
2022-04-25T18:39:56.952Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:39:56.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-001de3d893c09bc8db3fb50bd25ad5ffbc5af628-13821279f518752b-01 outer:exit 2b-001de3d893c09bc8db3fb50bd25ad5ffbc5af628-391e29a18cc640b1-01
2022-04-25T18:39:56.955Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:39:56.959Z appoptics:debug span.exit - no last event outer outer:entry 2b-1945db2449037fd73a0c9e1153f226ae0912e917-b5f3e8b9e98e2f1f-01 outer:exit 2b-1945db2449037fd73a0c9e1153f226ae0912e917-98c94fb6d2d77f40-01
2022-04-25T18:39:56.959Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:39:56.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-d980966bb08fa9c1d4948db55a7288432ef91f5a-6072d953fadf1ff6-01 outer:exit 2b-d980966bb08fa9c1d4948db55a7288432ef91f5a-37206b744ed4bbfa-01
2022-04-25T18:39:56.964Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:39:56.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfbbbeca4f62e3d5710da9362d7fd9e83504eb11-22706ad39ae7b374-01 outer:exit 2b-bfbbbeca4f62e3d5710da9362d7fd9e83504eb11-73da666cca448db9-01
2022-04-25T18:39:56.970Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:39:56.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-436932a09986f95682305245ef9d81f46e724ae7-d8d696a1965c2da9-01 outer:exit 2b-436932a09986f95682305245ef9d81f46e724ae7-56d272e2f0e7bcbe-01
2022-04-25T18:39:56.975Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:39:56.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-23fe3bdc1315bfab8f6cb8fd443d22c21115dc84-fac6fbe670ac7f47-01 outer:exit 2b-23fe3bdc1315bfab8f6cb8fd443d22c21115dc84-18d167cb1d0ab006-01
2022-04-25T18:39:56.985Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:39:57.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5e9dc22b1c4131f7d4ac9015cbb15cb24b350ef-3d435b900b6c92e7-01 outer:exit 2b-a5e9dc22b1c4131f7d4ac9015cbb15cb24b350ef-38c54e8f166a4976-01
2022-04-25T18:39:57.008Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:39:57.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-4813fef85297ae9d20677fbb48c95755d145225e-fcb1fe9454baaade-01 outer:exit 2b-4813fef85297ae9d20677fbb48c95755d145225e-f20fc8b45cce37bd-01
2022-04-25T18:39:57.061Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:39:57.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-724053244480ee8c9a44619c424521ba4090036a-e44e18d20d165da9-01 outer:exit 2b-724053244480ee8c9a44619c424521ba4090036a-4ad8f5f27e032ec4-01
2022-04-25T18:39:57.066Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:39:57.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee7a5ce982851a2352658041cc9e45e35f4bb582-997c5d2828ae0210-01 outer:exit 2b-ee7a5ce982851a2352658041cc9e45e35f4bb582-25e282eb48ff36f6-01
2022-04-25T18:39:57.069Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:39:57.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f156d9573aaa53d6ea0e3cc3baa9f37512df162-47b07d28510f645c-01 outer:exit 2b-6f156d9573aaa53d6ea0e3cc3baa9f37512df162-9665a67414bade1b-01
2022-04-25T18:39:57.073Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:39:57.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-d557a86bf8dbc536afe8d559979e0ef8156412d3-beffbd38711476d2-01 outer:exit 2b-d557a86bf8dbc536afe8d559979e0ef8156412d3-779e151566df0754-01
2022-04-25T18:39:57.076Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:39:57.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-28f6b268f8e0b110fa5633198470c5eaa74b3a82-3241251b2887a0af-01 outer:exit 2b-28f6b268f8e0b110fa5633198470c5eaa74b3a82-b96199abeb0966be-01
2022-04-25T18:39:57.078Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:39:57.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f7fbb06becd077ac5ea3c4f5c1728371abb6419-0c973291d87feab2-01 outer:exit 2b-0f7fbb06becd077ac5ea3c4f5c1728371abb6419-aadc93be3af9bb2c-01
2022-04-25T18:39:57.081Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:39:57.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-80ab0eba2d94f8f87a8ace855f4172c177d62749-742f0141ff85f6be-01 outer:exit 2b-80ab0eba2d94f8f87a8ace855f4172c177d62749-3b6daa50130289f9-01
2022-04-25T18:39:57.084Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:39:57.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b81787a0c81b21d0ced9efd82a5100c2cc4de43-3fc52dae52f45de4-01 outer:exit 2b-6b81787a0c81b21d0ced9efd82a5100c2cc4de43-1bda7633585e7a59-01
2022-04-25T18:39:57.086Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:39:57.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-5770f02659c7d58ebc8475125001b16fc929f792-5d987b92af6a38f2-01 outer:exit 2b-5770f02659c7d58ebc8475125001b16fc929f792-9d71026b9a8e0a68-01
2022-04-25T18:39:57.090Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:39:57.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-899c1eebde1334144e58107646247a165e4a78bf-1eb937e984ec9379-01 outer:exit 2b-899c1eebde1334144e58107646247a165e4a78bf-b9d34e3b1f259d7a-01
2022-04-25T18:39:57.094Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:39:57.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7962627d998967d33c9a8b210609f1255c81233-0a0be953da1ffe0e-01 outer:exit 2b-d7962627d998967d33c9a8b210609f1255c81233-155ad048111c5115-01
2022-04-25T18:39:57.096Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:39:57.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc59e2123b7d30de6f03d1331f47b6894be31a97-f0ba368e36352969-01 outer:exit 2b-bc59e2123b7d30de6f03d1331f47b6894be31a97-19bf62ad78b2945d-01
2022-04-25T18:39:57.099Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:39:57.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d365ae283a1aede3863031a99306c00e9ee347b-4926cc3d4100f5b3-01 outer:exit 2b-7d365ae283a1aede3863031a99306c00e9ee347b-fa36e92280facc15-01
2022-04-25T18:39:57.106Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:39:57.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-f13c78bcde2e6321abcfd92977b8ea1eb526c92c-3c30d6b239c70ca1-01 outer:exit 2b-f13c78bcde2e6321abcfd92977b8ea1eb526c92c-0c544411dedda2d7-01
2022-04-25T18:39:57.111Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:39:57.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-0be975cf3ea43a935c19061f39b504de450b15f8-05d270ddd269cbe2-01 outer:exit 2b-0be975cf3ea43a935c19061f39b504de450b15f8-fa6589a8b33c431c-01
2022-04-25T18:39:57.124Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:39:57.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-17422127329bb492ffd79c8d751544c78669366b-e8d262a2033cf92c-01 outer:exit 2b-17422127329bb492ffd79c8d751544c78669366b-44ec56ff4797ea87-01
2022-04-25T18:39:57.132Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:39:57.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-9474de376ee33ee37b8526f13fc98b6c6d856499-21555e9a57786a97-01 outer:exit 2b-9474de376ee33ee37b8526f13fc98b6c6d856499-b07a7eb3cf250409-01
2022-04-25T18:39:57.134Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:39:57.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-d11734383fe0e4523e762717607006a0ede8740a-dda4694fd891561a-01 outer:exit 2b-d11734383fe0e4523e762717607006a0ede8740a-cbd0cf4afb4de860-01
2022-04-25T18:39:57.138Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:39:57.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4976682121d76075031eaebd63dc371bbb9c0fb-a2c28a4bd4803299-01 outer:exit 2b-b4976682121d76075031eaebd63dc371bbb9c0fb-22172bb9f4eb068d-01
2022-04-25T18:39:57.146Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:39:57.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-3faca6d70612ee1935e177f97234e587792e655f-1122e1088d0fbe70-01 outer:exit 2b-3faca6d70612ee1935e177f97234e587792e655f-199d4883dfaf92b8-01
2022-04-25T18:39:57.149Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:39:57.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e1d31428ecc52eae1ccb10d8347d6d0847d75ba-8632033a081de152-01 outer:exit 2b-0e1d31428ecc52eae1ccb10d8347d6d0847d75ba-5b29be1586f16ca1-01
2022-04-25T18:39:57.151Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:39:57.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-31c3e5c96bbae9b9af336b86c911d47639d3fb55-2471871d0c280740-01 outer:exit 2b-31c3e5c96bbae9b9af336b86c911d47639d3fb55-8dff087cd6135a8c-01
2022-04-25T18:39:57.154Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:39:57.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-01008447a6c4184d0f9b97bdfb220503f561fcdb-face366800e47f1d-01 outer:exit 2b-01008447a6c4184d0f9b97bdfb220503f561fcdb-86c24ef2aca49126-01
2022-04-25T18:39:57.156Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:39:57.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa8ba2a54f927b99239daebff38d302d0632279f-aaeedb8fa3fa64ce-01 outer:exit 2b-aa8ba2a54f927b99239daebff38d302d0632279f-9b5afc1affafb89b-01
2022-04-25T18:39:57.159Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:39:57.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6703a3ed1ec7b6b574044beee1ec7634b4cd272-76ac2ded3c5c61a9-01 outer:exit 2b-b6703a3ed1ec7b6b574044beee1ec7634b4cd272-199a4cc8b5048867-01
2022-04-25T18:39:57.172Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:39:57.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab6bc6128dee7a81ef8460966d049f313dfa362c-a0511f08f5373c6f-01 outer:exit 2b-ab6bc6128dee7a81ef8460966d049f313dfa362c-a1ed7f9d091e62c0-01
2022-04-25T18:39:57.186Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:39:57.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-0669eb3a24f3048e1ca1e9adfcd4dac733053c76-06e621aeb95c3a4d-01 outer:exit 2b-0669eb3a24f3048e1ca1e9adfcd4dac733053c76-311d828ac3b7af9f-01
2022-04-25T18:39:57.189Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:39:57.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-04df8a439b758fe8be535cd925000a22c42becde-2f883a0fca02ebfe-01 outer:exit 2b-04df8a439b758fe8be535cd925000a22c42becde-df545ac6e3c5c9d1-01
2022-04-25T18:39:57.192Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:39:57.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbfdaf43dd4f5f9e5ff38ddb17d2046fa0f114d5-7e6f6215a43840ed-01 outer:exit 2b-dbfdaf43dd4f5f9e5ff38ddb17d2046fa0f114d5-b5596f7b1c9e600f-01
2022-04-25T18:39:57.195Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:39:57.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-667a7ccb16e7c7c574227fbd6fe5c5cdd4e5dd88-b4585ac8dae3cc89-01 outer:exit 2b-667a7ccb16e7c7c574227fbd6fe5c5cdd4e5dd88-60581b3235fd3b88-01
2022-04-25T18:39:57.231Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (406ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:05.180Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:05.181Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:05.181Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:05.182Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:05.262Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:05.480Z appoptics:patching patched crypto 
2022-04-25T18:40:05.545Z appoptics:patching patched https 
2022-04-25T18:40:05.558Z appoptics:patching patched http 
2022-04-25T18:40:05.624Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:05.625Z appoptics:patching patched fs 
2022-04-25T18:40:05.643Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v16.14.2)
2022-04-25T18:40:05.651Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-25T18:40:05.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-b164d556921bff416a17e448f51c39cc91008c4a-d72db037b205ac68-01 outer:exit 2b-b164d556921bff416a17e448f51c39cc91008c4a-5d54bcb2925431fb-01
2022-04-25T18:40:05.711Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:05.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-62c03ee07ce3484ac3ff11e37be887c750376dfc-3507da1e6ce2edab-01 outer:exit 2b-62c03ee07ce3484ac3ff11e37be887c750376dfc-542f33d5573780d1-01
2022-04-25T18:40:05.764Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:05.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-33213d359e5176498bb29caf4f6a7487888dc582-06f86683f0b03ea9-01 outer:exit 2b-33213d359e5176498bb29caf4f6a7487888dc582-7208a1cb1338faad-01
2022-04-25T18:40:05.772Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:05.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-483b7fbdb2aae4f243f3e951215c08bac7e6cbd6-4fda9fbac4ff6a91-01 outer:exit 2b-483b7fbdb2aae4f243f3e951215c08bac7e6cbd6-c242b551df6974af-01
2022-04-25T18:40:05.776Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:05.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a1b639982cc709ebb4b1a0f8035c45daaf8d1fc-e81ae905999a6fcd-01 outer:exit 2b-0a1b639982cc709ebb4b1a0f8035c45daaf8d1fc-37bd618fcbe338b4-01
2022-04-25T18:40:05.792Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:05.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6171f8f611498cfd35c2ef5d9336fdaa8452418-3c40bb0ecb1fa221-01 outer:exit 2b-d6171f8f611498cfd35c2ef5d9336fdaa8452418-f77b3f42dc8f0446-01
2022-04-25T18:40:05.803Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:05.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbe52f22618056c4a4c6aa54793a8050f1ec3b70-0e2041feba43b4d4-01 outer:exit 2b-dbe52f22618056c4a4c6aa54793a8050f1ec3b70-48c5a4efb70f670e-01
2022-04-25T18:40:05.808Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:05.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-17b3c92b9740bd5ca2a073ee5052969d371f2dbb-b4bad5a52deb77cc-01 outer:exit 2b-17b3c92b9740bd5ca2a073ee5052969d371f2dbb-2b398466725688c0-01
2022-04-25T18:40:05.811Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:05.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-881af1d1a0c4c02f3a8df6aa3c7775223fc48ddb-c8ffa8be983f9dc3-01 outer:exit 2b-881af1d1a0c4c02f3a8df6aa3c7775223fc48ddb-be98dcc9660cd47b-01
2022-04-25T18:40:05.815Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:05.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3d4dd7af2ff16ef6f1585f2049f75eb84907901-9193b1fc80d117a5-01 outer:exit 2b-d3d4dd7af2ff16ef6f1585f2049f75eb84907901-8f2a749f137fa5ed-01
2022-04-25T18:40:05.819Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:05.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-299be1fee70108f387505033451f8a79bd880f64-900af135ce0403f6-01 outer:exit 2b-299be1fee70108f387505033451f8a79bd880f64-2bd182f81a914624-01
2022-04-25T18:40:05.825Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:05.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-3141516638f761ca59f6f5b3067db54ce7fedcbd-8e1d8241c7ce549a-01 outer:exit 2b-3141516638f761ca59f6f5b3067db54ce7fedcbd-dfc90c0f959505a6-01
2022-04-25T18:40:05.835Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:05.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72b983a2b9c2b4e5c684dc49710bdc795975bd2-55278d838f639283-01 outer:exit 2b-a72b983a2b9c2b4e5c684dc49710bdc795975bd2-0bf6f6d1c00f7755-01
2022-04-25T18:40:05.856Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:05.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-203551fdc9fbb0e4ec89ce0cf7ae14f7c9fe8767-51635a1f37d96010-01 outer:exit 2b-203551fdc9fbb0e4ec89ce0cf7ae14f7c9fe8767-7ca96dfb703cf1fc-01
2022-04-25T18:40:05.914Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:05.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-f649e1a1aa9ce464446cea001af0fa25b054997b-bd49733c973445a3-01 outer:exit 2b-f649e1a1aa9ce464446cea001af0fa25b054997b-6777c26b04fd490a-01
2022-04-25T18:40:05.918Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:05.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-21297d32c22afdd15da69662fd6e8524bce4d2ba-c7a68a471bf51c3d-01 outer:exit 2b-21297d32c22afdd15da69662fd6e8524bce4d2ba-d64aa0759ffa9c16-01
2022-04-25T18:40:05.921Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:05.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8c11f157eb7f064d7284946bdc1733d75133a60-5fdb37ac05399385-01 outer:exit 2b-a8c11f157eb7f064d7284946bdc1733d75133a60-798ce0fbcb0a6172-01
2022-04-25T18:40:05.929Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:05.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-33d6bcace2b25bb5eda8da19396310ab6da7c2db-6a8d139f0918c498-01 outer:exit 2b-33d6bcace2b25bb5eda8da19396310ab6da7c2db-ed9f6966af32575f-01
2022-04-25T18:40:05.934Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:05.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9c25a72a92bb80f3493a2e3f830a796e4143a08-19f7db43c84fa62a-01 outer:exit 2b-f9c25a72a92bb80f3493a2e3f830a796e4143a08-add2d821abdf423f-01
2022-04-25T18:40:05.937Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:05.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-a808c092a2d41fa8a26f188b5d73f521001e37b2-bff70266e7cba864-01 outer:exit 2b-a808c092a2d41fa8a26f188b5d73f521001e37b2-ba3acb13ca6f7985-01
2022-04-25T18:40:05.940Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:05.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed239614534bd53e1966596654309d23c642b87c-ce493d0ad66e1078-01 outer:exit 2b-ed239614534bd53e1966596654309d23c642b87c-a387d77068633fb5-01
2022-04-25T18:40:05.946Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:05.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-efbf5d3f31949db842342fbfa9f1d5f88f08f340-2b4efb75b866052b-01 outer:exit 2b-efbf5d3f31949db842342fbfa9f1d5f88f08f340-ad853360f3d8dfb3-01
2022-04-25T18:40:05.949Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:05.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-282752a9cbac32474ebc6dcda563a55c5d8175fd-3aae9bc8ea136281-01 outer:exit 2b-282752a9cbac32474ebc6dcda563a55c5d8175fd-e5001681c8c0745b-01
2022-04-25T18:40:05.956Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:05.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ea4eff2dd01b26b6a5efd558f9d22946aa65f65-86aab1af0c416546-01 outer:exit 2b-2ea4eff2dd01b26b6a5efd558f9d22946aa65f65-ed0a6ed94baf4075-01
2022-04-25T18:40:05.962Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:05.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-6db737b332b2af80ed444db705f4b78ca766fd79-511192c085f28401-01 outer:exit 2b-6db737b332b2af80ed444db705f4b78ca766fd79-eba9e1dfba552614-01
2022-04-25T18:40:05.965Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:05.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f290dd49110a7df359163a7635d397c69897806-dd3812b7aad035bd-01 outer:exit 2b-3f290dd49110a7df359163a7635d397c69897806-35e70c56df3377a3-01
2022-04-25T18:40:05.968Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:05.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff7a0a376739e5d286f877a5a2ae3711c24014eb-7627344e7fc5b657-01 outer:exit 2b-ff7a0a376739e5d286f877a5a2ae3711c24014eb-5ebb5cbe6911e808-01
2022-04-25T18:40:05.975Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:05.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-95e3b2cbd6e0df48cc001edd378657d8749dd14b-c3731c15578138ce-01 outer:exit 2b-95e3b2cbd6e0df48cc001edd378657d8749dd14b-a7d2bb396e79e6dc-01
2022-04-25T18:40:05.980Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:06.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-35699f5f4897e88f9a543166025aab03992e1066-f13b9a48227d85d8-01 outer:exit 2b-35699f5f4897e88f9a543166025aab03992e1066-646ab6150d017848-01
2022-04-25T18:40:06.001Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:06.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-67d1bb88ec8cc9572501d0ef736402e98a2c1b9e-3bea075c38e6fcba-01 outer:exit 2b-67d1bb88ec8cc9572501d0ef736402e98a2c1b9e-9b6942041732e8f6-01
2022-04-25T18:40:06.011Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:06.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d983e2a1c89b346ec35a29012eda83a92037df1-95b519719c8c3c02-01 outer:exit 2b-1d983e2a1c89b346ec35a29012eda83a92037df1-6adfbbbe476c7dba-01
2022-04-25T18:40:06.013Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:06.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-c411379a0fd2fe55b7c6b958fd10e92040c53710-fd4be869e9281f35-01 outer:exit 2b-c411379a0fd2fe55b7c6b958fd10e92040c53710-faf519c0c6b3cfcd-01
2022-04-25T18:40:06.018Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:06.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecb89c9f97e66d3cef865c4b58248dddd6c9dfa8-f509f428dbb08182-01 outer:exit 2b-ecb89c9f97e66d3cef865c4b58248dddd6c9dfa8-c261063baa347f65-01
2022-04-25T18:40:06.038Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:06.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-5724bf775bcc0c41af1bd2e433b4e5cdc71d79e0-f9c255321abcd514-01 outer:exit 2b-5724bf775bcc0c41af1bd2e433b4e5cdc71d79e0-658cd3b706e9895e-01
2022-04-25T18:40:06.042Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:06.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2fae57733dc452757c5ff7740f652245465690c-0ae4aeafa0b1c9ba-01 outer:exit 2b-c2fae57733dc452757c5ff7740f652245465690c-91b87a94df4a42ac-01
2022-04-25T18:40:06.046Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:06.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-93964d14e18b6dda188fbeb22c5851942fefa8b9-d5e8197334151c80-01 outer:exit 2b-93964d14e18b6dda188fbeb22c5851942fefa8b9-1a2baa6455c9793b-01
2022-04-25T18:40:06.048Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:06.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-184461d7c368927d4c77891623e804b5904de782-f2514cd1c53d5ff3-01 outer:exit 2b-184461d7c368927d4c77891623e804b5904de782-c1e582b0f80cff22-01
2022-04-25T18:40:06.055Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:06.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ee0298e93c2f93bb58fe512e0594ff737ad039d-9cb6c4f868cea2a4-01 outer:exit 2b-2ee0298e93c2f93bb58fe512e0594ff737ad039d-c9c360b7289b909b-01
2022-04-25T18:40:06.059Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:06.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b76d39d76c163a4ce058a97924b2897991bc351-65bf4adc4d41204c-01 outer:exit 2b-1b76d39d76c163a4ce058a97924b2897991bc351-68a8a7a7fa878a94-01
2022-04-25T18:40:06.073Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:06.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-47be91d1b4f9b46e741f1919592f0fe3592886ad-c5afd2595d3e7aa0-01 outer:exit 2b-47be91d1b4f9b46e741f1919592f0fe3592886ad-98c01fd3151d1ba1-01
2022-04-25T18:40:06.086Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:06.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c0bcc03900615addb324ea1a80af8aa8adc8c07-1cf687362452bb07-01 outer:exit 2b-1c0bcc03900615addb324ea1a80af8aa8adc8c07-8a85676a7b2919f8-01
2022-04-25T18:40:06.090Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:06.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e42d9efb55039e975c60eb2e33726457812d992-096178a0df271f72-01 outer:exit 2b-9e42d9efb55039e975c60eb2e33726457812d992-47ae0a164277d5d7-01
2022-04-25T18:40:06.094Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:06.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a86231cd5fea2194f4014c2178bb2c2f7a44f81-b31174fbcee3ed43-01 outer:exit 2b-1a86231cd5fea2194f4014c2178bb2c2f7a44f81-884bbb3aa5db0c23-01
2022-04-25T18:40:06.101Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:06.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-498c50c48ae19711a2355a14295a958acb1c8ca6-c4d56556b74e02c3-01 outer:exit 2b-498c50c48ae19711a2355a14295a958acb1c8ca6-69bd2f7561ec14a4-01
2022-04-25T18:40:06.146Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (487ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:14.250Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:14.251Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:14.251Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:14.252Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:14.333Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:14.494Z appoptics:patching patched crypto 
2022-04-25T18:40:14.521Z appoptics:patching patched https 
2022-04-25T18:40:14.522Z appoptics:patching patched http 
2022-04-25T18:40:14.637Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:14.638Z appoptics:patching patched fs 
2022-04-25T18:40:14.661Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v16.14.2)
2022-04-25T18:40:14.669Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-25T18:40:14.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1debc9938a5e7cbf1d4b78cc0fd83a1c4734be4-f3eac053eac24a3e-01 outer:exit 2b-b1debc9938a5e7cbf1d4b78cc0fd83a1c4734be4-1f94ee05291b2df0-01
2022-04-25T18:40:14.791Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:14.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-d05cc83a238bbfa34c39c872a945f87fc95fc22b-9d403e59c2fd5d85-01 outer:exit 2b-d05cc83a238bbfa34c39c872a945f87fc95fc22b-c40895c17e0467a5-01
2022-04-25T18:40:14.845Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:14.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f15a1e453df005e9513d5bb8788fcc2bbb55425-7b7e450c132f1263-01 outer:exit 2b-7f15a1e453df005e9513d5bb8788fcc2bbb55425-3bf28e64684c8601-01
2022-04-25T18:40:14.850Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:14.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-42437445c412dc69d2831f3f164e0191718efe95-3b534d60f9a999fb-01 outer:exit 2b-42437445c412dc69d2831f3f164e0191718efe95-e83f8805878139c6-01
2022-04-25T18:40:14.854Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:14.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-5588f91e6cc2b0df420f1bd138b21117686600b1-1f76754e076350de-01 outer:exit 2b-5588f91e6cc2b0df420f1bd138b21117686600b1-bc1e4b6668a704a1-01
2022-04-25T18:40:14.860Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:14.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7eaf6f64d6216014ce47bed6fb256fbb90652bf-12bb8f22a2d758a1-01 outer:exit 2b-d7eaf6f64d6216014ce47bed6fb256fbb90652bf-c25bf96250aa6b43-01
2022-04-25T18:40:14.865Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:14.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-1047a976291fd22a8251bc03ae91d639f74d1a7b-7b7021f011ed211a-01 outer:exit 2b-1047a976291fd22a8251bc03ae91d639f74d1a7b-1bc7d7b777020ada-01
2022-04-25T18:40:14.868Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:14.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-31eba18289806a30a05cb3c1d44e38bff21afcc9-294be7c1e611330f-01 outer:exit 2b-31eba18289806a30a05cb3c1d44e38bff21afcc9-1581462692c298d4-01
2022-04-25T18:40:14.871Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:14.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b7e9d8fbf04284014092ae41a905c9c96f594ec-924ab98c968d4198-01 outer:exit 2b-3b7e9d8fbf04284014092ae41a905c9c96f594ec-bb15bfbcd8f2d427-01
2022-04-25T18:40:14.875Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:14.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-90eb012725d50418373ac7665e783c33f0335094-862d7488ebd231dc-01 outer:exit 2b-90eb012725d50418373ac7665e783c33f0335094-de7f77bca89210e8-01
2022-04-25T18:40:14.881Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:14.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-91a7e634c520b2d8d6c4114e981361d9f715bc27-e0f212cb8a8211ac-01 outer:exit 2b-91a7e634c520b2d8d6c4114e981361d9f715bc27-4a5bf7d786506a4b-01
2022-04-25T18:40:14.885Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:14.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4a51b11a58d2f5418b1db510fc962910b45e270-3be75535be5ebe10-01 outer:exit 2b-c4a51b11a58d2f5418b1db510fc962910b45e270-3bfd9076839c07b6-01
2022-04-25T18:40:14.894Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:14.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-868d91c452bc932fc986c0179984ca402a8560fe-6e6e82e7a7414898-01 outer:exit 2b-868d91c452bc932fc986c0179984ca402a8560fe-ad0dcd3cab927ea3-01
2022-04-25T18:40:14.915Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:14.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-63ea48d2938abd89263e9a8dd31e98f50581cec7-9f4f4a1abe534b52-01 outer:exit 2b-63ea48d2938abd89263e9a8dd31e98f50581cec7-1d1a0ca1c118127b-01
2022-04-25T18:40:14.961Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:14.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-a31be9a5e83bfc66e8c593c8c3713f4ed1e8215a-98f273e05c747ace-01 outer:exit 2b-a31be9a5e83bfc66e8c593c8c3713f4ed1e8215a-495d3be89fd094a4-01
2022-04-25T18:40:14.965Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:14.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bf5e7c46e14b54cebf219ee0765bce9ac3e9e35-ded0186e6b1507b6-01 outer:exit 2b-1bf5e7c46e14b54cebf219ee0765bce9ac3e9e35-cea3bfa2a5b07b78-01
2022-04-25T18:40:14.968Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:14.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a13124e4cde3b768e9807522de13d52cbbe953c-a1ebfdcb166a3fbd-01 outer:exit 2b-9a13124e4cde3b768e9807522de13d52cbbe953c-81386dc5b3070f6e-01
2022-04-25T18:40:14.971Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:14.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f0b9b0fb5884c438d8a29cc8b6b83a95d728949-f97698af28b9de59-01 outer:exit 2b-2f0b9b0fb5884c438d8a29cc8b6b83a95d728949-3d474c029324a884-01
2022-04-25T18:40:14.975Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:14.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bc62c168ca6716101c3ae2c885e2d0a188de317-be22a6b03d2fe21e-01 outer:exit 2b-5bc62c168ca6716101c3ae2c885e2d0a188de317-cd0febcf7d18a20b-01
2022-04-25T18:40:14.977Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:14.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-87fda775cea15acc9490b8ba80b9be2600ee6e23-a74b472a939f146a-01 outer:exit 2b-87fda775cea15acc9490b8ba80b9be2600ee6e23-c487487a6e19b8fc-01
2022-04-25T18:40:14.980Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:14.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2be42f5303c43f712712d38b1eb7cfb09e47515-22e367c9c39a8466-01 outer:exit 2b-a2be42f5303c43f712712d38b1eb7cfb09e47515-964301f224e87802-01
2022-04-25T18:40:14.983Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:14.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dbb3ce58f3682904c26ccbd16e4f0512d952bae-54962ead63588755-01 outer:exit 2b-1dbb3ce58f3682904c26ccbd16e4f0512d952bae-5df7997fed7074d5-01
2022-04-25T18:40:14.986Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:14.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-c979ccaa08ba54ce97f35f88d0b7f9db5d0e566f-51898fae5cb87cef-01 outer:exit 2b-c979ccaa08ba54ce97f35f88d0b7f9db5d0e566f-279b4b05f66868ba-01
2022-04-25T18:40:14.989Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:14.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-085e328914c817d98faf1c2e5e71cb7a958d679c-58afa4c678207f4b-01 outer:exit 2b-085e328914c817d98faf1c2e5e71cb7a958d679c-5faad5e31da4bd62-01
2022-04-25T18:40:14.993Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:14.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-73a4aa38ab55ac8fe9a330f82ef1d2ab30f01885-019ec077ad513314-01 outer:exit 2b-73a4aa38ab55ac8fe9a330f82ef1d2ab30f01885-8d97478a7b63631b-01
2022-04-25T18:40:14.996Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:14.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a330f41362ba1d069accbc70edb168c4c30607c-ce6b6450eb2ace27-01 outer:exit 2b-4a330f41362ba1d069accbc70edb168c4c30607c-33372031c8376f75-01
2022-04-25T18:40:14.998Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:15.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8d41bb3eb39a0d09d471cefacc2ee4e22956fbf-a17d492ae5a5b3ef-01 outer:exit 2b-c8d41bb3eb39a0d09d471cefacc2ee4e22956fbf-5db1c46de7d8df0b-01
2022-04-25T18:40:15.007Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:15.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-24d3503e5388e8f036574ddd4902dce6c005e03e-9529e1fb28de2cac-01 outer:exit 2b-24d3503e5388e8f036574ddd4902dce6c005e03e-b54c20610c184db5-01
2022-04-25T18:40:15.012Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:15.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-182e5a8ce2787d3f64d695bb3666ab7ef6c05980-e9f07092fabb214e-01 outer:exit 2b-182e5a8ce2787d3f64d695bb3666ab7ef6c05980-c51e08a81ea19038-01
2022-04-25T18:40:15.025Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:15.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-d515e8a72a424899b7847f710e770b32d431ce02-6b966a552a398e62-01 outer:exit 2b-d515e8a72a424899b7847f710e770b32d431ce02-9405dfec8459d4c3-01
2022-04-25T18:40:15.034Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:15.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-92c03d3a9a5fafcfe5e6eefd58e8703e0c7af7f8-875cd5325376ff7c-01 outer:exit 2b-92c03d3a9a5fafcfe5e6eefd58e8703e0c7af7f8-991227a6f1f84816-01
2022-04-25T18:40:15.037Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:15.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb2d7a9643a9fc6ad9ec275d97d5fc91381d8995-e3313a9a75d83d54-01 outer:exit 2b-bb2d7a9643a9fc6ad9ec275d97d5fc91381d8995-111e444849f63aa7-01
2022-04-25T18:40:15.043Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:15.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-94ba76009f87c7076daf61e0656b56aacb75f7d5-b5bd8403f4281c17-01 outer:exit 2b-94ba76009f87c7076daf61e0656b56aacb75f7d5-b24a9bcf57d719cd-01
2022-04-25T18:40:15.054Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:15.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e80c636178188a07d02c772dcd7a1c4b021003c-ac529bf3a1461b73-01 outer:exit 2b-6e80c636178188a07d02c772dcd7a1c4b021003c-f04a18035ede1b94-01
2022-04-25T18:40:15.056Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:15.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1fcbde5878183326c1faf0502bae053d8844f3a-7d3a6e8bae07d69e-01 outer:exit 2b-e1fcbde5878183326c1faf0502bae053d8844f3a-84479a7c1789f7a3-01
2022-04-25T18:40:15.059Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:15.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0289ec3913c4a5a5f580cd04a98a8883d5c7d88-bcf05d2334871e60-01 outer:exit 2b-f0289ec3913c4a5a5f580cd04a98a8883d5c7d88-745e485459d56ca2-01
2022-04-25T18:40:15.061Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:15.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-152d003533a494180ee02866e17a888c80e25533-66bfa1fc3bca7af9-01 outer:exit 2b-152d003533a494180ee02866e17a888c80e25533-4b5ea7dd6d5c9497-01
2022-04-25T18:40:15.063Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:15.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b3792086c96a464525d5d92b886291d542443b1-62ebfc4b60e85922-01 outer:exit 2b-0b3792086c96a464525d5d92b886291d542443b1-aa47cb9128b5cdff-01
2022-04-25T18:40:15.066Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:15.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-70eb6498820d0f9697a070c1f629122d1994fec0-0f194f20469d1af1-01 outer:exit 2b-70eb6498820d0f9697a070c1f629122d1994fec0-0eb5dcee715a0894-01
2022-04-25T18:40:15.078Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:15.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bd5ade058d33300e34abc0281bb9157dfbe6a3e-b4881da00d627d19-01 outer:exit 2b-7bd5ade058d33300e34abc0281bb9157dfbe6a3e-cd07f8645f454374-01
2022-04-25T18:40:15.090Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:15.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-18b3b3ce7d52f4cda941c37e0b316d54142528c6-df541f0ba139fb61-01 outer:exit 2b-18b3b3ce7d52f4cda941c37e0b316d54142528c6-193de087c33ca5a5-01
2022-04-25T18:40:15.095Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:15.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e8f640e404db9f1e975223ae599381e91d96b4a-f08079884bb45b5c-01 outer:exit 2b-7e8f640e404db9f1e975223ae599381e91d96b4a-dcabf35cfd7bee34-01
2022-04-25T18:40:15.098Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:15.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-be26dfcf89199fcd84b088ed0d451ce4e9766e13-fe901a1c488921fb-01 outer:exit 2b-be26dfcf89199fcd84b088ed0d451ce4e9766e13-0687044ca586e761-01
2022-04-25T18:40:15.101Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:15.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a80ce4bc2f397c147375c06071cd36809b7b745-64e69ba97efa85df-01 outer:exit 2b-3a80ce4bc2f397c147375c06071cd36809b7b745-60d47fc1206ae4d5-01
2022-04-25T18:40:15.136Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (443ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:23.512Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:23.514Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:23.514Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:23.516Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:23.598Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:23.772Z appoptics:patching patched crypto 
2022-04-25T18:40:23.795Z appoptics:patching patched https 
2022-04-25T18:40:23.796Z appoptics:patching patched http 
2022-04-25T18:40:23.851Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:23.852Z appoptics:patching patched fs 
2022-04-25T18:40:23.869Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v16.14.2)
2022-04-25T18:40:23.877Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-25T18:40:23.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c39d3ca482cefefcd2452e6f9600a142221b8eb-170cd09b4b0dbc7b-01 outer:exit 2b-3c39d3ca482cefefcd2452e6f9600a142221b8eb-545636eb00f36ef6-01
2022-04-25T18:40:23.933Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:23.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8b0ac5d7adcbaaf3f119157f855947e612d992c-49a81d51cfd3f240-01 outer:exit 2b-f8b0ac5d7adcbaaf3f119157f855947e612d992c-7ee3baa208599161-01
2022-04-25T18:40:23.986Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:23.991Z appoptics:debug span.exit - no last event outer outer:entry 2b-122edc4f3a28292fe275d9de1c980d44e334d6ff-e990393f41851b12-01 outer:exit 2b-122edc4f3a28292fe275d9de1c980d44e334d6ff-d8417826bb437ed7-01
2022-04-25T18:40:23.991Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:23.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c91faa7b72078ecdd4415992a3f06067854773b-1910bc556d5c589c-01 outer:exit 2b-5c91faa7b72078ecdd4415992a3f06067854773b-412aa63d6a86e53d-01
2022-04-25T18:40:23.995Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:24.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-da69f4766f972f1638bdc98812d4065daf9c2665-c80f9330bb9bd4e0-01 outer:exit 2b-da69f4766f972f1638bdc98812d4065daf9c2665-a5c5d985a5804145-01
2022-04-25T18:40:24.002Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:24.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-97c0594cc037901378c87570d5f04ab953a28363-7384f745e207f1ef-01 outer:exit 2b-97c0594cc037901378c87570d5f04ab953a28363-cc8098c318d35c37-01
2022-04-25T18:40:24.006Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:24.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-2737ae9fc5049b00e443dcf03e7d264e4483a60b-d5bf222c0fa34fbf-01 outer:exit 2b-2737ae9fc5049b00e443dcf03e7d264e4483a60b-7e8b486905a68720-01
2022-04-25T18:40:24.010Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:24.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-f66fc608a5990922657abdf216d64759d3f99d8b-e5dd8ecb59068f31-01 outer:exit 2b-f66fc608a5990922657abdf216d64759d3f99d8b-9afaf7597751b4b0-01
2022-04-25T18:40:24.013Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:24.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-b29538a25313d1638cddbc79ed04e18683745812-c8b3a5c3c1f9d563-01 outer:exit 2b-b29538a25313d1638cddbc79ed04e18683745812-176e6e07103ad7e2-01
2022-04-25T18:40:24.017Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:24.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cfc7f2133fb8cea54edee815f12e6a004f563f1-df0640556a85c81b-01 outer:exit 2b-6cfc7f2133fb8cea54edee815f12e6a004f563f1-ebd2a20cd4ab3c69-01
2022-04-25T18:40:24.022Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:24.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-318975fe8ce518f9370a6bad366c4fb7329372b8-ecfa367918feefa0-01 outer:exit 2b-318975fe8ce518f9370a6bad366c4fb7329372b8-ee041945fc6d0a5d-01
2022-04-25T18:40:24.027Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:24.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-23e0ff47d18f46d89dae7bd18fa8c9c966151840-f9af3776603bbaf6-01 outer:exit 2b-23e0ff47d18f46d89dae7bd18fa8c9c966151840-8c033ffa25553fe2-01
2022-04-25T18:40:24.037Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:24.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-62750c3cacb7d8f3561db77f4afeba5c9cce7f7b-ba368222935e20b2-01 outer:exit 2b-62750c3cacb7d8f3561db77f4afeba5c9cce7f7b-8994d1298f6fdebc-01
2022-04-25T18:40:24.057Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:24.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6ff9948c98666f416b514368315136f8884b0e9-3e68366b9797b485-01 outer:exit 2b-c6ff9948c98666f416b514368315136f8884b0e9-7dc100f7be90c6fc-01
2022-04-25T18:40:24.104Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:24.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-efd907597d6af4606fd2ede02210965f59c5f792-a0e601934a2d1750-01 outer:exit 2b-efd907597d6af4606fd2ede02210965f59c5f792-32aecd0a24c13894-01
2022-04-25T18:40:24.108Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:24.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4cec10b99aa6ca81879dc686d35709bf73176b4-c6e1321b7eb465a6-01 outer:exit 2b-e4cec10b99aa6ca81879dc686d35709bf73176b4-91bb93518bfbc910-01
2022-04-25T18:40:24.111Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:24.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d8832324fcaea18b2a4be3a62ff9007aa06e24-212be48708690c75-01 outer:exit 2b-b2d8832324fcaea18b2a4be3a62ff9007aa06e24-4626ed9bbc9496a7-01
2022-04-25T18:40:24.115Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:24.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7790aa07fa0c6ad505b3e2b6fbca4838c8aea0b-c94be042249f114d-01 outer:exit 2b-d7790aa07fa0c6ad505b3e2b6fbca4838c8aea0b-fe8509275737cf68-01
2022-04-25T18:40:24.117Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:24.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-aecd6e640257b57ae1fb6deec9a28117f366ee2b-9d6af2ff026c810f-01 outer:exit 2b-aecd6e640257b57ae1fb6deec9a28117f366ee2b-95f01e83dcc78e61-01
2022-04-25T18:40:24.120Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:24.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-f33737ff3d6815b0322e50ce7519e1505e042564-25a8313a496a3d6a-01 outer:exit 2b-f33737ff3d6815b0322e50ce7519e1505e042564-bb2ed5063e99214a-01
2022-04-25T18:40:24.123Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:24.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f6dccdd575e6e50a1adaba1e111a0f0d82a7c2a-bd0515628050fab4-01 outer:exit 2b-4f6dccdd575e6e50a1adaba1e111a0f0d82a7c2a-34661c5f4927d347-01
2022-04-25T18:40:24.125Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:24.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb69f96831e076482ed6589a858381905effa25b-d457551c5339be83-01 outer:exit 2b-fb69f96831e076482ed6589a858381905effa25b-fe435bc37e168b09-01
2022-04-25T18:40:24.128Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:24.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-113f3fdd2977570b5291cc3c8d58caa2ef986831-4fb22b36fbbcc5cd-01 outer:exit 2b-113f3fdd2977570b5291cc3c8d58caa2ef986831-d742eaf76c57f7fa-01
2022-04-25T18:40:24.131Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:24.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e79d3296d928216a015e0d51baedbe9bc4ce087-9266e439e3102f72-01 outer:exit 2b-7e79d3296d928216a015e0d51baedbe9bc4ce087-e86296630547f9b5-01
2022-04-25T18:40:24.135Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:24.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-7db79e57976fe6e2f7fffd003eb2b201c01f0c56-2d5210470b9b176e-01 outer:exit 2b-7db79e57976fe6e2f7fffd003eb2b201c01f0c56-13d798195aa795ed-01
2022-04-25T18:40:24.137Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:24.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e8fc9bacb1d9cecd592481a3a6b7e2cd595fd72-ada7c219091fe134-01 outer:exit 2b-3e8fc9bacb1d9cecd592481a3a6b7e2cd595fd72-8395e3e1dfd6fac9-01
2022-04-25T18:40:24.140Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:24.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-0138a5674d9227101d9c7d42e460a425ad0e816d-eaf05016ce435ce3-01 outer:exit 2b-0138a5674d9227101d9c7d42e460a425ad0e816d-447f9936dd8b1544-01
2022-04-25T18:40:24.147Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:24.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-1413b6c25787e38ff1a5fd5dfd4972f3003c5194-dcba227d9d87b3bf-01 outer:exit 2b-1413b6c25787e38ff1a5fd5dfd4972f3003c5194-2c3410dc6d796c45-01
2022-04-25T18:40:24.155Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:24.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae89a411a9a4198470e0d4d70bacd6f7b7a4af8f-9a4d42df68226f7d-01 outer:exit 2b-ae89a411a9a4198470e0d4d70bacd6f7b7a4af8f-72724f779984ad24-01
2022-04-25T18:40:24.167Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:24.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8eb80c12064e3d8967cffa22279211cc881a044-33247617a92e3757-01 outer:exit 2b-c8eb80c12064e3d8967cffa22279211cc881a044-135eb321bb4ffaa8-01
2022-04-25T18:40:24.175Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:24.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-d74af5ae6f938011913a3253aeb444c69854d292-d415cac81e5c339e-01 outer:exit 2b-d74af5ae6f938011913a3253aeb444c69854d292-cdeb9ce4c0c0089f-01
2022-04-25T18:40:24.178Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:24.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9adac68d81a2f334488895ff8e3330b5cfa70e3-c5e602e874205a84-01 outer:exit 2b-d9adac68d81a2f334488895ff8e3330b5cfa70e3-34a034c8c420a3bf-01
2022-04-25T18:40:24.181Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:24.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-570f967ced805fcd0633a9170a761b1d7c23eba4-166531e8ebab9c76-01 outer:exit 2b-570f967ced805fcd0633a9170a761b1d7c23eba4-f8dbfb3ed2d73ab3-01
2022-04-25T18:40:24.190Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:24.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2dd3e4ba1c08dd7f085409bcca713b8d15bcece-0ae3633311961ebf-01 outer:exit 2b-c2dd3e4ba1c08dd7f085409bcca713b8d15bcece-085a1aac93af5cb7-01
2022-04-25T18:40:24.192Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:24.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9aead3ad2398e9edf34475edb7186a8811cd61e-b14f22773848958f-01 outer:exit 2b-b9aead3ad2398e9edf34475edb7186a8811cd61e-6f4dd1b86c253673-01
2022-04-25T18:40:24.194Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:24.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb66c2d7623da801b80ed2fb614e8f41ff36b057-25006402edfcbd39-01 outer:exit 2b-eb66c2d7623da801b80ed2fb614e8f41ff36b057-ae588a78dde785d9-01
2022-04-25T18:40:24.197Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:24.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fd2d340de1e35c968c0410c4c604779b6a4af96-15fde7f885a46d45-01 outer:exit 2b-5fd2d340de1e35c968c0410c4c604779b6a4af96-b6fb79013ec0e06b-01
2022-04-25T18:40:24.199Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:24.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-577210f6231556db27cf80214faa71c53dbd10e5-cc7e416af9295136-01 outer:exit 2b-577210f6231556db27cf80214faa71c53dbd10e5-c9ccd05cd49e3f72-01
2022-04-25T18:40:24.201Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:24.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5729112850ddfdb251a4371480da5e548013625-6d089ce8e34ff59d-01 outer:exit 2b-e5729112850ddfdb251a4371480da5e548013625-35f7f109f0b4469a-01
2022-04-25T18:40:24.214Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:24.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-adfe44442ba25bcf21a8bb3112af5c79fa7de6fe-71212299e41c2cb2-01 outer:exit 2b-adfe44442ba25bcf21a8bb3112af5c79fa7de6fe-32cb80f760b2b77c-01
2022-04-25T18:40:24.226Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:24.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-e19d1da3dde20ae76278892b43a8f01c6e860c4e-6299994ba9e3c890-01 outer:exit 2b-e19d1da3dde20ae76278892b43a8f01c6e860c4e-16a18589abed514a-01
2022-04-25T18:40:24.230Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:24.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d07dabfeedae667c7d581723d531d46b9c33a98-058accfc1768e769-01 outer:exit 2b-8d07dabfeedae667c7d581723d531d46b9c33a98-6ff531522ac7cae3-01
2022-04-25T18:40:24.234Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:24.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e42a76b38fb2183ab7a1b295d3de7ca59f06229-d0edbd54e3f865c3-01 outer:exit 2b-5e42a76b38fb2183ab7a1b295d3de7ca59f06229-e4b56d228374fa38-01
2022-04-25T18:40:24.238Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:24.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e233494447e7c6f7f4c0e5565049e5bfb327136-2759e6d515570d8a-01 outer:exit 2b-3e233494447e7c6f7f4c0e5565049e5bfb327136-e63177226d098e8c-01
2022-04-25T18:40:24.270Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (386ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:31.910Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:31.911Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:31.911Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:31.913Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:32.007Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:32.203Z appoptics:patching patched crypto 
2022-04-25T18:40:32.261Z appoptics:patching patched https 
2022-04-25T18:40:32.274Z appoptics:patching patched http 
2022-04-25T18:40:32.331Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:32.331Z appoptics:patching patched fs 
2022-04-25T18:40:32.354Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v16.14.2)
2022-04-25T18:40:32.362Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-25T18:40:32.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-8abc0d48902a433d86db1bf3f5957a09d90b3233-3ff1aff514c26e30-01 outer:exit 2b-8abc0d48902a433d86db1bf3f5957a09d90b3233-6880f72da2a66c73-01
2022-04-25T18:40:32.422Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:32.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-e446b1e5c99ca7c1368685a839f950a4d27c1566-fb002cf9057ec008-01 outer:exit 2b-e446b1e5c99ca7c1368685a839f950a4d27c1566-4c51335583fc0cde-01
2022-04-25T18:40:32.483Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:32.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-905e28717a83c6283dba3ebbb0ee0f716ac53977-2a2d7e0592b1d4c5-01 outer:exit 2b-905e28717a83c6283dba3ebbb0ee0f716ac53977-6b08162611a019f7-01
2022-04-25T18:40:32.488Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:32.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc0af10751480f1098585d56acb1e11ecf8f69a2-1aa7db1fc96efc37-01 outer:exit 2b-cc0af10751480f1098585d56acb1e11ecf8f69a2-5c04ce6ed64fa6ea-01
2022-04-25T18:40:32.495Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:32.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e211184abb5aa19fd6e8b150aa6bed8d9f63690-447ba52455820641-01 outer:exit 2b-2e211184abb5aa19fd6e8b150aa6bed8d9f63690-635bf5bd2b8497e6-01
2022-04-25T18:40:32.503Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:32.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f391103dbbb6efe4d6f995cdca1cfa9ca3d8d1b-7316e17b05e5f2e9-01 outer:exit 2b-9f391103dbbb6efe4d6f995cdca1cfa9ca3d8d1b-c21dab185ffcacec-01
2022-04-25T18:40:32.509Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:32.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-37146691c34fadbfe9b5b99308112c48a1f15b30-5000d7be60b92169-01 outer:exit 2b-37146691c34fadbfe9b5b99308112c48a1f15b30-09541233eb4a0c1b-01
2022-04-25T18:40:32.515Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:32.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-45fa378cdd08f32523c82b71959265771beba36b-1b3f2b47155dbda3-01 outer:exit 2b-45fa378cdd08f32523c82b71959265771beba36b-6b23d936821db5db-01
2022-04-25T18:40:32.519Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:32.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc19eeb321938351cac590021fbf715164f616e-43c203ce1b5f5c0c-01 outer:exit 2b-cdc19eeb321938351cac590021fbf715164f616e-2d15c3ed6759f284-01
2022-04-25T18:40:32.524Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:32.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-099fc375314a84624146810f4385375e264d6c5c-e60aa97ba84e24ce-01 outer:exit 2b-099fc375314a84624146810f4385375e264d6c5c-306ea8d8bcde71d1-01
2022-04-25T18:40:32.536Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:32.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd8b9de8177396270b420687478c08ed34fa4e60-3108ffb4cdce3115-01 outer:exit 2b-fd8b9de8177396270b420687478c08ed34fa4e60-58bef833f6f68d80-01
2022-04-25T18:40:32.542Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:32.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-1de8c463ee7180c6c15d09f104c127de28215d0c-002b9cce8cec969e-01 outer:exit 2b-1de8c463ee7180c6c15d09f104c127de28215d0c-968ee0e67454d852-01
2022-04-25T18:40:32.565Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:32.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-da48a90b25fc7c371ef87c6e23eb22bf813692ca-374c2b9de0ae4ae1-01 outer:exit 2b-da48a90b25fc7c371ef87c6e23eb22bf813692ca-b4e7c12eccfa583a-01
2022-04-25T18:40:32.587Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:32.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-b648876725a1899a35194e34dd280a34c2128ac0-3a9be4a10d6dfdfe-01 outer:exit 2b-b648876725a1899a35194e34dd280a34c2128ac0-b9cbff8e934190d2-01
2022-04-25T18:40:32.637Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:32.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-445c1f0066bb942c31b5d174e2acf327d79677b7-d8ac6bd1c11f1147-01 outer:exit 2b-445c1f0066bb942c31b5d174e2acf327d79677b7-908c0febcf9cc1f9-01
2022-04-25T18:40:32.642Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:32.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-1795992577deaadc12a57b1641692e4e22d81801-5c4c8852327ebba9-01 outer:exit 2b-1795992577deaadc12a57b1641692e4e22d81801-94a2624075b60d38-01
2022-04-25T18:40:32.645Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:32.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead0e167f01ab5ab7d84a3cfd3e93617b6c83fc2-ace97b7ffacfce31-01 outer:exit 2b-ead0e167f01ab5ab7d84a3cfd3e93617b6c83fc2-25082a82325208ed-01
2022-04-25T18:40:32.648Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:32.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-a85c64dd7fdba2a03cae7327f4346fb7a37bb916-8cfa1df80cb882cd-01 outer:exit 2b-a85c64dd7fdba2a03cae7327f4346fb7a37bb916-cab1752d0f235ed5-01
2022-04-25T18:40:32.651Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:32.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e1d1b36e54d1e1c8d9a19811f11545b6f033f04-cc34c114a6969527-01 outer:exit 2b-5e1d1b36e54d1e1c8d9a19811f11545b6f033f04-0892445c6e1a7dec-01
2022-04-25T18:40:32.654Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:32.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0c95646c665725e71f0f6aed51163c3e13f2453-e4e5d6267fde49f0-01 outer:exit 2b-d0c95646c665725e71f0f6aed51163c3e13f2453-5101ee5f208468d0-01
2022-04-25T18:40:32.656Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:32.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-e93d4517024a146709313441e04e91e47d3588f4-db3cbd146f4e2859-01 outer:exit 2b-e93d4517024a146709313441e04e91e47d3588f4-e0a46dbbc9bcb7a8-01
2022-04-25T18:40:32.659Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:32.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ed610b2063a45fc1049ab023ca056f1855fba09-31aaea108baa1c69-01 outer:exit 2b-4ed610b2063a45fc1049ab023ca056f1855fba09-ede3005bc321a3f2-01
2022-04-25T18:40:32.662Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:32.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6eebb9b1f98d697adc44a285f98e31d71bec947-63b33eba4d7357c5-01 outer:exit 2b-f6eebb9b1f98d697adc44a285f98e31d71bec947-13edd25124562ab9-01
2022-04-25T18:40:32.665Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:32.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-7828cd9f751d864f0d868b7bf26dbf49ac3b6e08-ee3a18893f9104ed-01 outer:exit 2b-7828cd9f751d864f0d868b7bf26dbf49ac3b6e08-d394d4d62eee6ffd-01
2022-04-25T18:40:32.668Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:32.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-86a24d3eab645a06947956a4bf4409375ac165cc-a2cd37d71354fd0d-01 outer:exit 2b-86a24d3eab645a06947956a4bf4409375ac165cc-74f454d3d987fd7c-01
2022-04-25T18:40:32.671Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:32.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-c41a7923b9ac7a273fa7bfcab91d8d75d8ddea19-539e0f1a2f8ac475-01 outer:exit 2b-c41a7923b9ac7a273fa7bfcab91d8d75d8ddea19-6fe05d18f43d46f8-01
2022-04-25T18:40:32.675Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:32.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-e11a636c5fa4fe659d730e5509b163a450454633-d3ef2ed30cc93d83-01 outer:exit 2b-e11a636c5fa4fe659d730e5509b163a450454633-cecec07d86f6554e-01
2022-04-25T18:40:32.697Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:32.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dd0672ef6f97f22b67cafc0127dba3e5452d728-51da75bef9c63697-01 outer:exit 2b-7dd0672ef6f97f22b67cafc0127dba3e5452d728-42b16806bdb21080-01
2022-04-25T18:40:32.732Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:32.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5ca6c3bb8cd7dbca962f08dfea35d338256c489-ac9b4f7bd913974b-01 outer:exit 2b-f5ca6c3bb8cd7dbca962f08dfea35d338256c489-4bb22adfed8d67cc-01
2022-04-25T18:40:32.745Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:32.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-5030f32a43cdc740032bb8d05389fe020adcc555-bee52aab6ac09581-01 outer:exit 2b-5030f32a43cdc740032bb8d05389fe020adcc555-6f5fc6b8c51dad6e-01
2022-04-25T18:40:32.756Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:32.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-067d7ce71f54f52d3182c64144aceec2cd50f86b-c49c2c34ae461c41-01 outer:exit 2b-067d7ce71f54f52d3182c64144aceec2cd50f86b-820ab5bb0f50dacf-01
2022-04-25T18:40:32.760Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:32.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-89fa2b65751423995ff314aaf460e3fc07d166f9-0e70916550604182-01 outer:exit 2b-89fa2b65751423995ff314aaf460e3fc07d166f9-ccab81870573000e-01
2022-04-25T18:40:32.765Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:32.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-3576565c2f2612ae763adbb32bac533eb45ebd2a-fc04c38c346dfebc-01 outer:exit 2b-3576565c2f2612ae763adbb32bac533eb45ebd2a-f81cf3c6fdd0dd58-01
2022-04-25T18:40:32.775Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:32.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-32ee056be36bdade9e43edba06942ca14607d968-b71fdc5f91802fd5-01 outer:exit 2b-32ee056be36bdade9e43edba06942ca14607d968-322ae26b0e7e31ce-01
2022-04-25T18:40:32.779Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:32.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-84cc27a70b1613d6dfd1e2e93c0894707053c8e1-983a39c164e41aa2-01 outer:exit 2b-84cc27a70b1613d6dfd1e2e93c0894707053c8e1-ea697b23a39b04bc-01
2022-04-25T18:40:32.783Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:32.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-c463dc865422ffc4a6fda177bb1d408002df21c4-2b69588cfc5b2a9d-01 outer:exit 2b-c463dc865422ffc4a6fda177bb1d408002df21c4-f50dcb105a78b68b-01
2022-04-25T18:40:32.786Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:32.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-2844091adea2171cdc7bf5ab9bd5fc100ff9d592-4f86843f01bcd614-01 outer:exit 2b-2844091adea2171cdc7bf5ab9bd5fc100ff9d592-1606bb8cdadbb919-01
2022-04-25T18:40:32.790Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:32.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9b185e57a0afce8299d034ff2ebcc84a861d3da-a85aecf649c6eaca-01 outer:exit 2b-a9b185e57a0afce8299d034ff2ebcc84a861d3da-31c154fac2e54be2-01
2022-04-25T18:40:32.794Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:32.808Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef044766dd0497669bb38a567a91bd9290ca267-03c99f4d4b947cfa-01 outer:exit 2b-3ef044766dd0497669bb38a567a91bd9290ca267-bf3eacdf7a05c886-01
2022-04-25T18:40:32.808Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:32.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ae5d83b4f60091d5747222db9fbb58b3ed0648-6d95572e07c8a02f-01 outer:exit 2b-b8ae5d83b4f60091d5747222db9fbb58b3ed0648-f98546c758eb2822-01
2022-04-25T18:40:32.823Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:32.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dcda6ff7cf26ca7db83b9e6b743371492715eda-f5541c0dc13e978d-01 outer:exit 2b-1dcda6ff7cf26ca7db83b9e6b743371492715eda-0a6b00dbb20d51e4-01
2022-04-25T18:40:32.828Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:32.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7fa81020b4f7970163cb1abac74b0679a049000-2a7b905cec807889-01 outer:exit 2b-a7fa81020b4f7970163cb1abac74b0679a049000-2aef861293bcb14b-01
2022-04-25T18:40:32.833Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:32.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-26d1b21fc5ebc427a89937a800de0b55d241ecca-97241fc0177ae19f-01 outer:exit 2b-26d1b21fc5ebc427a89937a800de0b55d241ecca-17ee9ef180ffd88b-01
2022-04-25T18:40:32.862Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:32.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-652ede1a643f0d71a5e14123407f45c004b8a6c2-7a80d3b76bccaaf6-01 outer:exit 2b-652ede1a643f0d71a5e14123407f45c004b8a6c2-f4877bc91683a49c-01
2022-04-25T18:40:32.923Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (554ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:40.761Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:40.762Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:40.762Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:40.763Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:40.840Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:41.001Z appoptics:patching patched crypto 
2022-04-25T18:40:41.025Z appoptics:patching patched https 
2022-04-25T18:40:41.026Z appoptics:patching patched http 
2022-04-25T18:40:41.086Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:41.087Z appoptics:patching patched fs 
2022-04-25T18:40:41.105Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v16.14.2)
2022-04-25T18:40:41.112Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-25T18:40:41.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fd8bf082d42c31e4cc6d3c097c1d61e03688c1e-768a136bae7daf16-01 outer:exit 2b-9fd8bf082d42c31e4cc6d3c097c1d61e03688c1e-7466bfe95166e8dc-01
2022-04-25T18:40:41.172Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:41.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f143d0a2fa9c0504b4f9bab5fe224edb3d9ddf4-fb6c2471056183aa-01 outer:exit 2b-2f143d0a2fa9c0504b4f9bab5fe224edb3d9ddf4-34797c3c00c3a4e0-01
2022-04-25T18:40:41.226Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:41.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-6655e7af339d520b9b76397a44ae62e7d22f6427-885f003cbf8b9805-01 outer:exit 2b-6655e7af339d520b9b76397a44ae62e7d22f6427-a348470df41e0f1b-01
2022-04-25T18:40:41.231Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:41.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee612c9cb629ecafb2fb3238c5ee9d5c19fd83f1-8b64e6e82b345149-01 outer:exit 2b-ee612c9cb629ecafb2fb3238c5ee9d5c19fd83f1-73885e1de3b7aa0a-01
2022-04-25T18:40:41.235Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:41.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4be859129b0e2e5b8a140c24fd9aaa3ce781d9a-6da65ffe514ac773-01 outer:exit 2b-e4be859129b0e2e5b8a140c24fd9aaa3ce781d9a-c492f99d961565d3-01
2022-04-25T18:40:41.241Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:41.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-106e50e99d2b30af2558efa556e78f1454edc22a-988e7afe2c2f0630-01 outer:exit 2b-106e50e99d2b30af2558efa556e78f1454edc22a-555652c1ec175761-01
2022-04-25T18:40:41.244Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:41.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-78cb6a3ba05df2a23ffc54f03ab5cf779b82ba6b-bafbc52915999481-01 outer:exit 2b-78cb6a3ba05df2a23ffc54f03ab5cf779b82ba6b-c656f6aea6880d33-01
2022-04-25T18:40:41.249Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:41.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a6ca9cf14a91504c376930b7cacb3e3a9ac6b15-fcffbe327ad088b9-01 outer:exit 2b-4a6ca9cf14a91504c376930b7cacb3e3a9ac6b15-3cb46a740a263a01-01
2022-04-25T18:40:41.253Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:41.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-777bfca5553a470a605c938b77fa6e14a6464ba5-6366ad6056572e9d-01 outer:exit 2b-777bfca5553a470a605c938b77fa6e14a6464ba5-3eb17d681b389fad-01
2022-04-25T18:40:41.257Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:41.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dde26f0ab075728fcb36455fcd45869fc1cfeb9-9872f39c82cb6a70-01 outer:exit 2b-7dde26f0ab075728fcb36455fcd45869fc1cfeb9-cc94d4af90d7a882-01
2022-04-25T18:40:41.263Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:41.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-87c343fceeebcd2f8e2739fc1858d729f89d5891-4cbaa5fe722cbed2-01 outer:exit 2b-87c343fceeebcd2f8e2739fc1858d729f89d5891-71044dbf501cfbc1-01
2022-04-25T18:40:41.267Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:41.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-61a17d819b51a2b90320b156f031c092dd22bab3-410a7366cc6425bf-01 outer:exit 2b-61a17d819b51a2b90320b156f031c092dd22bab3-37a74601395ec22e-01
2022-04-25T18:40:41.274Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:41.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e803999efac0790ffa747d70c7092f92dc3c5b-8d02231347724f26-01 outer:exit 2b-70e803999efac0790ffa747d70c7092f92dc3c5b-4087078df6ce809d-01
2022-04-25T18:40:41.291Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:41.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-82fb218a71e12beb6e455d9ebde73c298b7a7012-89190417d8474a90-01 outer:exit 2b-82fb218a71e12beb6e455d9ebde73c298b7a7012-e1b1295c72c57908-01
2022-04-25T18:40:41.341Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:41.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-18e652ceca2e0d6a894317b728d0676d7a00ab71-28b260dd7a89ddf9-01 outer:exit 2b-18e652ceca2e0d6a894317b728d0676d7a00ab71-eb49b6a0217fe282-01
2022-04-25T18:40:41.344Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:41.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-472d8ec2ed76f73207cbc4374cc7dee75169905d-03cf038370eb747e-01 outer:exit 2b-472d8ec2ed76f73207cbc4374cc7dee75169905d-9273c0bf8796cae0-01
2022-04-25T18:40:41.350Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:41.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-1081c4ffb70a4d963da7b69b82b38513eac64425-fb4345a24a09f3b5-01 outer:exit 2b-1081c4ffb70a4d963da7b69b82b38513eac64425-1a38ea50ded8c6bc-01
2022-04-25T18:40:41.353Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:41.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d051b064f598583e304cbeba5fd56f7f1220e90-8d88eead1f9c8b8b-01 outer:exit 2b-4d051b064f598583e304cbeba5fd56f7f1220e90-9e574d85923d3f81-01
2022-04-25T18:40:41.356Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:41.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-5916f6e06002da7d9c71406d3198b5cc43d01670-79e598273955d160-01 outer:exit 2b-5916f6e06002da7d9c71406d3198b5cc43d01670-c4b27edfe77e9814-01
2022-04-25T18:40:41.359Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:41.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2266e3d742bbb7d39d029da872da21068519c78-a52aebb875b0d458-01 outer:exit 2b-d2266e3d742bbb7d39d029da872da21068519c78-2b0820aaf958171d-01
2022-04-25T18:40:41.362Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:41.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-c37249f9ca05578f90c21b9d6a74f09e6a69d851-2b5fb58a70f09863-01 outer:exit 2b-c37249f9ca05578f90c21b9d6a74f09e6a69d851-84255c63174154f5-01
2022-04-25T18:40:41.365Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:41.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-b23813210578664ef0290b89c7496c1a954f6865-32f2d84be0829da7-01 outer:exit 2b-b23813210578664ef0290b89c7496c1a954f6865-693f0290ca0b94f0-01
2022-04-25T18:40:41.367Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:41.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dbca570a8495f94eb7a5b252ab40325457a012e-8e9fbc32c565befe-01 outer:exit 2b-4dbca570a8495f94eb7a5b252ab40325457a012e-9288df3f0336a6f6-01
2022-04-25T18:40:41.371Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:41.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f56a0736044caa34d6904a498f118fe375e8944-19658dbe7d40cb40-01 outer:exit 2b-3f56a0736044caa34d6904a498f118fe375e8944-039294306bc20bb8-01
2022-04-25T18:40:41.375Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:41.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa7c276e36762e489054b0780d231d31f3119d3f-18321ce081fad624-01 outer:exit 2b-fa7c276e36762e489054b0780d231d31f3119d3f-dd35e8bb8706c941-01
2022-04-25T18:40:41.378Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:41.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-57991d7786115a6082eecea7a00cc12d5e2df46c-0ea473c12364ec6b-01 outer:exit 2b-57991d7786115a6082eecea7a00cc12d5e2df46c-c966fa4cb37ddc9f-01
2022-04-25T18:40:41.380Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:41.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a816c79a61cd61c0f99c776e6e08590559b2a35-58f4999ab8fa7a39-01 outer:exit 2b-1a816c79a61cd61c0f99c776e6e08590559b2a35-81785072bdef8348-01
2022-04-25T18:40:41.387Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:41.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-d912db1446c8ce94a2126b59eb9d398f915c147a-c98fd6580444a844-01 outer:exit 2b-d912db1446c8ce94a2126b59eb9d398f915c147a-834dc0090758ec69-01
2022-04-25T18:40:41.394Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:41.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-142a377048da5d75d8239da05a01873f058d0b68-fb769255f6c805fe-01 outer:exit 2b-142a377048da5d75d8239da05a01873f058d0b68-8d9a927bba900607-01
2022-04-25T18:40:41.405Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:41.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b483d9a3d2e84c404c9de0d84e316835e85c6ad-8b5cd43fd0181d04-01 outer:exit 2b-7b483d9a3d2e84c404c9de0d84e316835e85c6ad-43d1afd8c86aec3a-01
2022-04-25T18:40:41.413Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:41.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c1392db946ab35327f19e7fccda12216f15f096-3dd0fd231007f320-01 outer:exit 2b-5c1392db946ab35327f19e7fccda12216f15f096-3f09d2f5be37d917-01
2022-04-25T18:40:41.415Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:41.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7ae55bdbe61022d85940cfcbd1cc82dea6ff8f7-827a7e28466977be-01 outer:exit 2b-f7ae55bdbe61022d85940cfcbd1cc82dea6ff8f7-7c510a3f2c8440f0-01
2022-04-25T18:40:41.420Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:41.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-2627a513108848f979cf8c05642b72a1dfbdfdde-8746b2d7c9586b2b-01 outer:exit 2b-2627a513108848f979cf8c05642b72a1dfbdfdde-f04cf47e8cae1bed-01
2022-04-25T18:40:41.429Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:41.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f54f8af0fa1fa55df7af9eeeb77fe89ef96f62d-10efdf8b5fbbc920-01 outer:exit 2b-2f54f8af0fa1fa55df7af9eeeb77fe89ef96f62d-5714feb3a50e4606-01
2022-04-25T18:40:41.431Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:41.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8abe4a2a77bf2b61567db353c86e0ea9e65b0a8-d44fe6b1084e9627-01 outer:exit 2b-a8abe4a2a77bf2b61567db353c86e0ea9e65b0a8-78938258ffe72dfd-01
2022-04-25T18:40:41.434Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:41.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-a65686fc5020a5860b968e1033c0bd7ffab9f4a4-07388ecca7e84621-01 outer:exit 2b-a65686fc5020a5860b968e1033c0bd7ffab9f4a4-1fa5bd1dbf055e8d-01
2022-04-25T18:40:41.436Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:41.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-20cd41fba4b085f79c191d812627a0efb16b05bb-012084e8b53c8b41-01 outer:exit 2b-20cd41fba4b085f79c191d812627a0efb16b05bb-50bfd398daefecf3-01
2022-04-25T18:40:41.438Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:41.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-c74a32c49023d8c61c4d951d601efe5a8addf0e9-db7b926bd85fdd00-01 outer:exit 2b-c74a32c49023d8c61c4d951d601efe5a8addf0e9-e81fd73658a761fd-01
2022-04-25T18:40:41.441Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:41.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d7e78573339b1c4b225395d44f32f61fd8faea3-2d9b5bda076d516a-01 outer:exit 2b-7d7e78573339b1c4b225395d44f32f61fd8faea3-1f852e4f61b667ec-01
2022-04-25T18:40:41.452Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:41.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaa09f48a7b9c9088976f7593e4951bbf00ee253-b66ae969428cb53e-01 outer:exit 2b-aaa09f48a7b9c9088976f7593e4951bbf00ee253-d94b246634011ab7-01
2022-04-25T18:40:41.463Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:41.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-b135ee60cc8aec59a790ffadec9e73d8c9f6730d-163c81f91ffa53f6-01 outer:exit 2b-b135ee60cc8aec59a790ffadec9e73d8c9f6730d-f649b36a8a66315a-01
2022-04-25T18:40:41.467Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:41.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-71055b48eade04b91dd0d0588f4cf24f20535104-423b9e4cbc0cee57-01 outer:exit 2b-71055b48eade04b91dd0d0588f4cf24f20535104-dc61d5acbcf49dd0-01
2022-04-25T18:40:41.470Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:41.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebc6e46abc8d8b4495f05a75e2b97baf61225aff-178b6d3bed28602b-01 outer:exit 2b-ebc6e46abc8d8b4495f05a75e2b97baf61225aff-acc85cd9cdbad001-01
2022-04-25T18:40:41.473Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:41.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b0edc8825e289261d69187e2578334b8f88cb7f-2e00354f576a9842-01 outer:exit 2b-3b0edc8825e289261d69187e2578334b8f88cb7f-e6170ce994db95ed-01
2022-04-25T18:40:41.508Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (390ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:50.309Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:50.309Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:50.310Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:50.310Z appoptics:debug using context provider: ace-context
2022-04-25T18:40:50.391Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:40:50.565Z appoptics:patching patched crypto 
2022-04-25T18:40:50.589Z appoptics:patching patched https 
2022-04-25T18:40:50.590Z appoptics:patching patched http 
2022-04-25T18:40:50.646Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:40:50.646Z appoptics:patching patched fs 
2022-04-25T18:40:50.663Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v16.14.2)
2022-04-25T18:40:50.670Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-25T18:40:50.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-49234fc198bec8b599fb5fc3fb0a13a129d83cdf-847c740bfe57aa93-01 outer:exit 2b-49234fc198bec8b599fb5fc3fb0a13a129d83cdf-b948db1d287d5091-01
2022-04-25T18:40:50.728Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:40:50.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-98087fe5a8ee5627acf6ecab7ffa32e7b66907e1-5ccbfd809d2db4c9-01 outer:exit 2b-98087fe5a8ee5627acf6ecab7ffa32e7b66907e1-5e2a9b8abe691d79-01
2022-04-25T18:40:50.779Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:40:50.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc68ec51eb9db4a225bf9c8d725c290ba05aec80-f044a9745f680d04-01 outer:exit 2b-dc68ec51eb9db4a225bf9c8d725c290ba05aec80-ba27f462a0daa43d-01
2022-04-25T18:40:50.784Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:40:50.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a056d895b42d8cc3ad4d4e7aa43de922c2244ee-72a1ee534037a943-01 outer:exit 2b-8a056d895b42d8cc3ad4d4e7aa43de922c2244ee-6348969822dc7781-01
2022-04-25T18:40:50.788Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:40:50.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-a958a8bb431312049472ba61e0bf190ef91880df-4b4b70c44dff8e3c-01 outer:exit 2b-a958a8bb431312049472ba61e0bf190ef91880df-6d95da22ceef38e9-01
2022-04-25T18:40:50.796Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:40:50.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa0dc7667279554b1bcff006cc9323610ba447f8-c9df4838446ca135-01 outer:exit 2b-fa0dc7667279554b1bcff006cc9323610ba447f8-c750af1177b17cd7-01
2022-04-25T18:40:50.801Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:40:50.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f4b91e6b85c07c2117bb6ef3cba34dd0f523a4a-20adf8afc812648e-01 outer:exit 2b-8f4b91e6b85c07c2117bb6ef3cba34dd0f523a4a-af0e714c8eca0cab-01
2022-04-25T18:40:50.806Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:40:50.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-70573e18e96e5adf88863008cebb00ba0865033f-2c1fe8862da65473-01 outer:exit 2b-70573e18e96e5adf88863008cebb00ba0865033f-e6938fea3cf1b02c-01
2022-04-25T18:40:50.810Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:40:50.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-820a037d6e11795b6e69917031d7507efafdcbe9-f388dfc2aaefbd47-01 outer:exit 2b-820a037d6e11795b6e69917031d7507efafdcbe9-1ae3b57c113a1454-01
2022-04-25T18:40:50.814Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:40:50.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-292a0c25e9a0e924043367aadac16b0c1b7e22a1-42c64c81fa1c9e86-01 outer:exit 2b-292a0c25e9a0e924043367aadac16b0c1b7e22a1-652bce3a894b82dd-01
2022-04-25T18:40:50.819Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:40:50.827Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a8238663f43e1ce721abacf511377c1dbc3edb8-60bb5ac847261e50-01 outer:exit 2b-4a8238663f43e1ce721abacf511377c1dbc3edb8-32eeac1271d51ff6-01
2022-04-25T18:40:50.827Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:40:50.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-d35100e112ac657d6633551e386348b8d0538b8f-49b87f68e23d78e0-01 outer:exit 2b-d35100e112ac657d6633551e386348b8d0538b8f-7d36f15e0323f857-01
2022-04-25T18:40:50.835Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:40:50.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-42f7e831f3d5839b80576c2ab5f09c6cd0451bb0-ebef38f5a9eea22d-01 outer:exit 2b-42f7e831f3d5839b80576c2ab5f09c6cd0451bb0-ca0c6fb4c32df04a-01
2022-04-25T18:40:50.854Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:40:50.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-804127ca7e47eaa5cbb46792b9b3f29dbd83db27-2cd6e61d86fbb028-01 outer:exit 2b-804127ca7e47eaa5cbb46792b9b3f29dbd83db27-81bcd1f467cec7e4-01
2022-04-25T18:40:50.900Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:40:50.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa7e400c298dcee255bca0147cd16f8bdedae67d-00a6548357b37f75-01 outer:exit 2b-fa7e400c298dcee255bca0147cd16f8bdedae67d-791c6b1d4b164b6c-01
2022-04-25T18:40:50.904Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:40:50.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-80d4c08aff5cce7aaf23e5a784bd34a060838438-e0fc8578a0de3f55-01 outer:exit 2b-80d4c08aff5cce7aaf23e5a784bd34a060838438-b81f3bf2e256c27b-01
2022-04-25T18:40:50.907Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:40:50.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-d753c30ebf510875fc4215994b8913dec1fbbc67-eea34b5b7e4a5534-01 outer:exit 2b-d753c30ebf510875fc4215994b8913dec1fbbc67-588e5ca4f0333313-01
2022-04-25T18:40:50.911Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:40:50.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1d59758f94a90ff20d5de71f1085c1fde475a0f-823dc26f0df89ee6-01 outer:exit 2b-c1d59758f94a90ff20d5de71f1085c1fde475a0f-502cd5fee05c9ca4-01
2022-04-25T18:40:50.915Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:40:50.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3e6e4fdad10c3f43d02fa67099acd8e52931fc5-0b90879f8ecc841b-01 outer:exit 2b-c3e6e4fdad10c3f43d02fa67099acd8e52931fc5-bf87cbeadd0c07ce-01
2022-04-25T18:40:50.918Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:40:50.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a7c4cb25f6c2326625365a75c264448e0e0254c-f96aca3c980feed8-01 outer:exit 2b-9a7c4cb25f6c2326625365a75c264448e0e0254c-3ee40ea0d938220e-01
2022-04-25T18:40:50.920Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:40:50.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-d22e1a8e1aa8012c6dfecf453a9a68084234fe6e-c6be9de4c163ee07-01 outer:exit 2b-d22e1a8e1aa8012c6dfecf453a9a68084234fe6e-478b320c1a1e5f6e-01
2022-04-25T18:40:50.923Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:40:50.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-86622492085188e8fb73c5a23f70ff6e417c5b03-a1cbaf686dcdb776-01 outer:exit 2b-86622492085188e8fb73c5a23f70ff6e417c5b03-0fe7f7fcaf39e908-01
2022-04-25T18:40:50.926Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:40:50.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e5baed4a7e3e5587ae3d5142f4b540c36d94301-3a343cec14ea6035-01 outer:exit 2b-7e5baed4a7e3e5587ae3d5142f4b540c36d94301-a18a0cf691368657-01
2022-04-25T18:40:50.931Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:40:50.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed08cfbb337909496c629035013ff1c1f043ee66-b1fb42f7ca94cfa1-01 outer:exit 2b-ed08cfbb337909496c629035013ff1c1f043ee66-2c19c66cafb55fa4-01
2022-04-25T18:40:50.934Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:40:50.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc84ecac2ff14d33fdf1404ec725133cbc95d5f5-4e735d10c3a28663-01 outer:exit 2b-bc84ecac2ff14d33fdf1404ec725133cbc95d5f5-1a823a5a2f9c2fea-01
2022-04-25T18:40:50.938Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:40:50.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-289ee4439e2910cdf8a5258d3dd0e1f512fdd911-27d9b68f9c3a20cb-01 outer:exit 2b-289ee4439e2910cdf8a5258d3dd0e1f512fdd911-1f9ac6bf74a46e80-01
2022-04-25T18:40:50.941Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:40:50.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-642683d18494d3b7a96a71422453711737c9353a-259e8265b6dee731-01 outer:exit 2b-642683d18494d3b7a96a71422453711737c9353a-f7b1ccde0069e315-01
2022-04-25T18:40:50.948Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:40:50.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-2995bf171c19bef88376e51bf59406987bc5ee7f-af597397e9999179-01 outer:exit 2b-2995bf171c19bef88376e51bf59406987bc5ee7f-0dbbbc44aaef3bdb-01
2022-04-25T18:40:50.956Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:40:50.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c9fc4926370f3d2376c0340c5068d858f86f204-fc9fc4150d44aeee-01 outer:exit 2b-7c9fc4926370f3d2376c0340c5068d858f86f204-56412cb8befa3be2-01
2022-04-25T18:40:50.966Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:40:50.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c868f8aa69c7cc116b081c64272e6fe9be6e96e-187b5b641c2b46a6-01 outer:exit 2b-2c868f8aa69c7cc116b081c64272e6fe9be6e96e-64456a9893c81424-01
2022-04-25T18:40:50.975Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:40:50.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-a742447c383b60ad5fb8fea5dd40480c1500451c-0838c98399047f84-01 outer:exit 2b-a742447c383b60ad5fb8fea5dd40480c1500451c-e78348345caa0feb-01
2022-04-25T18:40:50.977Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:40:50.981Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e515f49e1bfeb38c34098925ab0f0d7818104fc-738b583b7412af59-01 outer:exit 2b-1e515f49e1bfeb38c34098925ab0f0d7818104fc-2ca237cd8efdeb68-01
2022-04-25T18:40:50.981Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:40:50.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-56b25ad8527cde161738452d1c1ab840fd0b814e-e9b238d0c2133532-01 outer:exit 2b-56b25ad8527cde161738452d1c1ab840fd0b814e-12bee9b91a55441f-01
2022-04-25T18:40:50.989Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:40:50.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-37503564e1383af7ef22e84e8416d7e73dcb522f-390cfa8cd90e868a-01 outer:exit 2b-37503564e1383af7ef22e84e8416d7e73dcb522f-5e56904fe6eaa0db-01
2022-04-25T18:40:50.992Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:40:50.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bdbbacb19a14d2bfd2ad2379264a48483293b36-a2b20a447aeaab9e-01 outer:exit 2b-5bdbbacb19a14d2bfd2ad2379264a48483293b36-8a6c07ba0b1aa496-01
2022-04-25T18:40:50.995Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:40:50.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-f43dc596177a69f5585a57ee134689af98c55607-5b94ee6def4d99d9-01 outer:exit 2b-f43dc596177a69f5585a57ee134689af98c55607-b5df0a4b40adcfef-01
2022-04-25T18:40:50.997Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:40:50.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef46921f207e47006aab0845006ebadf4261c616-5e4401637fb7edb9-01 outer:exit 2b-ef46921f207e47006aab0845006ebadf4261c616-a10d20c935f61791-01
2022-04-25T18:40:50.999Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:40:51.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-89560769fc0682b6636a5326a495393ab36546b8-911f44ce34a1bbda-01 outer:exit 2b-89560769fc0682b6636a5326a495393ab36546b8-cfe5844594f89984-01
2022-04-25T18:40:51.002Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:40:51.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-680f662a6df5a2b8199c0cfd0c408618669e561e-0a6bbe7b456f38d6-01 outer:exit 2b-680f662a6df5a2b8199c0cfd0c408618669e561e-fff75439b38fd296-01
2022-04-25T18:40:51.013Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:40:51.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-98d03c5e08caf6c8063f00368d0fd2df26a47cde-aa2118f7c5709929-01 outer:exit 2b-98d03c5e08caf6c8063f00368d0fd2df26a47cde-862ca27cb05f6871-01
2022-04-25T18:40:51.023Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:40:51.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-e589ac725a448d30c43c9b866efcbb3d03c3e105-a33fb91fade11ad5-01 outer:exit 2b-e589ac725a448d30c43c9b866efcbb3d03c3e105-efe8d5d0967c25f1-01
2022-04-25T18:40:51.027Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:40:51.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a6116121f257b46e2b9ca5581f9400e175ac82b-37955526a2106015-01 outer:exit 2b-1a6116121f257b46e2b9ca5581f9400e175ac82b-b90bb52ee75db4c9-01
2022-04-25T18:40:51.030Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:40:51.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a0baa48f7fe265221623f417326e03b78bcdce-4bdfd9bcb8f812ce-01 outer:exit 2b-77a0baa48f7fe265221623f417326e03b78bcdce-a05c027aea445f91-01
2022-04-25T18:40:51.033Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:40:51.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b68b6d1092e3d7e39c2c816c35c601b8386762c-a516ed5cc3f49dbd-01 outer:exit 2b-5b68b6d1092e3d7e39c2c816c35c601b8386762c-3ec0932ab2fe82da-01
2022-04-25T18:40:51.069Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (392ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:40:59.989Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:40:59.990Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:40:59.990Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:40:59.991Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:00.073Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:00.240Z appoptics:patching patched crypto 
2022-04-25T18:41:00.264Z appoptics:patching patched https 
2022-04-25T18:41:00.264Z appoptics:patching patched http 
2022-04-25T18:41:00.314Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:00.315Z appoptics:patching patched fs 
2022-04-25T18:41:00.348Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v16.14.2)
2022-04-25T18:41:00.356Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-25T18:41:00.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a75856d75afab2bd4437e96259fbfe57780dc08-d583093e13cd9274-01 outer:exit 2b-9a75856d75afab2bd4437e96259fbfe57780dc08-acec7a9fd59c5b94-01
2022-04-25T18:41:00.411Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:00.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b7f98a9b8860763ebcb92b556be2c5776845887-42977a2623cf4f89-01 outer:exit 2b-5b7f98a9b8860763ebcb92b556be2c5776845887-3b1dafe4263fe6d9-01
2022-04-25T18:41:00.464Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:00.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ee4e0bdd966d99fb346cc3c576a82c721857450-701aa17d7c38ff8f-01 outer:exit 2b-7ee4e0bdd966d99fb346cc3c576a82c721857450-67bc1bc39f45dacb-01
2022-04-25T18:41:00.468Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:00.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc87fe86b87c64468d9d4866064a743e13c64e98-52c5668be1202b8e-01 outer:exit 2b-dc87fe86b87c64468d9d4866064a743e13c64e98-66a36170fd15065c-01
2022-04-25T18:41:00.472Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:00.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-76beeb4afe0daf23c063c0dac145fab0eae9b03c-85fdd79e1ea92156-01 outer:exit 2b-76beeb4afe0daf23c063c0dac145fab0eae9b03c-7cabf326c7c002eb-01
2022-04-25T18:41:00.479Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:00.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e65c76f09423683799003c4079dfd289a5f2cce-f9eda30d08701a86-01 outer:exit 2b-4e65c76f09423683799003c4079dfd289a5f2cce-2d847a9b86aae4ab-01
2022-04-25T18:41:00.483Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:00.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-39bd93ad242fa97c04ad91f19d4e904dd0d2820f-7e290136a0efc662-01 outer:exit 2b-39bd93ad242fa97c04ad91f19d4e904dd0d2820f-a21018f9069c9a07-01
2022-04-25T18:41:00.486Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:00.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-efce7332757d53e28057726574670bfae3efb9bf-3a38d5f020f35b55-01 outer:exit 2b-efce7332757d53e28057726574670bfae3efb9bf-4899ac39aeeb4953-01
2022-04-25T18:41:00.492Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:00.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bcccfe4fd3713405a44404c48b18066153b8d13-b0ee62a331e5d071-01 outer:exit 2b-5bcccfe4fd3713405a44404c48b18066153b8d13-f24f2e52fb94499e-01
2022-04-25T18:41:00.496Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:00.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-f78449c039af058908bf864bd24b20c3a4c848fa-e6150795b5bb5662-01 outer:exit 2b-f78449c039af058908bf864bd24b20c3a4c848fa-52346263ac5e6b61-01
2022-04-25T18:41:00.500Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:00.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6dbc450963ef965d3eb22f8deea583a1a405dd7-e2cb9ba1cf3670fb-01 outer:exit 2b-f6dbc450963ef965d3eb22f8deea583a1a405dd7-0102ad1ce72131be-01
2022-04-25T18:41:00.505Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:00.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-edac5a32ba89a549147564292b4c158fdf56611d-142cf3e5fc2945c7-01 outer:exit 2b-edac5a32ba89a549147564292b4c158fdf56611d-f082a239ecc5456c-01
2022-04-25T18:41:00.514Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:00.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d995f77d84cc3147f69078306fb74513cb6a0c3-1e62d1eedd9e862b-01 outer:exit 2b-1d995f77d84cc3147f69078306fb74513cb6a0c3-20c323999153c48a-01
2022-04-25T18:41:00.538Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:00.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7aea8a8fdd3102ec23032b66788d9c5b34a13c3-f81dfd391322b97c-01 outer:exit 2b-a7aea8a8fdd3102ec23032b66788d9c5b34a13c3-83b33e55e9128d59-01
2022-04-25T18:41:00.584Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:00.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e8217e12012c80acfec6bddca8fc8f39e7018e0-5dc4ce4505fca7c5-01 outer:exit 2b-5e8217e12012c80acfec6bddca8fc8f39e7018e0-80519d3ae43ca496-01
2022-04-25T18:41:00.589Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:00.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-69fa36d73dea8a09b20af1e04d191b33036c2db0-828651f875983049-01 outer:exit 2b-69fa36d73dea8a09b20af1e04d191b33036c2db0-88fdb813595eb8c9-01
2022-04-25T18:41:00.592Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:00.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-7176efd2bd850e04ab05afc620819ac1ac9377e6-7e8716df522522d0-01 outer:exit 2b-7176efd2bd850e04ab05afc620819ac1ac9377e6-4366a181f4bff6d8-01
2022-04-25T18:41:00.596Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:00.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-932400dbb6cbbcbd7a49bd3e3782626cf55421a3-c1078fdff8448737-01 outer:exit 2b-932400dbb6cbbcbd7a49bd3e3782626cf55421a3-5b7218d0e7d0a8a3-01
2022-04-25T18:41:00.599Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:00.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fd1ded9cec735662e9dd1649178885d20a0952b-a5ce178f89eb3894-01 outer:exit 2b-8fd1ded9cec735662e9dd1649178885d20a0952b-250a8bbcb60f9c83-01
2022-04-25T18:41:00.602Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:00.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8fb02e61d4846269935484bffdac757d0afa8fc-68c5a0975b531470-01 outer:exit 2b-f8fb02e61d4846269935484bffdac757d0afa8fc-e2b67179442023ed-01
2022-04-25T18:41:00.605Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:00.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae57131087b7cb4c93f6a5b519838a53744f2f92-afa770df1563802b-01 outer:exit 2b-ae57131087b7cb4c93f6a5b519838a53744f2f92-82c54e224d7761e1-01
2022-04-25T18:41:00.607Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:00.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-76f685fa051800618569a8941e5a413c1eb6c999-bbb3a8b44d3e09cb-01 outer:exit 2b-76f685fa051800618569a8941e5a413c1eb6c999-d3eef20b22c1376f-01
2022-04-25T18:41:00.610Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:00.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d3cf2afdf9e0fec9e4a0f5bab0670371938edd8-ee0d14314077b257-01 outer:exit 2b-1d3cf2afdf9e0fec9e4a0f5bab0670371938edd8-f5a582d9ef64b981-01
2022-04-25T18:41:00.614Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:00.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-eadfa7af7b7ae5977f29938e55bece24ce5dbd2d-7163d210b0aaaf85-01 outer:exit 2b-eadfa7af7b7ae5977f29938e55bece24ce5dbd2d-72623b878ea2f497-01
2022-04-25T18:41:00.618Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:00.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee9253f10563f1d7da3d8f6c0f416a9ed20f8142-7898c643a98349ab-01 outer:exit 2b-ee9253f10563f1d7da3d8f6c0f416a9ed20f8142-e203371d36d209e6-01
2022-04-25T18:41:00.622Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:00.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-c426a4e0dc7a2207b1f4a35748abc699143cd658-e914b302e8381123-01 outer:exit 2b-c426a4e0dc7a2207b1f4a35748abc699143cd658-e8c6d3557a8dcd8f-01
2022-04-25T18:41:00.625Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:00.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-7afd6a27b8ab97f9a34d1ff818945494b0cb8e88-8312d157bb5c875a-01 outer:exit 2b-7afd6a27b8ab97f9a34d1ff818945494b0cb8e88-4a29d3c32229196b-01
2022-04-25T18:41:00.632Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:00.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-4631ef3e8390546fd388787e0d4741bf33261b30-08a2c60387bd921b-01 outer:exit 2b-4631ef3e8390546fd388787e0d4741bf33261b30-ba0b848c1aafda98-01
2022-04-25T18:41:00.647Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:00.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-262345878ab0d7d1ab0f509b957d670362dfa6c7-185d94c53e586e04-01 outer:exit 2b-262345878ab0d7d1ab0f509b957d670362dfa6c7-b2caa7c6152cd9f5-01
2022-04-25T18:41:00.664Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:00.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-75f46c1b030887beb7ab1582856cfa1ce5633971-1662611da6914548-01 outer:exit 2b-75f46c1b030887beb7ab1582856cfa1ce5633971-e4e9e7e5bb363bec-01
2022-04-25T18:41:00.673Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:00.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-cef677dbe97642a92c83c2df1b9fef80cade82a1-455616a4d501df09-01 outer:exit 2b-cef677dbe97642a92c83c2df1b9fef80cade82a1-ff32bc91d9319796-01
2022-04-25T18:41:00.677Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:00.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-22d514baaa58da3f572ed65560d7627e301bad02-d12f6267e4030516-01 outer:exit 2b-22d514baaa58da3f572ed65560d7627e301bad02-99ee61b277c3b74f-01
2022-04-25T18:41:00.688Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:00.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-c44d0132f0bb148d6dcf236fedbb0392eece3d42-7f35d3fc8b775efe-01 outer:exit 2b-c44d0132f0bb148d6dcf236fedbb0392eece3d42-67607af34ba7660c-01
2022-04-25T18:41:00.699Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:00.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-85e15e99f2b09ccee7b7c79c29e20c3c0618c0ec-bdb959dc51eb42e2-01 outer:exit 2b-85e15e99f2b09ccee7b7c79c29e20c3c0618c0ec-25958858ce5c9066-01
2022-04-25T18:41:00.702Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:00.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-e707177cae040b06a7a9b2305d419e3423bc1bd4-d9696a1658195535-01 outer:exit 2b-e707177cae040b06a7a9b2305d419e3423bc1bd4-fbc2357e2b996d9e-01
2022-04-25T18:41:00.705Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:00.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-60cd4d1e7349c0b29a51f0a3b0c24b1a876554ca-17fa5dac7f7218f5-01 outer:exit 2b-60cd4d1e7349c0b29a51f0a3b0c24b1a876554ca-f7ca8bcbc791b8ea-01
2022-04-25T18:41:00.707Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:00.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-2869a20bbe63a81140b2e3b9357740b04fdc98cc-3e02fa3cb8171041-01 outer:exit 2b-2869a20bbe63a81140b2e3b9357740b04fdc98cc-81faa9ea497766cf-01
2022-04-25T18:41:00.709Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:00.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-7704173088cd7c7ebfbdab7d489e2964a59ddadb-a3b3d35a9631fa61-01 outer:exit 2b-7704173088cd7c7ebfbdab7d489e2964a59ddadb-2fad4238fdd3c579-01
2022-04-25T18:41:00.711Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:00.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ff504587eefc367b549e984d85f489ab7e675d6-b119fb9464809d1f-01 outer:exit 2b-6ff504587eefc367b549e984d85f489ab7e675d6-a90b5921fb8aa0a2-01
2022-04-25T18:41:00.722Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:00.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4878df4e1704d3f3b5b03c8d8f0dc18470d7cc3-316cfe9e1b0c7124-01 outer:exit 2b-b4878df4e1704d3f3b5b03c8d8f0dc18470d7cc3-fdbc3bcb187ed143-01
2022-04-25T18:41:00.733Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:00.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-6331a1e21c00dc35de7e35e1e89ef316e45140b8-6e57506239797d8d-01 outer:exit 2b-6331a1e21c00dc35de7e35e1e89ef316e45140b8-bb94e377afcc554c-01
2022-04-25T18:41:00.738Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:00.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-35cee3da9db9ba9751f6f6c57fb46fb3e06cda01-62f88b54919b1649-01 outer:exit 2b-35cee3da9db9ba9751f6f6c57fb46fb3e06cda01-6a4479fcf65b9e37-01
2022-04-25T18:41:00.741Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:00.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-011a117fffc664a257675dd25bfd9693ad243d33-9311805163994237-01 outer:exit 2b-011a117fffc664a257675dd25bfd9693ad243d33-8460267523ac54cb-01
2022-04-25T18:41:00.744Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:00.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-27aa7d508466de2939d8a5bd2f7a97fd0d6f69a8-a4da9754ed88f78b-01 outer:exit 2b-27aa7d508466de2939d8a5bd2f7a97fd0d6f69a8-bdb732a7852f8410-01
2022-04-25T18:41:00.785Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (422ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:08.421Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:08.422Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:08.422Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:08.423Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:08.512Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:08.692Z appoptics:patching patched crypto 
2022-04-25T18:41:08.737Z appoptics:patching patched https 
2022-04-25T18:41:08.737Z appoptics:patching patched http 
2022-04-25T18:41:08.795Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:08.796Z appoptics:patching patched fs 
2022-04-25T18:41:08.842Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v16.14.2)
2022-04-25T18:41:08.852Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-25T18:41:08.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac715ffebe52a0ec53e055f6df61b4a231f082d-35822bf58b9fbfe4-01 outer:exit 2b-3ac715ffebe52a0ec53e055f6df61b4a231f082d-d879b8548f5e211e-01
2022-04-25T18:41:08.922Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:08.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c9f4314570e51574fcb209ba6489f8b770dd22b-17cd40667d4c5ebe-01 outer:exit 2b-9c9f4314570e51574fcb209ba6489f8b770dd22b-6f8bb7a9249fa232-01
2022-04-25T18:41:08.982Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:08.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-326137d7a929a55b75a42c21fae0a1f6199a635f-6c0b2daf5b0a7b61-01 outer:exit 2b-326137d7a929a55b75a42c21fae0a1f6199a635f-4d10af09b740e8bb-01
2022-04-25T18:41:08.993Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:08.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-80fb2910314df80d41f4789030a33b55eb4f7217-1536f8884a1b7b26-01 outer:exit 2b-80fb2910314df80d41f4789030a33b55eb4f7217-e3d13af4259a8fb6-01
2022-04-25T18:41:08.998Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:09.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7f0bea960e39f6474d703f4aa542394dda68c6-82815658d2531c3c-01 outer:exit 2b-ed7f0bea960e39f6474d703f4aa542394dda68c6-df8f863c03b5a200-01
2022-04-25T18:41:09.008Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:09.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b1683e50dcea472afed1052b6a9ad5ae2155597-c4724294bb775682-01 outer:exit 2b-0b1683e50dcea472afed1052b6a9ad5ae2155597-a487b6ce7f2ca009-01
2022-04-25T18:41:09.012Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:09.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-1738796e83459d1fd5326fb065f59bf54f81a6dc-301f793b006065bb-01 outer:exit 2b-1738796e83459d1fd5326fb065f59bf54f81a6dc-3146bbe80cd6c730-01
2022-04-25T18:41:09.018Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:09.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f4fbde6a2126d446597bdfe01d10e5e8c35456c-de1f22f24eb7e748-01 outer:exit 2b-2f4fbde6a2126d446597bdfe01d10e5e8c35456c-53489a02ef12ab4c-01
2022-04-25T18:41:09.022Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:09.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-742c43ddbf2b51029ee906bbd9a84878ed09ea4e-7c02b75a46624f0a-01 outer:exit 2b-742c43ddbf2b51029ee906bbd9a84878ed09ea4e-679278594c9e96ce-01
2022-04-25T18:41:09.034Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:09.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6d7350c452f20be18e2c4ad71d82be9eb54d04b-70ee6133ffc45f85-01 outer:exit 2b-d6d7350c452f20be18e2c4ad71d82be9eb54d04b-ce0395aee278c138-01
2022-04-25T18:41:09.042Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:09.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-b36ea813e92fa5337a7eda06b8e7aa0e76720b08-a77d8b4cf990fad4-01 outer:exit 2b-b36ea813e92fa5337a7eda06b8e7aa0e76720b08-8796abd692bfa00d-01
2022-04-25T18:41:09.055Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:09.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae920c5093cbeb099d848d30180b7f244b2bbf17-e6b386e487f138dc-01 outer:exit 2b-ae920c5093cbeb099d848d30180b7f244b2bbf17-32457e26c1d58e78-01
2022-04-25T18:41:09.067Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:09.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-d42c5db639379e4b8c777e14113ad8e142fa6f1c-80ff5995e534ba8b-01 outer:exit 2b-d42c5db639379e4b8c777e14113ad8e142fa6f1c-249dd52b87e3cef5-01
2022-04-25T18:41:09.088Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:09.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a4bcae68457155b4a4516146fa0967d9f07c494-c3edd63a55ae8a66-01 outer:exit 2b-0a4bcae68457155b4a4516146fa0967d9f07c494-2b2ee540090c9884-01
2022-04-25T18:41:09.145Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:09.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-b31d911227e8507f3ae3ab16b642a6273ca5d580-fee1d4cbe46c97de-01 outer:exit 2b-b31d911227e8507f3ae3ab16b642a6273ca5d580-9e04f94eeebea16a-01
2022-04-25T18:41:09.149Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:09.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-630f92d41e8cd5aec59d4165629dc86928a9ba92-8595feb69c3e8109-01 outer:exit 2b-630f92d41e8cd5aec59d4165629dc86928a9ba92-dc8f6b57b6850760-01
2022-04-25T18:41:09.152Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:09.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dfdd0a9dbc89c58ce8acce1622ee08c75cb8709-7b8acc9d034e0709-01 outer:exit 2b-3dfdd0a9dbc89c58ce8acce1622ee08c75cb8709-42e7907688810910-01
2022-04-25T18:41:09.155Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:09.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-41e8b0bf6f34a66b2aa9b801258094e8faa0fe1a-e52c762e4bb0e352-01 outer:exit 2b-41e8b0bf6f34a66b2aa9b801258094e8faa0fe1a-ac39953603d24815-01
2022-04-25T18:41:09.158Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:09.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-c56961270e104ba4d778d9f59d5bfb4346222108-7ad7b11a34c4eed3-01 outer:exit 2b-c56961270e104ba4d778d9f59d5bfb4346222108-18dd13728c59124c-01
2022-04-25T18:41:09.160Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:09.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-120b6c3bfc2216e4f3d1a902245eb868b290b219-9d3b9e79d68abd63-01 outer:exit 2b-120b6c3bfc2216e4f3d1a902245eb868b290b219-ee34faaf66b18063-01
2022-04-25T18:41:09.163Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:09.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-6057108f66839e46b6084f2ca20c9ced4a4ecf20-71db2bf08afd45f6-01 outer:exit 2b-6057108f66839e46b6084f2ca20c9ced4a4ecf20-9adcb5dce66eb744-01
2022-04-25T18:41:09.165Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:09.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-40439fd56af3cffa813cc68a091ebad5c2e71113-d3d3c95a74f6c85a-01 outer:exit 2b-40439fd56af3cffa813cc68a091ebad5c2e71113-b5992052e56cd688-01
2022-04-25T18:41:09.168Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:09.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-2442b339429b6a8fd9bab037eba57b426c72b4b1-cb54f3d9a8322ba0-01 outer:exit 2b-2442b339429b6a8fd9bab037eba57b426c72b4b1-a74159f2a9f988ae-01
2022-04-25T18:41:09.172Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:09.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-c60a1b37eadde08db475181921cc652d7e507499-e12dad8d1847dc11-01 outer:exit 2b-c60a1b37eadde08db475181921cc652d7e507499-bdd97e20aa8893ae-01
2022-04-25T18:41:09.176Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:09.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e0674ec6ad1b6d0d2d01c843136235e060996ac-3bd28f45396c57f7-01 outer:exit 2b-5e0674ec6ad1b6d0d2d01c843136235e060996ac-f643f507c00be5a4-01
2022-04-25T18:41:09.179Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:09.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7dd92121af23263c1e3ca088bb19d95b2c2903c-3aae9c0cee9c525c-01 outer:exit 2b-e7dd92121af23263c1e3ca088bb19d95b2c2903c-05eeac6aa89ca234-01
2022-04-25T18:41:09.182Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:09.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-3896c99d5acaf9735d0320f497f93d516c0e3f51-17f63d91d385d999-01 outer:exit 2b-3896c99d5acaf9735d0320f497f93d516c0e3f51-ed80958b953caeae-01
2022-04-25T18:41:09.189Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:09.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-d88f6eb6fe1403ac9d37c7920ff6e108660bd543-f8279bec2db64e09-01 outer:exit 2b-d88f6eb6fe1403ac9d37c7920ff6e108660bd543-79187a6a1a80d2db-01
2022-04-25T18:41:09.197Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:09.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbf6cc323ce8d2f8766a62e5f5b81d3e91a4ddcc-a646d14efff5c759-01 outer:exit 2b-cbf6cc323ce8d2f8766a62e5f5b81d3e91a4ddcc-b257b5fb5fbac305-01
2022-04-25T18:41:09.208Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:09.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd2292d71ee84705d215b1784bf679fbd4105dcd-5e167ea8a8c6aeeb-01 outer:exit 2b-cd2292d71ee84705d215b1784bf679fbd4105dcd-53ac8d64e053466f-01
2022-04-25T18:41:09.216Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:09.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-031c2ebdfb2eb8e8360a6a2b22522049b2207376-adf89c81cb5e8697-01 outer:exit 2b-031c2ebdfb2eb8e8360a6a2b22522049b2207376-207be03222360244-01
2022-04-25T18:41:09.218Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:09.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a1327fb738089ef96d7b4f8e38070212116b32f-7d69d977d96cdd1f-01 outer:exit 2b-6a1327fb738089ef96d7b4f8e38070212116b32f-6812480bf8053e50-01
2022-04-25T18:41:09.223Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:09.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-27bf4b66fbe66086c18ad6162d4463df19492250-2250c637b6e5c55f-01 outer:exit 2b-27bf4b66fbe66086c18ad6162d4463df19492250-31d96752b6b7d07c-01
2022-04-25T18:41:09.232Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:09.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-99813d943d8beb5760edc9a06f4d9edcfefdf4ce-6346f81fa5b1bff4-01 outer:exit 2b-99813d943d8beb5760edc9a06f4d9edcfefdf4ce-bc628c2fe10a9459-01
2022-04-25T18:41:09.234Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:09.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e55e1054682c6ac068dc48b350467092f317b46-c3252e8b9a13815c-01 outer:exit 2b-4e55e1054682c6ac068dc48b350467092f317b46-dd1218dd7c1c9e2c-01
2022-04-25T18:41:09.237Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:09.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-adbb5833dd3fe11cbb9c391a0552aa0c9e0c1e31-435bca5f52b93d24-01 outer:exit 2b-adbb5833dd3fe11cbb9c391a0552aa0c9e0c1e31-62be4c4b0481b22e-01
2022-04-25T18:41:09.239Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:09.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae41efcae4ca29a63763e7cdf720c77b0a8884b4-b713dbb77914ab69-01 outer:exit 2b-ae41efcae4ca29a63763e7cdf720c77b0a8884b4-2ac4b5ac63845817-01
2022-04-25T18:41:09.242Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:09.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-39cb90986ca34149244bdf4d80174206401593be-46c4599388a1b4de-01 outer:exit 2b-39cb90986ca34149244bdf4d80174206401593be-34c54dc5a751fb2a-01
2022-04-25T18:41:09.244Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:09.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-69430f406ff2172a65e801e840f17b8e878d5939-10a6baf3192ebad1-01 outer:exit 2b-69430f406ff2172a65e801e840f17b8e878d5939-8f2a6550f4bbc432-01
2022-04-25T18:41:09.255Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:09.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f8a75dbb326283c08a6dff8873a48f1b1139214-f92c34a1ac73b2ee-01 outer:exit 2b-1f8a75dbb326283c08a6dff8873a48f1b1139214-b3555ac83d155a42-01
2022-04-25T18:41:09.267Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:09.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-e37d354337c5deddde1d610a41fa6d96bcdac605-6c58dfd0d7b98de2-01 outer:exit 2b-e37d354337c5deddde1d610a41fa6d96bcdac605-715ac1e8d3ac8565-01
2022-04-25T18:41:09.271Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:09.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c08585a9e796bc5b69312350d7f7c46c137730e-d08bd896439ea1ba-01 outer:exit 2b-2c08585a9e796bc5b69312350d7f7c46c137730e-89a068db40c4e8af-01
2022-04-25T18:41:09.274Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:09.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c2f3bb1de3c4e9061035feab15f4888bcb16f3b-e95c828219e11eb0-01 outer:exit 2b-4c2f3bb1de3c4e9061035feab15f4888bcb16f3b-6c2d4ea460bf18b2-01
2022-04-25T18:41:09.278Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:09.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-04fd7f7cc574e667a6d79b316e4fb5166f8011d4-840ce72534257cb9-01 outer:exit 2b-04fd7f7cc574e667a6d79b316e4fb5166f8011d4-24131b1e43065d0a-01
2022-04-25T18:41:09.315Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (455ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:17.444Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:17.445Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:17.445Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:17.446Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:17.525Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:17.706Z appoptics:patching patched crypto 
2022-04-25T18:41:17.731Z appoptics:patching patched https 
2022-04-25T18:41:17.732Z appoptics:patching patched http 
2022-04-25T18:41:17.787Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:17.787Z appoptics:patching patched fs 
2022-04-25T18:41:17.820Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v16.14.2)
2022-04-25T18:41:17.828Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-25T18:41:17.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d232fea773d90f001750e9b95ebf59bedce6c3-97ae25d158c0598c-01 outer:exit 2b-60d232fea773d90f001750e9b95ebf59bedce6c3-de79570a2060c7d9-01
2022-04-25T18:41:17.886Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:17.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d538149b49ce0018245578aba988505ebc61f5b-b4d1c498713b0a19-01 outer:exit 2b-8d538149b49ce0018245578aba988505ebc61f5b-57d575d3e36b38b2-01
2022-04-25T18:41:17.939Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:17.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-8649b4da6bed63c610a84fc63d8381503815db8f-5adaf8995c4718b6-01 outer:exit 2b-8649b4da6bed63c610a84fc63d8381503815db8f-9e903bf4224262b4-01
2022-04-25T18:41:17.944Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:17.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-99d0e7e6987a86bbf91da710c7cdfbb543d71b94-e56f3bb7e90177d2-01 outer:exit 2b-99d0e7e6987a86bbf91da710c7cdfbb543d71b94-f53a621a95ffa428-01
2022-04-25T18:41:17.947Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:17.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-8877dcef6cd2293f22c989161432db420ae785e0-3b04e10535c90a4d-01 outer:exit 2b-8877dcef6cd2293f22c989161432db420ae785e0-6043007240d8947e-01
2022-04-25T18:41:17.953Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:17.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fae523c437c550b5ec5386084ad347abbacf263-2dbc31525deabcd2-01 outer:exit 2b-3fae523c437c550b5ec5386084ad347abbacf263-b8ffc9a590216437-01
2022-04-25T18:41:17.957Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:17.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-4374fb26e122500290b113b187d004ebe99f7858-75402a0a9e29c51a-01 outer:exit 2b-4374fb26e122500290b113b187d004ebe99f7858-29a5690b9c75aa4a-01
2022-04-25T18:41:17.964Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:17.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-801904d4869fafd49194aa5cc24be9249ec94759-194bc30d4b355884-01 outer:exit 2b-801904d4869fafd49194aa5cc24be9249ec94759-e1d35e841de8e3f1-01
2022-04-25T18:41:17.967Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:17.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-93923478bfe035fea0ad91a4857b3bafa1ca9028-c07a4faeb6911ace-01 outer:exit 2b-93923478bfe035fea0ad91a4857b3bafa1ca9028-0bcb93041df9f5d7-01
2022-04-25T18:41:17.970Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:17.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5da9894b4643e3a3ecc31f99f2e72419ac1e20b-14749502790da51e-01 outer:exit 2b-d5da9894b4643e3a3ecc31f99f2e72419ac1e20b-1b015db00af06cfe-01
2022-04-25T18:41:17.975Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:17.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-893696c74500636e6b0ce3cb53d85515e3d82e05-8dbb4b80f88e291e-01 outer:exit 2b-893696c74500636e6b0ce3cb53d85515e3d82e05-40ec17730944da96-01
2022-04-25T18:41:17.980Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:17.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-88815ea3ba258b736f67c5f1745033b86c46aac1-fffeca4358c513da-01 outer:exit 2b-88815ea3ba258b736f67c5f1745033b86c46aac1-31b277c49c840214-01
2022-04-25T18:41:17.988Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:18.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-08c488f58d76ac6138332d8d7a2c61074ab52375-4b31d7404f536e5a-01 outer:exit 2b-08c488f58d76ac6138332d8d7a2c61074ab52375-d347c88c1a7ea990-01
2022-04-25T18:41:18.008Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:18.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd146289429cc3ca7e1d1a283f5ae4af2a45a045-830db979a9f52e48-01 outer:exit 2b-dd146289429cc3ca7e1d1a283f5ae4af2a45a045-1bd73d643f993e21-01
2022-04-25T18:41:18.053Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:18.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-17586774cf86d6ef066d157008a4fa72fcd8b761-cdb980894640edee-01 outer:exit 2b-17586774cf86d6ef066d157008a4fa72fcd8b761-99b7affc256fca47-01
2022-04-25T18:41:18.057Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:18.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9db0de9727dd0baa2e0f457942c6bdb4f9319f2-7226b9130754f682-01 outer:exit 2b-a9db0de9727dd0baa2e0f457942c6bdb4f9319f2-718687228f4dd3b5-01
2022-04-25T18:41:18.059Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:18.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-a86b2ee7dfd92bb44d0f8b5d84de477a87fe86ed-aec31be7de516a30-01 outer:exit 2b-a86b2ee7dfd92bb44d0f8b5d84de477a87fe86ed-ec73b028bd3e26ff-01
2022-04-25T18:41:18.063Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:18.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-e954042065281d0b019b92d8ee0d061496769a0d-d69d30d2e9a417ef-01 outer:exit 2b-e954042065281d0b019b92d8ee0d061496769a0d-4927b168123cc838-01
2022-04-25T18:41:18.067Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:18.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8a5687679121f691bd3627e12deb8eaaca2dc33-78b201e15e0eff33-01 outer:exit 2b-c8a5687679121f691bd3627e12deb8eaaca2dc33-42c9615f7268c9d7-01
2022-04-25T18:41:18.071Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:18.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-50e007cdea8bae4486558f20d0210bcdf1197eed-8831b5212289e296-01 outer:exit 2b-50e007cdea8bae4486558f20d0210bcdf1197eed-461e0b894eab5c47-01
2022-04-25T18:41:18.074Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:18.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fc041ecc29f4257d33c15fad246296bacda2947-64a1435ab65a74bf-01 outer:exit 2b-5fc041ecc29f4257d33c15fad246296bacda2947-7fa778f3abaff613-01
2022-04-25T18:41:18.076Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:18.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e10c6903ad411c81e90b61b25157073d22c9d69-9a28ef97e38fb900-01 outer:exit 2b-5e10c6903ad411c81e90b61b25157073d22c9d69-06460c5289a39cbf-01
2022-04-25T18:41:18.081Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:18.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-62c7ffad0de19166db856d789a4f2c4f26f3628a-23eacf28c54f2f05-01 outer:exit 2b-62c7ffad0de19166db856d789a4f2c4f26f3628a-4c9c3030c48f728b-01
2022-04-25T18:41:18.086Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:18.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-6289c825b869eba96d2d9c5cef1efbad4cdc7f47-dab81ed44bb712bb-01 outer:exit 2b-6289c825b869eba96d2d9c5cef1efbad4cdc7f47-23c9150aaa993f81-01
2022-04-25T18:41:18.089Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:18.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-90211938fa6889156e39ef8718a3a0bb88ddf6a2-fefb7ea4e4f52ead-01 outer:exit 2b-90211938fa6889156e39ef8718a3a0bb88ddf6a2-e7407013846d79a7-01
2022-04-25T18:41:18.092Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:18.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-04c880d5503d6535c572fd9ba2aaf81c1b181a75-091a2108a9a3eac2-01 outer:exit 2b-04c880d5503d6535c572fd9ba2aaf81c1b181a75-c5871338ddb15421-01
2022-04-25T18:41:18.095Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:18.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-9bd7fe3b43447a678f2dd0065fe8ebe51af6fb21-b96e37ed9d3d4026-01 outer:exit 2b-9bd7fe3b43447a678f2dd0065fe8ebe51af6fb21-14bdba782981ba52-01
2022-04-25T18:41:18.112Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:18.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-9112c45cadde55df5c63a499079c2703980dff24-9b36116be0895379-01 outer:exit 2b-9112c45cadde55df5c63a499079c2703980dff24-14dd0b8cfc337ff0-01
2022-04-25T18:41:18.121Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:18.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-9669f12ac23ba56dd30735fb382f2b143874cc91-9aebe033fcbd9e3e-01 outer:exit 2b-9669f12ac23ba56dd30735fb382f2b143874cc91-ad068cd9fefdd74c-01
2022-04-25T18:41:18.143Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:18.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-76f7d81d53f4bda00e25bb920f5fd491c88b079c-f2eca4fecd1b7ea9-01 outer:exit 2b-76f7d81d53f4bda00e25bb920f5fd491c88b079c-1fada067a86bdae0-01
2022-04-25T18:41:18.153Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:18.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-58cdc7ab27c628883fbace09d6ec34ea344c04b2-b2a33fd93e6d9948-01 outer:exit 2b-58cdc7ab27c628883fbace09d6ec34ea344c04b2-f347853fc950b414-01
2022-04-25T18:41:18.156Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:18.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-81c746c83858ad39a96d838884fd6e34e809868e-d94e9ffdce4fbce8-01 outer:exit 2b-81c746c83858ad39a96d838884fd6e34e809868e-16e69f3700cacecf-01
2022-04-25T18:41:18.161Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:18.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-233f5f14c92f40ff74ddffb9c14012d1096f79ac-8a92236b1e2d6315-01 outer:exit 2b-233f5f14c92f40ff74ddffb9c14012d1096f79ac-df8137ccc3a8569f-01
2022-04-25T18:41:18.171Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:18.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-48756284d7db31431c3fe92e81f67156f70fabc3-b046341e8394da30-01 outer:exit 2b-48756284d7db31431c3fe92e81f67156f70fabc3-41a5f797eb138f2f-01
2022-04-25T18:41:18.174Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:18.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae5a783094e74900c6db5f8b782718b6c95b36da-fc48eece1332ff98-01 outer:exit 2b-ae5a783094e74900c6db5f8b782718b6c95b36da-cef3c89c7d204a30-01
2022-04-25T18:41:18.177Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:18.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-1395e6aaf884c606adfeddd7c649ffe362d6a016-906322ea5bb6cbc9-01 outer:exit 2b-1395e6aaf884c606adfeddd7c649ffe362d6a016-27d846b0fb23a3b2-01
2022-04-25T18:41:18.180Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:18.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-e50d2f0d13c5a3eb87335af9b40a2dcbb85f930a-ca28b38fac17caae-01 outer:exit 2b-e50d2f0d13c5a3eb87335af9b40a2dcbb85f930a-efac1de940ddea37-01
2022-04-25T18:41:18.183Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:18.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc6fbcdd38367888d719489cf25e8a851a88de7f-a3e7962d3a67e0e4-01 outer:exit 2b-dc6fbcdd38367888d719489cf25e8a851a88de7f-68435483f7563a91-01
2022-04-25T18:41:18.185Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:18.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-64d2fc8d6aa05b71f50af7d88c5b1145d82d45c5-654ccc9bc9a25e02-01 outer:exit 2b-64d2fc8d6aa05b71f50af7d88c5b1145d82d45c5-731410a0bb398c9f-01
2022-04-25T18:41:18.199Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:18.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-c036d16069f522b5acacb09efbe4776930abc5cc-3b956715872db382-01 outer:exit 2b-c036d16069f522b5acacb09efbe4776930abc5cc-bca94f7491548c78-01
2022-04-25T18:41:18.213Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:18.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-e484fad7c30721c6fcc42dfd0fb414d71b3b2217-db812999374f15f3-01 outer:exit 2b-e484fad7c30721c6fcc42dfd0fb414d71b3b2217-3760e0deb38b9671-01
2022-04-25T18:41:18.218Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:18.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bde5095959881e15a51198d8fd732ea0c1ea550-5e4b5c0e2b6dbfe9-01 outer:exit 2b-8bde5095959881e15a51198d8fd732ea0c1ea550-d3a52149bd7095fd-01
2022-04-25T18:41:18.222Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:18.225Z appoptics:debug span.exit - no last event outer outer:entry 2b-32aee3b1e6b4011f0284bdfa516342e29befe2b1-73de1b752ea338f5-01 outer:exit 2b-32aee3b1e6b4011f0284bdfa516342e29befe2b1-3a38889f82d7240e-01
2022-04-25T18:41:18.226Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:18.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-59f920a9a01ed9fce08f757fa0a1ec7b3c2ebb1e-790b02c8fda4eb68-01 outer:exit 2b-59f920a9a01ed9fce08f757fa0a1ec7b3c2ebb1e-2daf679e2c88cb97-01
2022-04-25T18:41:18.258Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (423ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:26.524Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:26.525Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:26.525Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:26.526Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:26.605Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:26.769Z appoptics:patching patched crypto 
2022-04-25T18:41:26.790Z appoptics:patching patched https 
2022-04-25T18:41:26.791Z appoptics:patching patched http 
2022-04-25T18:41:26.838Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:26.838Z appoptics:patching patched fs 
2022-04-25T18:41:26.871Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v16.14.2)
2022-04-25T18:41:26.879Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-25T18:41:26.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0e67b47cc1741275ae2f0f3023f7574f8010b7a-c2d54badb51271cd-01 outer:exit 2b-e0e67b47cc1741275ae2f0f3023f7574f8010b7a-c25e73338be9b563-01
2022-04-25T18:41:26.934Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:26.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6f4c6ebb8fb016c13e1156bf4a3a6b276ea0444-db0ef9f02b3b7738-01 outer:exit 2b-a6f4c6ebb8fb016c13e1156bf4a3a6b276ea0444-6c03585792a4989e-01
2022-04-25T18:41:26.989Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:26.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-7168e7544745cdd6237a8225c50e7a7c4ef262d2-cd32257e166796cd-01 outer:exit 2b-7168e7544745cdd6237a8225c50e7a7c4ef262d2-d53ece49679e2bc8-01
2022-04-25T18:41:26.997Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:27.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8930a40bc0043dc63586d514c93b2979d883c13-07036352add1e028-01 outer:exit 2b-b8930a40bc0043dc63586d514c93b2979d883c13-038f6c81058ab49a-01
2022-04-25T18:41:27.002Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:27.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-2447cda021755c651d88b993082b89d77c2d405f-42ed39fe29ed9a00-01 outer:exit 2b-2447cda021755c651d88b993082b89d77c2d405f-1fefd31c0edcfa3e-01
2022-04-25T18:41:27.008Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:27.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3f5d993952f3f95b45771bc3b9a7a9765628e73-c53f87908189abe6-01 outer:exit 2b-b3f5d993952f3f95b45771bc3b9a7a9765628e73-4e65b533a7210ae1-01
2022-04-25T18:41:27.013Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:27.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-e102b37034792856de851dd6158d4013fc080c7c-0378331ce035c9d2-01 outer:exit 2b-e102b37034792856de851dd6158d4013fc080c7c-016cc5b3ab955b01-01
2022-04-25T18:41:27.019Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:27.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3fb084d248f9066683a648aff416662f05c36db-dd16e944a5af3b54-01 outer:exit 2b-c3fb084d248f9066683a648aff416662f05c36db-8f9cfe405999482e-01
2022-04-25T18:41:27.023Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:27.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa3ddc69ebd6148de321186ea2a5428aa0ff88d1-7e916bc5e875d3fd-01 outer:exit 2b-aa3ddc69ebd6148de321186ea2a5428aa0ff88d1-5a0f8224bdb8ad04-01
2022-04-25T18:41:27.027Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:27.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8692dc43a4dd9499c4d6d828f0fc2152fae01ea-1b9020a9ef6e0844-01 outer:exit 2b-e8692dc43a4dd9499c4d6d828f0fc2152fae01ea-d22c7262d8b94cd3-01
2022-04-25T18:41:27.033Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:27.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-86cda3924f35f9f6ce0d53e988e52a91d60bb3fd-078ade64dbe6d280-01 outer:exit 2b-86cda3924f35f9f6ce0d53e988e52a91d60bb3fd-50675a77c5010d71-01
2022-04-25T18:41:27.040Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:27.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-7830a2cde82e222f7e75d7902296d0f8376d9e9e-78bafe000012ea90-01 outer:exit 2b-7830a2cde82e222f7e75d7902296d0f8376d9e9e-3548f16cda60444a-01
2022-04-25T18:41:27.048Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:27.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9451e87108268ea6a4e81227e9af930f4fe1217-62f8763095ccfd7c-01 outer:exit 2b-d9451e87108268ea6a4e81227e9af930f4fe1217-7294915a3ceee708-01
2022-04-25T18:41:27.069Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:27.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bf7fac0d6b55bd63aea5d60262df72b57c15f2e-c663759ad7bfd997-01 outer:exit 2b-8bf7fac0d6b55bd63aea5d60262df72b57c15f2e-b7d962d293c90c26-01
2022-04-25T18:41:27.113Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:27.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-71fb6ee344c29a99256b2099016dd3137d458f67-ac786b7545a1ff15-01 outer:exit 2b-71fb6ee344c29a99256b2099016dd3137d458f67-21342df6f92c9562-01
2022-04-25T18:41:27.116Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:27.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c6d9e0596395c6a58abeb2356995d45399ff75f-02085f262825afd8-01 outer:exit 2b-0c6d9e0596395c6a58abeb2356995d45399ff75f-f65ee6ca7f870c01-01
2022-04-25T18:41:27.119Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:27.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd1d0a1b2de0d71931e46091f8176d33e1d6abdc-d08fb06a016e1f48-01 outer:exit 2b-dd1d0a1b2de0d71931e46091f8176d33e1d6abdc-c0a317c24b5beab7-01
2022-04-25T18:41:27.122Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:27.125Z appoptics:debug span.exit - no last event outer outer:entry 2b-7883486faedbe1ceb6df6a8c910b8a56fdd6cabd-fc242e431568d241-01 outer:exit 2b-7883486faedbe1ceb6df6a8c910b8a56fdd6cabd-f1531e0c90ce02f3-01
2022-04-25T18:41:27.125Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:27.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-6554833c9be7f72d89599f1db2a9fa490d39477e-e75078f159edb953-01 outer:exit 2b-6554833c9be7f72d89599f1db2a9fa490d39477e-1917951ebf3fba91-01
2022-04-25T18:41:27.128Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:27.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9c1fb3b60d5ab5cf6c21777dc5eb9dc7dc52745-0f851c248ccb3ac1-01 outer:exit 2b-c9c1fb3b60d5ab5cf6c21777dc5eb9dc7dc52745-7224222ab47a38d6-01
2022-04-25T18:41:27.131Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:27.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ad0296d14ff9226826267b1d21cd9ee5ca7f1c3-e9c15ad85bcc33a9-01 outer:exit 2b-8ad0296d14ff9226826267b1d21cd9ee5ca7f1c3-254c39e437101a97-01
2022-04-25T18:41:27.134Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:27.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4c63c7fcf3357bf1c82aa216da6d3ecd4b2136d-773b22a3c8d47a13-01 outer:exit 2b-a4c63c7fcf3357bf1c82aa216da6d3ecd4b2136d-2e0c4018fa8e3084-01
2022-04-25T18:41:27.136Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:27.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-58ecba716e4c9d3998c0ef36c6ebbbb7adb3ef2c-365462442af06c1d-01 outer:exit 2b-58ecba716e4c9d3998c0ef36c6ebbbb7adb3ef2c-fccf76ea9390af31-01
2022-04-25T18:41:27.140Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:27.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-946b7f8dc8d7bffbc41ce375f746ad531c58da03-20472f414e1f17b0-01 outer:exit 2b-946b7f8dc8d7bffbc41ce375f746ad531c58da03-e859e228356a41b2-01
2022-04-25T18:41:27.143Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:27.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-761ba956474fbf91d2e325bea20f4cd1251c5341-f4c0962c1503459d-01 outer:exit 2b-761ba956474fbf91d2e325bea20f4cd1251c5341-7dbc87680f4d7714-01
2022-04-25T18:41:27.146Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:27.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f7db3e517d0bfb9782f7f11b4131e5501a32cc2-318b810497b89a97-01 outer:exit 2b-9f7db3e517d0bfb9782f7f11b4131e5501a32cc2-0586c3a5a201c6ac-01
2022-04-25T18:41:27.149Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:27.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc18d2670762a97688b6888018c2bb5bdda67354-3cd5ab3f6722190f-01 outer:exit 2b-dc18d2670762a97688b6888018c2bb5bdda67354-d63a6827cdf429aa-01
2022-04-25T18:41:27.156Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:27.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfdea2bc89d3a510e7b04c9f9ad9f774ec391681-8eb5df8554081882-01 outer:exit 2b-bfdea2bc89d3a510e7b04c9f9ad9f774ec391681-191eb92bf17b549c-01
2022-04-25T18:41:27.164Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:27.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c8db83150032d0e953fdd16a7f445e55068b404-fec88e2fbc997939-01 outer:exit 2b-0c8db83150032d0e953fdd16a7f445e55068b404-e1c889a0eb7b979b-01
2022-04-25T18:41:27.174Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:27.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ef4f090a10aca44697f8832465cce979b1b40c4-61e3f14e398a7125-01 outer:exit 2b-9ef4f090a10aca44697f8832465cce979b1b40c4-44b00c96e794e1a4-01
2022-04-25T18:41:27.182Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:27.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-119c3ea1196dc9863ac3d23ffdf8c9ddb40cb1a6-f008e5046f42fde4-01 outer:exit 2b-119c3ea1196dc9863ac3d23ffdf8c9ddb40cb1a6-d3ef7e7722798311-01
2022-04-25T18:41:27.185Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:27.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-98621912fbfac9f8af8b44f656e775889ae55303-d850127a17d479f7-01 outer:exit 2b-98621912fbfac9f8af8b44f656e775889ae55303-2cff9743566d55b8-01
2022-04-25T18:41:27.189Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:27.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d5f0e7766083ad1b95f801242a99f8acca50185-ae4f02b31b865621-01 outer:exit 2b-1d5f0e7766083ad1b95f801242a99f8acca50185-b74513ffd32fc6a6-01
2022-04-25T18:41:27.197Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:27.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-d14a962225e6908b05cc7ca5f2226c904e0e02e2-aa151498b1340880-01 outer:exit 2b-d14a962225e6908b05cc7ca5f2226c904e0e02e2-86cb533a3cfa7751-01
2022-04-25T18:41:27.200Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:27.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-3743131d99a63ab8837134353b7bc77b33523409-d04b9e20a0391472-01 outer:exit 2b-3743131d99a63ab8837134353b7bc77b33523409-1631eb12f5bd50f5-01
2022-04-25T18:41:27.202Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:27.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-c05eb53e0b5d40c7e2bd612c12340aa3f7c237f0-cfee14566db97e94-01 outer:exit 2b-c05eb53e0b5d40c7e2bd612c12340aa3f7c237f0-83849d8b2a7bbd5b-01
2022-04-25T18:41:27.205Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:27.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b130215a2b5585dac365b3009ee81ad32d5e50d-f0b558f03875627b-01 outer:exit 2b-3b130215a2b5585dac365b3009ee81ad32d5e50d-353978728cee5bf7-01
2022-04-25T18:41:27.207Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:27.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5d6165b7a1630d90117cb4f40bf5ebc092669c8-4ebfdab365d4770a-01 outer:exit 2b-b5d6165b7a1630d90117cb4f40bf5ebc092669c8-8b76b60151bd539f-01
2022-04-25T18:41:27.209Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:27.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5a039d0846a1227798cbdf0ee6864eb2147b39a-569509bc8b15af99-01 outer:exit 2b-f5a039d0846a1227798cbdf0ee6864eb2147b39a-2dfb4281eadf376e-01
2022-04-25T18:41:27.221Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:27.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-c572ddb1396e01a8aa7ab6696fd3edbe508d9c5c-bb0708b2eb1f51bf-01 outer:exit 2b-c572ddb1396e01a8aa7ab6696fd3edbe508d9c5c-2bdf786a609de0f4-01
2022-04-25T18:41:27.232Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:27.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cb388bacd474dad2551dec2c57d00add5e4db9c-cf378c2d832e53da-01 outer:exit 2b-4cb388bacd474dad2551dec2c57d00add5e4db9c-96066edb2441ae7d-01
2022-04-25T18:41:27.236Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:27.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-82d94439b08330574a2a4195265396135cc8739b-1c4e85fb90d7322f-01 outer:exit 2b-82d94439b08330574a2a4195265396135cc8739b-4a27b6de8c0330b8-01
2022-04-25T18:41:27.239Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:27.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-a66c4557eedb52fab9cdae9f63b209dab9eb66e5-a6be2b246c7b5927-01 outer:exit 2b-a66c4557eedb52fab9cdae9f63b209dab9eb66e5-abd60cfe96526bc8-01
2022-04-25T18:41:27.242Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:27.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-a997f3121a94e69d293d8048c4a92cebb244cf6f-b57111c343fd7928-01 outer:exit 2b-a997f3121a94e69d293d8048c4a92cebb244cf6f-459c45019617243d-01
2022-04-25T18:41:27.276Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (390ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:34.775Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:34.776Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:34.776Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:34.777Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:34.868Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:35.063Z appoptics:patching patched crypto 
2022-04-25T18:41:35.110Z appoptics:patching patched https 
2022-04-25T18:41:35.112Z appoptics:patching patched http 
2022-04-25T18:41:35.165Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:35.165Z appoptics:patching patched fs 
2022-04-25T18:41:35.201Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v16.14.2)
2022-04-25T18:41:35.210Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-25T18:41:35.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-701a7266602bcb3c57f3f48a65a183f0a0f1aece-ac7e2b058cfe3395-01 outer:exit 2b-701a7266602bcb3c57f3f48a65a183f0a0f1aece-74ffe9fdca798cc4-01
2022-04-25T18:41:35.278Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:35.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-87016c62333c84d98658be79c60d5ebec5aa4462-1bc731d48f408801-01 outer:exit 2b-87016c62333c84d98658be79c60d5ebec5aa4462-92fbe6673440227d-01
2022-04-25T18:41:35.330Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:35.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c96fd94f1dc36a27142b39b9e0d26a38016a5e1-8d4740a0fee4c041-01 outer:exit 2b-7c96fd94f1dc36a27142b39b9e0d26a38016a5e1-8caee3fb0d8575ba-01
2022-04-25T18:41:35.336Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:35.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-04e1fc119f103f207b4031a1a644b707ad1b61a6-d811e95bb2e69aff-01 outer:exit 2b-04e1fc119f103f207b4031a1a644b707ad1b61a6-fb7ca3978c23cb2f-01
2022-04-25T18:41:35.341Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:35.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae3067b866837d44a17eeaa96adc5a98c0d70ca3-29a92908e1ab9aaf-01 outer:exit 2b-ae3067b866837d44a17eeaa96adc5a98c0d70ca3-dd57bc9344794d61-01
2022-04-25T18:41:35.349Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:35.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cffe62e6de61d40d550ac6aa2a0cdf47c77bded-83478b1c9b47d45f-01 outer:exit 2b-6cffe62e6de61d40d550ac6aa2a0cdf47c77bded-1f4c79d8ed929ccb-01
2022-04-25T18:41:35.357Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:35.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-40fbe238f0ebfc60f66bb5cfd42cef9b6de3418b-2b6e64f35770e85b-01 outer:exit 2b-40fbe238f0ebfc60f66bb5cfd42cef9b6de3418b-c91d03847e333bed-01
2022-04-25T18:41:35.361Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:35.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-d04e7c5c40a56226e4cd1e56bb4164789b59b3f6-7d969c96c18e2d5c-01 outer:exit 2b-d04e7c5c40a56226e4cd1e56bb4164789b59b3f6-0806e5de80a1bded-01
2022-04-25T18:41:35.364Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:35.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-598624d255e2e09fedb63a9fc6028d1451233941-9d67bd43b8790f61-01 outer:exit 2b-598624d255e2e09fedb63a9fc6028d1451233941-555e1f40c4f37490-01
2022-04-25T18:41:35.368Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:35.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3c7bdd9467a04067a315ab8b55a84976f594327-cc0448b378b3916a-01 outer:exit 2b-d3c7bdd9467a04067a315ab8b55a84976f594327-f3ee23ee590990e9-01
2022-04-25T18:41:35.372Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:35.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-9dc2bba17a66dc2a449e4878b53a0b1a1cd6da64-f138cf1f70c9f39d-01 outer:exit 2b-9dc2bba17a66dc2a449e4878b53a0b1a1cd6da64-f301c8c612a506bc-01
2022-04-25T18:41:35.378Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:35.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-69c6de77c867b7b0f36e1872fb88832a84819991-88e0f1b02b0b40a5-01 outer:exit 2b-69c6de77c867b7b0f36e1872fb88832a84819991-47bfc2d6fb6feaa7-01
2022-04-25T18:41:35.387Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:35.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-6348acc94e96930efe57adf0fc71956066ea8c02-16a6a09e3df3b354-01 outer:exit 2b-6348acc94e96930efe57adf0fc71956066ea8c02-d71a77eb99c61d59-01
2022-04-25T18:41:35.406Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:35.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-3649b06ae3f1c36cfe47ff86bf69f4e801ed7769-d01eabf3b62a81cb-01 outer:exit 2b-3649b06ae3f1c36cfe47ff86bf69f4e801ed7769-0daca78ba387f178-01
2022-04-25T18:41:35.460Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:35.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e8cf3a735ecc4a09291aa937294c066c299c43a-d325854b1d684b83-01 outer:exit 2b-8e8cf3a735ecc4a09291aa937294c066c299c43a-382dc48e694b7a51-01
2022-04-25T18:41:35.465Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:35.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-28844a4f5702f7fc8395beafebe1bee101efb181-d433e28df22515be-01 outer:exit 2b-28844a4f5702f7fc8395beafebe1bee101efb181-90db24c67724d3d6-01
2022-04-25T18:41:35.469Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:35.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d0f2bd6cb462aa440d2bd096c296a1b15b6dd8b-2260fd0b6b3cea0d-01 outer:exit 2b-9d0f2bd6cb462aa440d2bd096c296a1b15b6dd8b-54e30d1f2c80f7a2-01
2022-04-25T18:41:35.475Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:35.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-a163c598a49c7df6f37968e292b5ef0225b82e09-8aac404ffe2d9c99-01 outer:exit 2b-a163c598a49c7df6f37968e292b5ef0225b82e09-0212bd3e31c3e4d0-01
2022-04-25T18:41:35.479Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:35.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1b63dfed1d0ea496d0363c13d79149dcb370c9b-0943a0f3df50b235-01 outer:exit 2b-f1b63dfed1d0ea496d0363c13d79149dcb370c9b-c1903faa4b6c76dd-01
2022-04-25T18:41:35.484Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:35.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-28de01cedda5dfc1f98e52accdab01edd541ae80-7b471824a695c39e-01 outer:exit 2b-28de01cedda5dfc1f98e52accdab01edd541ae80-f00a5554543e1961-01
2022-04-25T18:41:35.489Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:35.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e3ec1e00aa7a40762480a94ebf9654d8d52270f-912b5067ec681204-01 outer:exit 2b-8e3ec1e00aa7a40762480a94ebf9654d8d52270f-59c71fa735a7e16f-01
2022-04-25T18:41:35.492Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:35.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-46f2826a6d4a01040650d92310d5ce602399bfe0-ed7fc402ea0d4988-01 outer:exit 2b-46f2826a6d4a01040650d92310d5ce602399bfe0-36a7992eb0b33dc9-01
2022-04-25T18:41:35.496Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:35.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-381363efebca991bc4c9bc34764ba4fbf12f73ed-b4820e7a410a4d7d-01 outer:exit 2b-381363efebca991bc4c9bc34764ba4fbf12f73ed-a55e0e91e99aaedf-01
2022-04-25T18:41:35.500Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:35.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-6241a301c6095603daef9c08bfeec70c1ffb0fce-b8f7c7c6234f8f88-01 outer:exit 2b-6241a301c6095603daef9c08bfeec70c1ffb0fce-8f1a9ed0c8051669-01
2022-04-25T18:41:35.503Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:35.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcf9f88f08a9458ec47be0aca093a50359fe981c-9603f04f82fbe287-01 outer:exit 2b-fcf9f88f08a9458ec47be0aca093a50359fe981c-139113b988eb78e1-01
2022-04-25T18:41:35.506Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:35.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-67c5f1f3342e19bc20f80b9007f9774b12bf5187-fa6ff2a6f262d95c-01 outer:exit 2b-67c5f1f3342e19bc20f80b9007f9774b12bf5187-e4873163014aa6cb-01
2022-04-25T18:41:35.509Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:35.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e30fb6bc8b646ec9bef4be00a19d317a5210560-dc0c50ab08b8c454-01 outer:exit 2b-4e30fb6bc8b646ec9bef4be00a19d317a5210560-c87a26629121f548-01
2022-04-25T18:41:35.516Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:35.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-9447555dd37e22833d98b0d8dfe20f1398a85d91-1b0ebfe32b76d4d7-01 outer:exit 2b-9447555dd37e22833d98b0d8dfe20f1398a85d91-9b3f00e763082697-01
2022-04-25T18:41:35.523Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:35.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-d15c3324434fa139dafda8ed49376635fd30fc6f-08e972e090a33e61-01 outer:exit 2b-d15c3324434fa139dafda8ed49376635fd30fc6f-bcf5ca597df75ef7-01
2022-04-25T18:41:35.538Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:35.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-46abccc44f0347f20e6baefcf4e9f30f07b75f95-604cbd249072a1b2-01 outer:exit 2b-46abccc44f0347f20e6baefcf4e9f30f07b75f95-efd1fab553b653a2-01
2022-04-25T18:41:35.546Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:35.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-45fe505909b1d5e60eb8947a4f7ed2c121a09019-6e02e8679abe4442-01 outer:exit 2b-45fe505909b1d5e60eb8947a4f7ed2c121a09019-ffe0a063f8e3e528-01
2022-04-25T18:41:35.549Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:35.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-f120e34089ca9a550a343202ad085b476c47178a-bbb02151e509b0a5-01 outer:exit 2b-f120e34089ca9a550a343202ad085b476c47178a-2dc4076510be6c0f-01
2022-04-25T18:41:35.553Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:35.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-088b28896c027ab30aef43ce4c72247e30a4842b-304a2bc67759fb81-01 outer:exit 2b-088b28896c027ab30aef43ce4c72247e30a4842b-c25444f3a011acd3-01
2022-04-25T18:41:35.565Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:35.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f06b86a070903bfb573c7f2d8ac30678d41f425-91c22e3b3ed2058f-01 outer:exit 2b-8f06b86a070903bfb573c7f2d8ac30678d41f425-b67a7b145b29971b-01
2022-04-25T18:41:35.569Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:35.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-6285bda33e9f1c8b32a6dd3ab75c08aefffef351-848a6dc031b6c3bc-01 outer:exit 2b-6285bda33e9f1c8b32a6dd3ab75c08aefffef351-87801cf4dd5f42a4-01
2022-04-25T18:41:35.571Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:35.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffdd60c34c408afed094aa6547813828829f22f3-def1b072bb5f961b-01 outer:exit 2b-ffdd60c34c408afed094aa6547813828829f22f3-63fff564d14a03c2-01
2022-04-25T18:41:35.574Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:35.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c8df9dc04542ed9d4e187de44bdcc04c8622a97-5116d3b1b19654e6-01 outer:exit 2b-3c8df9dc04542ed9d4e187de44bdcc04c8622a97-c6148b9e37b2805d-01
2022-04-25T18:41:35.577Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:35.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-16e381d4eb55c3a349107ed2363706e994d3ac53-ff3b94145ea0b11b-01 outer:exit 2b-16e381d4eb55c3a349107ed2363706e994d3ac53-75cdb17a16fde3d3-01
2022-04-25T18:41:35.580Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:35.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c224c27df1b9beceb950588acce89092593f748-f189a04c0c742359-01 outer:exit 2b-2c224c27df1b9beceb950588acce89092593f748-6956c21c71a62b6a-01
2022-04-25T18:41:35.592Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:35.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-1985d76f1650aef4d199906df6ffc3fa09f025ef-40fc206ace06957c-01 outer:exit 2b-1985d76f1650aef4d199906df6ffc3fa09f025ef-aeb4e8c7bad92a03-01
2022-04-25T18:41:35.605Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:35.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-466cceb9d112852c33986b9a36d5b2e23c156d2e-42ae586e9de056c7-01 outer:exit 2b-466cceb9d112852c33986b9a36d5b2e23c156d2e-7969f93fc3fdfdce-01
2022-04-25T18:41:35.608Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:35.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4653bfd4306d3375b4935515ff8b7a841fa3396-5ef3f85afea4d3fb-01 outer:exit 2b-e4653bfd4306d3375b4935515ff8b7a841fa3396-8cccfd939c500432-01
2022-04-25T18:41:35.612Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:35.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-23b37c8745320d659f299f623fd6fae050f17ddb-fcb78643babad93c-01 outer:exit 2b-23b37c8745320d659f299f623fd6fae050f17ddb-2483733b4ac22d69-01
2022-04-25T18:41:35.616Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:35.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-54aa0b1f019fa5556c03f4044882fe67918e311d-e5f84e63b5c82854-01 outer:exit 2b-54aa0b1f019fa5556c03f4044882fe67918e311d-51541b89d2c33468-01
2022-04-25T18:41:35.652Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (434ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:43.837Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:43.838Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:43.838Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:43.839Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:43.916Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:44.085Z appoptics:patching patched crypto 
2022-04-25T18:41:44.124Z appoptics:patching patched https 
2022-04-25T18:41:44.125Z appoptics:patching patched http 
2022-04-25T18:41:44.164Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:44.164Z appoptics:patching patched fs 
2022-04-25T18:41:44.197Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v16.14.2)
2022-04-25T18:41:44.207Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-25T18:41:44.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb6129401daa48cd4abdc38f0e8677553ce4cb79-ce200a87b5ca6d8e-01 outer:exit 2b-fb6129401daa48cd4abdc38f0e8677553ce4cb79-89429ceb1282fc22-01
2022-04-25T18:41:44.270Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:44.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-91c95bbb7b3b8d50c31f8c02732e040ad2867944-45bfdeb6348d5d18-01 outer:exit 2b-91c95bbb7b3b8d50c31f8c02732e040ad2867944-e4f2533d6e8c1372-01
2022-04-25T18:41:44.330Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:44.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec448d942fdb98b614fdc98e9a832571841f7c85-79503979526af36d-01 outer:exit 2b-ec448d942fdb98b614fdc98e9a832571841f7c85-954f908eff1e8468-01
2022-04-25T18:41:44.334Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:44.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-a35bc0129f9896a0ec8e72085a2bfa170170c70c-7ab6643c16f9f0d2-01 outer:exit 2b-a35bc0129f9896a0ec8e72085a2bfa170170c70c-f197b61436588695-01
2022-04-25T18:41:44.339Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:44.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-48978be8fa9069629fa38c51b4de8a3b815f8e94-172f8eac7291a751-01 outer:exit 2b-48978be8fa9069629fa38c51b4de8a3b815f8e94-ac74f1fd0bc199db-01
2022-04-25T18:41:44.345Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:44.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-c684febe81122d3508f78f8488eed2fa175813b8-b2969bbbab7c8a29-01 outer:exit 2b-c684febe81122d3508f78f8488eed2fa175813b8-f945d224abf3d8ab-01
2022-04-25T18:41:44.349Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:44.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d66ae63219bcdaf169d9135932dcb6b111752c-8581965f1d3a1f81-01 outer:exit 2b-f3d66ae63219bcdaf169d9135932dcb6b111752c-201d5fe6673e176a-01
2022-04-25T18:41:44.353Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:44.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-f29333be7f03918866085d5cae1bd1211987c459-8ecdcc7a84e02359-01 outer:exit 2b-f29333be7f03918866085d5cae1bd1211987c459-94f5158a675024f5-01
2022-04-25T18:41:44.357Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:44.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e4c54c264605d7310e70261d0c8c1f44abe582e-43d44b9a3c492fbe-01 outer:exit 2b-2e4c54c264605d7310e70261d0c8c1f44abe582e-aec89fff516fc90a-01
2022-04-25T18:41:44.361Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:44.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-52d11a96ab982b74c2732e5d624d7a802860de34-9adabedb2d4e0e9e-01 outer:exit 2b-52d11a96ab982b74c2732e5d624d7a802860de34-529de3f644887690-01
2022-04-25T18:41:44.366Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:44.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b8790019a89d7ab6e0834be71dfc584d9493c48-fd3bc191f0ba819c-01 outer:exit 2b-3b8790019a89d7ab6e0834be71dfc584d9493c48-5ef6d92ec8e459b5-01
2022-04-25T18:41:44.373Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:44.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-962dee05b71c55944e34273dc3654b7b64052fcb-226bffe3f9925c75-01 outer:exit 2b-962dee05b71c55944e34273dc3654b7b64052fcb-9a9191fe684c4ca9-01
2022-04-25T18:41:44.380Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:44.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a9e61850f08c296ae9ae055a9592985ed7ff3a6-8d8ddcd484578dba-01 outer:exit 2b-6a9e61850f08c296ae9ae055a9592985ed7ff3a6-a15246e0a0413232-01
2022-04-25T18:41:44.402Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:44.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc3f28968ae1a2d096b433956666a03f66e67937-0a65e0b1ae4964fe-01 outer:exit 2b-fc3f28968ae1a2d096b433956666a03f66e67937-be97b24f5d95642b-01
2022-04-25T18:41:44.450Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:44.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-1975324ad1a8ff968e5c9bc27a543202825b8165-d137543962ffd5ac-01 outer:exit 2b-1975324ad1a8ff968e5c9bc27a543202825b8165-a72afeb75386463b-01
2022-04-25T18:41:44.453Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:44.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-51ab234b6b3f858251cbd186165b195c749fbd19-df1789a7007f7931-01 outer:exit 2b-51ab234b6b3f858251cbd186165b195c749fbd19-b56bebc8904eb9a0-01
2022-04-25T18:41:44.457Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:44.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-a903878df038ec61ec101041e337c8e9b88c45f9-011a9fa578440718-01 outer:exit 2b-a903878df038ec61ec101041e337c8e9b88c45f9-28408d3cb99fab9f-01
2022-04-25T18:41:44.460Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:44.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-d38909946d68418ddeccb54ce718a75b5ba23413-5dbd1924491697e1-01 outer:exit 2b-d38909946d68418ddeccb54ce718a75b5ba23413-9fa652b873741f63-01
2022-04-25T18:41:44.463Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:44.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a0a27a2af23315f4cc0e8860b41600d2e8e7a44-52e93a9a5bdca508-01 outer:exit 2b-6a0a27a2af23315f4cc0e8860b41600d2e8e7a44-80fe65e2f66e8859-01
2022-04-25T18:41:44.466Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:44.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-04bc39ee0bb3678d122dd94fad6983306cca7895-7db4bf3fb2836e65-01 outer:exit 2b-04bc39ee0bb3678d122dd94fad6983306cca7895-48362e4dc4262623-01
2022-04-25T18:41:44.469Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:44.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c13f6d9e2e451c13017d4e0f04676d39d46c6c4-91ce724010c6c476-01 outer:exit 2b-5c13f6d9e2e451c13017d4e0f04676d39d46c6c4-36b70ab4b2a68476-01
2022-04-25T18:41:44.472Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:44.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ee82b290970d0aa93306b9cf9e756db0c9a7dc-cb1fb7296f5ea0e9-01 outer:exit 2b-33ee82b290970d0aa93306b9cf9e756db0c9a7dc-194c7ac9237bd612-01
2022-04-25T18:41:44.475Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:44.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-34989462b40a8cfbb1586eb29a52e99c4f460747-8ffd2743b0c440e0-01 outer:exit 2b-34989462b40a8cfbb1586eb29a52e99c4f460747-b006d94307ba2820-01
2022-04-25T18:41:44.479Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:44.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6f122ce119e311f38db8e013d6f843825511939-1d0e8d9110f20295-01 outer:exit 2b-f6f122ce119e311f38db8e013d6f843825511939-c7b15ce1c8c3fd0a-01
2022-04-25T18:41:44.483Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:44.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-951841d1891395d8d56628402785353d369796bd-a3330a08a20436e9-01 outer:exit 2b-951841d1891395d8d56628402785353d369796bd-f93e8fe0026c7f28-01
2022-04-25T18:41:44.487Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:44.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b992ff336e6bace4283c5788330d3efbe8127c6-daa8ccd3cd78a016-01 outer:exit 2b-6b992ff336e6bace4283c5788330d3efbe8127c6-e70348610d14c578-01
2022-04-25T18:41:44.491Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:44.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-b778d45ad10a3698b27d5c8b677720c24227a819-0eebdab7ea0a80a0-01 outer:exit 2b-b778d45ad10a3698b27d5c8b677720c24227a819-7b7558707e361187-01
2022-04-25T18:41:44.499Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:44.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-97dbc578cb5d1c1372a98e0b8cad17b8d268d05d-369590272d4b9b49-01 outer:exit 2b-97dbc578cb5d1c1372a98e0b8cad17b8d268d05d-3f7f735db7481e9f-01
2022-04-25T18:41:44.509Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:44.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-d31f8975d7246289dad7a1d44705506fa54b7096-5579b0e55046f7f5-01 outer:exit 2b-d31f8975d7246289dad7a1d44705506fa54b7096-222ba79dfa40a164-01
2022-04-25T18:41:44.520Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:44.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-3badc4a3a057b04b9ee26ecad32fea1103281db2-a36ad6c1d5774f9e-01 outer:exit 2b-3badc4a3a057b04b9ee26ecad32fea1103281db2-90601f2c94fcbfd5-01
2022-04-25T18:41:44.530Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:44.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c76afec410d2ca255e04986f304c749fe738505-92b7632c5a1e9d51-01 outer:exit 2b-7c76afec410d2ca255e04986f304c749fe738505-b0756aa50188acc0-01
2022-04-25T18:41:44.536Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:44.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-84c07dcfc657805e3c8943cea5bdb45cdaa87226-0f7b93d21ff2ea2a-01 outer:exit 2b-84c07dcfc657805e3c8943cea5bdb45cdaa87226-f6969c642fbcf049-01
2022-04-25T18:41:44.540Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:44.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-68b1867eb730c054356693938392814c68e9a12b-17f2e163f2a08487-01 outer:exit 2b-68b1867eb730c054356693938392814c68e9a12b-422b2dd5de4fc857-01
2022-04-25T18:41:44.549Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:44.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-9087a08ebe6922f37055e20e5e9d59117398a04b-e65f8b4a3d1bd6e1-01 outer:exit 2b-9087a08ebe6922f37055e20e5e9d59117398a04b-a16da7a752c60423-01
2022-04-25T18:41:44.552Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:44.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bb1c6f0e13f088a189722bc445c58f48b4c91b1-96f7b144f430c0a5-01 outer:exit 2b-2bb1c6f0e13f088a189722bc445c58f48b4c91b1-0b8b2021d1e3a184-01
2022-04-25T18:41:44.554Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:44.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-73dee7ce0de72b0a44f1f8448043138fb81c7dcf-b94408ee88da520a-01 outer:exit 2b-73dee7ce0de72b0a44f1f8448043138fb81c7dcf-286bbe72b334d4d0-01
2022-04-25T18:41:44.557Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:44.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-74ac4de7e0167b3e08f4292515daf127eab31d14-159969220fc84a8f-01 outer:exit 2b-74ac4de7e0167b3e08f4292515daf127eab31d14-4a791f7d04782ea0-01
2022-04-25T18:41:44.559Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:44.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee8ea627fc58f943ce635a586f889a2442eff0da-e37a9089438812a6-01 outer:exit 2b-ee8ea627fc58f943ce635a586f889a2442eff0da-96509da9406b7665-01
2022-04-25T18:41:44.562Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:44.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4068370ff19782e78300f9aa898390428cbc0d-f91d137848a310d5-01 outer:exit 2b-0e4068370ff19782e78300f9aa898390428cbc0d-11c8207b33d68d0e-01
2022-04-25T18:41:44.574Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:44.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7dd075da246b1c58dc3c0ff2bd50fb372d6cf5f-807278ef983212cb-01 outer:exit 2b-b7dd075da246b1c58dc3c0ff2bd50fb372d6cf5f-00034c7f7f52fd0d-01
2022-04-25T18:41:44.587Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:44.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e629698bd7821e1004874452a160a9ac67c14c9-a65be46ddb602cd8-01 outer:exit 2b-0e629698bd7821e1004874452a160a9ac67c14c9-82662bb8a7cf3268-01
2022-04-25T18:41:44.595Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:44.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b29b448a61cdfde31495d4f94cf3ac753be9603-5395c9776ff43162-01 outer:exit 2b-8b29b448a61cdfde31495d4f94cf3ac753be9603-36e0362dca1dce09-01
2022-04-25T18:41:44.598Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:44.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d03f0fe4375754dae688974ebe4871279a2309b-73840b3538e615b9-01 outer:exit 2b-5d03f0fe4375754dae688974ebe4871279a2309b-cfb5c32da51a7422-01
2022-04-25T18:41:44.601Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:44.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-f87acbd26822ba554e91980218c3cf6f7555d806-d8b87cadc921230f-01 outer:exit 2b-f87acbd26822ba554e91980218c3cf6f7555d806-6b7db7ec1706616e-01
2022-04-25T18:41:44.635Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (421ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:41:52.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:41:52.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:41:52.744Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:41:52.744Z appoptics:debug using context provider: ace-context
2022-04-25T18:41:52.834Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:41:53.018Z appoptics:patching patched crypto 
2022-04-25T18:41:53.070Z appoptics:patching patched https 
2022-04-25T18:41:53.071Z appoptics:patching patched http 
2022-04-25T18:41:53.124Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:41:53.125Z appoptics:patching patched fs 
2022-04-25T18:41:53.163Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v16.14.2)
2022-04-25T18:41:53.172Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-25T18:41:53.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f99b7aefa12d8cae6f5524dd7420c897bb5eff1-1e9a74d45269275c-01 outer:exit 2b-9f99b7aefa12d8cae6f5524dd7420c897bb5eff1-87ed5b775dde753a-01
2022-04-25T18:41:53.243Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:41:53.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-42471307e669193d6c20ca94aeee3d076325738b-fdbd667fb468ca43-01 outer:exit 2b-42471307e669193d6c20ca94aeee3d076325738b-caf6de602ccc2231-01
2022-04-25T18:41:53.298Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:41:53.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8ab9a228557b6e380dae883946e487f51108038-db46d8a37667fca8-01 outer:exit 2b-c8ab9a228557b6e380dae883946e487f51108038-b1db5595d4014ada-01
2022-04-25T18:41:53.302Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:41:53.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-02dd3de1e9758b0e84d5df9428556d5c900b8f55-3c3a45cae9868587-01 outer:exit 2b-02dd3de1e9758b0e84d5df9428556d5c900b8f55-bcc81c263182ef7c-01
2022-04-25T18:41:53.306Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:41:53.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a34ce99d3dcfdeb2a7ab4cae2eed9bdac5db862-fb0338314d57e27f-01 outer:exit 2b-9a34ce99d3dcfdeb2a7ab4cae2eed9bdac5db862-b6400ae960563192-01
2022-04-25T18:41:53.312Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:41:53.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-dda6f80537ff1c0f3df7030e1812a381bbfe23eb-ec161276f400e790-01 outer:exit 2b-dda6f80537ff1c0f3df7030e1812a381bbfe23eb-4baf65006a2fbb6a-01
2022-04-25T18:41:53.318Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:41:53.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f6f63b14a79e3eefba7f3ba611a96e0eedd8bce-587c81f4e117d1c1-01 outer:exit 2b-9f6f63b14a79e3eefba7f3ba611a96e0eedd8bce-2451e598c2242616-01
2022-04-25T18:41:53.322Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:41:53.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9f333b88108b7c906ac463cfbd7ef0b1cc71a1-4405ae9a2c005068-01 outer:exit 2b-dd9f333b88108b7c906ac463cfbd7ef0b1cc71a1-53612d74df8ff4e4-01
2022-04-25T18:41:53.326Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:41:53.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2295fc7d5a9a9a9fb4c8635887b1306e40c872b-212a0a11fd58b3f4-01 outer:exit 2b-b2295fc7d5a9a9a9fb4c8635887b1306e40c872b-9d2bb89106c62b25-01
2022-04-25T18:41:53.330Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:41:53.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ac7e4be18633a7fb910fa78c561961741bde286-773e8ce49dd91690-01 outer:exit 2b-4ac7e4be18633a7fb910fa78c561961741bde286-43604bfe766e52fa-01
2022-04-25T18:41:53.334Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:41:53.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-62dd8645d0e84e6d6e263dbf07c85971f0a5a9ff-e897b949ca11f739-01 outer:exit 2b-62dd8645d0e84e6d6e263dbf07c85971f0a5a9ff-e5893edd984067cb-01
2022-04-25T18:41:53.339Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:41:53.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-e00505f1251de5e2eaa1f694e356a34017494136-990949b6749379f3-01 outer:exit 2b-e00505f1251de5e2eaa1f694e356a34017494136-3e4adfc4b8b546f2-01
2022-04-25T18:41:53.347Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:41:53.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-9670666ae55f86b095c156e20d3be14907ddcf3a-7983dfb05273d236-01 outer:exit 2b-9670666ae55f86b095c156e20d3be14907ddcf3a-b7b85883fc9542b3-01
2022-04-25T18:41:53.365Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:41:53.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-de7a359b52d95712a10e16f2616fef64110187d2-0cf28d7b7485947e-01 outer:exit 2b-de7a359b52d95712a10e16f2616fef64110187d2-88dc6a5a60a47360-01
2022-04-25T18:41:53.414Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:41:53.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-e11118b50cad08b8c748d734736ce3f6ced357a0-d498d4b12318841e-01 outer:exit 2b-e11118b50cad08b8c748d734736ce3f6ced357a0-e4a65e602ba4b945-01
2022-04-25T18:41:53.417Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:41:53.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-feab3d449ec73392a33fcd117c708ea5e56525ad-6b61fc15dda600d3-01 outer:exit 2b-feab3d449ec73392a33fcd117c708ea5e56525ad-2eb373418970aabd-01
2022-04-25T18:41:53.420Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:41:53.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-3342a72d886f4df81c5aaa02cbef7f1eddeac67d-cdfa305f275a8fc0-01 outer:exit 2b-3342a72d886f4df81c5aaa02cbef7f1eddeac67d-44de4fd7591d22a6-01
2022-04-25T18:41:53.424Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:41:53.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-10c1c4fcf5b4d72379daafceb611aa5173a2df9e-fd40df1418e6e005-01 outer:exit 2b-10c1c4fcf5b4d72379daafceb611aa5173a2df9e-1174492c4eb15625-01
2022-04-25T18:41:53.427Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:41:53.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-d58a012d03bd9fd0c673d6a3f2fe3ef699586cf4-56c1035bed4264c7-01 outer:exit 2b-d58a012d03bd9fd0c673d6a3f2fe3ef699586cf4-a1e62b1ca4c5b280-01
2022-04-25T18:41:53.429Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:41:53.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc5315a98dd3a26740d19b88a775d4f206d0b1e8-2e1ae50860eee4fd-01 outer:exit 2b-dc5315a98dd3a26740d19b88a775d4f206d0b1e8-5ae82fbff8cecf5a-01
2022-04-25T18:41:53.432Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:41:53.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a702390bdd2aebc22695cbe5382c27b41e5ef9e-4f997a09a2f5620e-01 outer:exit 2b-6a702390bdd2aebc22695cbe5382c27b41e5ef9e-4e3e2f2e6237f26a-01
2022-04-25T18:41:53.435Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:41:53.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-5970ce61a42d9cadcd78db3c07e20fa9e8182fc5-21f4161e02bb059a-01 outer:exit 2b-5970ce61a42d9cadcd78db3c07e20fa9e8182fc5-8f7cfda26b012063-01
2022-04-25T18:41:53.437Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:41:53.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2e62d389ed4e4543f51a164dfd7f07237b6793c-2a53bc7067ae99f3-01 outer:exit 2b-f2e62d389ed4e4543f51a164dfd7f07237b6793c-06a058b28925b451-01
2022-04-25T18:41:53.441Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:41:53.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ce228f89dbf6bb44fdd100ca5acdb02ee484e51-2b4757a789656910-01 outer:exit 2b-3ce228f89dbf6bb44fdd100ca5acdb02ee484e51-c4b9aab5a0cb87fe-01
2022-04-25T18:41:53.444Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:41:53.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ac8d08a8614833eac31009e2e4baa058a2272b6-839b91a2e5f00ac1-01 outer:exit 2b-5ac8d08a8614833eac31009e2e4baa058a2272b6-28db2c23783a5e8a-01
2022-04-25T18:41:53.447Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:41:53.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-a825f76243e2cd82a632777f4d456e2bae0295ec-534cca53f7c388f8-01 outer:exit 2b-a825f76243e2cd82a632777f4d456e2bae0295ec-9d1130e8f49c8260-01
2022-04-25T18:41:53.449Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:41:53.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-a60e25f20715039ca8608d7c77c07f12cf4fc6cd-ab2125c2da4ef20d-01 outer:exit 2b-a60e25f20715039ca8608d7c77c07f12cf4fc6cd-e7ed91e7dc6d1e54-01
2022-04-25T18:41:53.457Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:41:53.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b31cc7e7a48b619c1a17f804e4120cf3f105de7-5e4703b690e32038-01 outer:exit 2b-2b31cc7e7a48b619c1a17f804e4120cf3f105de7-9b8c54a96f85c2ef-01
2022-04-25T18:41:53.465Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:41:53.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-162da8b28c75eba7e4ff9cbaba53b6c2f7b7d212-e906c7be2f2cbb93-01 outer:exit 2b-162da8b28c75eba7e4ff9cbaba53b6c2f7b7d212-fb66eb8136319d39-01
2022-04-25T18:41:53.476Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:41:53.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-82e0f68e665c0f222cc131e2ffb6d9bec3faa34e-e679891182e2f441-01 outer:exit 2b-82e0f68e665c0f222cc131e2ffb6d9bec3faa34e-8c0cb73ee7120475-01
2022-04-25T18:41:53.485Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:41:53.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3c02e11e984e814354a0361288578c200db0437-700bb66f686fe224-01 outer:exit 2b-f3c02e11e984e814354a0361288578c200db0437-0fbfc7b77b61ee28-01
2022-04-25T18:41:53.488Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:41:53.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf23f923b5bfe8b6d553030485e79a455f15ddc9-ea57777cc3d35c44-01 outer:exit 2b-bf23f923b5bfe8b6d553030485e79a455f15ddc9-0f4c8a2735ebd3bc-01
2022-04-25T18:41:53.491Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:41:53.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-20957dff10f6dc0dbcc17f8cf4b2901792ef8aac-d627e482fb6f2438-01 outer:exit 2b-20957dff10f6dc0dbcc17f8cf4b2901792ef8aac-f6b9182489277a4b-01
2022-04-25T18:41:53.501Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:41:53.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-53b6e5122f3b572e5f69aa4fd9782c370db6668a-c7aa8bd3ad5e5660-01 outer:exit 2b-53b6e5122f3b572e5f69aa4fd9782c370db6668a-1beed341023e3cfc-01
2022-04-25T18:41:53.503Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:41:53.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0c1bb014f44706a92bfb79f6038be8cf504637e-9556b89b9bb7c74b-01 outer:exit 2b-c0c1bb014f44706a92bfb79f6038be8cf504637e-175b7e57f59881eb-01
2022-04-25T18:41:53.506Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:41:53.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-e694288ec29fa002a800082a614b1026d8996747-814750e5a9c9e55e-01 outer:exit 2b-e694288ec29fa002a800082a614b1026d8996747-d4bee93ce238b5fe-01
2022-04-25T18:41:53.508Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:41:53.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c4ee059c2adfffbaf1749292b1bf3067013845c-a0d6d6be28c55e64-01 outer:exit 2b-5c4ee059c2adfffbaf1749292b1bf3067013845c-774f515c2d80a6b0-01
2022-04-25T18:41:53.510Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:41:53.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d5069e8626036637a3f982108ab47e8cd54e573-b270dc7ec210f143-01 outer:exit 2b-3d5069e8626036637a3f982108ab47e8cd54e573-051b7f9692a870cf-01
2022-04-25T18:41:53.513Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:41:53.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-15061deaef859f2201cd2dae14a86be706cdeebf-59db43d44760881d-01 outer:exit 2b-15061deaef859f2201cd2dae14a86be706cdeebf-d302d97f94fbafca-01
2022-04-25T18:41:53.524Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:41:53.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-80d2273a4a29a9973fbac3450d4f4dc9dbe4e445-1d45cca80037d7b5-01 outer:exit 2b-80d2273a4a29a9973fbac3450d4f4dc9dbe4e445-47f90ade326cd0db-01
2022-04-25T18:41:53.536Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:41:53.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a4102d84f7839ac0e1eeb26e0837d1515e8d97-140ba5e1cc9016da-01 outer:exit 2b-a3a4102d84f7839ac0e1eeb26e0837d1515e8d97-e2988cc052cbacc4-01
2022-04-25T18:41:53.540Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:41:53.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbf545341def34fae989b7852f5d9d675911736c-52cf1b56a8dae5c9-01 outer:exit 2b-bbf545341def34fae989b7852f5d9d675911736c-861944a2206906ea-01
2022-04-25T18:41:53.543Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:41:53.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9bcfa84ccb930b3a3d2f55bdd3fd9607c01a0c8-0768bdec3b6a73ed-01 outer:exit 2b-a9bcfa84ccb930b3a3d2f55bdd3fd9607c01a0c8-6143a0adf26f01ad-01
2022-04-25T18:41:53.546Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:41:53.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-30f29543795aa80fea37291e49415a0a340ff6c0-2d4ebbad05558d78-01 outer:exit 2b-30f29543795aa80fea37291e49415a0a340ff6c0-d49cb516d3af8ac8-01
2022-04-25T18:41:53.580Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (400ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:01.158Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:01.158Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:01.158Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:01.159Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:01.250Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:01.436Z appoptics:patching patched crypto 
2022-04-25T18:42:01.481Z appoptics:patching patched https 
2022-04-25T18:42:01.482Z appoptics:patching patched http 
2022-04-25T18:42:01.536Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:01.537Z appoptics:patching patched fs 
2022-04-25T18:42:01.573Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v16.14.2)
2022-04-25T18:42:01.582Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-25T18:42:01.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bc184f6f7d5ad1eefd30f97364ce4a55b3248ae-25c5a2a52a19f7fa-01 outer:exit 2b-4bc184f6f7d5ad1eefd30f97364ce4a55b3248ae-9ca64b1f08272b6f-01
2022-04-25T18:42:01.649Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:01.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac8c5ebff5e0c40d16d144103b4adbe4a746332d-f0eeefdb29c5bdea-01 outer:exit 2b-ac8c5ebff5e0c40d16d144103b4adbe4a746332d-d4510c1f631ca615-01
2022-04-25T18:42:01.708Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:01.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-aad299e73913e12aa4585aeb471e7f5db21f80d3-d247dfee46700d51-01 outer:exit 2b-aad299e73913e12aa4585aeb471e7f5db21f80d3-2fd9dee183e938a6-01
2022-04-25T18:42:01.717Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:01.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef012df2b826dfe8c65749b4395b4cc21a51e72b-1715f6b0521acf11-01 outer:exit 2b-ef012df2b826dfe8c65749b4395b4cc21a51e72b-951c81b17d69ca86-01
2022-04-25T18:42:01.721Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:01.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-a72ebb2016e49bf9c133d7317d72be90bb2026ca-0195df1de9e18370-01 outer:exit 2b-a72ebb2016e49bf9c133d7317d72be90bb2026ca-7c85a86c17b2740d-01
2022-04-25T18:42:01.733Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:01.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-18cfb608aa50157f215be3dc414f633f30b815f9-7d13efa08a8ccbfb-01 outer:exit 2b-18cfb608aa50157f215be3dc414f633f30b815f9-ab479c02634cfe19-01
2022-04-25T18:42:01.739Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:01.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-23822bd5ec9a788ee7cab5f82ca4c73b8a945deb-0d34fe4dbb2f9442-01 outer:exit 2b-23822bd5ec9a788ee7cab5f82ca4c73b8a945deb-7e0eacf388cf792c-01
2022-04-25T18:42:01.743Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:01.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa6249b5cc33c5814735150d47cfe8706aa8060a-b0c31ec27f08ad65-01 outer:exit 2b-fa6249b5cc33c5814735150d47cfe8706aa8060a-a37f937d480abb84-01
2022-04-25T18:42:01.747Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:01.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-43e667f1f45ac3733b995117fdb31039790de065-dd5da50c0101a76a-01 outer:exit 2b-43e667f1f45ac3733b995117fdb31039790de065-d4f6ddaee667025d-01
2022-04-25T18:42:01.751Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:01.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa4edb0341914d2aef662b93ea49df812e9e1dd3-b923e3691715ad44-01 outer:exit 2b-aa4edb0341914d2aef662b93ea49df812e9e1dd3-d5fbd74fbe65b731-01
2022-04-25T18:42:01.755Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:01.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d189cb4ea930760d92ce3dfdc09a2dbf0bfbeb4-261e818bf5acd608-01 outer:exit 2b-5d189cb4ea930760d92ce3dfdc09a2dbf0bfbeb4-98cc2d7730754e1c-01
2022-04-25T18:42:01.761Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:01.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-48a0839d9b0b26e5788e2fb06627dd633789f3df-3da0a6efa0934c52-01 outer:exit 2b-48a0839d9b0b26e5788e2fb06627dd633789f3df-cc5cb0f7e360b42f-01
2022-04-25T18:42:01.769Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:01.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-4462a7b633c240b316b2f4378eac126d89892b15-fe63d559f5f54e8e-01 outer:exit 2b-4462a7b633c240b316b2f4378eac126d89892b15-91ecfdfe8f280b6c-01
2022-04-25T18:42:01.791Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:01.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-a88fbdfca5dcaee642ea922e2c7d843997bee33d-cb7a8fb16722a9ab-01 outer:exit 2b-a88fbdfca5dcaee642ea922e2c7d843997bee33d-88c046ce4e8c04d7-01
2022-04-25T18:42:01.844Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:01.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2e521534ec4560c66935fae9c38345ee6741dae-b029b17524ffda7c-01 outer:exit 2b-a2e521534ec4560c66935fae9c38345ee6741dae-d2216ef5d89c7453-01
2022-04-25T18:42:01.848Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:01.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbdc24ba2ef695f81bcfde88718af49a3c93c21d-39aee54962fae40a-01 outer:exit 2b-fbdc24ba2ef695f81bcfde88718af49a3c93c21d-bc5bab8df4f1b190-01
2022-04-25T18:42:01.852Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:01.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-fac85823291289139b96c9e9f071d5b52fa99012-315d683e5f84308c-01 outer:exit 2b-fac85823291289139b96c9e9f071d5b52fa99012-a305da1af7ceeef4-01
2022-04-25T18:42:01.858Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:01.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab105cb24c6afae75af285980b03de90ab8c6aec-0a11638b6bab7dfd-01 outer:exit 2b-ab105cb24c6afae75af285980b03de90ab8c6aec-08b46afdba2d4421-01
2022-04-25T18:42:01.861Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:01.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-d72d6a5221b61a467159d1afc7e3f77152ef26a3-a2a7eebced90f8c0-01 outer:exit 2b-d72d6a5221b61a467159d1afc7e3f77152ef26a3-158795aae958c79c-01
2022-04-25T18:42:01.864Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:01.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ce6f91d6a85ecab2b9fb5a619fbefccc41d0719-fd7f9743e71a8aeb-01 outer:exit 2b-2ce6f91d6a85ecab2b9fb5a619fbefccc41d0719-2e11ee65490e49ce-01
2022-04-25T18:42:01.867Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:01.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-68575afbf4aaa5937c10bf33dbb1bce6e6bdb19b-118d5fe9f2a79b68-01 outer:exit 2b-68575afbf4aaa5937c10bf33dbb1bce6e6bdb19b-a214dcec2bf11130-01
2022-04-25T18:42:01.870Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:01.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-e913def94da221951fa468ec3bc9a92dbec10941-af539b71173099fb-01 outer:exit 2b-e913def94da221951fa468ec3bc9a92dbec10941-ebf24ae392c70403-01
2022-04-25T18:42:01.873Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:01.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-89c122609384a1a258e4328f615520ac65583a1e-5f28cf244cea3941-01 outer:exit 2b-89c122609384a1a258e4328f615520ac65583a1e-05bc697e7d38944d-01
2022-04-25T18:42:01.877Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:01.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fcfb3c06f27114ed476774b44c6e85043fb0f55-efc074306b582967-01 outer:exit 2b-4fcfb3c06f27114ed476774b44c6e85043fb0f55-68a27f69196b5837-01
2022-04-25T18:42:01.880Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:01.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c588b4b9a3f460db0cda103e11e0debc8a1c20b-8531adbb5c4e9e52-01 outer:exit 2b-6c588b4b9a3f460db0cda103e11e0debc8a1c20b-af0b064c59933153-01
2022-04-25T18:42:01.883Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:01.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-807fb4c072d83a3d8f70d81e21e64dfc2c93c970-508eb5f5a044102d-01 outer:exit 2b-807fb4c072d83a3d8f70d81e21e64dfc2c93c970-45d4e77094178b50-01
2022-04-25T18:42:01.887Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:01.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a2fe6a0719e8ef28d56088921c5cbc56d7d3c8e-0d7665c46f7fa2e8-01 outer:exit 2b-1a2fe6a0719e8ef28d56088921c5cbc56d7d3c8e-bb7b975abd5ab9fb-01
2022-04-25T18:42:01.900Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:01.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-823e36c6df68bf8792520dd8f45b680b37b2666a-b8ef10dda4986316-01 outer:exit 2b-823e36c6df68bf8792520dd8f45b680b37b2666a-d118562e5274f248-01
2022-04-25T18:42:01.905Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:01.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3ce0351d8b565df94b9bda9badd1cad0cb99e1d-113271b10525c57f-01 outer:exit 2b-c3ce0351d8b565df94b9bda9badd1cad0cb99e1d-0dd91e2ebcfe9b5d-01
2022-04-25T18:42:01.917Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:01.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-76abee5df6ed1e725008f690a07c67b3506a83df-153ce455928c0f13-01 outer:exit 2b-76abee5df6ed1e725008f690a07c67b3506a83df-28e8e673279f723f-01
2022-04-25T18:42:01.927Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:01.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a09d214ddaccd9bf5b65adc6fd855851b952709-d31b5a4d87bf7112-01 outer:exit 2b-7a09d214ddaccd9bf5b65adc6fd855851b952709-5783ca936a4e66b0-01
2022-04-25T18:42:01.931Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:01.935Z appoptics:debug span.exit - no last event outer outer:entry 2b-e159ab2dccac6b5a1fc9b30839790dbcf88d675e-bad93ce7a0dab2c4-01 outer:exit 2b-e159ab2dccac6b5a1fc9b30839790dbcf88d675e-a4084742c99134e1-01
2022-04-25T18:42:01.936Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:01.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-03957d42281c8d5ea04fe745f55bb9f341881344-c51307b8bc70d422-01 outer:exit 2b-03957d42281c8d5ea04fe745f55bb9f341881344-730294dc240defd0-01
2022-04-25T18:42:01.945Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:01.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-20de0fe94c994e972cafb9c35508ef951ac3136a-254d9760493063c9-01 outer:exit 2b-20de0fe94c994e972cafb9c35508ef951ac3136a-799892db77ee3987-01
2022-04-25T18:42:01.950Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:01.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c2177ea90cf4a4ced2739f06c77a819e3fd5e93-484840e1bf69a262-01 outer:exit 2b-4c2177ea90cf4a4ced2739f06c77a819e3fd5e93-50a2a0b2bc1f4f30-01
2022-04-25T18:42:01.955Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:01.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-35164092e229603f4f69f8cc7d9ff5ca64f3e939-6ece07a29fde2dfe-01 outer:exit 2b-35164092e229603f4f69f8cc7d9ff5ca64f3e939-052c780edf4868f1-01
2022-04-25T18:42:01.958Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:01.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fe293ec8d8f3ffdc7344baafd116ea9bf83060a-f60438b8f2c3f4b8-01 outer:exit 2b-4fe293ec8d8f3ffdc7344baafd116ea9bf83060a-8eff909e32ffe7e0-01
2022-04-25T18:42:01.961Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:01.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-f97bc73c46cfeeeacd099bab37e1202e3da4f5a8-c5b573535ce18553-01 outer:exit 2b-f97bc73c46cfeeeacd099bab37e1202e3da4f5a8-37e2a3b5800d7409-01
2022-04-25T18:42:01.964Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:01.990Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f6949f56ce5fd9ae947c4b86d0ffd1087b098af-9c2972a8e1a67571-01 outer:exit 2b-6f6949f56ce5fd9ae947c4b86d0ffd1087b098af-e3a82c7c60ef49ee-01
2022-04-25T18:42:01.991Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:02.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a8c56507356dcd4ff9716ccfdda94d33e8cca71-023c1b518a0abb06-01 outer:exit 2b-8a8c56507356dcd4ff9716ccfdda94d33e8cca71-af58618610d3b363-01
2022-04-25T18:42:02.006Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:02.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-c47747a308a94fd5671c1f87e04d17356a24f36b-b732c0265e3e096e-01 outer:exit 2b-c47747a308a94fd5671c1f87e04d17356a24f36b-5317675bd62bb655-01
2022-04-25T18:42:02.010Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:02.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a0138b22f6e6b6e0cd5228d3c859713dfa0ce05-e4d9d56f7f980006-01 outer:exit 2b-5a0138b22f6e6b6e0cd5228d3c859713dfa0ce05-2631ab9f61d7dd8d-01
2022-04-25T18:42:02.014Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:02.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-01aa5c237b3bfa1e2106ee2890a9e00aec570193-2f4504c37f47d4fa-01 outer:exit 2b-01aa5c237b3bfa1e2106ee2890a9e00aec570193-d6b0bdbc64738e80-01
2022-04-25T18:42:02.020Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:02.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-67e107f55e1df9fbef7855f5e36961732ed704c8-f6925c0cfa8ae27c-01 outer:exit 2b-67e107f55e1df9fbef7855f5e36961732ed704c8-10ea75cae953a317-01
2022-04-25T18:42:02.068Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (479ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:09.841Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:09.842Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:09.842Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:09.842Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:09.923Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:10.105Z appoptics:patching patched crypto 
2022-04-25T18:42:10.159Z appoptics:patching patched https 
2022-04-25T18:42:10.160Z appoptics:patching patched http 
2022-04-25T18:42:10.203Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:10.203Z appoptics:patching patched fs 
2022-04-25T18:42:10.234Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v16.14.2)
2022-04-25T18:42:10.241Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-25T18:42:10.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd0cd1e8c375dc127c4731b6e452b2532dbec884-0533ef56698a0dbb-01 outer:exit 2b-bd0cd1e8c375dc127c4731b6e452b2532dbec884-3a2fde1be7a0746b-01
2022-04-25T18:42:10.301Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:10.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-16c7d9f8718079f4de156badc900c7225b2165d1-6b8875f012f28e9b-01 outer:exit 2b-16c7d9f8718079f4de156badc900c7225b2165d1-1a2c89824f1a9ee8-01
2022-04-25T18:42:10.356Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:10.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-75baaafeb237e9b736739aaa31b4eebfe2edb70e-21a4f55b15d16c9c-01 outer:exit 2b-75baaafeb237e9b736739aaa31b4eebfe2edb70e-c396a155a7cc363c-01
2022-04-25T18:42:10.363Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:10.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93f8465f77101dbeca680f5ef920bbd42fc8448-b43b649fde3a66f9-01 outer:exit 2b-a93f8465f77101dbeca680f5ef920bbd42fc8448-ee9d2b6c7d881073-01
2022-04-25T18:42:10.367Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:10.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-b310d451c502b7444e4ab0dbade5dc2aa775d8fe-98f8e57797414fa0-01 outer:exit 2b-b310d451c502b7444e4ab0dbade5dc2aa775d8fe-8dacabae07cd083c-01
2022-04-25T18:42:10.373Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:10.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-501292b4821f38cbc8f5087a73936c84b4bb7b19-1cc8835192f637b0-01 outer:exit 2b-501292b4821f38cbc8f5087a73936c84b4bb7b19-287d0f5f637aa739-01
2022-04-25T18:42:10.377Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:10.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a9c3e57e34e66cc26ea04b97ab3c3cc6178e07f-c0e15fef83e212ca-01 outer:exit 2b-5a9c3e57e34e66cc26ea04b97ab3c3cc6178e07f-93744ee8fc723a8c-01
2022-04-25T18:42:10.381Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:10.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-1854906e76be1379bf5ad54b925714d3ebe99166-365bcf01ab079ff4-01 outer:exit 2b-1854906e76be1379bf5ad54b925714d3ebe99166-d2c4054f0be51b25-01
2022-04-25T18:42:10.385Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:10.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f5798247f399f95d42a487d520eec134f22e9b2-956e8d415bfb7e2e-01 outer:exit 2b-8f5798247f399f95d42a487d520eec134f22e9b2-28789d35b8eea887-01
2022-04-25T18:42:10.388Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:10.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6d1b47be6bc50bcf42603260ad38c1f431c6c95-c82688f1c3fcd41b-01 outer:exit 2b-e6d1b47be6bc50bcf42603260ad38c1f431c6c95-69ea91906412854c-01
2022-04-25T18:42:10.392Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:10.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dba2e5eff733c5c6241ba54498fdf3f6dff4861-e57a548635d91271-01 outer:exit 2b-4dba2e5eff733c5c6241ba54498fdf3f6dff4861-f5cb2f3cf8055389-01
2022-04-25T18:42:10.398Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:10.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2bbc186e84786269d6f8e2528512b79ffa8d0b2-178b5ac3c2e82eb0-01 outer:exit 2b-a2bbc186e84786269d6f8e2528512b79ffa8d0b2-f1d57b11d4f87d25-01
2022-04-25T18:42:10.406Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:10.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d433b33b7a6be1a4e987760ec61291662d4800-21a9dafcadf34a55-01 outer:exit 2b-60d433b33b7a6be1a4e987760ec61291662d4800-598c6c220d386247-01
2022-04-25T18:42:10.428Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:10.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-edad9fdc12f131d1902493018f8303ae9c15c787-e76e0a60db472abf-01 outer:exit 2b-edad9fdc12f131d1902493018f8303ae9c15c787-91555351a1c12541-01
2022-04-25T18:42:10.475Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:10.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e5c34f80b36c3729bce35f31569350315d85f74-8f81d2b351ef64c0-01 outer:exit 2b-1e5c34f80b36c3729bce35f31569350315d85f74-08d24b116a570c64-01
2022-04-25T18:42:10.479Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:10.481Z appoptics:debug span.exit - no last event outer outer:entry 2b-37d2efc2fb1314c9f08c0530b4fc908b2cb0853d-4c7ac01c885237f9-01 outer:exit 2b-37d2efc2fb1314c9f08c0530b4fc908b2cb0853d-6d4c44f426d8936e-01
2022-04-25T18:42:10.482Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:10.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecfa4875e42e679969a727ff80b62349f8baa7a2-a3c9c2665cb0f2b9-01 outer:exit 2b-ecfa4875e42e679969a727ff80b62349f8baa7a2-8c98ca6767c92eab-01
2022-04-25T18:42:10.485Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:10.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-94873466c175d1bbc86d6b383bcac6ba93f1d6c5-d850687c28d63ecd-01 outer:exit 2b-94873466c175d1bbc86d6b383bcac6ba93f1d6c5-b5d910339e8acd87-01
2022-04-25T18:42:10.488Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:10.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-72e24f0d62bcd9649e0e6bf729796d6a7297f3d4-f7badc2bf463e765-01 outer:exit 2b-72e24f0d62bcd9649e0e6bf729796d6a7297f3d4-3bfaae6bba5bc286-01
2022-04-25T18:42:10.491Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:10.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f191c1bf1f15cb096fe77b9597a1e287ce21cba-37b299dd902035b1-01 outer:exit 2b-8f191c1bf1f15cb096fe77b9597a1e287ce21cba-7a34588b5d08831f-01
2022-04-25T18:42:10.494Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:10.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-7dc8b9d720cfb361a602ff69f7c7e274464c5253-64c1757bcfac2dca-01 outer:exit 2b-7dc8b9d720cfb361a602ff69f7c7e274464c5253-335725b9a57c0561-01
2022-04-25T18:42:10.499Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:10.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e9d964d181d35f8f922917c9889d491e0564af8-2b5fd101dd7f08bd-01 outer:exit 2b-9e9d964d181d35f8f922917c9889d491e0564af8-c3dd66f72738e726-01
2022-04-25T18:42:10.506Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:10.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-8502b1368f5cc5e11dc6f245e1d708591461323b-9d0aa565ee46cc7d-01 outer:exit 2b-8502b1368f5cc5e11dc6f245e1d708591461323b-f5567e4ee86ed4d9-01
2022-04-25T18:42:10.513Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:10.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfb0447e47fc765833538ee5b7ce4c3b76c9a046-fc7c8628ce3b141f-01 outer:exit 2b-cfb0447e47fc765833538ee5b7ce4c3b76c9a046-9b30794bd1b77c43-01
2022-04-25T18:42:10.517Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:10.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6bd5376600a9f13ed616d14716d6be401f5160e-c08293e43dcdbb53-01 outer:exit 2b-f6bd5376600a9f13ed616d14716d6be401f5160e-d1e7c604795427a3-01
2022-04-25T18:42:10.520Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:10.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd2d8368e20078161a8b638c337c8b8e1b8b6159-0da24f0315d62389-01 outer:exit 2b-fd2d8368e20078161a8b638c337c8b8e1b8b6159-637c932b3e8bb294-01
2022-04-25T18:42:10.529Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:10.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-de6d4147cbaa55a38ae870406d76db04b186f5bb-1e811f1db99d00b9-01 outer:exit 2b-de6d4147cbaa55a38ae870406d76db04b186f5bb-af5f9bedecb5abd1-01
2022-04-25T18:42:10.537Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:10.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd502056ba5b943f4b8f19dab0cc598bf86a278a-2c6905454c218c36-01 outer:exit 2b-fd502056ba5b943f4b8f19dab0cc598bf86a278a-52f62c1650ca4f04-01
2022-04-25T18:42:10.554Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:10.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5ccd2298c0e2334c88cde07e3cba18abec013a3-56b8b255d4255eb4-01 outer:exit 2b-b5ccd2298c0e2334c88cde07e3cba18abec013a3-49d657fff72915aa-01
2022-04-25T18:42:10.567Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:10.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-800cf7ee78ce97f259ebb2de630db8591d12ce39-f906f8d6d84a4c95-01 outer:exit 2b-800cf7ee78ce97f259ebb2de630db8591d12ce39-b1a43afce869bb2b-01
2022-04-25T18:42:10.577Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:10.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-93811a38738a6b0b4adcdbc71b40f0bedbbadfe0-f33d4a18b83c0bd0-01 outer:exit 2b-93811a38738a6b0b4adcdbc71b40f0bedbbadfe0-73fa96347fb0bbfc-01
2022-04-25T18:42:10.579Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:10.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-72ec1716dde7bec8e8370b7002f4e0c30f86c22c-932301498e654cfa-01 outer:exit 2b-72ec1716dde7bec8e8370b7002f4e0c30f86c22c-57dae8fe9eda269c-01
2022-04-25T18:42:10.584Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:10.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-683ef432eea95d7944a41713dc4ee81a5874e0a8-87a339749623216d-01 outer:exit 2b-683ef432eea95d7944a41713dc4ee81a5874e0a8-d02cb27ed009b761-01
2022-04-25T18:42:10.595Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:10.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-da8c1b952780d6ffe94fb28ddc98198d9ccc449e-c223dec1698b1c7f-01 outer:exit 2b-da8c1b952780d6ffe94fb28ddc98198d9ccc449e-5f5a8a20f933d53a-01
2022-04-25T18:42:10.600Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:10.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d661ef43ac2fdad0638264ba9709e5fe26fd446-d8ef3eb2ada0f36f-01 outer:exit 2b-7d661ef43ac2fdad0638264ba9709e5fe26fd446-15977ca5295429ab-01
2022-04-25T18:42:10.602Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:10.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-db498e2c5a2d1b34da0d911b6787563976b05c7b-4a5126978eadd28e-01 outer:exit 2b-db498e2c5a2d1b34da0d911b6787563976b05c7b-90c5393b73b288d6-01
2022-04-25T18:42:10.604Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:10.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-288b4fcef9fb190e58be85bbfa646ce3ab1d5ae7-f147e35eea5b3784-01 outer:exit 2b-288b4fcef9fb190e58be85bbfa646ce3ab1d5ae7-3222b26b2ec212be-01
2022-04-25T18:42:10.608Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:10.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-601bc90b98092370879bcd8558cbff3bd17cb677-a26a9da1c19796a7-01 outer:exit 2b-601bc90b98092370879bcd8558cbff3bd17cb677-60fe15c705251db1-01
2022-04-25T18:42:10.610Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:10.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-501d19d8bc5e2483ff38afb13876ebff2890cb32-d6494e35c82f3bba-01 outer:exit 2b-501d19d8bc5e2483ff38afb13876ebff2890cb32-e0149bc293beaad8-01
2022-04-25T18:42:10.623Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:10.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-162a26db5a8998185540dddd4830d74281fb69b8-8e2fc50ec9fe34c2-01 outer:exit 2b-162a26db5a8998185540dddd4830d74281fb69b8-119cc3cb423e2987-01
2022-04-25T18:42:10.633Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:10.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-443fc62fd627c3a6ddc13d537725d305f73b1df7-29ab02eabfd04acc-01 outer:exit 2b-443fc62fd627c3a6ddc13d537725d305f73b1df7-01f19acacd2e3ce1-01
2022-04-25T18:42:10.637Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:10.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ed434988927c519f6a6d2ce053fb2bbfd3a9c3-c8b6e4b164f954bd-01 outer:exit 2b-09ed434988927c519f6a6d2ce053fb2bbfd3a9c3-165d4a7d65f4c867-01
2022-04-25T18:42:10.640Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:10.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-2da7ee3f51bcda4d78b54f8d6b197afd06f12b19-0e84f5a6941bd0e9-01 outer:exit 2b-2da7ee3f51bcda4d78b54f8d6b197afd06f12b19-a59e25d01a9f2b54-01
2022-04-25T18:42:10.647Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:10.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-73a98a3340fd2ebd1239b5226da5e2b5bdbf75c0-f0bd92e1208de801-01 outer:exit 2b-73a98a3340fd2ebd1239b5226da5e2b5bdbf75c0-267499df595e85b1-01
2022-04-25T18:42:10.679Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (429ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:19.412Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:19.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:19.413Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:19.414Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:19.494Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:19.657Z appoptics:patching patched crypto 
2022-04-25T18:42:19.679Z appoptics:patching patched https 
2022-04-25T18:42:19.680Z appoptics:patching patched http 
2022-04-25T18:42:19.736Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:19.737Z appoptics:patching patched fs 
2022-04-25T18:42:19.766Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v16.14.2)
2022-04-25T18:42:19.775Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-25T18:42:19.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd8557009127cdd73c1e53ac5418f80d1c4a1f0c-67a333713c84e268-01 outer:exit 2b-dd8557009127cdd73c1e53ac5418f80d1c4a1f0c-415a4e45d6cb060e-01
2022-04-25T18:42:19.831Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:19.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-680412aaf9015232c76552b13bf74d7b4f43f4b8-a568a222b0a867eb-01 outer:exit 2b-680412aaf9015232c76552b13bf74d7b4f43f4b8-d5396177c8819ee3-01
2022-04-25T18:42:19.883Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:19.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-54d613632614d390e9ad7e527c3ca0a509a0f14e-b78a8d577db28bc9-01 outer:exit 2b-54d613632614d390e9ad7e527c3ca0a509a0f14e-9735b518efd5b9cb-01
2022-04-25T18:42:19.887Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:19.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-95ba175d72bbf3b714d1916385f611c51d3aed3a-398332cf4146a2fc-01 outer:exit 2b-95ba175d72bbf3b714d1916385f611c51d3aed3a-2736b067dca5b333-01
2022-04-25T18:42:19.892Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:19.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-b14dc6089ba409dece8ba6c6f64f47cb3f92a45a-38ea0081d699a7ee-01 outer:exit 2b-b14dc6089ba409dece8ba6c6f64f47cb3f92a45a-3df8f1d5acd5bdd8-01
2022-04-25T18:42:19.898Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:19.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-977ded75b61d0e3ac5c541231cd10e236393c75b-eb35f2f819ec9e58-01 outer:exit 2b-977ded75b61d0e3ac5c541231cd10e236393c75b-df03cf4905f9d2ef-01
2022-04-25T18:42:19.903Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:19.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ed6e7c84414f5646d1cdd058c0a3864adef928-3f061c67dd1c1c67-01 outer:exit 2b-09ed6e7c84414f5646d1cdd058c0a3864adef928-e07274142fd58c25-01
2022-04-25T18:42:19.906Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:19.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cfa336dfc2693cea30f442ab664d00b04e2b689-02815306592389f0-01 outer:exit 2b-8cfa336dfc2693cea30f442ab664d00b04e2b689-8e89e89ba7b40cfe-01
2022-04-25T18:42:19.911Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:19.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad2ea923c1b0455916bfc617bb5d0d69a7e7ede9-2c7cf23afb20327e-01 outer:exit 2b-ad2ea923c1b0455916bfc617bb5d0d69a7e7ede9-a2d023b96afbbdaf-01
2022-04-25T18:42:19.915Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:19.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7a97a00730e91f3aaf361e269ce3164f2936c35-dbfe0cadb9e7d9eb-01 outer:exit 2b-a7a97a00730e91f3aaf361e269ce3164f2936c35-4a92dbfae18d24a2-01
2022-04-25T18:42:19.919Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:19.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-0413494ae7d5608f21a8ad6be6cf4b5c3c219437-d4e9c4a05da2e755-01 outer:exit 2b-0413494ae7d5608f21a8ad6be6cf4b5c3c219437-6fc584dbaeb46583-01
2022-04-25T18:42:19.926Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:19.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-0125e82a70cc9ce3364c39c0b4d28a770d7ba7b1-5592286f19eb1b53-01 outer:exit 2b-0125e82a70cc9ce3364c39c0b4d28a770d7ba7b1-ca8845775bca23e2-01
2022-04-25T18:42:19.947Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:19.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-82de8cc4da02e9d89feea4e4edc11be5e2d4ebea-23bcac3e0f996097-01 outer:exit 2b-82de8cc4da02e9d89feea4e4edc11be5e2d4ebea-96c3fa7cb40e584d-01
2022-04-25T18:42:19.968Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:20.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-c629e979dbb7fbdb53bf5ba691eade1e87ea9bf1-062c3156e3ba096b-01 outer:exit 2b-c629e979dbb7fbdb53bf5ba691eade1e87ea9bf1-99d7fb2248b1fb6b-01
2022-04-25T18:42:20.017Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:20.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d0bf82d40c0463cfd06228af563a1f2367d459e-e9abad5c8370e8b5-01 outer:exit 2b-8d0bf82d40c0463cfd06228af563a1f2367d459e-84a084989a903940-01
2022-04-25T18:42:20.022Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:20.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-df19216371fcbbd0bb98ad8efa0419d3532f60b5-bb78de73e30fbcab-01 outer:exit 2b-df19216371fcbbd0bb98ad8efa0419d3532f60b5-f92631f87ccf86e3-01
2022-04-25T18:42:20.024Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:20.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7b20d9424e8a82ce5831d32a5ef44dd9ff9d288-24be406f51605914-01 outer:exit 2b-f7b20d9424e8a82ce5831d32a5ef44dd9ff9d288-e7d42dceac2a5c54-01
2022-04-25T18:42:20.028Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:20.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3ec9606c5aa85bf4a8d889b15694c798a2c50fe-4c77d16782d1ae3c-01 outer:exit 2b-f3ec9606c5aa85bf4a8d889b15694c798a2c50fe-afe61d4f9978a237-01
2022-04-25T18:42:20.031Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:20.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-e833494301dbacd5f775e92f0d99097ba83be975-d5cec5b2645ef33a-01 outer:exit 2b-e833494301dbacd5f775e92f0d99097ba83be975-c894e855649e68bd-01
2022-04-25T18:42:20.034Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:20.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a2946df2be63d83efaf10c6738ef585b6ed11a7-ef6f3c40260869cd-01 outer:exit 2b-3a2946df2be63d83efaf10c6738ef585b6ed11a7-e952a59cef87a738-01
2022-04-25T18:42:20.036Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:20.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa52716215dca5a9ba9153ae9c3e71f4f6f7b34e-232f540b648624aa-01 outer:exit 2b-aa52716215dca5a9ba9153ae9c3e71f4f6f7b34e-ab95d8b33aa27cd3-01
2022-04-25T18:42:20.038Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:20.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e27275a95bdcf637d19555572a3d15f2d745dc7-6f347574a1c30cdf-01 outer:exit 2b-5e27275a95bdcf637d19555572a3d15f2d745dc7-362337ce818e1a55-01
2022-04-25T18:42:20.041Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:20.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-5be0e4d8c7da69fb43d9e045e9bc37a9d5c36b89-d15fee02dc398a2a-01 outer:exit 2b-5be0e4d8c7da69fb43d9e045e9bc37a9d5c36b89-319eedd4bfe7de97-01
2022-04-25T18:42:20.045Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:20.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-e42ead97836f72661bc0ce08ee632c5c802c48ac-37c4af2852c32277-01 outer:exit 2b-e42ead97836f72661bc0ce08ee632c5c802c48ac-211dc261222a25bf-01
2022-04-25T18:42:20.048Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:20.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-655eafa51a6b97d7a3fca32ce998dcf1bce9c3ca-721782b24377f7ed-01 outer:exit 2b-655eafa51a6b97d7a3fca32ce998dcf1bce9c3ca-6eef31c11799731a-01
2022-04-25T18:42:20.050Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:20.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-d913bac1d1bdd37e7b142a765aa27b7ef8fbc5ef-e1038a1b835f5bce-01 outer:exit 2b-d913bac1d1bdd37e7b142a765aa27b7ef8fbc5ef-5e2f4df41a248c52-01
2022-04-25T18:42:20.053Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:20.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-e12123554e75abdcc63896ee178a7154b35f18e3-490e82348b2f6708-01 outer:exit 2b-e12123554e75abdcc63896ee178a7154b35f18e3-b4d40b1afeb88cbe-01
2022-04-25T18:42:20.074Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:20.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4461d8651f4049f163db5b4a85991bfcce080f0-4816ebb4c8692e38-01 outer:exit 2b-b4461d8651f4049f163db5b4a85991bfcce080f0-f0e732d11fbdd084-01
2022-04-25T18:42:20.093Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:20.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dbeafdf397e415f559077b3623b2284bb26ad3a-da0095ee04d0ede4-01 outer:exit 2b-1dbeafdf397e415f559077b3623b2284bb26ad3a-37a064511924a0a4-01
2022-04-25T18:42:20.105Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:20.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-24472882a0fe1f4abb9a3289831aaa8c1ae9a2e9-a3be95fea7d57390-01 outer:exit 2b-24472882a0fe1f4abb9a3289831aaa8c1ae9a2e9-8f9aa01cd0ff633c-01
2022-04-25T18:42:20.112Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:20.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed4d56da88e7f3305c35e3fae39ab71f02ad43fb-d2c5930198204e4f-01 outer:exit 2b-ed4d56da88e7f3305c35e3fae39ab71f02ad43fb-ba038e7774bc13ec-01
2022-04-25T18:42:20.114Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:20.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-50d6f42e04f31ec5b85ad8c97b1382647dab35f3-b03ef73a0addc2ef-01 outer:exit 2b-50d6f42e04f31ec5b85ad8c97b1382647dab35f3-7a4ea583986e3fc4-01
2022-04-25T18:42:20.119Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:20.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c20c572028f793b8ac4b326db7664a3396ceb87-56268d282ee41c0c-01 outer:exit 2b-1c20c572028f793b8ac4b326db7664a3396ceb87-838bc12be6a736a3-01
2022-04-25T18:42:20.132Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:20.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-aced47ffd92c4a47b0a6fd07277232e445777c3b-29757df71795d944-01 outer:exit 2b-aced47ffd92c4a47b0a6fd07277232e445777c3b-5b746408001b2e9f-01
2022-04-25T18:42:20.135Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:20.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-63fe3afc8ff27f37f2c0a716ba7caaac024ab172-d2cd565c141a6286-01 outer:exit 2b-63fe3afc8ff27f37f2c0a716ba7caaac024ab172-f1615554af45c858-01
2022-04-25T18:42:20.138Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:20.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a74db27f8002908eeee6a4d66b09b25f036c961-81ef96d1d7be2b5e-01 outer:exit 2b-6a74db27f8002908eeee6a4d66b09b25f036c961-88954d6e2597ee15-01
2022-04-25T18:42:20.141Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:20.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-601ca9d3b824a8de2fc1be22468bf014ea986a4e-8beb91032d61f79c-01 outer:exit 2b-601ca9d3b824a8de2fc1be22468bf014ea986a4e-1de04f095e203ecb-01
2022-04-25T18:42:20.143Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:20.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-0221d6c99ee515d23a82c4c628156b4d7fe7fcc3-47ee5e8550d29220-01 outer:exit 2b-0221d6c99ee515d23a82c4c628156b4d7fe7fcc3-9467c834e066f6e1-01
2022-04-25T18:42:20.146Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:20.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-0978f856a260385ec82a43f6779587a229c8740c-e4256351e61f4651-01 outer:exit 2b-0978f856a260385ec82a43f6779587a229c8740c-54874cc48b9b5dbe-01
2022-04-25T18:42:20.158Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:20.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab25f79bb1a1d8e82bdf9395bc087c61c83b19b0-6169c8ba08d8425e-01 outer:exit 2b-ab25f79bb1a1d8e82bdf9395bc087c61c83b19b0-935d8b9f3884f76d-01
2022-04-25T18:42:20.169Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:20.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-93d2553cab9c20dd45429d6f4d590b764df2c3b2-5b97c0b48920363a-01 outer:exit 2b-93d2553cab9c20dd45429d6f4d590b764df2c3b2-726647ce66cbc24e-01
2022-04-25T18:42:20.173Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:20.181Z appoptics:debug span.exit - no last event outer outer:entry 2b-25d66937aec568e36f3a8674bb57894aa086ead3-bfdbb1c1007f3704-01 outer:exit 2b-25d66937aec568e36f3a8674bb57894aa086ead3-50e4f6d22920c809-01
2022-04-25T18:42:20.181Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:20.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a102cf58ad6d5dd2d5fab8e00c523e782346403-9be2889c60ef0607-01 outer:exit 2b-1a102cf58ad6d5dd2d5fab8e00c523e782346403-01fb81e895a8dcb6-01
2022-04-25T18:42:20.206Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:20.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-5807968bc322e48f67accc05844898ccecbaccaf-c74e1a5097c10692-01 outer:exit 2b-5807968bc322e48f67accc05844898ccecbaccaf-eb1fbe4bb6365184-01
2022-04-25T18:42:20.246Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (465ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:28.903Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:28.903Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:28.903Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:28.905Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:29.018Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:29.287Z appoptics:patching patched crypto 
2022-04-25T18:42:29.351Z appoptics:patching patched https 
2022-04-25T18:42:29.357Z appoptics:patching patched http 
2022-04-25T18:42:29.398Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:29.399Z appoptics:patching patched fs 
2022-04-25T18:42:29.431Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v16.14.2)
2022-04-25T18:42:29.439Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-25T18:42:29.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e653343ce2d2ca0e6e3a6a08bc795f5f55ad036-2742d42cbe44d349-01 outer:exit 2b-7e653343ce2d2ca0e6e3a6a08bc795f5f55ad036-0cd7fe72107e1ea9-01
2022-04-25T18:42:29.497Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:29.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-85cf8fe9d8eaff0e372232735eb7f0b5350f784e-1ad59908afbf6a0a-01 outer:exit 2b-85cf8fe9d8eaff0e372232735eb7f0b5350f784e-4d0c8801fcda07fe-01
2022-04-25T18:42:29.554Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:29.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d76941f8cb8c46f3cdbe46cb239e146cf8c8bf5-0379e488ebd349c3-01 outer:exit 2b-9d76941f8cb8c46f3cdbe46cb239e146cf8c8bf5-aae1ba62902a1c57-01
2022-04-25T18:42:29.560Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:29.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-409db1738225981af43cd0fe5d2bbb52a7236b8c-516d0284c794c83c-01 outer:exit 2b-409db1738225981af43cd0fe5d2bbb52a7236b8c-34119a07bc1b6b48-01
2022-04-25T18:42:29.564Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:29.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-a61303addfa7a23a1ae1e1dbda66aaf179ce70ba-644324b8c925acd3-01 outer:exit 2b-a61303addfa7a23a1ae1e1dbda66aaf179ce70ba-75e7ff7f9640431b-01
2022-04-25T18:42:29.573Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:29.577Z appoptics:debug span.exit - no last event outer outer:entry 2b-b06c43ef428bfee75ebde373552c0592786649c6-d4a15f3d3aeb3176-01 outer:exit 2b-b06c43ef428bfee75ebde373552c0592786649c6-8b66573a31f2e955-01
2022-04-25T18:42:29.578Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:29.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a4d46743a50cc3b039c85b449e93ef2956912da-9940116c05f84333-01 outer:exit 2b-2a4d46743a50cc3b039c85b449e93ef2956912da-7475ca0e399615c0-01
2022-04-25T18:42:29.584Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:29.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff606d890139f40855692539ae4e7cce8c0d1c8f-0eda99b17f526704-01 outer:exit 2b-ff606d890139f40855692539ae4e7cce8c0d1c8f-57f2901eeb5af575-01
2022-04-25T18:42:29.588Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:29.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f2ab4d0f31d5cbbc9df760c70f45ecb28f89052-ebe886d8e0b37518-01 outer:exit 2b-9f2ab4d0f31d5cbbc9df760c70f45ecb28f89052-7333a0143f4ac1e5-01
2022-04-25T18:42:29.592Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:29.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e6478ad73732bcc768673babe1aa934c99b86c5-9dfa1b9373def723-01 outer:exit 2b-4e6478ad73732bcc768673babe1aa934c99b86c5-04b17c816d275bb4-01
2022-04-25T18:42:29.596Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:29.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eb0171ca80fde76ba23da956bfaeb3ea8aa6b0f-8455efaeb6fcd504-01 outer:exit 2b-1eb0171ca80fde76ba23da956bfaeb3ea8aa6b0f-8e3d79eaba05c7b4-01
2022-04-25T18:42:29.603Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:29.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce53ee616b82e28d594c80b6526128301e531b2a-ce576a5d1d8d10f4-01 outer:exit 2b-ce53ee616b82e28d594c80b6526128301e531b2a-0a46e483716c047c-01
2022-04-25T18:42:29.611Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:29.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-70effd58b4567e2337e9180912adab8be37b26c9-c3d5663a5b0cfda3-01 outer:exit 2b-70effd58b4567e2337e9180912adab8be37b26c9-9cd86beeea456bae-01
2022-04-25T18:42:29.633Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:29.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-350810cdbe20283b28e41e29b5bd69e836f77bf5-3e9ecd45c9c4e851-01 outer:exit 2b-350810cdbe20283b28e41e29b5bd69e836f77bf5-c006e4726e1f3e1a-01
2022-04-25T18:42:29.681Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:29.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-51586b3d16b245ab4bdbf50e4b0fe612cad7bf8b-63c4e08d8938f0ef-01 outer:exit 2b-51586b3d16b245ab4bdbf50e4b0fe612cad7bf8b-d76c73eb15dea84d-01
2022-04-25T18:42:29.685Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:29.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-a27492d0949107791afa7fb610d086e841fb0437-601068341d6e7b49-01 outer:exit 2b-a27492d0949107791afa7fb610d086e841fb0437-c5b65af85a5f3541-01
2022-04-25T18:42:29.688Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:29.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dcaa134340a544c6398ad2cb51b1c98284b6e0d-725f37ef617ccdb3-01 outer:exit 2b-4dcaa134340a544c6398ad2cb51b1c98284b6e0d-d8e0463ab1a87c8e-01
2022-04-25T18:42:29.692Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:29.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb5f1d69d9c1629c0a397c8e01b746b6d9a49260-5e6dad1c045b25bf-01 outer:exit 2b-eb5f1d69d9c1629c0a397c8e01b746b6d9a49260-12239b999f9274a7-01
2022-04-25T18:42:29.695Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:29.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-839bced61d88797eecb62156dd460d8b3840cdec-5bcf8bb28df8c49a-01 outer:exit 2b-839bced61d88797eecb62156dd460d8b3840cdec-f3be6f223641dce9-01
2022-04-25T18:42:29.697Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:29.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-42122d9540114b5f23720e473d802c564468287e-0ece4a007ec852d6-01 outer:exit 2b-42122d9540114b5f23720e473d802c564468287e-a69763675d55f2a9-01
2022-04-25T18:42:29.700Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:29.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-716712017212c2135a096d52840f8067d1e5c675-879b01f54c7bd65a-01 outer:exit 2b-716712017212c2135a096d52840f8067d1e5c675-b401dba6ebe528e7-01
2022-04-25T18:42:29.703Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:29.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-58c40ac08a354f4e492a9dcdee1610a14dff284a-53bf4cfa9808e334-01 outer:exit 2b-58c40ac08a354f4e492a9dcdee1610a14dff284a-a76805ee842f07f0-01
2022-04-25T18:42:29.705Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:29.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-b02f1a771af58fa6f5d5ed7088cb423f08accc05-8a458a11958a25a0-01 outer:exit 2b-b02f1a771af58fa6f5d5ed7088cb423f08accc05-224d9c1a6b602d4f-01
2022-04-25T18:42:29.709Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:29.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3e9f1b2b3603e895b93489f2ee57bdf961f37b1-26fd51a63927e0c8-01 outer:exit 2b-b3e9f1b2b3603e895b93489f2ee57bdf961f37b1-7c4b4d7e34b39d4b-01
2022-04-25T18:42:29.714Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:29.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-408165047cccdd91b0c8b051301ea6dc34025e6f-7ea54c4285dc029a-01 outer:exit 2b-408165047cccdd91b0c8b051301ea6dc34025e6f-92ec0b7eba420545-01
2022-04-25T18:42:29.717Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:29.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-9866a54767e5b89c750a014199979795f598dcbc-096daf045ba61129-01 outer:exit 2b-9866a54767e5b89c750a014199979795f598dcbc-1c370304e25c1385-01
2022-04-25T18:42:29.720Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:29.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-cae34f95f6ff9ed601d0db2c48bf9ffe1ff05f10-1ac541aae69efa11-01 outer:exit 2b-cae34f95f6ff9ed601d0db2c48bf9ffe1ff05f10-eda05d1d73dc83fe-01
2022-04-25T18:42:29.729Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:29.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-e175a2c00204fe63f302c9d0e9472ffe1f99a8f5-9fb29d6f6acfd469-01 outer:exit 2b-e175a2c00204fe63f302c9d0e9472ffe1f99a8f5-c1dc7582fad14d86-01
2022-04-25T18:42:29.737Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:29.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-75599f615c3d4fd99a33df41718dbd9cbcaa6af1-f549fa27139645f9-01 outer:exit 2b-75599f615c3d4fd99a33df41718dbd9cbcaa6af1-345f283a7eb9fae2-01
2022-04-25T18:42:29.746Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:29.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aa9cc3a74e0060ba2a744482835eae1f7a63f54-f42dfd6bbeb621c6-01 outer:exit 2b-3aa9cc3a74e0060ba2a744482835eae1f7a63f54-1c76638a9523e01c-01
2022-04-25T18:42:29.755Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:29.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-8130f8b843ffa23718f0e2734f9b40d8b279a016-e10e58bf43e6ce5c-01 outer:exit 2b-8130f8b843ffa23718f0e2734f9b40d8b279a016-dc05f7a68dd7195a-01
2022-04-25T18:42:29.758Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:29.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-f40e17cac6bc04c5d2bddb9ea17f782c85b41b6d-383f24b3e804b4b7-01 outer:exit 2b-f40e17cac6bc04c5d2bddb9ea17f782c85b41b6d-3a5b96b4f2f19525-01
2022-04-25T18:42:29.762Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:29.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-090f0868d0e76afd73a2608d6f5be80bff9881bd-3e020329a7f9ecf6-01 outer:exit 2b-090f0868d0e76afd73a2608d6f5be80bff9881bd-3130f43f79c73d5c-01
2022-04-25T18:42:29.772Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:29.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2e3cef68ed6e983a920513a4e62ee72a37ced14-317ef5d00b3f5ea0-01 outer:exit 2b-d2e3cef68ed6e983a920513a4e62ee72a37ced14-9d3ac726dbf7ef48-01
2022-04-25T18:42:29.775Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:29.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-e745d0463ecb87a60397b78962aaff4321d388c7-3c546e244b4be954-01 outer:exit 2b-e745d0463ecb87a60397b78962aaff4321d388c7-e139852e1370db3d-01
2022-04-25T18:42:29.778Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:29.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-877a1af4cf091d83776db77895193a4a94b92655-9172c922ddf3bfd1-01 outer:exit 2b-877a1af4cf091d83776db77895193a4a94b92655-f4b068802524594a-01
2022-04-25T18:42:29.780Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:29.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8c8476204c084dee8d788aad63df427b8c1b314-7028be40dd7db459-01 outer:exit 2b-f8c8476204c084dee8d788aad63df427b8c1b314-89041e5571a6539f-01
2022-04-25T18:42:29.783Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:29.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba6d16d5656b9e785fde3998fbfafd5b8a73470a-bd1f61f6b028a27d-01 outer:exit 2b-ba6d16d5656b9e785fde3998fbfafd5b8a73470a-1de96ba6a3bbf24f-01
2022-04-25T18:42:29.787Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:29.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-bce0a58057a81d373102e2e04eab348ca6c29156-4509704b37c7c561-01 outer:exit 2b-bce0a58057a81d373102e2e04eab348ca6c29156-eda2ece1f84bfb39-01
2022-04-25T18:42:29.814Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:29.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-527bd7adfa7e7f540301219d06254ba87f36c2c6-2f83041988c720aa-01 outer:exit 2b-527bd7adfa7e7f540301219d06254ba87f36c2c6-dc66232d042163ed-01
2022-04-25T18:42:29.839Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:29.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c97acb1b6120b88f224676b85c442b313c557d-c3eaecc797a4f203-01 outer:exit 2b-36c97acb1b6120b88f224676b85c442b313c557d-84f2a56eb56c4acc-01
2022-04-25T18:42:29.843Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:29.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8586b70440e35ab95a5b746b2032b2491f169e7-e71fb53f574f8936-01 outer:exit 2b-f8586b70440e35ab95a5b746b2032b2491f169e7-a144c2e811a4e62e-01
2022-04-25T18:42:29.846Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:29.849Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d456461483d5806f444b17d93af3a06fd293502-991fac8b25622b34-01 outer:exit 2b-5d456461483d5806f444b17d93af3a06fd293502-4a4d79ac51ac5d13-01
2022-04-25T18:42:29.850Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:29.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d8ae950e3134b7112a82bc7c46b6edbe96ef383-76f3660d2e297e34-01 outer:exit 2b-3d8ae950e3134b7112a82bc7c46b6edbe96ef383-4221510dbd351ed1-01
2022-04-25T18:42:29.885Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (439ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:37.213Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:37.214Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:37.214Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:37.215Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:37.291Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:37.485Z appoptics:patching patched crypto 
2022-04-25T18:42:37.507Z appoptics:patching patched https 
2022-04-25T18:42:37.508Z appoptics:patching patched http 
2022-04-25T18:42:37.574Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:37.574Z appoptics:patching patched fs 
2022-04-25T18:42:37.603Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v16.14.2)
2022-04-25T18:42:37.612Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-25T18:42:37.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c99adb1e507ee810bc8a891a08b0186015057c2-4405a26477c93268-01 outer:exit 2b-5c99adb1e507ee810bc8a891a08b0186015057c2-965f5e91835f1ad2-01
2022-04-25T18:42:37.673Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:37.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-abcd9108c26c756f301bb5fd08e82b828300b6cb-24f5a5df232d5ba3-01 outer:exit 2b-abcd9108c26c756f301bb5fd08e82b828300b6cb-9ae77306fa7595c8-01
2022-04-25T18:42:37.724Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:37.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-18528204f6faa8eef84250ac627cbe7cf31264a5-391ea33c25095255-01 outer:exit 2b-18528204f6faa8eef84250ac627cbe7cf31264a5-a4e9e610cb01f79d-01
2022-04-25T18:42:37.729Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:37.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfeccf5c30974463d9787ccae0a11a0919286f01-eb51dd2115d41b3d-01 outer:exit 2b-cfeccf5c30974463d9787ccae0a11a0919286f01-126cc578e0647d79-01
2022-04-25T18:42:37.733Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:37.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae6029499fcc111ad0feb2199cd35b9701defbd8-4491c0a574a3b301-01 outer:exit 2b-ae6029499fcc111ad0feb2199cd35b9701defbd8-2d9e39abb116ff46-01
2022-04-25T18:42:37.740Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:37.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d5fc3f4363e238d164031b39fbef1c642854625-9b09cf5bdb9db17a-01 outer:exit 2b-1d5fc3f4363e238d164031b39fbef1c642854625-f5f3fc451a8b7d30-01
2022-04-25T18:42:37.744Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:37.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bc8f9971e30a2bdc4689d5b755af034dc2e8cb2-19701c191cf99f66-01 outer:exit 2b-6bc8f9971e30a2bdc4689d5b755af034dc2e8cb2-1a2e3a2f6e328bbd-01
2022-04-25T18:42:37.748Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:37.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-445a8f0f245e5bce91fef8429e2faaaa338f8f87-f8c85c2a8e5647b1-01 outer:exit 2b-445a8f0f245e5bce91fef8429e2faaaa338f8f87-8fc9829f9df0740d-01
2022-04-25T18:42:37.751Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:37.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-5350ecb2087e07e85aefb5f54d685af59e73d978-422dd22935d03b6c-01 outer:exit 2b-5350ecb2087e07e85aefb5f54d685af59e73d978-5bd4eafc4149a6ef-01
2022-04-25T18:42:37.756Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:37.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-478306518065fc4e9b1e4a0d5843e33ded28631c-129f3840750d47bb-01 outer:exit 2b-478306518065fc4e9b1e4a0d5843e33ded28631c-462f22c2ef10423b-01
2022-04-25T18:42:37.764Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:37.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-fecab7041be92bce6a3d661fa8cbeca124a9de4a-54147e7a78a616ec-01 outer:exit 2b-fecab7041be92bce6a3d661fa8cbeca124a9de4a-d7fa455536e8bb6f-01
2022-04-25T18:42:37.770Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:37.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-32cb0f1957d50c2aeb4e5cb7315d8250e7e834f7-152bb6fed6171a1f-01 outer:exit 2b-32cb0f1957d50c2aeb4e5cb7315d8250e7e834f7-24426d133b357d63-01
2022-04-25T18:42:37.780Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:37.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-67fc55dfaf930fa19838afca1f8d06f42e1ca1dc-2fc66920ad62a889-01 outer:exit 2b-67fc55dfaf930fa19838afca1f8d06f42e1ca1dc-1c161ce31d07fd5d-01
2022-04-25T18:42:37.800Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:37.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-03321628c830378af87351338d3d9a8dc9de454e-91466e48f738e56f-01 outer:exit 2b-03321628c830378af87351338d3d9a8dc9de454e-1a815842e6216ce4-01
2022-04-25T18:42:37.863Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:37.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c40fd310936d52db261fc97cdda164cef458b4d-c70f7511e2ed338d-01 outer:exit 2b-5c40fd310936d52db261fc97cdda164cef458b4d-8a55ab08355c5035-01
2022-04-25T18:42:37.872Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:37.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-556ff18fc85af216abfc3371978b3d6cb2743415-5c4d41fce3cada27-01 outer:exit 2b-556ff18fc85af216abfc3371978b3d6cb2743415-410baffb42a5c7c0-01
2022-04-25T18:42:37.878Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:37.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-02d6a75129153ac69886e3a0f5af470408572b8c-daf12c3e216ccfac-01 outer:exit 2b-02d6a75129153ac69886e3a0f5af470408572b8c-541b2caf793b22c7-01
2022-04-25T18:42:37.885Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:37.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcf3299792cce3f88c758ded79bf03fb7cbd1c45-194c089bb92a91e1-01 outer:exit 2b-dcf3299792cce3f88c758ded79bf03fb7cbd1c45-998497667f1218d9-01
2022-04-25T18:42:37.889Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:37.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1eac4dc5eb3a9dcb7e3c9739612ae391f145f53-fd980f9cc7953c20-01 outer:exit 2b-d1eac4dc5eb3a9dcb7e3c9739612ae391f145f53-91a22d4092ed8df7-01
2022-04-25T18:42:37.897Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:37.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d549ab13465202cc50ca7a61997fd23c5142500-d29a017bf9165938-01 outer:exit 2b-3d549ab13465202cc50ca7a61997fd23c5142500-78a74a3b0022f992-01
2022-04-25T18:42:37.905Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:37.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed15e2fee49d9c0bbfcb0f2f485af8076f10e8f9-6e737bc235c21ddd-01 outer:exit 2b-ed15e2fee49d9c0bbfcb0f2f485af8076f10e8f9-d1a417b0eeccc0d3-01
2022-04-25T18:42:37.908Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:37.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-d38a243ced312a7ae28840329200b7d979346899-5c67955fbc02ea84-01 outer:exit 2b-d38a243ced312a7ae28840329200b7d979346899-0c77f7836b42fa92-01
2022-04-25T18:42:37.911Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:37.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0743c104f4c2350d51c387378663861829711b0-1876c50037d14d87-01 outer:exit 2b-a0743c104f4c2350d51c387378663861829711b0-46f4cd026caa9ca7-01
2022-04-25T18:42:37.921Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:37.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6875e9b7c122b2197f0260046dbcc653ff535b6-43d395d2652e20bf-01 outer:exit 2b-e6875e9b7c122b2197f0260046dbcc653ff535b6-757a870c9648c2b9-01
2022-04-25T18:42:37.927Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:37.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a35528cb000bb926dffb918a3bc0d7bcb141a19-cf712c32dbbe63c3-01 outer:exit 2b-2a35528cb000bb926dffb918a3bc0d7bcb141a19-df90ec81bd9ec4aa-01
2022-04-25T18:42:37.931Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:37.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-71172fae48e49f43791b77bbdaa3739379622266-74312de1a9d90be1-01 outer:exit 2b-71172fae48e49f43791b77bbdaa3739379622266-9cb36d7aa44d1356-01
2022-04-25T18:42:37.952Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:37.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-172d5ad3ce3aa8def9b920800e0ab753917625a3-4b328ef245ed834a-01 outer:exit 2b-172d5ad3ce3aa8def9b920800e0ab753917625a3-c170211f4aa67a81-01
2022-04-25T18:42:37.967Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:37.975Z appoptics:debug span.exit - no last event outer outer:entry 2b-984552c8f9d7b33111eb2436350aa0366617f511-e2bfbf0f6d75683b-01 outer:exit 2b-984552c8f9d7b33111eb2436350aa0366617f511-c6e0d673a50881c1-01
2022-04-25T18:42:37.976Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:38.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-1defe959dbe2590ac7326364f4191bcd94c6542a-c5efe7d3f1f68949-01 outer:exit 2b-1defe959dbe2590ac7326364f4191bcd94c6542a-a146ede6087c57df-01
2022-04-25T18:42:38.003Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:38.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ae204646d59b4627a80c1e8a6ded901ddc64bba-790a8a57137ac316-01 outer:exit 2b-4ae204646d59b4627a80c1e8a6ded901ddc64bba-ee8646f2783a8eb1-01
2022-04-25T18:42:38.013Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:38.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6191a5c13def7eac5f70eb088993fd6576a994d-8b75b1511ac29a9d-01 outer:exit 2b-c6191a5c13def7eac5f70eb088993fd6576a994d-43b42fa14dea9624-01
2022-04-25T18:42:38.017Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:38.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd40e2adab9f0140795e5b71d1be3e937c8ef759-014ef463d598b9c0-01 outer:exit 2b-dd40e2adab9f0140795e5b71d1be3e937c8ef759-02b9a7c28599f8da-01
2022-04-25T18:42:38.025Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:38.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0823235ff570377ac41ee5b4bfda08035c9180c-ed699c76b1f1acf7-01 outer:exit 2b-e0823235ff570377ac41ee5b4bfda08035c9180c-50f7ac91f8052684-01
2022-04-25T18:42:38.033Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:38.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d1e858a7448248ef3bd540426fdcd4a0813afb0-f250f8135ac76295-01 outer:exit 2b-1d1e858a7448248ef3bd540426fdcd4a0813afb0-8569ede11d56cd5b-01
2022-04-25T18:42:38.036Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:38.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-27b6e4ab3a19c66294dc2d5160e8a4fff5581648-9292261847463461-01 outer:exit 2b-27b6e4ab3a19c66294dc2d5160e8a4fff5581648-b8178ac857425e43-01
2022-04-25T18:42:38.038Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:38.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f5940fc63b34a3961d988e976ab907936b27b5c-8d5f5fa077fd812f-01 outer:exit 2b-6f5940fc63b34a3961d988e976ab907936b27b5c-95d975d96bb7e633-01
2022-04-25T18:42:38.048Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:38.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-541611fea50b505e3d49e7cce1a7fc617b68bf8e-084f7761d6076441-01 outer:exit 2b-541611fea50b505e3d49e7cce1a7fc617b68bf8e-7dbef1189af2a977-01
2022-04-25T18:42:38.050Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:38.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0552077d991ff241395d9ed0367f110eea33567-21f45c414030952a-01 outer:exit 2b-a0552077d991ff241395d9ed0367f110eea33567-a4b5987f7a7b0a33-01
2022-04-25T18:42:38.057Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:38.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d0cabc9b4c66539147e66bed4331d328e3cbeb0-e3ce7143d8128fc7-01 outer:exit 2b-0d0cabc9b4c66539147e66bed4331d328e3cbeb0-cfa8a4211c44a367-01
2022-04-25T18:42:38.082Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:38.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-72e12ad2682155589aa679f6e32da3155ddd9d46-b86165413660f4ef-01 outer:exit 2b-72e12ad2682155589aa679f6e32da3155ddd9d46-4fe086cae2ab94c8-01
2022-04-25T18:42:38.106Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:38.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f66b1fe91152a3c16b8bd10a45fb6e9d2bffdc0-8531dce16bab48d5-01 outer:exit 2b-8f66b1fe91152a3c16b8bd10a45fb6e9d2bffdc0-eb9d547629b8241d-01
2022-04-25T18:42:38.119Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:38.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a50eea578977a4f7fa23a46d1634a81b2b14154-6a6d2450fd2f57af-01 outer:exit 2b-4a50eea578977a4f7fa23a46d1634a81b2b14154-332b4469b773fba5-01
2022-04-25T18:42:38.123Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:38.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-7031c6295e1d1f2669eaeb8fbaf5dbc6dcc35747-e2e5cff4ceddfe04-01 outer:exit 2b-7031c6295e1d1f2669eaeb8fbaf5dbc6dcc35747-f84ff70a0d4a74dd-01
2022-04-25T18:42:38.127Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:38.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-f8e0a3dd059cfba94cc02fa8079b328b23c8a41a-7e38f16fa693d55d-01 outer:exit 2b-f8e0a3dd059cfba94cc02fa8079b328b23c8a41a-d3ea8d147775a8ce-01
2022-04-25T18:42:38.177Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (558ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:42:46.211Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:42:46.212Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:42:46.212Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:42:46.213Z appoptics:debug using context provider: ace-context
2022-04-25T18:42:46.290Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:42:46.453Z appoptics:patching patched crypto 
2022-04-25T18:42:46.475Z appoptics:patching patched https 
2022-04-25T18:42:46.476Z appoptics:patching patched http 
2022-04-25T18:42:46.523Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:42:46.523Z appoptics:patching patched fs 
2022-04-25T18:42:46.563Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v16.14.2)
2022-04-25T18:42:46.572Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-25T18:42:46.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-80da578839b5e39d394285850854dbefc29e37da-ed8216a0d4cc3f34-01 outer:exit 2b-80da578839b5e39d394285850854dbefc29e37da-78c11c5985445435-01
2022-04-25T18:42:46.662Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:42:46.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d48d61cc50e907dd9abd2e6ebc86696c687d759-988de479b0184495-01 outer:exit 2b-1d48d61cc50e907dd9abd2e6ebc86696c687d759-384e4e053c0dde10-01
2022-04-25T18:42:46.717Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:42:46.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd94dfaedd65029dc90e29408c57c3a6b7834c08-fab98c4e92cdcb80-01 outer:exit 2b-bd94dfaedd65029dc90e29408c57c3a6b7834c08-76ccce248c7c6318-01
2022-04-25T18:42:46.722Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:42:46.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-9261c0581848af96a624890603cedaf0ba2900ad-0f443ab4d79599a4-01 outer:exit 2b-9261c0581848af96a624890603cedaf0ba2900ad-9f4f3d3a1eacb64b-01
2022-04-25T18:42:46.726Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:42:46.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-13859226e59deabed0d45bc60b0b7737669565fe-fd12c695712bcf87-01 outer:exit 2b-13859226e59deabed0d45bc60b0b7737669565fe-661d5de135c55ae4-01
2022-04-25T18:42:46.734Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:42:46.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-b24bef616498dd156532c4faa9ebc48a75746b4c-d697ee7216203840-01 outer:exit 2b-b24bef616498dd156532c4faa9ebc48a75746b4c-9d9523cf7a3e7977-01
2022-04-25T18:42:46.738Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:42:46.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cdb0e106deb8d0e8d9ff462e4ce2370eb91be7e-40d70fb01e246459-01 outer:exit 2b-8cdb0e106deb8d0e8d9ff462e4ce2370eb91be7e-216b9979f77824c9-01
2022-04-25T18:42:46.744Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:42:46.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-8157cfe50a8d12c8cd6de17bb204cb6ed250f78f-eb0fbcddb6dc984a-01 outer:exit 2b-8157cfe50a8d12c8cd6de17bb204cb6ed250f78f-e59838cb8d57b3f3-01
2022-04-25T18:42:46.751Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:42:46.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-05461172563a2046bcf62e017c8b14e750d136fb-f30fe70d0106ee35-01 outer:exit 2b-05461172563a2046bcf62e017c8b14e750d136fb-0917aa68c891b589-01
2022-04-25T18:42:46.755Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:42:46.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-a424568fa3f3164fe2bb51089a4c9b89f89bf24a-b8e833eead939191-01 outer:exit 2b-a424568fa3f3164fe2bb51089a4c9b89f89bf24a-9e11b2de336dd45e-01
2022-04-25T18:42:46.759Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:42:46.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ca71787035d127e8772521e305e2d436e1b9eb1-b0cb7488358f322b-01 outer:exit 2b-5ca71787035d127e8772521e305e2d436e1b9eb1-c101a2b79afffb22-01
2022-04-25T18:42:46.764Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:42:46.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-39a5364ad5de6b319fe7bbd61ff3121a7ecd632d-ef0bf77e6677b07e-01 outer:exit 2b-39a5364ad5de6b319fe7bbd61ff3121a7ecd632d-789f46ed7f2c6a1c-01
2022-04-25T18:42:46.772Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:42:46.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-482249c5676abbec319809775758b867e320538d-a893f3cb5ceda9b6-01 outer:exit 2b-482249c5676abbec319809775758b867e320538d-fef286b618de945d-01
2022-04-25T18:42:46.792Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:42:46.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-2512ef0d42995aa36670d4419075a14034c15d07-8a09d6c84da1e50d-01 outer:exit 2b-2512ef0d42995aa36670d4419075a14034c15d07-c380ed0e6cc7e634-01
2022-04-25T18:42:46.838Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:42:46.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcc9931f00cb19c2113e74e8ce41422a56b9ef0b-99ce5d8bf9ab483e-01 outer:exit 2b-fcc9931f00cb19c2113e74e8ce41422a56b9ef0b-01bad7d5dbfc0c2f-01
2022-04-25T18:42:46.842Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:42:46.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-934dda3c83765aef72c14adb928703442d2c7e6a-035fc02073eefc2e-01 outer:exit 2b-934dda3c83765aef72c14adb928703442d2c7e6a-fdd0c03ae709176a-01
2022-04-25T18:42:46.846Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:42:46.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f854e6977695d770eed1d9c6fb76b43165e57a-341b42a06896a885-01 outer:exit 2b-49f854e6977695d770eed1d9c6fb76b43165e57a-52ed88e38205be6e-01
2022-04-25T18:42:46.853Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:42:46.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-b28aa23278d223b9c539f4d9a97331cf78da61d2-6b2071f7e60be872-01 outer:exit 2b-b28aa23278d223b9c539f4d9a97331cf78da61d2-31445ea505e14fa1-01
2022-04-25T18:42:46.856Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:42:46.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ca075824b877e9d4ba8024942cb821738d0f7c5-0b6ac30f3fa12edb-01 outer:exit 2b-0ca075824b877e9d4ba8024942cb821738d0f7c5-6a4546f8e2e44245-01
2022-04-25T18:42:46.859Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:42:46.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3ffab281911ea8492edd585d1cc0afb9af6bb43-9a5ce4dcfe1c5d5d-01 outer:exit 2b-b3ffab281911ea8492edd585d1cc0afb9af6bb43-598e6b3be11ebcbd-01
2022-04-25T18:42:46.861Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:42:46.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aad896990862ef1f7cf54934bb2df583f1187c6-b8a6459ed635642b-01 outer:exit 2b-8aad896990862ef1f7cf54934bb2df583f1187c6-07225d7eafb3ab95-01
2022-04-25T18:42:46.864Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:42:46.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-93b1c6089838e33f28dc360b5ca60313d93e8ed6-fa5acf9d80294221-01 outer:exit 2b-93b1c6089838e33f28dc360b5ca60313d93e8ed6-8747b7b0042f86fc-01
2022-04-25T18:42:46.867Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:42:46.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1fe5e9382463dcfb50949ce953b3f21cc40ba67-33de1cf6fe1a8739-01 outer:exit 2b-c1fe5e9382463dcfb50949ce953b3f21cc40ba67-527ccbe10613edca-01
2022-04-25T18:42:46.870Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:42:46.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd41d34e8a4d624ee3b934c9a9fec4221512690f-678f25c93265ef97-01 outer:exit 2b-fd41d34e8a4d624ee3b934c9a9fec4221512690f-408070cfde8f8653-01
2022-04-25T18:42:46.874Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:42:46.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-92fbe4d1253870a2fd08b0b46842dfcb69ef5a14-ac83fda9705aa108-01 outer:exit 2b-92fbe4d1253870a2fd08b0b46842dfcb69ef5a14-8ef71d60e0330851-01
2022-04-25T18:42:46.879Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:42:46.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-a760e43281ea47c6b4c27ecea0706386c36b4746-a2eeb53f61c6cbb4-01 outer:exit 2b-a760e43281ea47c6b4c27ecea0706386c36b4746-cd7ce4990f14938b-01
2022-04-25T18:42:46.881Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:42:46.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-09e14f2572a381bc071773e75d58e20d3e113847-f3b5fbcd89b65cb5-01 outer:exit 2b-09e14f2572a381bc071773e75d58e20d3e113847-91d5b0e1354bda9e-01
2022-04-25T18:42:46.888Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:42:46.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f4f79b0493a82141f9727e55409148b55c10916-b025ef1f3a74aa90-01 outer:exit 2b-5f4f79b0493a82141f9727e55409148b55c10916-91618c960dad8146-01
2022-04-25T18:42:46.896Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:42:46.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-8221031240ee737b2b65043c338be1659b4796a8-2cf32361473beeee-01 outer:exit 2b-8221031240ee737b2b65043c338be1659b4796a8-4ed598deb7d2f7e8-01
2022-04-25T18:42:46.913Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:42:46.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-88e2f8640abc94b86a61593674a684af42b6d37f-80422d7c9563b797-01 outer:exit 2b-88e2f8640abc94b86a61593674a684af42b6d37f-c248b340b4969d17-01
2022-04-25T18:42:46.923Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:42:46.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ff4f6912f5b279a4f7d322819374f09a6cb0b61-7c3e19c30cb7ade4-01 outer:exit 2b-5ff4f6912f5b279a4f7d322819374f09a6cb0b61-82bd740455ab5c6d-01
2022-04-25T18:42:46.925Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:42:46.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb2f1946b271144dde16e41e561fa8ddb0b4e76-3a3533981d795f33-01 outer:exit 2b-9cb2f1946b271144dde16e41e561fa8ddb0b4e76-b7cdb387021ef821-01
2022-04-25T18:42:46.929Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:42:46.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-56db614e954487c3f85bf645949d1b998144a78f-1b054ca69a56eee4-01 outer:exit 2b-56db614e954487c3f85bf645949d1b998144a78f-14ff63d19e7b8ca8-01
2022-04-25T18:42:46.937Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:42:46.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2a185ba713fd21f38192fc0f257bdc5180edd9a-fc9e80569d9c2f0c-01 outer:exit 2b-c2a185ba713fd21f38192fc0f257bdc5180edd9a-b07eeff41405fa9a-01
2022-04-25T18:42:46.940Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:42:46.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-05347f4c299936c4f0e87df737c56f6277b49336-b6e3240fa3b480a0-01 outer:exit 2b-05347f4c299936c4f0e87df737c56f6277b49336-a166180acee29c95-01
2022-04-25T18:42:46.947Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:42:46.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-99b56b220affb901399cda33264b1ca37bd3ddaa-046b47e56a64f05c-01 outer:exit 2b-99b56b220affb901399cda33264b1ca37bd3ddaa-99956c25509e9cf8-01
2022-04-25T18:42:46.949Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:42:46.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-579fb8d9a601886d2d144a712c195c2a5f3a410d-29f32ed78b0773c4-01 outer:exit 2b-579fb8d9a601886d2d144a712c195c2a5f3a410d-efcd486253b75e1a-01
2022-04-25T18:42:46.952Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:42:46.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa2e12d2447521c6f083a24121b2194e79cb638c-33631dc3b7a71f29-01 outer:exit 2b-aa2e12d2447521c6f083a24121b2194e79cb638c-e85c61dcc7e64b72-01
2022-04-25T18:42:46.954Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:42:46.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a3c3f123c26c26619bb795e32067e37e8012061-e80c43883e66b34d-01 outer:exit 2b-8a3c3f123c26c26619bb795e32067e37e8012061-acdad530ac85984b-01
2022-04-25T18:42:46.967Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:42:46.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fe569c0ca623e27da701bd6abd868f77746eada-d2733afc90cc4e95-01 outer:exit 2b-5fe569c0ca623e27da701bd6abd868f77746eada-ecf24c3bd210b43c-01
2022-04-25T18:42:46.978Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:42:46.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ec5e5faa3320260f94a5c068831cb38c460817e-84492b5bf44d2811-01 outer:exit 2b-1ec5e5faa3320260f94a5c068831cb38c460817e-cd4dfbd2c63c40e7-01
2022-04-25T18:42:46.982Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:42:46.985Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4af403fb5beeac772fbeee8d9bc027d3b213e80-3cdd71ac29098634-01 outer:exit 2b-b4af403fb5beeac772fbeee8d9bc027d3b213e80-a0ecf8e4348512e3-01
2022-04-25T18:42:46.985Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:42:46.988Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bfcfee5dae9e17817c182ad6dd401edb4e50dab-1df52d1253043cc6-01 outer:exit 2b-1bfcfee5dae9e17817c182ad6dd401edb4e50dab-709efba00f13f51e-01
2022-04-25T18:42:46.988Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:42:47.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d5dbd3bcab500029b0f0fe1a2d97c1e9a033fa9-e131d99a79cc3ef3-01 outer:exit 2b-2d5dbd3bcab500029b0f0fe1a2d97c1e9a033fa9-dd6f4b30cf5c2e5b-01
2022-04-25T18:42:47.023Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (432ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm ERR! code E409
npm ERR! 409 Conflict - GET https://registry.npmjs.org/run-parallel-limit

npm ERR! A complete log of this run can be found in:
npm ERR!     /github/home/.npm/_logs/2022-04-25T18_42_47_229Z-debug-0.log

changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:10.211Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:10.212Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:10.213Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:10.213Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:10.295Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:10.455Z appoptics:patching patched crypto 
2022-04-25T18:43:10.477Z appoptics:patching patched https 
2022-04-25T18:43:10.477Z appoptics:patching patched http 
2022-04-25T18:43:10.525Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:10.526Z appoptics:patching patched fs 
2022-04-25T18:43:10.558Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v16.14.2)
2022-04-25T18:43:10.566Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-25T18:43:10.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebe994931763844d08ec5bd6979760b7166a7865-d612a3a930072489-01 outer:exit 2b-ebe994931763844d08ec5bd6979760b7166a7865-752268f50d759b00-01
2022-04-25T18:43:10.623Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:10.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a181490bacdd39304713e34ea62f26121cc2cae-3eb7b9fa436e2e28-01 outer:exit 2b-0a181490bacdd39304713e34ea62f26121cc2cae-f0a846843e515a4e-01
2022-04-25T18:43:10.672Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:10.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-291ff58eaf0b51b8f2e50b65095a8f340f595cff-9a026b535ac513fa-01 outer:exit 2b-291ff58eaf0b51b8f2e50b65095a8f340f595cff-08caa94d082426df-01
2022-04-25T18:43:10.677Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:10.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-244bd5d3e713795ba1f1403e06b8414be3d1c6cf-6566530ca087e959-01 outer:exit 2b-244bd5d3e713795ba1f1403e06b8414be3d1c6cf-71e880eadb41cbb1-01
2022-04-25T18:43:10.681Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:10.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-65eb91fe4a36f05ad81ccb767b20a263dd16fc47-31fab4e6bc9c6add-01 outer:exit 2b-65eb91fe4a36f05ad81ccb767b20a263dd16fc47-544a9bf2a2bc292f-01
2022-04-25T18:43:10.687Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:10.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-296359fecb8760580ecd758878d638d322df0ed9-388541b080233ae6-01 outer:exit 2b-296359fecb8760580ecd758878d638d322df0ed9-49ae40b4de4fd530-01
2022-04-25T18:43:10.691Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:10.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f5d944d025c320fb7b8097deccaed5e95c3ad16-31b1d61422cad4d9-01 outer:exit 2b-6f5d944d025c320fb7b8097deccaed5e95c3ad16-e8dbce857e9a710f-01
2022-04-25T18:43:10.695Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:10.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-48a90ed3d7fd87f48be80c9c0d70759d636f9f84-6cc63aba7a418fe9-01 outer:exit 2b-48a90ed3d7fd87f48be80c9c0d70759d636f9f84-28b20c7748cda1aa-01
2022-04-25T18:43:10.698Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:10.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-b490cf2c1fc780c5beab22361ac764c456bc03a7-75687ae97b2dc7a2-01 outer:exit 2b-b490cf2c1fc780c5beab22361ac764c456bc03a7-f5f46772af032cfd-01
2022-04-25T18:43:10.702Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:10.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-95541c07e68cecb60d25dcf517f22815b60b15dd-640d0f9245d6f726-01 outer:exit 2b-95541c07e68cecb60d25dcf517f22815b60b15dd-89a66637ab8ae13f-01
2022-04-25T18:43:10.707Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:10.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c154626cbed2c38e6cfffa5676b525aa1510508-5256423a2e88fd18-01 outer:exit 2b-3c154626cbed2c38e6cfffa5676b525aa1510508-579b3bb0ff01c223-01
2022-04-25T18:43:10.712Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:10.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eae9ad0f415c6fcdcc381720ebdff1c4e8e0d57-fcfc5c91f08ab990-01 outer:exit 2b-5eae9ad0f415c6fcdcc381720ebdff1c4e8e0d57-19fbbca74bb4ed1a-01
2022-04-25T18:43:10.720Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:10.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c83eff9fb38acda27f70b2345ae89415f98392-6dababf46f97a818-01 outer:exit 2b-71c83eff9fb38acda27f70b2345ae89415f98392-1e8732f22ce168e9-01
2022-04-25T18:43:10.741Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:10.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c8a676c3f41f5486aea26487bb582c1e78252a4-e4de616bcdbabaa6-01 outer:exit 2b-9c8a676c3f41f5486aea26487bb582c1e78252a4-38a6cb99fad4ac19-01
2022-04-25T18:43:10.786Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:10.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-f251b82261329d5c846f1c693376bd7c36b9c88c-04138025e9ec81e7-01 outer:exit 2b-f251b82261329d5c846f1c693376bd7c36b9c88c-fd3767148c486cbd-01
2022-04-25T18:43:10.790Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:10.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-907ce69ec18f254b88b0948a121a9ae854533edd-9a3bc141988016a3-01 outer:exit 2b-907ce69ec18f254b88b0948a121a9ae854533edd-754423fd1ed8631d-01
2022-04-25T18:43:10.793Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:10.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-4140435ed7e3958e045a8fb4fec481d41ce5017d-cc7b1678ff5714e5-01 outer:exit 2b-4140435ed7e3958e045a8fb4fec481d41ce5017d-acb7648df35cfd5e-01
2022-04-25T18:43:10.796Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:10.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-19de4493e4c440ae730aa31f1b5f6a14ca4085e4-791b9d2046410be0-01 outer:exit 2b-19de4493e4c440ae730aa31f1b5f6a14ca4085e4-5213d0f9244ab948-01
2022-04-25T18:43:10.799Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:10.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f54a5193ef23052ef260bd6d90cef48031aea0e-148974bdc70324f5-01 outer:exit 2b-4f54a5193ef23052ef260bd6d90cef48031aea0e-17948ca6f70d5f12-01
2022-04-25T18:43:10.802Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:10.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd7d60c81e16b4993553caea61419e52cd47f222-e044497788c66e03-01 outer:exit 2b-bd7d60c81e16b4993553caea61419e52cd47f222-7af5628ec0d2dc78-01
2022-04-25T18:43:10.805Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:10.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1cdabf8b704fed6fa2a9897dfabc5b4b55c6cd0-05429e83f0815b4a-01 outer:exit 2b-b1cdabf8b704fed6fa2a9897dfabc5b4b55c6cd0-6082db837392a8f8-01
2022-04-25T18:43:10.810Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:10.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-65d956ddc9ff298a3d27afcf6a28ad83276f405a-c12736f0d789836f-01 outer:exit 2b-65d956ddc9ff298a3d27afcf6a28ad83276f405a-8dbe86730436c433-01
2022-04-25T18:43:10.813Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:10.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-15505d5c4a784feed4608e384a361291bf77dbc6-d1f8689902870913-01 outer:exit 2b-15505d5c4a784feed4608e384a361291bf77dbc6-683fef445bf8a127-01
2022-04-25T18:43:10.817Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:10.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-524d1d6a1d479f5036ddc72423e3804e3f5cf837-10c6c93c20797fca-01 outer:exit 2b-524d1d6a1d479f5036ddc72423e3804e3f5cf837-8db281618ae218f8-01
2022-04-25T18:43:10.821Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:10.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1df80d3cf160af46e860c7cc3ed115c138bcd86-3b3558ae632ec97c-01 outer:exit 2b-f1df80d3cf160af46e860c7cc3ed115c138bcd86-bb9efb301994154b-01
2022-04-25T18:43:10.829Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:10.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-8292f76004f605929bd1c963f34c22c8335f3246-5d617d983b6b9e6b-01 outer:exit 2b-8292f76004f605929bd1c963f34c22c8335f3246-554b5e1ac2240c2e-01
2022-04-25T18:43:10.832Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:10.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-042f6cb1367f117d10012fa448489fe2dce04d4c-e747e096742d41cc-01 outer:exit 2b-042f6cb1367f117d10012fa448489fe2dce04d4c-5bc24443df4c93bd-01
2022-04-25T18:43:10.839Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:10.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-b028fd2fb3a9ec735a4a125d1405ea1e1388603c-103f7404d51b4f7e-01 outer:exit 2b-b028fd2fb3a9ec735a4a125d1405ea1e1388603c-3190cc44427039a3-01
2022-04-25T18:43:10.851Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:10.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-40c85c68b951ed7d90559f319bf4dc78c16701d7-024c58d820d1420f-01 outer:exit 2b-40c85c68b951ed7d90559f319bf4dc78c16701d7-650e3317a679b0c0-01
2022-04-25T18:43:10.868Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:10.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-f380fddb5a9ef9d81f21ab3284c44eeb942ed65c-de1430f2a5c38dc5-01 outer:exit 2b-f380fddb5a9ef9d81f21ab3284c44eeb942ed65c-11e6f0d5aea28fff-01
2022-04-25T18:43:10.880Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:10.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-d51b9ca74b90f3ce35b16224a0f4d5a3ca84988c-2a63790067c178a7-01 outer:exit 2b-d51b9ca74b90f3ce35b16224a0f4d5a3ca84988c-8dba24e43051f617-01
2022-04-25T18:43:10.883Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:10.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5651db8e6fe48b57cae5853269d62bd31fbf306-8e2ab89cd9a55c5e-01 outer:exit 2b-c5651db8e6fe48b57cae5853269d62bd31fbf306-00fabc746b32cb35-01
2022-04-25T18:43:10.889Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:10.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-11f191362dd49287a87a459ac24a5e458e4e050d-ef18fa0207755b9b-01 outer:exit 2b-11f191362dd49287a87a459ac24a5e458e4e050d-f2fd562d5019bb89-01
2022-04-25T18:43:10.898Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:10.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-d236578d08a93f93992a93e902a255a0e5e21679-5872430b5cf091ce-01 outer:exit 2b-d236578d08a93f93992a93e902a255a0e5e21679-3f01f783cdec41d2-01
2022-04-25T18:43:10.901Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:10.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-a84ebe92b3016afc020385db5781c5b5ab0fd771-c22979f386d3363a-01 outer:exit 2b-a84ebe92b3016afc020385db5781c5b5ab0fd771-5e37d8c3bbb7586a-01
2022-04-25T18:43:10.904Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:10.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa22bad5f4aa119d7df125556c498df53c3bc6fa-ed6cb74b53bec3c7-01 outer:exit 2b-fa22bad5f4aa119d7df125556c498df53c3bc6fa-45e24c8870007cfb-01
2022-04-25T18:43:10.906Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:10.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-01104e5eb0a455bd75600a73c18a95e2bdff5c81-393fa982d0093860-01 outer:exit 2b-01104e5eb0a455bd75600a73c18a95e2bdff5c81-ae8a62a0e53cf672-01
2022-04-25T18:43:10.909Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:10.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d95135348126b47306090f95c9a9a8b0bcfe2aa-5adb83a782af0f20-01 outer:exit 2b-8d95135348126b47306090f95c9a9a8b0bcfe2aa-343f20f9bdea7337-01
2022-04-25T18:43:10.912Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:10.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-a86590efd55cac5d86d8f2a84fc1a4f49dd6129f-43b351edeb8f2969-01 outer:exit 2b-a86590efd55cac5d86d8f2a84fc1a4f49dd6129f-e06159d24f952be9-01
2022-04-25T18:43:10.933Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:10.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-40f34fdf972ebe238f32c3c9e47492fcfa4557bb-f760bbe8299c3384-01 outer:exit 2b-40f34fdf972ebe238f32c3c9e47492fcfa4557bb-4f09e4a6bcccb876-01
2022-04-25T18:43:10.954Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:10.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9dc3f8caa71bca7eb92808ad69b0e9e51bfe928-6c132a341d507dec-01 outer:exit 2b-d9dc3f8caa71bca7eb92808ad69b0e9e51bfe928-aaa826d55d87f7fa-01
2022-04-25T18:43:10.958Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:10.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9de250923322d2c3936fdcb85f11e9ab2b6bf40-5fd7c5bf98c2ee49-01 outer:exit 2b-f9de250923322d2c3936fdcb85f11e9ab2b6bf40-747b456d22145789-01
2022-04-25T18:43:10.967Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:10.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-3508ff24c94993583ff2b9500615b2ab09685eae-d91f750f5d33c399-01 outer:exit 2b-3508ff24c94993583ff2b9500615b2ab09685eae-656e2a0d11a1da36-01
2022-04-25T18:43:10.970Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:11.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc23a7f9975f08c359d1098102471c83f5748e60-f20a1d4d61092089-01 outer:exit 2b-fc23a7f9975f08c359d1098102471c83f5748e60-7aa440cfc4de22a0-01
2022-04-25T18:43:11.020Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (447ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:19.163Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:19.169Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:19.169Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:19.170Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:19.274Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:19.481Z appoptics:patching patched crypto 
2022-04-25T18:43:19.536Z appoptics:patching patched https 
2022-04-25T18:43:19.549Z appoptics:patching patched http 
2022-04-25T18:43:19.594Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:19.595Z appoptics:patching patched fs 
2022-04-25T18:43:19.638Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v16.14.2)
2022-04-25T18:43:19.648Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-25T18:43:19.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-c819021d4edacca0d79f3a24fd727c09bf1991a6-4c8936855ccf3dd2-01 outer:exit 2b-c819021d4edacca0d79f3a24fd727c09bf1991a6-6a8a6a58df248fda-01
2022-04-25T18:43:19.739Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:19.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-41dd0468b5a942c47dd581d90c069f566d612e4d-737eb3e0e97ff5da-01 outer:exit 2b-41dd0468b5a942c47dd581d90c069f566d612e4d-553d34691669250b-01
2022-04-25T18:43:19.797Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:19.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-49e21b8242cc2f08a29cf4b8042206c6a530742c-fb033740f2a92b18-01 outer:exit 2b-49e21b8242cc2f08a29cf4b8042206c6a530742c-dfd08300244cac94-01
2022-04-25T18:43:19.803Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:19.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-522ed110a5626d1a2308f6790bc9cd5daa7fd339-ccfe3beb3be19208-01 outer:exit 2b-522ed110a5626d1a2308f6790bc9cd5daa7fd339-00127ae3acf23b17-01
2022-04-25T18:43:19.809Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:19.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8eab793b599b36a2bcd34c309e754148f72dcfd-269766c96ea5e342-01 outer:exit 2b-c8eab793b599b36a2bcd34c309e754148f72dcfd-78d883ed4c0225dd-01
2022-04-25T18:43:19.821Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:19.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5a70f8c14a68aa181eea2efbe52a603a09c97d7-d1cd2c2d8c039d7c-01 outer:exit 2b-c5a70f8c14a68aa181eea2efbe52a603a09c97d7-f004f8f3270cfe61-01
2022-04-25T18:43:19.826Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:19.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-60f2a7f5ef9961a788089023cf1438a9d4c1aea2-fb6c4070b435281a-01 outer:exit 2b-60f2a7f5ef9961a788089023cf1438a9d4c1aea2-dcf65502ca2c883d-01
2022-04-25T18:43:19.831Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:19.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1233bdf97c5a74f7db0b0ab27a076d2e86637db-88e9748692676668-01 outer:exit 2b-f1233bdf97c5a74f7db0b0ab27a076d2e86637db-0f04741535c42646-01
2022-04-25T18:43:19.836Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:19.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ac211c71e17f4e6d253b3b37eea490bd9b1d3aa-a17f04df6a1ff96e-01 outer:exit 2b-7ac211c71e17f4e6d253b3b37eea490bd9b1d3aa-74abe1fbcb94eaa4-01
2022-04-25T18:43:19.840Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:19.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-a12acd536ac7c94b9d5b29466f5f95ee93b89023-3f3e5484d24f6954-01 outer:exit 2b-a12acd536ac7c94b9d5b29466f5f95ee93b89023-5fa9651597c0ca7c-01
2022-04-25T18:43:19.845Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:19.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d29a1e214c235998a684a11c861eba13887860d-217e1bc89c07fcd7-01 outer:exit 2b-9d29a1e214c235998a684a11c861eba13887860d-bb607ae77ff1eba1-01
2022-04-25T18:43:19.851Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:19.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e7201628e16e412db662a23b3e992e71abf5b15-b7f80bb97c94a95c-01 outer:exit 2b-7e7201628e16e412db662a23b3e992e71abf5b15-eea5632b0decd907-01
2022-04-25T18:43:19.860Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:19.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e6871644846b1ce198322c65207241be540c978-1cdba78403ce1328-01 outer:exit 2b-1e6871644846b1ce198322c65207241be540c978-fc1094243e4de933-01
2022-04-25T18:43:19.887Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:19.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c0f17e8bfc234ecaff8a4047e52e0140ba40ab5-6b09c36450c147dc-01 outer:exit 2b-0c0f17e8bfc234ecaff8a4047e52e0140ba40ab5-835c2c0174d47e47-01
2022-04-25T18:43:19.935Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:19.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-afc3e69bda6e49a48a4248e80f81fe297ecb0e6b-385a3fa33f875ebd-01 outer:exit 2b-afc3e69bda6e49a48a4248e80f81fe297ecb0e6b-a85d5ac2ff96a722-01
2022-04-25T18:43:19.938Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:19.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-15807dede1445bd1327db64d9fd218c82ee52af1-8aa3460ee9e4663c-01 outer:exit 2b-15807dede1445bd1327db64d9fd218c82ee52af1-d84b2f9292ff6136-01
2022-04-25T18:43:19.944Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:19.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-95751f5420ccaaf5dce2561eb0fa4496454b9865-14da9fdaf19d9321-01 outer:exit 2b-95751f5420ccaaf5dce2561eb0fa4496454b9865-f1610c63f3b86eae-01
2022-04-25T18:43:19.947Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:19.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bbbbe8671f650e19e54cc485aca95a5b51e5975-3c5dcef5a7862df8-01 outer:exit 2b-2bbbbe8671f650e19e54cc485aca95a5b51e5975-7e20847ace5a4229-01
2022-04-25T18:43:19.950Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:19.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ac0d27aff7ae3e514a8fab512ce236885341f20-90c7ec8c90af5cf0-01 outer:exit 2b-2ac0d27aff7ae3e514a8fab512ce236885341f20-0b466379a172421a-01
2022-04-25T18:43:19.953Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:19.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-621b8cd42b1e9bfffdeea92f38d4513c7feb9a18-617480e775f86c05-01 outer:exit 2b-621b8cd42b1e9bfffdeea92f38d4513c7feb9a18-b108dc9b029ddc20-01
2022-04-25T18:43:19.956Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:19.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f39f0bb3faa91bd191445f39e830017a8580ba0-e8332348c0fea1a1-01 outer:exit 2b-8f39f0bb3faa91bd191445f39e830017a8580ba0-5526ed5ac50b3157-01
2022-04-25T18:43:19.958Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:19.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-a63a9d000c6d38dc40215b996cfa731f63c696b0-7dcca17b0dfdf1b0-01 outer:exit 2b-a63a9d000c6d38dc40215b996cfa731f63c696b0-ddfe14ea8bed280b-01
2022-04-25T18:43:19.961Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:19.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e5094b8a475684a056c89ff8f53d80ec9a3ccb9-81c17fcc44e9941a-01 outer:exit 2b-8e5094b8a475684a056c89ff8f53d80ec9a3ccb9-789fa475dd3126dc-01
2022-04-25T18:43:19.965Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:19.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-57b97f642987a43bd603249c59655f55ed7c9cba-4dda6ee46c70f6d0-01 outer:exit 2b-57b97f642987a43bd603249c59655f55ed7c9cba-06baa56235ad947f-01
2022-04-25T18:43:19.968Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:19.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cbbd10cb67b7b86d04818c5426491e4f1f4bc3e-4f4e9806a7042098-01 outer:exit 2b-5cbbd10cb67b7b86d04818c5426491e4f1f4bc3e-82bf17cdc9f31212-01
2022-04-25T18:43:19.971Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:19.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e33b16072d8a533c68d5c74f269084b3cab2066-6110f5d7e68a2233-01 outer:exit 2b-9e33b16072d8a533c68d5c74f269084b3cab2066-8d184ac920a71df3-01
2022-04-25T18:43:19.974Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:19.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-973497b86c0e2602bda7e1b0295b361eaa7573e9-61e4b15360f9be04-01 outer:exit 2b-973497b86c0e2602bda7e1b0295b361eaa7573e9-1a2c315bffd0f9fb-01
2022-04-25T18:43:19.982Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:19.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-b753933baa03056ba22d15de18f9028d680123d3-a9860d48779b9bd9-01 outer:exit 2b-b753933baa03056ba22d15de18f9028d680123d3-7985b9b9119b9abd-01
2022-04-25T18:43:19.987Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:19.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec684dc462530dcba11347afb78491f18930e944-d602d4036d368a62-01 outer:exit 2b-ec684dc462530dcba11347afb78491f18930e944-a777daddc28fec13-01
2022-04-25T18:43:19.998Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:20.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-df82833dee7ef19aa8a6259d64bc3bc866a57258-f5737d6429e2a62d-01 outer:exit 2b-df82833dee7ef19aa8a6259d64bc3bc866a57258-ac1cbfa5d7fb44c2-01
2022-04-25T18:43:20.007Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:20.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-32023ecd77bc993b835282dc97032ad3b050ce0f-c19a3a7db39ed61d-01 outer:exit 2b-32023ecd77bc993b835282dc97032ad3b050ce0f-cb3d93787b552f20-01
2022-04-25T18:43:20.011Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:20.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-d01f6a77883b895427fcd2cf35bb33c7ce1d07bf-f67a836cf3492819-01 outer:exit 2b-d01f6a77883b895427fcd2cf35bb33c7ce1d07bf-b98a3182539da55b-01
2022-04-25T18:43:20.021Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:20.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-b88bf46a5965bb1afed7c9af4b6de301e9004cb6-338e7e263b868deb-01 outer:exit 2b-b88bf46a5965bb1afed7c9af4b6de301e9004cb6-c93c02b4e2f03c4e-01
2022-04-25T18:43:20.032Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:20.035Z appoptics:debug span.exit - no last event outer outer:entry 2b-8834f7c182c46a772e1c204bc4897d13a2065e54-a28fe326b76a7c8d-01 outer:exit 2b-8834f7c182c46a772e1c204bc4897d13a2065e54-803bacd45a5da32c-01
2022-04-25T18:43:20.035Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:20.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-da66d30011d896efd7a1a26b4dc08a54eba28ae3-3d64931ab011d75f-01 outer:exit 2b-da66d30011d896efd7a1a26b4dc08a54eba28ae3-8fa32e3efc60909c-01
2022-04-25T18:43:20.039Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:20.042Z appoptics:debug span.exit - no last event outer outer:entry 2b-fae60db8d7a130a3748ccd850b1e149c184a9e65-a80fac8edfd3c9b5-01 outer:exit 2b-fae60db8d7a130a3748ccd850b1e149c184a9e65-fbf320c409096d54-01
2022-04-25T18:43:20.042Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:20.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-be511ea48f294ced779bcc72ca4bd493f2e23dc7-0b6b7c82d80d870a-01 outer:exit 2b-be511ea48f294ced779bcc72ca4bd493f2e23dc7-e8726a927b4b4ab2-01
2022-04-25T18:43:20.046Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:20.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-00872078e8242118e02b1b809ae8313d610f38ba-51e61e41433ca086-01 outer:exit 2b-00872078e8242118e02b1b809ae8313d610f38ba-88412a242f7aa5a0-01
2022-04-25T18:43:20.054Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:20.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bb19f2529f7dc18ba8358e16d884e1d54fa0dfe-cda19513a24ac719-01 outer:exit 2b-7bb19f2529f7dc18ba8358e16d884e1d54fa0dfe-3366a35720a0917f-01
2022-04-25T18:43:20.067Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:20.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf205b3036fdba935aa86419e3ed9be06def8efe-e4012a8eee611e90-01 outer:exit 2b-bf205b3036fdba935aa86419e3ed9be06def8efe-7893df49ee662f05-01
2022-04-25T18:43:20.081Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:20.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ed503216dcdbfc5484f72c6c6126d071e965be2-1aa5ac7baca873a5-01 outer:exit 2b-7ed503216dcdbfc5484f72c6c6126d071e965be2-194c79432ef7af2d-01
2022-04-25T18:43:20.091Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:20.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-52217fdf98363901a9bc44ddb9895b6cb0334201-0f7a0287570e93fc-01 outer:exit 2b-52217fdf98363901a9bc44ddb9895b6cb0334201-b16b2047d1dd4d34-01
2022-04-25T18:43:20.095Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:20.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5692aa919ab841e3a670d2c7912eddb3f97c4f6-bc36bde1f195ebde-01 outer:exit 2b-f5692aa919ab841e3a670d2c7912eddb3f97c4f6-0a64de6ea0bb251b-01
2022-04-25T18:43:20.104Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:20.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-38c09748453c23d9f02afef354dbc0767893f476-fe037038254c98cc-01 outer:exit 2b-38c09748453c23d9f02afef354dbc0767893f476-36f9b603fbe3d225-01
2022-04-25T18:43:20.144Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (485ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:27.628Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:27.629Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:27.629Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:27.630Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:27.706Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:27.870Z appoptics:patching patched crypto 
2022-04-25T18:43:27.894Z appoptics:patching patched https 
2022-04-25T18:43:27.895Z appoptics:patching patched http 
2022-04-25T18:43:27.949Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:27.950Z appoptics:patching patched fs 
2022-04-25T18:43:27.993Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v16.14.2)
2022-04-25T18:43:28.001Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-25T18:43:28.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccdafc1659a844ae61ee3525bff031c55d00beed-0c7d1230ac5a307c-01 outer:exit 2b-ccdafc1659a844ae61ee3525bff031c55d00beed-911a6769af79069f-01
2022-04-25T18:43:28.070Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:28.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9af9952c4733a632201ea6b39f23bff01787b4f-3519688adad6a148-01 outer:exit 2b-d9af9952c4733a632201ea6b39f23bff01787b4f-1c17df3244bf4459-01
2022-04-25T18:43:28.127Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:28.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-36614dc08907062f75b459d124477bbf235c3cfb-f8df79954cc40ce9-01 outer:exit 2b-36614dc08907062f75b459d124477bbf235c3cfb-875948690b961ee9-01
2022-04-25T18:43:28.134Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:28.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-87f40fb843c55c74e676f7c000e8286d5addd6f1-b7f9c9d0849f1981-01 outer:exit 2b-87f40fb843c55c74e676f7c000e8286d5addd6f1-1cc7e02ff25db28c-01
2022-04-25T18:43:28.138Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:28.145Z appoptics:debug span.exit - no last event outer outer:entry 2b-c25b2cca3eec651eafa06bb6fb451687a0a5ccab-96f1450414b9e44c-01 outer:exit 2b-c25b2cca3eec651eafa06bb6fb451687a0a5ccab-a9b9665c8519f187-01
2022-04-25T18:43:28.145Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:28.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2be4bd41d77aa2fa527f5aec7685f7d10336ac9-f8cc6042d4482f67-01 outer:exit 2b-d2be4bd41d77aa2fa527f5aec7685f7d10336ac9-0c238648a0dcf0e7-01
2022-04-25T18:43:28.151Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:28.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-659fa20fc24d022a855355c90fb91991f53c729d-2d26b948e04d9ee9-01 outer:exit 2b-659fa20fc24d022a855355c90fb91991f53c729d-c9abea8ad831bae9-01
2022-04-25T18:43:28.155Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:28.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d4768e843e29b99e29c3838a0d04299c333732e-b57eeb1f2e8ee265-01 outer:exit 2b-8d4768e843e29b99e29c3838a0d04299c333732e-b0ffdf405bd22d6d-01
2022-04-25T18:43:28.158Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:28.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-5536db4405bb7e20255e8fc79de3511bbe160727-422ad2b0f9685788-01 outer:exit 2b-5536db4405bb7e20255e8fc79de3511bbe160727-5b14e1ee3214dd61-01
2022-04-25T18:43:28.162Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:28.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-db13c0e9be7ae704ba5ea973a1d1c1acef411d1e-c51e43cdbe86feb4-01 outer:exit 2b-db13c0e9be7ae704ba5ea973a1d1c1acef411d1e-03e55a696e867540-01
2022-04-25T18:43:28.167Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:28.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c4e0aeebebe08fb63c095cd4fad01a5ba8d63df-db3786288c19d9ff-01 outer:exit 2b-2c4e0aeebebe08fb63c095cd4fad01a5ba8d63df-c0629808f7d99914-01
2022-04-25T18:43:28.172Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:28.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-c7b8f66536f01090590416fd99155fb77bb0cbeb-56a1643502af0bd0-01 outer:exit 2b-c7b8f66536f01090590416fd99155fb77bb0cbeb-77d0b8f0db6a04e7-01
2022-04-25T18:43:28.180Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:28.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-e94b466125291b5e9be3f4cf7ff98c0eb045dc77-8a6eb34ff825f3d3-01 outer:exit 2b-e94b466125291b5e9be3f4cf7ff98c0eb045dc77-6d4834228a694b2c-01
2022-04-25T18:43:28.202Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:28.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-78fd1148ae671cf9931a6b8e78b4cc812de13bef-f8537b419047fc80-01 outer:exit 2b-78fd1148ae671cf9931a6b8e78b4cc812de13bef-7443e3bf3e7f2e58-01
2022-04-25T18:43:28.247Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:28.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b75f80a80eb4d53937e7f423f591ce0a57eb7d1-68d423d3e6594e61-01 outer:exit 2b-1b75f80a80eb4d53937e7f423f591ce0a57eb7d1-07b4ced3a8dbd9ae-01
2022-04-25T18:43:28.253Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:28.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ade1af7822877ae3914e6955a36a611ff58efe9-197e34f6310729d3-01 outer:exit 2b-6ade1af7822877ae3914e6955a36a611ff58efe9-9b5b6c4bbda488e2-01
2022-04-25T18:43:28.256Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:28.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb70d6b2ac8db8441fe9ef3fe137c85ef9fb5dd3-523289034c883b5e-01 outer:exit 2b-bb70d6b2ac8db8441fe9ef3fe137c85ef9fb5dd3-8d0ff4af1dafcd79-01
2022-04-25T18:43:28.259Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:28.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-e41e79e7db60d0d291ef3e35703420e890935daf-09ee8d1d61b387da-01 outer:exit 2b-e41e79e7db60d0d291ef3e35703420e890935daf-7ac1ef8137bf5bae-01
2022-04-25T18:43:28.262Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:28.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-59305e64bfe152b1d3d288061c4b0947f3829d9f-44832f27bf5b204e-01 outer:exit 2b-59305e64bfe152b1d3d288061c4b0947f3829d9f-82f0936c7cfe3f69-01
2022-04-25T18:43:28.265Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:28.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbcfd4449ca12b3c5be26d6fc1ecd4c920def734-178e184f0611a87b-01 outer:exit 2b-dbcfd4449ca12b3c5be26d6fc1ecd4c920def734-cfac5aca65533fe2-01
2022-04-25T18:43:28.268Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:28.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bc6ea90f2f5fb514d852f95b0c9e6305f0d9d7e-6757fdfe1abb6c31-01 outer:exit 2b-3bc6ea90f2f5fb514d852f95b0c9e6305f0d9d7e-2f8df355d419c09f-01
2022-04-25T18:43:28.270Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:28.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e17bd92795716b58a8b8bb17291e2f67101ab86-e81494a4ad173959-01 outer:exit 2b-8e17bd92795716b58a8b8bb17291e2f67101ab86-ee9e4e5b8f2e6ff0-01
2022-04-25T18:43:28.273Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:28.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7271790c9c9b30e12dc656901ec5c55659daea8-447690c20ae34fba-01 outer:exit 2b-f7271790c9c9b30e12dc656901ec5c55659daea8-1b30a379101b2937-01
2022-04-25T18:43:28.277Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:28.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-a10bea833416b4ad35be8c0325cb23bda48ad094-fa3188f35b7ac00d-01 outer:exit 2b-a10bea833416b4ad35be8c0325cb23bda48ad094-6ceed3078b65f019-01
2022-04-25T18:43:28.280Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:28.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6c5a56303137ab96a3372771dcc17f58f4ad8e9-f9400092605544f3-01 outer:exit 2b-d6c5a56303137ab96a3372771dcc17f58f4ad8e9-d3b9036f3c782e88-01
2022-04-25T18:43:28.284Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:28.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d5c13cb42ea890c93f65e10e4a32e0d4a5c443d-95a8f5ee9afd41d6-01 outer:exit 2b-1d5c13cb42ea890c93f65e10e4a32e0d4a5c443d-26a179bb1a6152ac-01
2022-04-25T18:43:28.287Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:28.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc46fdd4f923bbc1a3476e79d602f7098b297185-96627441d66f647d-01 outer:exit 2b-bc46fdd4f923bbc1a3476e79d602f7098b297185-d5779454b21907fc-01
2022-04-25T18:43:28.295Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:28.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-6242058ad65d6fd9faa7701fab2ee6d53f08e844-b9d5afd6129b7599-01 outer:exit 2b-6242058ad65d6fd9faa7701fab2ee6d53f08e844-352f9180c0d114e5-01
2022-04-25T18:43:28.303Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:28.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd0d520138995ffbb014b10596935aeae2e8561b-6fb4ab0493247407-01 outer:exit 2b-fd0d520138995ffbb014b10596935aeae2e8561b-b258a5ae37d0def7-01
2022-04-25T18:43:28.322Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:28.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdc32a292a0c3aa9ad4146a9f86b01661736f9d3-5116c98f3c8bfc6a-01 outer:exit 2b-bdc32a292a0c3aa9ad4146a9f86b01661736f9d3-fe7a25ac120e6fe7-01
2022-04-25T18:43:28.331Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:28.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c014236c49959ad98443ec0067f17268c5c9b1d-d1ed2b1e0a6dfbc5-01 outer:exit 2b-6c014236c49959ad98443ec0067f17268c5c9b1d-a3138e70dcf5ab14-01
2022-04-25T18:43:28.334Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:28.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-b181122673a5085dbb577618e467f0e53994cbe0-07722c7471fd44d6-01 outer:exit 2b-b181122673a5085dbb577618e467f0e53994cbe0-965d2cf28310419b-01
2022-04-25T18:43:28.338Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:28.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-c651e50330956c585efa5734c5e0384dafbd6600-79096feb4d5210f6-01 outer:exit 2b-c651e50330956c585efa5734c5e0384dafbd6600-af7764085ff05f17-01
2022-04-25T18:43:28.348Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:28.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-86db46a6f77a0468057ed556c7008b00bbb23fb7-338408af8d7a00a4-01 outer:exit 2b-86db46a6f77a0468057ed556c7008b00bbb23fb7-002d4b446f595f47-01
2022-04-25T18:43:28.351Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:28.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-b82bfa443d48606cd1d4bff79489fd53c05ef4e2-b4f4aa3e29fe2ec3-01 outer:exit 2b-b82bfa443d48606cd1d4bff79489fd53c05ef4e2-001983c11a7f42d9-01
2022-04-25T18:43:28.353Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:28.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-f88217fb9d824fad3768acb293a7b5057ee16190-f91b93a8ad116181-01 outer:exit 2b-f88217fb9d824fad3768acb293a7b5057ee16190-67e9c64810213e9a-01
2022-04-25T18:43:28.356Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:28.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e40a689bcf7322a446014cb63a503f12f5f3ae4-163b420c68c13857-01 outer:exit 2b-2e40a689bcf7322a446014cb63a503f12f5f3ae4-18f90ca43f34d9df-01
2022-04-25T18:43:28.358Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:28.361Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebad4156510ead443772327d0e8f8b41472b9bc1-3fd46b24de6c06f5-01 outer:exit 2b-ebad4156510ead443772327d0e8f8b41472b9bc1-bbdb52ab5474a80c-01
2022-04-25T18:43:28.361Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:28.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfe1df776646e6bf5dd4b7b58c20787df4702a9b-2d93c12cd294734a-01 outer:exit 2b-dfe1df776646e6bf5dd4b7b58c20787df4702a9b-b7ffb7a7e2c24fca-01
2022-04-25T18:43:28.371Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:28.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba57aba747fc37b68185d304dac3f2e0b302a66e-97271f772fe86f7c-01 outer:exit 2b-ba57aba747fc37b68185d304dac3f2e0b302a66e-4236ac881bcdfeba-01
2022-04-25T18:43:28.382Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:28.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdc310370901384ac3631494d58958cb3e94ec97-4ab880e4d1e18d94-01 outer:exit 2b-fdc310370901384ac3631494d58958cb3e94ec97-f7a24faebc493a06-01
2022-04-25T18:43:28.385Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:28.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6768b3a7e7b048e4c75be091cbe42d150b6d54f-b35993a876ead0c3-01 outer:exit 2b-d6768b3a7e7b048e4c75be091cbe42d150b6d54f-a07b0ba5fc0bd3fc-01
2022-04-25T18:43:28.388Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:28.391Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e16319b5b98279cf5565d5544d9f49e542a8ac4-aa9e8f1ee5c0d0fb-01 outer:exit 2b-1e16319b5b98279cf5565d5544d9f49e542a8ac4-699125f277d411fa-01
2022-04-25T18:43:28.391Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:28.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9af7eb0161f898a0a7b3187367839cbc16e00ae-67d98038ae4c66c6-01 outer:exit 2b-f9af7eb0161f898a0a7b3187367839cbc16e00ae-625d3ff2d75650c6-01
2022-04-25T18:43:28.436Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (425ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:36.834Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:36.835Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:36.835Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:36.835Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:36.913Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:37.076Z appoptics:patching patched crypto 
2022-04-25T18:43:37.099Z appoptics:patching patched https 
2022-04-25T18:43:37.100Z appoptics:patching patched http 
2022-04-25T18:43:37.143Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:37.143Z appoptics:patching patched fs 
2022-04-25T18:43:37.183Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v16.14.2)
2022-04-25T18:43:37.194Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-25T18:43:37.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-126d751b80c665abe9a22579e14139f6b96f2897-fa06c8d9a763162a-01 outer:exit 2b-126d751b80c665abe9a22579e14139f6b96f2897-42c25931d8740208-01
2022-04-25T18:43:37.272Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:37.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-58a36116600315d12938d5431d105d4eb2cc599f-524782897e671484-01 outer:exit 2b-58a36116600315d12938d5431d105d4eb2cc599f-96be2f6f55332ca2-01
2022-04-25T18:43:37.325Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:37.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-56fa632e372345a5d21b8cbf4fbf8c97e3c86903-6a0b4ef81f5a430a-01 outer:exit 2b-56fa632e372345a5d21b8cbf4fbf8c97e3c86903-57338a22060e3fb8-01
2022-04-25T18:43:37.330Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:37.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c60890fc2427045707fed64e607beaef6a0377b-3563ff48a647e68d-01 outer:exit 2b-7c60890fc2427045707fed64e607beaef6a0377b-4db0c35de2b1117b-01
2022-04-25T18:43:37.334Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:37.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9b46106477b58c3c021fc7fbad5daaf5c130ab4-bec21f7847bed694-01 outer:exit 2b-b9b46106477b58c3c021fc7fbad5daaf5c130ab4-48e31720986cc3bd-01
2022-04-25T18:43:37.340Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:37.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f84b45fc8198cf6f8e04bf23493900c267e1d73-884b720ca14154ed-01 outer:exit 2b-4f84b45fc8198cf6f8e04bf23493900c267e1d73-3e77d274f8e0767e-01
2022-04-25T18:43:37.344Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:37.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0d38c756a204048883acf01eb7b03dd155e6ffd-8db491f1bb6440e2-01 outer:exit 2b-b0d38c756a204048883acf01eb7b03dd155e6ffd-5b5c4ad98aa9e999-01
2022-04-25T18:43:37.348Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:37.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-6218c9daec9cdb02ebd721e38b8f5655b39c4e98-9a7a081748137400-01 outer:exit 2b-6218c9daec9cdb02ebd721e38b8f5655b39c4e98-844ed2f151e4e9f2-01
2022-04-25T18:43:37.351Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:37.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-340faef4d24bf28dba2d0bfa74f0af3e0958248d-c4c120d0ff690955-01 outer:exit 2b-340faef4d24bf28dba2d0bfa74f0af3e0958248d-2e22ed6532de63b8-01
2022-04-25T18:43:37.359Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:37.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-110c78adf6c2d6a531bce1b5ac0b33265c5ed259-378352ab8dd51187-01 outer:exit 2b-110c78adf6c2d6a531bce1b5ac0b33265c5ed259-40fbdbf8f8698caa-01
2022-04-25T18:43:37.363Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:37.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-c47ae84b0397bd15735519c16c88bfef15c11903-548794870f04b016-01 outer:exit 2b-c47ae84b0397bd15735519c16c88bfef15c11903-9643aed331befd3d-01
2022-04-25T18:43:37.368Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:37.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fde7240a7413a3d15ae7449411690491631d7b7-d440def36dac34e7-01 outer:exit 2b-5fde7240a7413a3d15ae7449411690491631d7b7-31ef4b810d617ba8-01
2022-04-25T18:43:37.376Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:37.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-3df755f5f7e5176be8d8d2129a65e9d3e8f9fef8-c6595477420facb7-01 outer:exit 2b-3df755f5f7e5176be8d8d2129a65e9d3e8f9fef8-e86ca20c3fb9ed77-01
2022-04-25T18:43:37.393Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:37.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-0033b7434f00e03e6404794daeffc805265a4f0d-84aebc4e29ca005e-01 outer:exit 2b-0033b7434f00e03e6404794daeffc805265a4f0d-a7a1b7df07869d3a-01
2022-04-25T18:43:37.440Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:37.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f910d69989bec39be2a23a21548fb9c7bd3969e-518687bc4dbeaa09-01 outer:exit 2b-8f910d69989bec39be2a23a21548fb9c7bd3969e-bc86c659a26d9ffb-01
2022-04-25T18:43:37.444Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:37.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-99fe12201014e3059ddc9e6f6d89393b5562b7ee-7f7169be72dd8814-01 outer:exit 2b-99fe12201014e3059ddc9e6f6d89393b5562b7ee-458c0c90241a747e-01
2022-04-25T18:43:37.447Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:37.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-e168b786a8785f318e34bfab4b72a8a1025c8591-73e897a76e9c0b7d-01 outer:exit 2b-e168b786a8785f318e34bfab4b72a8a1025c8591-d69abd6eacd0fa8b-01
2022-04-25T18:43:37.451Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:37.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-79429186a305d2b4390ea364bb4c6f574ca67555-d56c274d97d8b9e2-01 outer:exit 2b-79429186a305d2b4390ea364bb4c6f574ca67555-b4a7f14d4cd40154-01
2022-04-25T18:43:37.454Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:37.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-43e38036075127568d70a80dc455365d9f5086de-ae44f53a025dd22e-01 outer:exit 2b-43e38036075127568d70a80dc455365d9f5086de-2b717ecdd66531fd-01
2022-04-25T18:43:37.457Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:37.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd8ef8545845ed62e0ab23c73a47aaea390bb9a0-cc1d840bd3debd59-01 outer:exit 2b-cd8ef8545845ed62e0ab23c73a47aaea390bb9a0-9807215d81af6a7a-01
2022-04-25T18:43:37.459Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:37.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e96543c20c5dfed9cb00fa21e32ead917e9efe4-103657b6a3e1115c-01 outer:exit 2b-8e96543c20c5dfed9cb00fa21e32ead917e9efe4-3af649984047248f-01
2022-04-25T18:43:37.462Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:37.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-c54462d3232b8832529d2283b6ffa67edf278ac0-68137faac3333f03-01 outer:exit 2b-c54462d3232b8832529d2283b6ffa67edf278ac0-57cfe627859aaeca-01
2022-04-25T18:43:37.465Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:37.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df4038bd327ef9666ada4dae1c5f50bb4d6c43f-04a361c9f7ac779e-01 outer:exit 2b-7df4038bd327ef9666ada4dae1c5f50bb4d6c43f-c92f7adfc19a14d9-01
2022-04-25T18:43:37.469Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:37.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d9a91d3bdd45363042835495295e5ede13ffeab-d3f90211477deb1f-01 outer:exit 2b-4d9a91d3bdd45363042835495295e5ede13ffeab-24485e1616cbfd70-01
2022-04-25T18:43:37.472Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:37.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-db6a555acca304dac6f8a3981e7fba68ebbbca4b-a8566ae7f700c6e9-01 outer:exit 2b-db6a555acca304dac6f8a3981e7fba68ebbbca4b-262e2341952c51f6-01
2022-04-25T18:43:37.475Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:37.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b0a8a5c4c68ba611bdf623ea46d73f3394c50cf-28ae1443aeeeb5ec-01 outer:exit 2b-8b0a8a5c4c68ba611bdf623ea46d73f3394c50cf-a509b4833a3f2a10-01
2022-04-25T18:43:37.478Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:37.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb2210cae1ad40e72a6e1ea2fc62feb00a022ed0-338bac727f1cff34-01 outer:exit 2b-cb2210cae1ad40e72a6e1ea2fc62feb00a022ed0-5cc023f8c1de9282-01
2022-04-25T18:43:37.487Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:37.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d6ca5728c4761b5f897881b418e368dbd9778e3-93f523082bf10dac-01 outer:exit 2b-0d6ca5728c4761b5f897881b418e368dbd9778e3-ec7bfd21a2f4a4b6-01
2022-04-25T18:43:37.493Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:37.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a4b9ad4fcf2964cfe8f1ab88c342af40faf9485-3dc340796c62e2e1-01 outer:exit 2b-6a4b9ad4fcf2964cfe8f1ab88c342af40faf9485-9ff592a6e1206a38-01
2022-04-25T18:43:37.504Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:37.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-1319ecbf76d561f1fd22d9e4185a050e231c83d6-b24bbb496c4a86f3-01 outer:exit 2b-1319ecbf76d561f1fd22d9e4185a050e231c83d6-fef6012d17d65c11-01
2022-04-25T18:43:37.512Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:37.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbc4e01da8065215af67e05b8c3a2bf1c654b22a-b8c2eee4a4255ee3-01 outer:exit 2b-cbc4e01da8065215af67e05b8c3a2bf1c654b22a-19d09e32e535d4f4-01
2022-04-25T18:43:37.515Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:37.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5d0cfaeaf90bc1a2b61335b866d2aa3af768e4b-cd20b29b1ce2228b-01 outer:exit 2b-b5d0cfaeaf90bc1a2b61335b866d2aa3af768e4b-2fa5fc3a69bbf286-01
2022-04-25T18:43:37.519Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:37.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-b150dd7e42da1eb18df0168e07b1d667639762f7-058f01a81eef89f1-01 outer:exit 2b-b150dd7e42da1eb18df0168e07b1d667639762f7-c2bf688c42f03a12-01
2022-04-25T18:43:37.528Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:37.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d59d492cb9c1c5bdca73e7bd69d16f85d3341f0-d25cae26127fda0d-01 outer:exit 2b-7d59d492cb9c1c5bdca73e7bd69d16f85d3341f0-27bdf5e8f377c41f-01
2022-04-25T18:43:37.531Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:37.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-17d53e77d797810ba4d60a0e21d3964c62a9c829-afc7840118ea46fc-01 outer:exit 2b-17d53e77d797810ba4d60a0e21d3964c62a9c829-1556dd618e0d08ec-01
2022-04-25T18:43:37.533Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:37.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-c28046513f9e87a270a336fc5e3a4f78efedb942-7d2560d008468d8b-01 outer:exit 2b-c28046513f9e87a270a336fc5e3a4f78efedb942-13427ed5e0300d88-01
2022-04-25T18:43:37.535Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:37.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-c21fdce78f1c7c855c0082b4af28eb94e402be84-7c994aa5908d297a-01 outer:exit 2b-c21fdce78f1c7c855c0082b4af28eb94e402be84-527e4cb0a0b87f52-01
2022-04-25T18:43:37.538Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:37.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4af8f387338da6937ad608fdd3a40d8d53274fa-ac158174410e4172-01 outer:exit 2b-d4af8f387338da6937ad608fdd3a40d8d53274fa-c42ae0dc14a61f43-01
2022-04-25T18:43:37.541Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:37.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae4c9d444f8540ea0972b2d708ffa4e497e27970-f38a0ae8dd28808a-01 outer:exit 2b-ae4c9d444f8540ea0972b2d708ffa4e497e27970-f234e0179b789898-01
2022-04-25T18:43:37.552Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:37.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d26fe04d9020ffc8b9893821f67a54366d0d32d-a7ff3239fae3e477-01 outer:exit 2b-0d26fe04d9020ffc8b9893821f67a54366d0d32d-cc3db99a89955293-01
2022-04-25T18:43:37.563Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:37.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-a83810b24eb7f1ca8ec42f375ff50e2c2a4be7df-f627c3cadca3ae46-01 outer:exit 2b-a83810b24eb7f1ca8ec42f375ff50e2c2a4be7df-e52eb3ef5084be8e-01
2022-04-25T18:43:37.567Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:37.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb980a6bc4e63c64cafb17fafda5ca6d142e14f4-8d53bedb5c45e9c5-01 outer:exit 2b-eb980a6bc4e63c64cafb17fafda5ca6d142e14f4-49e3bfe3e7f0a00e-01
2022-04-25T18:43:37.571Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:37.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-65931b1f6f89a229da3c769879ba3f6910ea0ac8-00976c46d3fa220a-01 outer:exit 2b-65931b1f6f89a229da3c769879ba3f6910ea0ac8-2550c65bf55786ea-01
2022-04-25T18:43:37.574Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:37.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-5074531372e55f4a11da4dbb23147cb240e8f1ce-306c5a49f59c1803-01 outer:exit 2b-5074531372e55f4a11da4dbb23147cb240e8f1ce-160fb64ca94850dc-01
2022-04-25T18:43:37.608Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (405ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:46.093Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:46.093Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:46.094Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:46.094Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:46.176Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:46.342Z appoptics:patching patched crypto 
2022-04-25T18:43:46.368Z appoptics:patching patched https 
2022-04-25T18:43:46.368Z appoptics:patching patched http 
2022-04-25T18:43:46.413Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:46.413Z appoptics:patching patched fs 
2022-04-25T18:43:46.447Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v16.14.2)
2022-04-25T18:43:46.454Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-25T18:43:46.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd95f58d9c1ea1a5f1521d66eb13039c38a3b1d4-a53efe9ff9120423-01 outer:exit 2b-cd95f58d9c1ea1a5f1521d66eb13039c38a3b1d4-3994fbe8be8929e0-01
2022-04-25T18:43:46.511Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:46.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea5b0e4ba78a80e32d9d4c0fbe709b225e76f8dc-7616d72d3f8c8624-01 outer:exit 2b-ea5b0e4ba78a80e32d9d4c0fbe709b225e76f8dc-0020b2b8f6b78b3b-01
2022-04-25T18:43:46.565Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:46.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-e60f89cbc5405f854f8c5a37de7f7bdc4683f51d-fdd45272f36d3e3c-01 outer:exit 2b-e60f89cbc5405f854f8c5a37de7f7bdc4683f51d-508f9e59ed90cf69-01
2022-04-25T18:43:46.570Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:46.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d34a096e0fce6c32a6d07d7b5a7cd366e8a4963-622ad01085b0e5ac-01 outer:exit 2b-9d34a096e0fce6c32a6d07d7b5a7cd366e8a4963-e8ef1705290104c3-01
2022-04-25T18:43:46.573Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:46.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b7a3695bbe1d5dd77dd47febbf4c61d9dcc3a22-1e872884d6864b4f-01 outer:exit 2b-1b7a3695bbe1d5dd77dd47febbf4c61d9dcc3a22-3f07e0c1ee9ac316-01
2022-04-25T18:43:46.580Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:46.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-4020b9ba59858b8d40a3bd702d7b248487d6be93-ce41ca3d0fe7196b-01 outer:exit 2b-4020b9ba59858b8d40a3bd702d7b248487d6be93-2605aefaf91e7cf3-01
2022-04-25T18:43:46.585Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:46.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6ae0f58857f7968cb4e38e92378a2664f22cbb5-294277ef3bd9040b-01 outer:exit 2b-c6ae0f58857f7968cb4e38e92378a2664f22cbb5-fca8a16c5f8d913a-01
2022-04-25T18:43:46.588Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:46.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-26be922f6e2977d952b4c56555f82a18766ee1df-024fe7badc47bf48-01 outer:exit 2b-26be922f6e2977d952b4c56555f82a18766ee1df-ff2607d27568f7aa-01
2022-04-25T18:43:46.592Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:46.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-d45cdafa4db547a114386e02951bc21d1a53fe0a-4cf6004016fb0135-01 outer:exit 2b-d45cdafa4db547a114386e02951bc21d1a53fe0a-f05f74cc2d0ceaf7-01
2022-04-25T18:43:46.597Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:46.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-4268351bfff4ca21c08b09044c9a67f853dec61f-1c6cb14ec53529a7-01 outer:exit 2b-4268351bfff4ca21c08b09044c9a67f853dec61f-30675a88f4c5e7f0-01
2022-04-25T18:43:46.602Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:46.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e4c1a0e7f0f53b453ac7d3ef09019983b0de224-fb6efee88c365a6c-01 outer:exit 2b-4e4c1a0e7f0f53b453ac7d3ef09019983b0de224-d1d6c3c64d232621-01
2022-04-25T18:43:46.611Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:46.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b879425e31614f0c1e90f9cb916e244a9611345-d3612dea5c4ade6c-01 outer:exit 2b-3b879425e31614f0c1e90f9cb916e244a9611345-50e72be71e92e44e-01
2022-04-25T18:43:46.623Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:46.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7b43c16faef4d23733e3ffc51645d6fb1253455-8d4b69f98080ef1f-01 outer:exit 2b-f7b43c16faef4d23733e3ffc51645d6fb1253455-a058fd1e19c3cac0-01
2022-04-25T18:43:46.643Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:46.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-c61459fd66b93a2abeb71a1ca64e06e8271fffbc-dd60b2bb7802ab0d-01 outer:exit 2b-c61459fd66b93a2abeb71a1ca64e06e8271fffbc-e7da63e4be300eaf-01
2022-04-25T18:43:46.690Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:46.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5cc9689d5422e68190b1696c4d67ccd7ae1d914-9ed52cf1141dcd6a-01 outer:exit 2b-b5cc9689d5422e68190b1696c4d67ccd7ae1d914-5174fe2c38a53a22-01
2022-04-25T18:43:46.693Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:46.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e3cf28b2db37bba99841733d7e9a8aff18ab34a-83bcfa2d378120d1-01 outer:exit 2b-6e3cf28b2db37bba99841733d7e9a8aff18ab34a-0dfdd74048a29a20-01
2022-04-25T18:43:46.696Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:46.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-3debaeff5a8d7a7df5c8114e222e0bf8bddf4339-d43e4416217191db-01 outer:exit 2b-3debaeff5a8d7a7df5c8114e222e0bf8bddf4339-32a9e8de6204fb9d-01
2022-04-25T18:43:46.700Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:46.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-98b6d7f80fa8d32a7e5bbf94e1abf3b880234a4b-432ea083433cdfc6-01 outer:exit 2b-98b6d7f80fa8d32a7e5bbf94e1abf3b880234a4b-265deda96a10c148-01
2022-04-25T18:43:46.703Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:46.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-aeccfae704f7e2d293850dda723994712566bbf4-be75ce330590162d-01 outer:exit 2b-aeccfae704f7e2d293850dda723994712566bbf4-3f16a4341e53c77d-01
2022-04-25T18:43:46.705Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:46.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd6b358d3611d22def9857da9a8b7df9fa3a682c-c2f773e9b31ab6a9-01 outer:exit 2b-dd6b358d3611d22def9857da9a8b7df9fa3a682c-7d271c047cf24001-01
2022-04-25T18:43:46.707Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:46.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d0d785291cf15e30a4dfec53f6d8fd070a97886-330f88ad560f34a4-01 outer:exit 2b-1d0d785291cf15e30a4dfec53f6d8fd070a97886-a193a1842faf699d-01
2022-04-25T18:43:46.710Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:46.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7afc3edc299953ab840fa7c805a0794c6f69d3d-ec4648be2bb81f82-01 outer:exit 2b-e7afc3edc299953ab840fa7c805a0794c6f69d3d-277e1408fe3a3e81-01
2022-04-25T18:43:46.712Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:46.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-243284ea212097b72b81935d11b4d08ec3cad24a-a97e8bc3d004df42-01 outer:exit 2b-243284ea212097b72b81935d11b4d08ec3cad24a-32102971766c3933-01
2022-04-25T18:43:46.716Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:46.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f15b7e0af704b5458248bd3ee2ac3c0affd5072-98675379633f3405-01 outer:exit 2b-7f15b7e0af704b5458248bd3ee2ac3c0affd5072-4d2edfd56e5f2771-01
2022-04-25T18:43:46.720Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:46.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-d909a272ea8131d4f72a8807a56e95f34109d81b-2a1f5267c4af753a-01 outer:exit 2b-d909a272ea8131d4f72a8807a56e95f34109d81b-241202a4779feadb-01
2022-04-25T18:43:46.723Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:46.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2ce0872bd2139faf6bbd11535b4a0173409f7f4-a6114af007d252ac-01 outer:exit 2b-d2ce0872bd2139faf6bbd11535b4a0173409f7f4-59100ae6229ddd5c-01
2022-04-25T18:43:46.726Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:46.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-8066d4012245afb2a042864eeba7b7f9df64ae55-40343695e75bb2e7-01 outer:exit 2b-8066d4012245afb2a042864eeba7b7f9df64ae55-810227a1dc7fae21-01
2022-04-25T18:43:46.734Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:46.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d6f27ffb2c436f0b0ebed00902dd6e55334c866-a6b165cf7cbea574-01 outer:exit 2b-0d6f27ffb2c436f0b0ebed00902dd6e55334c866-6dcce688798a9fc1-01
2022-04-25T18:43:46.743Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:46.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-4eb84e7ab230a64914eced9bc374a1032f1b1b39-63dba981f14bf64e-01 outer:exit 2b-4eb84e7ab230a64914eced9bc374a1032f1b1b39-3a069b5666e4b2ca-01
2022-04-25T18:43:46.754Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:46.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab0ffe6656a5453f5772ad18eb85269da87a717e-22a679c735920800-01 outer:exit 2b-ab0ffe6656a5453f5772ad18eb85269da87a717e-97910c74cfa4cb5f-01
2022-04-25T18:43:46.762Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:46.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-da84afda698599aace264f05e0409018801e5691-784f578555504323-01 outer:exit 2b-da84afda698599aace264f05e0409018801e5691-7d56aa966c4287b2-01
2022-04-25T18:43:46.765Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:46.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-d99d3ea6df985bb17143a3c0b54103cba0fc3209-5c774ca6b54509cc-01 outer:exit 2b-d99d3ea6df985bb17143a3c0b54103cba0fc3209-9eab962a4931120c-01
2022-04-25T18:43:46.769Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:46.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-a51dbcc669f776990b5253ee8bb99858bb154a92-7e5a3f780f9a4568-01 outer:exit 2b-a51dbcc669f776990b5253ee8bb99858bb154a92-a3bd933ee27f41f2-01
2022-04-25T18:43:46.777Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:46.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bd98ba181f76f799331ba83ad25be4b0c00bb45-e0837312cf0a3f12-01 outer:exit 2b-0bd98ba181f76f799331ba83ad25be4b0c00bb45-3a50ae11ef926a7f-01
2022-04-25T18:43:46.780Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:46.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-71d58cdd695404d73956f724b1c31ceeff160983-637742fc11ef0746-01 outer:exit 2b-71d58cdd695404d73956f724b1c31ceeff160983-1e2acf8e799e4f8b-01
2022-04-25T18:43:46.783Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:46.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-150a14b612ff593e6e5e4f2a993ec2a908735f04-9d39714ae41bf18c-01 outer:exit 2b-150a14b612ff593e6e5e4f2a993ec2a908735f04-02826ff5eda703f9-01
2022-04-25T18:43:46.785Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:46.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-18a1625291abf17574a82ec7a56b0f90f9e7ddfa-e87777c3774223d6-01 outer:exit 2b-18a1625291abf17574a82ec7a56b0f90f9e7ddfa-78cb7a0604dea461-01
2022-04-25T18:43:46.787Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:46.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6ee072dfd6ff8ce0a47e7792c5d77a86d9d9dba-ba38669bf270f799-01 outer:exit 2b-d6ee072dfd6ff8ce0a47e7792c5d77a86d9d9dba-1a85f2b8eb8887f1-01
2022-04-25T18:43:46.789Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:46.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-08aecf8b60a41830c42c752a5465de79f27b0c30-d654591f60cb7500-01 outer:exit 2b-08aecf8b60a41830c42c752a5465de79f27b0c30-03312365d39d3196-01
2022-04-25T18:43:46.801Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:46.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-167861734b8591a9d9e29329c02b0277e8a516e0-a3f4ff3f775f4fe1-01 outer:exit 2b-167861734b8591a9d9e29329c02b0277e8a516e0-93fe31c25093f2ab-01
2022-04-25T18:43:46.812Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:46.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-09a018339ae7e5a98f8e89b00c56a3f8f8c563cd-e1e4ce571a816882-01 outer:exit 2b-09a018339ae7e5a98f8e89b00c56a3f8f8c563cd-417043058ed82cd4-01
2022-04-25T18:43:46.815Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:46.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-163a75ea8b647809143b0485491f301e9d3bbb60-e80a84f9537212ef-01 outer:exit 2b-163a75ea8b647809143b0485491f301e9d3bbb60-f5f6ece1de5d54e9-01
2022-04-25T18:43:46.819Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:46.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe975b67b504fa2cacab38f66c5796044640ad3c-7c7303517cc619c8-01 outer:exit 2b-fe975b67b504fa2cacab38f66c5796044640ad3c-e8491ddb0cecc7a9-01
2022-04-25T18:43:46.823Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:46.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-04d10b4c1d335d1ec113c2a67f4c9b31738f7de6-b856b8f124de038f-01 outer:exit 2b-04d10b4c1d335d1ec113c2a67f4c9b31738f7de6-b76677a952d453af-01
2022-04-25T18:43:46.858Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (398ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:43:54.539Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:43:54.540Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:43:54.540Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:43:54.541Z appoptics:debug using context provider: ace-context
2022-04-25T18:43:54.618Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:43:54.785Z appoptics:patching patched crypto 
2022-04-25T18:43:54.806Z appoptics:patching patched https 
2022-04-25T18:43:54.807Z appoptics:patching patched http 
2022-04-25T18:43:54.855Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:43:54.856Z appoptics:patching patched fs 
2022-04-25T18:43:54.890Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v16.14.2)
2022-04-25T18:43:54.898Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-25T18:43:54.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd6abf3dba59078ec3778144af076ae8969cabb3-f55d008fe8ec634e-01 outer:exit 2b-cd6abf3dba59078ec3778144af076ae8969cabb3-36725c63812f8182-01
2022-04-25T18:43:54.966Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:43:55.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-93e44236a99588e2fcdce7ef2ce34459dca6d4b7-f6c91945f962f086-01 outer:exit 2b-93e44236a99588e2fcdce7ef2ce34459dca6d4b7-a31d6be733d0dd5f-01
2022-04-25T18:43:55.022Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:43:55.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-9988cada15f473900b980f088cd650d98d3f9d3b-39684ff8906c8b0a-01 outer:exit 2b-9988cada15f473900b980f088cd650d98d3f9d3b-3881b0bec795a2f4-01
2022-04-25T18:43:55.026Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:43:55.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-7256c7bc4a4c6d32f58533cd2c918d1bb8eaf07f-697243151b646270-01 outer:exit 2b-7256c7bc4a4c6d32f58533cd2c918d1bb8eaf07f-47501a954da02519-01
2022-04-25T18:43:55.031Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:43:55.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-65f1d719d20fb72e92f0145f60f2b8a3eeffcb9c-470f82cfa96137d2-01 outer:exit 2b-65f1d719d20fb72e92f0145f60f2b8a3eeffcb9c-257db050614ba226-01
2022-04-25T18:43:55.037Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:43:55.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4311f8c94f4ecd2800ee41b6d11a458333bffa-6b3e8ded4aff02e1-01 outer:exit 2b-de4311f8c94f4ecd2800ee41b6d11a458333bffa-5cdc2596682c1bca-01
2022-04-25T18:43:55.041Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:43:55.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-735b7497b975bb3efca6182845ea0a90ad418e8e-cb0e25ffd322cb1a-01 outer:exit 2b-735b7497b975bb3efca6182845ea0a90ad418e8e-27360b7352d78c0d-01
2022-04-25T18:43:55.045Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:43:55.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-da1551f8f7aa1a7cb477a4145b0005b05c2a6360-5b2471e48434807a-01 outer:exit 2b-da1551f8f7aa1a7cb477a4145b0005b05c2a6360-797573eab4b082f5-01
2022-04-25T18:43:55.048Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:43:55.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a2eb8a1dd7b9fe894028a6dc92d02163e1df778-b3b9cc73f5ebdb4f-01 outer:exit 2b-8a2eb8a1dd7b9fe894028a6dc92d02163e1df778-e09183d83f28a5bf-01
2022-04-25T18:43:55.052Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:43:55.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e8e2453680da453a971f0e608befe20a4b35a55-6f6a82ca9160f7c3-01 outer:exit 2b-5e8e2453680da453a971f0e608befe20a4b35a55-63b48e74743a2e61-01
2022-04-25T18:43:55.057Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:43:55.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-b75531ec9aa1263415e2c748e7d3897dca467514-eead8ab93d1c1d09-01 outer:exit 2b-b75531ec9aa1263415e2c748e7d3897dca467514-ff6c4c45d31a3329-01
2022-04-25T18:43:55.063Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:43:55.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-f910c552f368be617ec075fa7dc921dd0f374321-1e7b44deaf7ee192-01 outer:exit 2b-f910c552f368be617ec075fa7dc921dd0f374321-1ef56d33223ab3d0-01
2022-04-25T18:43:55.071Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:43:55.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cd9c8e6856ddaba1018a917984dce85ad882878-032125344c11ea23-01 outer:exit 2b-5cd9c8e6856ddaba1018a917984dce85ad882878-621b2c02b318db0b-01
2022-04-25T18:43:55.091Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:43:55.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c437f64d95df6b9990b9eb68745bcd893303f73-adcedf2fcf5147a8-01 outer:exit 2b-0c437f64d95df6b9990b9eb68745bcd893303f73-218b63736cec63c5-01
2022-04-25T18:43:55.151Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:43:55.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-f31c63247e85062e17e79b91b400796e92e8822e-60adfbaec43414cd-01 outer:exit 2b-f31c63247e85062e17e79b91b400796e92e8822e-60ce0f74b5bcc16b-01
2022-04-25T18:43:55.160Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:43:55.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-880f3aedac6d18b32df1f1fd756563946e42e232-b3f479a2ab87b52d-01 outer:exit 2b-880f3aedac6d18b32df1f1fd756563946e42e232-512b28b9572665d9-01
2022-04-25T18:43:55.163Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:43:55.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-111810dbd7506ad336b8b046a0261b6358c9bbfb-597f679a3f869f76-01 outer:exit 2b-111810dbd7506ad336b8b046a0261b6358c9bbfb-8eab78e9971ee75b-01
2022-04-25T18:43:55.167Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:43:55.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-481843413127037ae2389f79224ce2ca16914257-b01df6eb7eb19844-01 outer:exit 2b-481843413127037ae2389f79224ce2ca16914257-120ee7083657c9d8-01
2022-04-25T18:43:55.169Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:43:55.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae33761df5c14e950780f7811d94fa3dba31ea0c-0f384d3901c06955-01 outer:exit 2b-ae33761df5c14e950780f7811d94fa3dba31ea0c-d26de68ffe85885e-01
2022-04-25T18:43:55.172Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:43:55.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfb5b9da9e07ca366d2eca80b0d06c9e3edfba79-73ce683fbca1af52-01 outer:exit 2b-bfb5b9da9e07ca366d2eca80b0d06c9e3edfba79-d5358de6994e4e70-01
2022-04-25T18:43:55.175Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:43:55.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1dad0a496212caa4508f61fc29ba7c050ccc38f-0833bcb59d9b8a20-01 outer:exit 2b-e1dad0a496212caa4508f61fc29ba7c050ccc38f-95894266fd2c09bc-01
2022-04-25T18:43:55.178Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:43:55.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-de90891900197ed3109fee16fd7698cbe2a5a2be-c29160a333f0b746-01 outer:exit 2b-de90891900197ed3109fee16fd7698cbe2a5a2be-52a14c1a7de9a97b-01
2022-04-25T18:43:55.180Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:43:55.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a0153824f5c07da0e2f8ad86676c4b85efca688-a583d8be49b5ddf5-01 outer:exit 2b-1a0153824f5c07da0e2f8ad86676c4b85efca688-4f773936426275f6-01
2022-04-25T18:43:55.184Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:43:55.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-916845c0c719e2f24ba16896e546e7124986745d-33ec056e61bfeefd-01 outer:exit 2b-916845c0c719e2f24ba16896e546e7124986745d-522a35ac6efe448b-01
2022-04-25T18:43:55.187Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:43:55.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-83e78a3eb159c2285d42416f3f0b9de68d785322-8b5a2a69678c1f72-01 outer:exit 2b-83e78a3eb159c2285d42416f3f0b9de68d785322-d6721732bc668bdb-01
2022-04-25T18:43:55.190Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:43:55.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-edf00dd015e84f1d47c29474e1d799d6e070eca6-c148e9b024c29d6b-01 outer:exit 2b-edf00dd015e84f1d47c29474e1d799d6e070eca6-5139e1e5ef07459b-01
2022-04-25T18:43:55.193Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:43:55.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8dc62af966c923d7f28333f0e8482a911af6546-7bfde5f62dd7b3bd-01 outer:exit 2b-c8dc62af966c923d7f28333f0e8482a911af6546-bc576a2b24736e2b-01
2022-04-25T18:43:55.200Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:43:55.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a157b4fe71b6574ce22713a228d960da17c7ee4-31a4b6d3e25aa2ca-01 outer:exit 2b-9a157b4fe71b6574ce22713a228d960da17c7ee4-6dcd787aa19c40bc-01
2022-04-25T18:43:55.207Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:43:55.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2d601599c8e3a141478d96e72c70568d6a0c631-579699a97d0673a7-01 outer:exit 2b-b2d601599c8e3a141478d96e72c70568d6a0c631-3e9f7842cdf67b8b-01
2022-04-25T18:43:55.219Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:43:55.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-b02f9342af813c72121c89c846c8ef2e8a4d4b4d-29afb622fc15bebc-01 outer:exit 2b-b02f9342af813c72121c89c846c8ef2e8a4d4b4d-790d77b95b83c3e9-01
2022-04-25T18:43:55.229Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:43:55.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa4876031ae83c45c65d6416a2c3ea8b59c4f6b1-df57a9a946672dde-01 outer:exit 2b-fa4876031ae83c45c65d6416a2c3ea8b59c4f6b1-18ba96f3871f3efa-01
2022-04-25T18:43:55.232Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:43:55.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0924e741c53826b17051dbac4db52b373b51560-75c5d5f6d868648b-01 outer:exit 2b-b0924e741c53826b17051dbac4db52b373b51560-d1a400932d865c44-01
2022-04-25T18:43:55.236Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:43:55.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a39bf21d7e35028a92bbc0ddc4a88ac8882b233-12693835fa4c17ba-01 outer:exit 2b-7a39bf21d7e35028a92bbc0ddc4a88ac8882b233-898560483951bfa1-01
2022-04-25T18:43:55.246Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:43:55.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-a38de6ee40ce83ac829758b7184cd1cf769382c0-16861284aae90bf7-01 outer:exit 2b-a38de6ee40ce83ac829758b7184cd1cf769382c0-baaa81b10c3cdc76-01
2022-04-25T18:43:55.248Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:43:55.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-435e4217d960eb8ff41ee8c96cb57da564024739-30b0de38e3327604-01 outer:exit 2b-435e4217d960eb8ff41ee8c96cb57da564024739-d0ce6a0cd91d8f40-01
2022-04-25T18:43:55.251Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:43:55.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-587a8559f0c2caaf2f055af02d09f9a72f725100-aa9a397fc10c82a9-01 outer:exit 2b-587a8559f0c2caaf2f055af02d09f9a72f725100-119ca4af57ea5e48-01
2022-04-25T18:43:55.254Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:43:55.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-72f7e64da0804ecee7c7fb302102caa1d375ffb8-534a9d76aa2b3a11-01 outer:exit 2b-72f7e64da0804ecee7c7fb302102caa1d375ffb8-5cef2132f4317966-01
2022-04-25T18:43:55.257Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:43:55.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6df27d0a1a58bbb71665fc61ed3be33dd086505-b5811ab1b3e36a95-01 outer:exit 2b-e6df27d0a1a58bbb71665fc61ed3be33dd086505-7e7f2affb42f7fd7-01
2022-04-25T18:43:55.259Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:43:55.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-2408b3d6e1bf9a2f70b0b8d2054323d8d98ed160-895826c55b1987fb-01 outer:exit 2b-2408b3d6e1bf9a2f70b0b8d2054323d8d98ed160-28b7852263cadf49-01
2022-04-25T18:43:55.271Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:43:55.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-547222e176ee3329cdc2b034308a6957ac11b365-37513b839b0b933f-01 outer:exit 2b-547222e176ee3329cdc2b034308a6957ac11b365-3a4861ea04b53754-01
2022-04-25T18:43:55.282Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:43:55.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-2641b5762e592fcd0f4fe1e2da69aa6359b9e07d-044d01f1222e81c9-01 outer:exit 2b-2641b5762e592fcd0f4fe1e2da69aa6359b9e07d-d6ef876e252f37a7-01
2022-04-25T18:43:55.285Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:43:55.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8e285a0f02a91c7d22bd99359251c64c003f189-b11dfd181af7d6fd-01 outer:exit 2b-e8e285a0f02a91c7d22bd99359251c64c003f189-eab53219dc29c4ee-01
2022-04-25T18:43:55.289Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:43:55.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bd164918f6f655ac42a98c4694e0acba68cdcd2-b2c518c6e6661dde-01 outer:exit 2b-3bd164918f6f655ac42a98c4694e0acba68cdcd2-5df755f79985de6f-01
2022-04-25T18:43:55.292Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:43:55.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8132b7ddbca195bd09b2c7ff81edd8eb51c946a-02ef8ba0b679f198-01 outer:exit 2b-c8132b7ddbca195bd09b2c7ff81edd8eb51c946a-5101b9c1776b8fda-01
2022-04-25T18:43:55.328Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (423ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:04.174Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:04.174Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:04.174Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:04.175Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:04.256Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:04.438Z appoptics:patching patched crypto 
2022-04-25T18:44:04.473Z appoptics:patching patched https 
2022-04-25T18:44:04.473Z appoptics:patching patched http 
2022-04-25T18:44:04.515Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:04.515Z appoptics:patching patched fs 
2022-04-25T18:44:04.547Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v16.14.2)
2022-04-25T18:44:04.555Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-25T18:44:04.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-4968d5dd0ceef64aba26dedb99c2062fd4c18380-8007bff065d21a40-01 outer:exit 2b-4968d5dd0ceef64aba26dedb99c2062fd4c18380-f57459a63e524c18-01
2022-04-25T18:44:04.613Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-25T18:44:04.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-6373c3ab12f16b8a985199bbb96fffd22f5f762e-fb6046baf0d7dc2a-01 outer:exit 2b-6373c3ab12f16b8a985199bbb96fffd22f5f762e-9c1057dddd416bd1-01
2022-04-25T18:44:04.665Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-25T18:44:04.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-57e2836c70bf9369f1419bc66fafb40e68945aca-29ce1412107d1686-01 outer:exit 2b-57e2836c70bf9369f1419bc66fafb40e68945aca-50d0edfcf3fa12b4-01
2022-04-25T18:44:04.670Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-25T18:44:04.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b6f5d268a48b1059bf25e6970824fc9e7d0297d-004f956723c8a413-01 outer:exit 2b-9b6f5d268a48b1059bf25e6970824fc9e7d0297d-b448496624dc8fed-01
2022-04-25T18:44:04.673Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-25T18:44:04.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-22e8b87804b1da539a0fc340bd76494a3fc74360-a9449977f3dfbbdc-01 outer:exit 2b-22e8b87804b1da539a0fc340bd76494a3fc74360-8bb9382bba751e2a-01
2022-04-25T18:44:04.679Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-25T18:44:04.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bcadb02c641acd01a04f7c48908f7088850067a-0a085c33b2dc69f8-01 outer:exit 2b-8bcadb02c641acd01a04f7c48908f7088850067a-8cdd67304d4104aa-01
2022-04-25T18:44:04.683Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-25T18:44:04.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-df51b432f559222d5157c090ee7e0dfb279e65a7-56d1f531f4987a74-01 outer:exit 2b-df51b432f559222d5157c090ee7e0dfb279e65a7-35521d4c0e49dfc9-01
2022-04-25T18:44:04.686Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-25T18:44:04.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-c27987f336db513cecb6f0e3782159d27b8ac89f-428d7811b01884c7-01 outer:exit 2b-c27987f336db513cecb6f0e3782159d27b8ac89f-06a319c527ab4bd9-01
2022-04-25T18:44:04.690Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-25T18:44:04.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-3121fe7f6651c3cede4eb72cf3e00f8cfcbdb7bc-a7a407b5cd129ac2-01 outer:exit 2b-3121fe7f6651c3cede4eb72cf3e00f8cfcbdb7bc-58480f80ac2e7aac-01
2022-04-25T18:44:04.694Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-25T18:44:04.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aac7fb268551cfe919e94bf624615edc4b01104-fc4092f9b5281725-01 outer:exit 2b-9aac7fb268551cfe919e94bf624615edc4b01104-8ceef395384361b9-01
2022-04-25T18:44:04.700Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-25T18:44:04.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-332ac35895955ae7fe784b38e11bd1eef0c3e4ea-297e371c5da1b69c-01 outer:exit 2b-332ac35895955ae7fe784b38e11bd1eef0c3e4ea-f3b3df91e8791b32-01
2022-04-25T18:44:04.705Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-25T18:44:04.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-fceefe33c3e1e7d3c610764382a295a9caf3d466-2cebd131d138188d-01 outer:exit 2b-fceefe33c3e1e7d3c610764382a295a9caf3d466-bd7c9e765e77de37-01
2022-04-25T18:44:04.714Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-25T18:44:04.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-970f1e25276f2f09353615cc0bf55403d454737b-a95b7f30856dd27d-01 outer:exit 2b-970f1e25276f2f09353615cc0bf55403d454737b-133b865b51ea7476-01
2022-04-25T18:44:04.734Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-25T18:44:04.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-e59d533916dafeebc7226c490ff7b96a2b6db0cd-5886e2f4dc132043-01 outer:exit 2b-e59d533916dafeebc7226c490ff7b96a2b6db0cd-c1670200876ab996-01
2022-04-25T18:44:04.778Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-25T18:44:04.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a8616dbd52db80a012872ccb8b3409fec360f35-a0be8622ad487d67-01 outer:exit 2b-8a8616dbd52db80a012872ccb8b3409fec360f35-8d5c32f45f94bed2-01
2022-04-25T18:44:04.781Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-25T18:44:04.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ca3c194401968c4b93dde32e0d436a5a9e1f85c-e13e051b6e7b8c13-01 outer:exit 2b-7ca3c194401968c4b93dde32e0d436a5a9e1f85c-253d6f5fbd7abbb5-01
2022-04-25T18:44:04.784Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-25T18:44:04.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b423fe2b6d323920307022bb04144305ace9e53-3e9fa3547d5e84a5-01 outer:exit 2b-5b423fe2b6d323920307022bb04144305ace9e53-3c74697e46a440d6-01
2022-04-25T18:44:04.788Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-25T18:44:04.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3eef4f1e8f8b048f2885daff74859322ce5b944-615305b10ca880b1-01 outer:exit 2b-d3eef4f1e8f8b048f2885daff74859322ce5b944-be001cb897db18de-01
2022-04-25T18:44:04.791Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-25T18:44:04.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-775f093c0d8eb4257416dc8537504daf1355170a-dfa487adacad54fa-01 outer:exit 2b-775f093c0d8eb4257416dc8537504daf1355170a-cbafec075781c8c2-01
2022-04-25T18:44:04.794Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-25T18:44:04.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-d088e508f9c14ba1228062aea32cc190d13c3887-86bb60357bdedd5a-01 outer:exit 2b-d088e508f9c14ba1228062aea32cc190d13c3887-7afafba2ced94314-01
2022-04-25T18:44:04.796Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-25T18:44:04.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-08e0c6e6e9b61dc8c10e4d1edcba52ada340ed56-a98e6abbff1b6c68-01 outer:exit 2b-08e0c6e6e9b61dc8c10e4d1edcba52ada340ed56-a0423835d81a8fd5-01
2022-04-25T18:44:04.799Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-25T18:44:04.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c64c4da1203794481216f8e61cb8387f4e82cb1-a44cd23e668b6040-01 outer:exit 2b-8c64c4da1203794481216f8e61cb8387f4e82cb1-106ca0fcdc519a07-01
2022-04-25T18:44:04.803Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-25T18:44:04.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9d2f1dd3e5c65587dfa7337769a16e8cc4e01a6-1d469bf3ae6e7e33-01 outer:exit 2b-a9d2f1dd3e5c65587dfa7337769a16e8cc4e01a6-eebf35bde7fe0e48-01
2022-04-25T18:44:04.807Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-25T18:44:04.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b8c4fbca0578e9704cd0bfc9ad2527db074936b-69320e93d86e4ca9-01 outer:exit 2b-7b8c4fbca0578e9704cd0bfc9ad2527db074936b-b644dbfb6e2b9109-01
2022-04-25T18:44:04.810Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-25T18:44:04.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1baa458c658b2bb83727d7a4eef37dad8aed4d5-19654cb1eb90157c-01 outer:exit 2b-f1baa458c658b2bb83727d7a4eef37dad8aed4d5-5b4a403d08a40f4b-01
2022-04-25T18:44:04.813Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-25T18:44:04.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-85d87bff24f79d8323cfc9855f046c1805fae9ec-c0a2cd23e3da5596-01 outer:exit 2b-85d87bff24f79d8323cfc9855f046c1805fae9ec-60ec3de07367a760-01
2022-04-25T18:44:04.816Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-25T18:44:04.823Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee0b01bd779102341652e2f58c2af9d976a8056a-1879a63ebc0adb67-01 outer:exit 2b-ee0b01bd779102341652e2f58c2af9d976a8056a-994458737f22195a-01
2022-04-25T18:44:04.823Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-25T18:44:04.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-01955d65de7d4783724197df33bf529eea6fde1a-e56b6501c8f8a8bd-01 outer:exit 2b-01955d65de7d4783724197df33bf529eea6fde1a-617dbef5d7d6bd32-01
2022-04-25T18:44:04.831Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-25T18:44:04.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-d495b2666996d4ff3c8644baf3965e480f5f7770-303919be94268874-01 outer:exit 2b-d495b2666996d4ff3c8644baf3965e480f5f7770-45c6a2d1f0e521a5-01
2022-04-25T18:44:04.846Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-25T18:44:04.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bb94d3cb5669ccf316651dc63defb8d9771a6ec-9a7413d789ff1736-01 outer:exit 2b-1bb94d3cb5669ccf316651dc63defb8d9771a6ec-88536f57693630d3-01
2022-04-25T18:44:04.859Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-25T18:44:04.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0d3892cf1f52b3288d18b3329caf770d98b4d70-adfd31f08fad4d12-01 outer:exit 2b-d0d3892cf1f52b3288d18b3329caf770d98b4d70-c07884ffb5c2e0bb-01
2022-04-25T18:44:04.862Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-25T18:44:04.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4f48a6be30209ebc62e48717fc2680d171aef15-78cdd87b9d382b36-01 outer:exit 2b-c4f48a6be30209ebc62e48717fc2680d171aef15-6b9aa3b0198d83fc-01
2022-04-25T18:44:04.866Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-25T18:44:04.875Z appoptics:debug span.exit - no last event outer outer:entry 2b-e93662cd58c1fe87bcbc00d8f7eea06cf4dec518-ed69d43aa3a8f67a-01 outer:exit 2b-e93662cd58c1fe87bcbc00d8f7eea06cf4dec518-e455e81827497b7a-01
2022-04-25T18:44:04.875Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-25T18:44:04.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-f02a8da56372f6c467775b05d554fe83cf8c37c2-f25573f136bcdc41-01 outer:exit 2b-f02a8da56372f6c467775b05d554fe83cf8c37c2-4d612204aedad8e4-01
2022-04-25T18:44:04.878Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-25T18:44:04.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d240f0d6bc84a3f1826118aa44a10a2a1528c4-d303a4bf8f13e31b-01 outer:exit 2b-d1d240f0d6bc84a3f1826118aa44a10a2a1528c4-5fb16f006a120caf-01
2022-04-25T18:44:04.881Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-25T18:44:04.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4db466212b58a7775365a91b06d1b362d862768-2a459303808d684f-01 outer:exit 2b-d4db466212b58a7775365a91b06d1b362d862768-85ab54c29aea02da-01
2022-04-25T18:44:04.884Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-25T18:44:04.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c7f7a451a8f984a650786971c970847f1a553e8-7a314d00ae062239-01 outer:exit 2b-5c7f7a451a8f984a650786971c970847f1a553e8-593b100e800f1700-01
2022-04-25T18:44:04.886Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-25T18:44:04.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-f23fe6293bf002a8de51f80aae8337ad6a08f4f8-693a813ba8282518-01 outer:exit 2b-f23fe6293bf002a8de51f80aae8337ad6a08f4f8-8716a8659f462351-01
2022-04-25T18:44:04.889Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-25T18:44:04.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa93f655f12a1b908623245108c81c635a72622b-8c98449d81d1aea0-01 outer:exit 2b-aa93f655f12a1b908623245108c81c635a72622b-388e6db65ed67d5a-01
2022-04-25T18:44:04.901Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-25T18:44:04.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-045dd9ad585e57c658862fb44e9b2d8c08660b8d-5a18b12fc0dd710b-01 outer:exit 2b-045dd9ad585e57c658862fb44e9b2d8c08660b8d-a5c37fa1e7ac0f2f-01
2022-04-25T18:44:04.913Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-25T18:44:04.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-954fbdc1d6a601ee04f1e977ab1d9b25b7e20881-4d5a9ee4e272c392-01 outer:exit 2b-954fbdc1d6a601ee04f1e977ab1d9b25b7e20881-daae5c9bdd3081aa-01
2022-04-25T18:44:04.917Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-25T18:44:04.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-13dd5211c31606736e47aab3eb7439afffcf1fbf-436b2eb196657f22-01 outer:exit 2b-13dd5211c31606736e47aab3eb7439afffcf1fbf-bf1da9a5ea06ac9e-01
2022-04-25T18:44:04.920Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-25T18:44:04.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-15c3f367ec925404cc6f2a36620f46639edd25eb-f11b6a3ce08ab997-01 outer:exit 2b-15c3f367ec925404cc6f2a36620f46639edd25eb-5210ce932819f17f-01
2022-04-25T18:44:04.928Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-25T18:44:04.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf0dc3295e548fde8e376095d89847795c696efb-33cd1faa4dbadb70-01 outer:exit 2b-cf0dc3295e548fde8e376095d89847795c696efb-08a20f20644767a9-01
2022-04-25T18:44:04.963Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (401ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:526:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:526:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:13.709Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:13.710Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:13.710Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:13.711Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:13.792Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:13.961Z appoptics:patching patched crypto 
2022-04-25T18:44:13.984Z appoptics:patching patched https 
2022-04-25T18:44:13.984Z appoptics:patching patched http 
2022-04-25T18:44:14.030Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:14.031Z appoptics:patching patched fs 
2022-04-25T18:44:14.044Z appoptics:patching patched zlib 
2022-04-25T18:44:14.070Z appoptics:patching patched mongodb-core 3.0.0
2022-04-25T18:44:14.078Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (336ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:22.247Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:22.248Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:22.248Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:22.249Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:22.416Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:22.640Z appoptics:patching patched crypto 
2022-04-25T18:44:22.688Z appoptics:patching patched https 
2022-04-25T18:44:22.689Z appoptics:patching patched http 
2022-04-25T18:44:22.737Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:22.737Z appoptics:patching patched fs 
2022-04-25T18:44:22.750Z appoptics:patching patched zlib 
2022-04-25T18:44:22.784Z appoptics:patching patched mongodb-core 3.0.1
2022-04-25T18:44:22.791Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (430ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:31.041Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:31.042Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:31.042Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:31.043Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:31.146Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:31.311Z appoptics:patching patched crypto 
2022-04-25T18:44:31.333Z appoptics:patching patched https 
2022-04-25T18:44:31.334Z appoptics:patching patched http 
2022-04-25T18:44:31.381Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:31.382Z appoptics:patching patched fs 
2022-04-25T18:44:31.394Z appoptics:patching patched zlib 
2022-04-25T18:44:31.422Z appoptics:patching patched mongodb-core 3.0.2
2022-04-25T18:44:31.429Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (345ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:39.712Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:39.712Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:39.712Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:39.713Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:39.796Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:39.962Z appoptics:patching patched crypto 
2022-04-25T18:44:39.984Z appoptics:patching patched https 
2022-04-25T18:44:39.985Z appoptics:patching patched http 
2022-04-25T18:44:40.049Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:40.050Z appoptics:patching patched fs 
2022-04-25T18:44:40.062Z appoptics:patching patched zlib 
2022-04-25T18:44:40.095Z appoptics:patching patched mongodb-core 3.0.3
2022-04-25T18:44:40.101Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (47ms)


  33 passing (426ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:48.467Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:48.467Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:48.467Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:48.468Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:48.563Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:48.758Z appoptics:patching patched crypto 
2022-04-25T18:44:48.812Z appoptics:patching patched https 
2022-04-25T18:44:48.813Z appoptics:patching patched http 
2022-04-25T18:44:48.871Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:48.872Z appoptics:patching patched fs 
2022-04-25T18:44:48.886Z appoptics:patching patched zlib 
2022-04-25T18:44:48.925Z appoptics:patching patched mongodb-core 3.0.4
2022-04-25T18:44:48.934Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (441ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:44:57.013Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:44:57.013Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:44:57.013Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:44:57.014Z appoptics:debug using context provider: ace-context
2022-04-25T18:44:57.093Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:44:57.264Z appoptics:patching patched crypto 
2022-04-25T18:44:57.285Z appoptics:patching patched https 
2022-04-25T18:44:57.286Z appoptics:patching patched http 
2022-04-25T18:44:57.338Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:44:57.339Z appoptics:patching patched fs 
2022-04-25T18:44:57.352Z appoptics:patching patched zlib 
2022-04-25T18:44:57.381Z appoptics:patching patched mongodb-core 3.0.5
2022-04-25T18:44:57.388Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (340ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:06.318Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:06.319Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:06.319Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:06.320Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:06.396Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:06.563Z appoptics:patching patched crypto 
2022-04-25T18:45:06.586Z appoptics:patching patched https 
2022-04-25T18:45:06.587Z appoptics:patching patched http 
2022-04-25T18:45:06.635Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:06.636Z appoptics:patching patched fs 
2022-04-25T18:45:06.649Z appoptics:patching patched zlib 
2022-04-25T18:45:06.682Z appoptics:patching patched mongodb-core 3.0.6
2022-04-25T18:45:06.690Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (348ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:15.765Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:15.766Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:15.766Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:15.767Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:15.845Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:16.010Z appoptics:patching patched crypto 
2022-04-25T18:45:16.032Z appoptics:patching patched https 
2022-04-25T18:45:16.033Z appoptics:patching patched http 
2022-04-25T18:45:16.080Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:16.080Z appoptics:patching patched fs 
2022-04-25T18:45:16.091Z appoptics:patching patched zlib 
2022-04-25T18:45:16.122Z appoptics:patching patched mongodb-core 3.0.7
2022-04-25T18:45:16.130Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (356ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:23.882Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:23.882Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:23.882Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:23.883Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:23.960Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:24.125Z appoptics:patching patched crypto 
2022-04-25T18:45:24.151Z appoptics:patching patched https 
2022-04-25T18:45:24.152Z appoptics:patching patched http 
2022-04-25T18:45:24.200Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:24.200Z appoptics:patching patched fs 
2022-04-25T18:45:24.213Z appoptics:patching patched zlib 
2022-04-25T18:45:24.246Z appoptics:patching patched mongodb-core 3.0.8
2022-04-25T18:45:24.254Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (46ms)


  33 passing (335ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:33.289Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:33.290Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:33.290Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:33.291Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:33.365Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:33.523Z appoptics:patching patched crypto 
2022-04-25T18:45:33.546Z appoptics:patching patched https 
2022-04-25T18:45:33.547Z appoptics:patching patched http 
2022-04-25T18:45:33.595Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:33.596Z appoptics:patching patched fs 
2022-04-25T18:45:33.620Z appoptics:patching patched zlib 
2022-04-25T18:45:33.658Z appoptics:patching patched mongodb-core 3.0.9
2022-04-25T18:45:33.665Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (44ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (467ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:42.272Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:42.274Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:42.274Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:42.275Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:42.384Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:42.556Z appoptics:patching patched crypto 
2022-04-25T18:45:42.578Z appoptics:patching patched https 
2022-04-25T18:45:42.579Z appoptics:patching patched http 
2022-04-25T18:45:42.630Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:42.631Z appoptics:patching patched fs 
2022-04-25T18:45:42.643Z appoptics:patching patched zlib 
2022-04-25T18:45:42.673Z appoptics:patching patched mongodb-core 3.0.11
2022-04-25T18:45:42.681Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (404ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:45:50.694Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:45:50.695Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:45:50.695Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:45:50.696Z appoptics:debug using context provider: ace-context
2022-04-25T18:45:50.773Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:45:50.967Z appoptics:patching patched crypto 
2022-04-25T18:45:51.001Z appoptics:patching patched https 
2022-04-25T18:45:51.002Z appoptics:patching patched http 
2022-04-25T18:45:51.054Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:45:51.055Z appoptics:patching patched fs 
2022-04-25T18:45:51.069Z appoptics:patching patched zlib 
2022-04-25T18:45:51.113Z appoptics:patching patched mongodb-core 3.1.0
2022-04-25T18:45:51.122Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (70ms)


  33 passing (644ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:00.280Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:00.281Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:00.281Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:00.282Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:00.359Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:00.518Z appoptics:patching patched crypto 
2022-04-25T18:46:00.542Z appoptics:patching patched https 
2022-04-25T18:46:00.543Z appoptics:patching patched http 
2022-04-25T18:46:00.590Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:00.590Z appoptics:patching patched fs 
2022-04-25T18:46:00.602Z appoptics:patching patched zlib 
2022-04-25T18:46:00.638Z appoptics:patching patched mongodb-core 3.1.1
2022-04-25T18:46:00.645Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      1) "before all" hook in "3.0"


  17 passing (2s)
  1 failing

  1) probes.mongodb-core 3.1.1
       3.0
         "before all" hook in "3.0":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)




changed 2 packages, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:13.568Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:13.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:13.569Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:13.569Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:13.663Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:13.850Z appoptics:patching patched crypto 
2022-04-25T18:46:13.873Z appoptics:patching patched https 
2022-04-25T18:46:13.874Z appoptics:patching patched http 
2022-04-25T18:46:13.921Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:13.921Z appoptics:patching patched fs 
2022-04-25T18:46:13.935Z appoptics:patching patched zlib 
2022-04-25T18:46:13.968Z appoptics:patching patched mongodb-core 3.1.2
2022-04-25T18:46:13.975Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (61ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (544ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:22.650Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:22.650Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:22.651Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:22.651Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:22.737Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:22.911Z appoptics:patching patched crypto 
2022-04-25T18:46:22.950Z appoptics:patching patched https 
2022-04-25T18:46:22.956Z appoptics:patching patched http 
2022-04-25T18:46:23.009Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:23.010Z appoptics:patching patched fs 
2022-04-25T18:46:23.029Z appoptics:patching patched zlib 
2022-04-25T18:46:23.068Z appoptics:patching patched mongodb-core 3.1.3
2022-04-25T18:46:23.076Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (408ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:31.714Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:31.716Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:31.716Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:31.718Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:31.841Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:32.033Z appoptics:patching patched crypto 
2022-04-25T18:46:32.103Z appoptics:patching patched https 
2022-04-25T18:46:32.104Z appoptics:patching patched http 
2022-04-25T18:46:32.209Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:32.210Z appoptics:patching patched fs 
2022-04-25T18:46:32.241Z appoptics:patching patched zlib 
2022-04-25T18:46:32.314Z appoptics:patching patched mongodb-core 3.1.4
2022-04-25T18:46:32.325Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (876ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:40.618Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:40.618Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:40.618Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:40.619Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:40.715Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:40.899Z appoptics:patching patched crypto 
2022-04-25T18:46:40.921Z appoptics:patching patched https 
2022-04-25T18:46:40.922Z appoptics:patching patched http 
2022-04-25T18:46:40.977Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:40.978Z appoptics:patching patched fs 
2022-04-25T18:46:41.002Z appoptics:patching patched zlib 
2022-04-25T18:46:41.044Z appoptics:patching patched mongodb-core 3.1.5
2022-04-25T18:46:41.051Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (50ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (378ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:49.559Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:49.559Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:49.559Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:49.560Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:49.637Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:49.805Z appoptics:patching patched crypto 
2022-04-25T18:46:49.828Z appoptics:patching patched https 
2022-04-25T18:46:49.829Z appoptics:patching patched http 
2022-04-25T18:46:49.875Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:49.876Z appoptics:patching patched fs 
2022-04-25T18:46:49.890Z appoptics:patching patched zlib 
2022-04-25T18:46:49.928Z appoptics:patching patched mongodb-core 3.1.6
2022-04-25T18:46:49.935Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (396ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:46:59.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:46:59.048Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:46:59.048Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:46:59.049Z appoptics:debug using context provider: ace-context
2022-04-25T18:46:59.132Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:46:59.296Z appoptics:patching patched crypto 
2022-04-25T18:46:59.320Z appoptics:patching patched https 
2022-04-25T18:46:59.321Z appoptics:patching patched http 
2022-04-25T18:46:59.371Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:46:59.371Z appoptics:patching patched fs 
2022-04-25T18:46:59.388Z appoptics:patching patched zlib 
2022-04-25T18:46:59.426Z appoptics:patching patched mongodb-core 3.1.7
2022-04-25T18:46:59.434Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (407ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:07.940Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:07.941Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:07.941Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:07.942Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:08.039Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:08.236Z appoptics:patching patched crypto 
2022-04-25T18:47:08.279Z appoptics:patching patched https 
2022-04-25T18:47:08.280Z appoptics:patching patched http 
2022-04-25T18:47:08.333Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:08.333Z appoptics:patching patched fs 
2022-04-25T18:47:08.347Z appoptics:patching patched zlib 
2022-04-25T18:47:08.390Z appoptics:patching patched mongodb-core 3.1.8
2022-04-25T18:47:08.397Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (41ms)


  33 passing (527ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:16.481Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:16.482Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:16.482Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:16.482Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:16.565Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:16.744Z appoptics:patching patched crypto 
2022-04-25T18:47:16.774Z appoptics:patching patched https 
2022-04-25T18:47:16.775Z appoptics:patching patched http 
2022-04-25T18:47:16.831Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:16.832Z appoptics:patching patched fs 
2022-04-25T18:47:16.846Z appoptics:patching patched zlib 
2022-04-25T18:47:16.888Z appoptics:patching patched mongodb-core 3.1.9
2022-04-25T18:47:16.897Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (434ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:25.528Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:25.529Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:25.529Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:25.529Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:25.605Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:25.775Z appoptics:patching patched crypto 
2022-04-25T18:47:25.798Z appoptics:patching patched https 
2022-04-25T18:47:25.799Z appoptics:patching patched http 
2022-04-25T18:47:25.844Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:25.844Z appoptics:patching patched fs 
2022-04-25T18:47:25.857Z appoptics:patching patched zlib 
2022-04-25T18:47:25.893Z appoptics:patching patched mongodb-core 3.1.10
2022-04-25T18:47:25.903Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (395ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:34.567Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:34.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:34.569Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:34.572Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:34.652Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:34.837Z appoptics:patching patched crypto 
2022-04-25T18:47:34.860Z appoptics:patching patched https 
2022-04-25T18:47:34.860Z appoptics:patching patched http 
2022-04-25T18:47:34.909Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:34.909Z appoptics:patching patched fs 
2022-04-25T18:47:34.924Z appoptics:patching patched zlib 
2022-04-25T18:47:34.959Z appoptics:patching patched mongodb-core 3.1.11
2022-04-25T18:47:34.966Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (393ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:42.948Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:42.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:42.949Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:42.949Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:43.027Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:43.189Z appoptics:patching patched crypto 
2022-04-25T18:47:43.212Z appoptics:patching patched https 
2022-04-25T18:47:43.213Z appoptics:patching patched http 
2022-04-25T18:47:43.260Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:43.261Z appoptics:patching patched fs 
2022-04-25T18:47:43.275Z appoptics:patching patched zlib 
2022-04-25T18:47:43.315Z appoptics:patching patched mongodb-core 3.2.0
2022-04-25T18:47:43.325Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (471ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:47:52.199Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:47:52.200Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:47:52.201Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:47:52.201Z appoptics:debug using context provider: ace-context
2022-04-25T18:47:52.277Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:47:52.436Z appoptics:patching patched crypto 
2022-04-25T18:47:52.460Z appoptics:patching patched https 
2022-04-25T18:47:52.461Z appoptics:patching patched http 
2022-04-25T18:47:52.504Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:47:52.504Z appoptics:patching patched fs 
2022-04-25T18:47:52.517Z appoptics:patching patched zlib 
2022-04-25T18:47:52.558Z appoptics:patching patched mongodb-core 3.2.1
2022-04-25T18:47:52.566Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (327ms)


changed 1 package, and audited 927 packages in 17s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:10.833Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:10.834Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:10.834Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:10.835Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:10.927Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:11.115Z appoptics:patching patched crypto 
2022-04-25T18:48:11.175Z appoptics:patching patched https 
2022-04-25T18:48:11.176Z appoptics:patching patched http 
2022-04-25T18:48:11.222Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:11.222Z appoptics:patching patched fs 
2022-04-25T18:48:11.246Z appoptics:patching patched zlib 
2022-04-25T18:48:11.347Z appoptics:patching patched mongodb-core 3.2.2
2022-04-25T18:48:11.361Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (563ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:20.084Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:20.085Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:20.085Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:20.086Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:20.170Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:20.344Z appoptics:patching patched crypto 
2022-04-25T18:48:20.369Z appoptics:patching patched https 
2022-04-25T18:48:20.370Z appoptics:patching patched http 
2022-04-25T18:48:20.416Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:20.417Z appoptics:patching patched fs 
2022-04-25T18:48:20.431Z appoptics:patching patched zlib 
2022-04-25T18:48:20.474Z appoptics:patching patched mongodb-core 3.2.3
2022-04-25T18:48:20.483Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (381ms)


changed 1 package, and audited 927 packages in 8s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:29.542Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:29.542Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:29.542Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:29.543Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:29.623Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:29.789Z appoptics:patching patched crypto 
2022-04-25T18:48:29.811Z appoptics:patching patched https 
2022-04-25T18:48:29.812Z appoptics:patching patched http 
2022-04-25T18:48:29.856Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:29.856Z appoptics:patching patched fs 
2022-04-25T18:48:29.870Z appoptics:patching patched zlib 
2022-04-25T18:48:29.911Z appoptics:patching patched mongodb-core 3.2.4
2022-04-25T18:48:29.919Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (468ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:38.223Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:38.228Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:38.229Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:38.229Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:38.378Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:38.592Z appoptics:patching patched crypto 
2022-04-25T18:48:38.635Z appoptics:patching patched https 
2022-04-25T18:48:38.636Z appoptics:patching patched http 
2022-04-25T18:48:38.693Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:38.694Z appoptics:patching patched fs 
2022-04-25T18:48:38.710Z appoptics:patching patched zlib 
2022-04-25T18:48:38.765Z appoptics:patching patched mongodb-core 3.2.5
2022-04-25T18:48:38.774Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (47ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (428ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:46.502Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:46.502Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:46.503Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:46.503Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:46.591Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:46.855Z appoptics:patching patched crypto 
2022-04-25T18:48:46.909Z appoptics:patching patched https 
2022-04-25T18:48:46.910Z appoptics:patching patched http 
2022-04-25T18:48:46.955Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:46.956Z appoptics:patching patched fs 
2022-04-25T18:48:46.969Z appoptics:patching patched zlib 
2022-04-25T18:48:47.013Z appoptics:patching patched mongodb-core 3.2.6
2022-04-25T18:48:47.020Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (334ms)


changed 1 package, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-25T18:48:55.339Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-25T18:48:55.340Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-25T18:48:55.341Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-25T18:48:55.342Z appoptics:debug using context provider: ace-context
2022-04-25T18:48:55.437Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-25T18:48:55.608Z appoptics:patching patched crypto 
2022-04-25T18:48:55.632Z appoptics:patching patched https 
2022-04-25T18:48:55.632Z appoptics:patching patched http 
2022-04-25T18:48:55.675Z appoptics:patching fs.realpath - adding native method
2022-04-25T18:48:55.676Z appoptics:patching patched fs 
2022-04-25T18:48:55.690Z appoptics:patching patched zlib 
2022-04-25T18:48:55.733Z appoptics:patching patched mongodb-core 3.2.7
2022-04-25T18:48:55.741Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (484ms)


up to date, audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
