npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.2.0',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

added 1 package, removed 4 packages, changed 3 packages, and audited 929 packages in 8s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:58:30.640Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:58:30.641Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:58:30.641Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:58:30.641Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:58:30.767Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:58:31.237Z solarwinds-apm:patching patched crypto 
2022-04-18T23:58:31.269Z solarwinds-apm:patching patched https 
2022-04-18T23:58:31.269Z solarwinds-apm:patching patched http 
2022-04-18T23:58:31.345Z solarwinds-apm:patching patched amqplib 0.2.0
2022-04-18T23:58:31.348Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:58:31.351Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.2.0
    ✔ UDP might lose a message
    promises
      1) "before all" hook for "should report send and consume in existing trace"
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      3) "before all" hook for "should report send and consume in existing trace"
      4) "after all" hook for "should include SourceTrace in consume external to traced publish"


  1 passing (4s)
  4 failing

  1) probes.amqplib 0.2.0
       promises
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  2) probes.amqplib 0.2.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read properties of undefined (reading 'close')
      at Context.<anonymous> (test/probes/amqplib.test.js:181:23)
      at processImmediate (node:internal/timers:466:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.amqplib 0.2.0
       callbacks
         "before all" hook for "should report send and consume in existing trace":
     Error: Timeout of 2000ms exceeded. For async tests and hooks, ensure "done()" is called; if returning a Promise, ensure it resolves. (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  4) probes.amqplib 0.2.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     TypeError: Cannot read properties of undefined (reading 'close')
      at Context.<anonymous> (test/probes/amqplib.test.js:211:23)
      at processImmediate (node:internal/timers:466:21)
      at process.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.2.1',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 2 packages, and audited 929 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:58:42.875Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:58:42.876Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:58:42.876Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:58:42.876Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:58:42.960Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:58:43.138Z solarwinds-apm:patching patched crypto 
2022-04-18T23:58:43.157Z solarwinds-apm:patching patched https 
2022-04-18T23:58:43.158Z solarwinds-apm:patching patched http 
2022-04-18T23:58:43.210Z solarwinds-apm:patching patched amqplib 0.2.1
2022-04-18T23:58:43.213Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:58:43.215Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.2.1
    ✔ UDP might lose a message
    promises
(node:1331) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (72ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (284ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.0',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 929 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:58:51.416Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:58:51.416Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:58:51.416Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:58:51.416Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:58:51.487Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:58:51.640Z solarwinds-apm:patching patched crypto 
2022-04-18T23:58:51.658Z solarwinds-apm:patching patched https 
2022-04-18T23:58:51.659Z solarwinds-apm:patching patched http 
2022-04-18T23:58:51.708Z solarwinds-apm:patching patched amqplib 0.3.0
2022-04-18T23:58:51.710Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:58:51.713Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.3.0
    ✔ UDP might lose a message
    promises
(node:1396) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (48ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (238ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.1',
npm WARN EBADENGINE   required: { node: '0.8 || 0.9 || 0.10 || 0.11 || 0.12 || 1.0 || 1.1' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 2 packages, and audited 929 packages in 8s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:00.272Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:00.273Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:00.273Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:00.273Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:00.342Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:00.489Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:00.508Z solarwinds-apm:patching patched https 
2022-04-18T23:59:00.508Z solarwinds-apm:patching patched http 
2022-04-18T23:59:00.558Z solarwinds-apm:patching patched amqplib 0.3.1
2022-04-18T23:59:00.560Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:59:00.563Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.3.1
    ✔ UDP might lose a message
    promises
(node:1461) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (60ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (48ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (243ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.3.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <0.13 || ^1' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 929 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:08.111Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:08.111Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:08.111Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:08.111Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:08.197Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:08.391Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:08.421Z solarwinds-apm:patching patched https 
2022-04-18T23:59:08.422Z solarwinds-apm:patching patched http 
2022-04-18T23:59:08.491Z solarwinds-apm:patching patched amqplib 0.3.2
2022-04-18T23:59:08.494Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:59:08.498Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.3.2
    ✔ UDP might lose a message
    promises
(node:1526) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (73ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (56ms)


  7 passing (310ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <4 || ^4' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 929 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:15.977Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:15.977Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:15.978Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:15.978Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:16.047Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:16.199Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:16.217Z solarwinds-apm:patching patched https 
2022-04-18T23:59:16.218Z solarwinds-apm:patching patched http 
2022-04-18T23:59:16.266Z solarwinds-apm:patching patched amqplib 0.4.0
2022-04-18T23:59:16.269Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:59:16.272Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.4.0
    ✔ UDP might lose a message
    promises
(node:1591) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (68ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
      1) "after all" hook for "should include SourceTrace in consume external to traced publish"
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (48ms)
      2) "after all" hook for "should include SourceTrace in consume external to traced publish"


  7 passing (267ms)
  2 failing

  1) probes.amqplib 0.4.0
       promises
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at ChannelModel.emit (node:events:526:28)
      at Connection.emit (node:events:526:28)
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at Socket.emit (node:events:526:28)
      at emitReadable_ (node:internal/streams/readable:578:12)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)

  2) probes.amqplib 0.4.0
       callbacks
         "after all" hook for "should include SourceTrace in consume external to traced publish":
     Error: done() invoked with non-Error: Closed by client
      at CallbackModel.emit (node:events:526:28)
      at Connection.emit (node:events:526:28)
      at Connection.C.toClosed (node_modules/amqplib/lib/connection.js:411:8)
      at Connection.accept (node_modules/amqplib/lib/connection.js:378:12)
      at Socket.go (node_modules/amqplib/lib/connection.js:474:48)
      at Socket.emit (node:events:526:28)
      at emitReadable_ (node:internal/streams/readable:578:12)
      at processTicksAndRejections (node:internal/process/task_queues:82:21)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <5 || ^5' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 929 packages in 8s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:24.867Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:24.868Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:24.868Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:24.868Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:24.938Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:25.082Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:25.100Z solarwinds-apm:patching patched https 
2022-04-18T23:59:25.101Z solarwinds-apm:patching patched http 
2022-04-18T23:59:25.150Z solarwinds-apm:patching patched amqplib 0.4.1
2022-04-18T23:59:25.152Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:59:25.155Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.4.1
    ✔ UDP might lose a message
    promises
(node:1656) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (62ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (242ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.4.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <6 || ^6' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 929 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:33.113Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:33.114Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:33.114Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:33.114Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:33.248Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:33.509Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:33.529Z solarwinds-apm:patching patched https 
2022-04-18T23:59:33.529Z solarwinds-apm:patching patched http 
2022-04-18T23:59:33.582Z solarwinds-apm:patching patched amqplib 0.4.2
2022-04-18T23:59:33.584Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:59:33.587Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.4.2
    ✔ UDP might lose a message
    promises
(node:1721) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (61ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (49ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (255ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <6 || ^6' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 928 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:41.176Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:41.177Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:41.177Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:41.177Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:41.249Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:41.389Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:41.417Z solarwinds-apm:patching patched https 
2022-04-18T23:59:41.418Z solarwinds-apm:patching patched http 
2022-04-18T23:59:41.485Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-18T23:59:41.488Z solarwinds-apm:patching patched amqplib 0.5.1
2022-04-18T23:59:41.490Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:59:41.493Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.5.1
    ✔ UDP might lose a message
    promises
(node:1786) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (50ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (200ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.2',
npm WARN EBADENGINE   required: { node: '>=0.8 <=9' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 928 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:49.493Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:49.494Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:49.494Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:49.494Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:49.565Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:49.735Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:49.762Z solarwinds-apm:patching patched https 
2022-04-18T23:59:49.762Z solarwinds-apm:patching patched http 
2022-04-18T23:59:49.861Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-18T23:59:49.864Z solarwinds-apm:patching patched amqplib 0.5.2
2022-04-18T23:59:49.866Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:59:49.869Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.5.2
    ✔ UDP might lose a message
    promises
(node:1851) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (46ms)
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)


  7 passing (236ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.3',
npm WARN EBADENGINE   required: { node: '>=0.8 <=9' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

added 14 packages, removed 7 packages, changed 4 packages, and audited 935 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-18T23:59:57.411Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:57.412Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:57.412Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:57.412Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:57.495Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:57.674Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:57.694Z solarwinds-apm:patching patched https 
2022-04-18T23:59:57.695Z solarwinds-apm:patching patched http 
2022-04-18T23:59:57.766Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-18T23:59:57.769Z solarwinds-apm:patching patched amqplib 0.5.3
2022-04-18T23:59:57.772Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-18T23:59:57.775Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.5.3
    ✔ UDP might lose a message
    promises
(node:1916) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (63ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (46ms)


  7 passing (267ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.4',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated amqplib@0.5.4: See github.com/squaremo/amqp.node/issues/534

changed 1 package, and audited 935 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:00:06.098Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:06.098Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:06.099Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:06.099Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:06.200Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:06.358Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:06.376Z solarwinds-apm:patching patched https 
2022-04-19T00:00:06.377Z solarwinds-apm:patching patched http 

Error: Cannot find module './defs'
Require stack:
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js
- /__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js
- /__w/appoptics-apm-node/appoptics-apm-node/test/probes/amqplib.test.js
    at Function.Module._resolveFilename (node:internal/modules/cjs/loader:933:15)
    at Function.Module._load (node:internal/modules/cjs/loader:778:27)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connection.js:7:12)
    at Module._compile (node:internal/modules/cjs/loader:1103:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1157:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/lib/connect.js:11:18)
    at Module._compile (node:internal/modules/cjs/loader:1103:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1157:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
    at Function.Module._load (node:internal/modules/cjs/loader:822:12)
    at Module.require (node:internal/modules/cjs/loader:1005:19)
    at Module.patchedRequire [as require] (/__w/appoptics-apm-node/appoptics-apm-node/lib/require-patch.js:54:25)
    at require (node:internal/modules/cjs/helpers:102:18)
    at Object.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/amqplib/channel_api.js:1:19)
    at Module._compile (node:internal/modules/cjs/loader:1103:14)
    at Object.Module._extensions..js (node:internal/modules/cjs/loader:1157:10)
    at Module.load (node:internal/modules/cjs/loader:981:32)
npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.5',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 935 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:00:14.356Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:14.357Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:14.357Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:14.357Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:14.428Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:14.573Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:14.591Z solarwinds-apm:patching patched https 
2022-04-19T00:00:14.592Z solarwinds-apm:patching patched http 
2022-04-19T00:00:14.654Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-19T00:00:14.657Z solarwinds-apm:patching patched amqplib 0.5.5
2022-04-19T00:00:14.659Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-19T00:00:14.662Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.5.5
    ✔ UDP might lose a message
    promises
(node:2042) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (66ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (49ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (50ms)


  7 passing (250ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.5.6',
npm WARN EBADENGINE   required: { node: '>=0.8 <=12' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 935 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:00:22.309Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:22.310Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:22.310Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:22.310Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:22.397Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:22.564Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:22.587Z solarwinds-apm:patching patched https 
2022-04-19T00:00:22.587Z solarwinds-apm:patching patched http 
2022-04-19T00:00:22.670Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-19T00:00:22.673Z solarwinds-apm:patching patched amqplib 0.5.6
2022-04-19T00:00:22.675Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-19T00:00:22.678Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.5.6
    ✔ UDP might lose a message
    promises
(node:2107) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (66ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume (50ms)
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (271ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.6.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <=14' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 935 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:00:30.839Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:30.841Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:30.841Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:30.841Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:30.913Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:31.059Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:31.078Z solarwinds-apm:patching patched https 
2022-04-19T00:00:31.079Z solarwinds-apm:patching patched http 
2022-04-19T00:00:31.141Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-19T00:00:31.144Z solarwinds-apm:patching patched amqplib 0.6.0
2022-04-19T00:00:31.146Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-19T00:00:31.149Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.6.0
    ✔ UDP might lose a message
    promises
(node:2172) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (69ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (261ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.7.0',
npm WARN EBADENGINE   required: { node: '>=0.8 <=15' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

changed 1 package, and audited 935 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

2 vulnerabilities (1 moderate, 1 critical)

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:00:39.312Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:39.313Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:39.313Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:39.313Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:39.384Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:39.534Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:39.553Z solarwinds-apm:patching patched https 
2022-04-19T00:00:39.553Z solarwinds-apm:patching patched http 
2022-04-19T00:00:39.627Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-19T00:00:39.630Z solarwinds-apm:patching patched amqplib 0.7.0
2022-04-19T00:00:39.632Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-19T00:00:39.635Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.7.0
    ✔ UDP might lose a message
    promises
(node:2237) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (67ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish


  7 passing (256ms)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'amqplib@0.7.1',
npm WARN EBADENGINE   required: { node: '>=0.8 <=15' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

added 8 packages, removed 11 packages, changed 3 packages, and audited 932 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:47.063Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:47.064Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:47.064Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:47.064Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:47.151Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:47.387Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:47.427Z solarwinds-apm:patching patched https 
2022-04-19T00:00:47.427Z solarwinds-apm:patching patched http 
2022-04-19T00:00:47.563Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-19T00:00:47.571Z solarwinds-apm:patching patched amqplib 0.7.1
2022-04-19T00:00:47.580Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-19T00:00:47.590Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.7.1
    ✔ UDP might lose a message
    promises
(node:2302) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace (72ms)
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (291ms)


changed 1 package, and audited 932 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:55.408Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:55.409Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:55.409Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:55.409Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:55.481Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:55.631Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:55.650Z solarwinds-apm:patching patched https 
2022-04-19T00:00:55.650Z solarwinds-apm:patching patched http 
2022-04-19T00:00:55.714Z solarwinds-apm:patching patched bluebird 3.7.2
2022-04-19T00:00:55.717Z solarwinds-apm:patching patched amqplib 0.8.0
2022-04-19T00:00:55.719Z solarwinds-apm:patching patched amqplib/callback_api 
2022-04-19T00:00:55.722Z solarwinds-apm:debug starting runtimeMetrics


  probes.amqplib 0.8.0
    ✔ UDP might lose a message
    promises
(node:2367) [DEP0005] DeprecationWarning: Buffer() is deprecated due to security and usability issues. Please use the Buffer.alloc(), Buffer.allocUnsafe(), or Buffer.from() methods instead.
(Use `node --trace-deprecation ...` to show where the warning was created)
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (48ms)
    callbacks
      ✔ should report send and consume in existing trace
      ✔ should start new trace for consume
      ✔ should include SourceTrace in consume external to traced publish (48ms)


  7 passing (201ms)


up to date, audited 932 packages in 8s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
