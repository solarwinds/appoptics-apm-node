npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.0
updated 2 packages and audited 1098 packages in 6.646s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:19:38.825Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:38.826Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:38.826Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:38.827Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:38.957Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:39.030Z appoptics:patching patched crypto 
2021-09-23T17:19:39.058Z appoptics:patching patched https 
2021-09-23T17:19:39.059Z appoptics:patching patched http 
2021-09-23T17:19:39.115Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:39.115Z appoptics:patching patched fs 
2021-09-23T17:19:39.133Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v14.17.6)
2021-09-23T17:19:39.141Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2021-09-23T17:19:39.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcd67a17fecb6c32950dd985910f2c25793eec28-80c7880e2ad8b289-01 outer:exit 2b-fcd67a17fecb6c32950dd985910f2c25793eec28-a272eb36ea3e0b1a-01
2021-09-23T17:19:39.387Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:39.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a0143eeab9f33c13b7b825eb17dc78d87221eb1-9b5e394cea05ddbf-01 outer:exit 2b-2a0143eeab9f33c13b7b825eb17dc78d87221eb1-00fc378d91c6aeec-01
2021-09-23T17:19:39.463Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:39.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f3b1b88e924e71d361004cb8837fbf8b7d5ee6d-10f70c5f348532bf-01 outer:exit 2b-5f3b1b88e924e71d361004cb8837fbf8b7d5ee6d-39c5f0710e0468f8-01
2021-09-23T17:19:39.469Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:39.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-b00ec8ea114f411fec2692c1afd6ec89d4dda11a-fabb43fe96246ad1-01 outer:exit 2b-b00ec8ea114f411fec2692c1afd6ec89d4dda11a-9f5fe4975dba45c7-01
2021-09-23T17:19:39.475Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:39.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5e4b82b616c93c01a5b8ac95d0a551815c65e34-1bab002645e3541b-01 outer:exit 2b-b5e4b82b616c93c01a5b8ac95d0a551815c65e34-b8d3f49b1c7cc389-01
2021-09-23T17:19:39.483Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:39.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a5672dab251a2f1b03c52913d4d1d002bd9f286-31b2e0a730fd351c-01 outer:exit 2b-7a5672dab251a2f1b03c52913d4d1d002bd9f286-7b130ee764a49917-01
2021-09-23T17:19:39.489Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:39.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf2c6353b570f5741db425583b5f763b22c69426-f118ee6170e25105-01 outer:exit 2b-cf2c6353b570f5741db425583b5f763b22c69426-ffff7fd6d7c652d5-01
2021-09-23T17:19:39.492Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:39.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a15103b27f7114cbe690a5aede75553345b6d7e-9d0ae17e09344ff7-01 outer:exit 2b-5a15103b27f7114cbe690a5aede75553345b6d7e-e650f184c01442b2-01
2021-09-23T17:19:39.496Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:39.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-025178243dc8eadee464a493ae6d50bc99b32a8c-72f77bcabe51022a-01 outer:exit 2b-025178243dc8eadee464a493ae6d50bc99b32a8c-9599c7cbf22274f1-01
2021-09-23T17:19:39.499Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:39.502Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b5af579de863733dcd1ba6e364f6ecf2464b0d6-56531fae035303b3-01 outer:exit 2b-9b5af579de863733dcd1ba6e364f6ecf2464b0d6-2f653cbf57af4d08-01
2021-09-23T17:19:39.502Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:39.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-146aa1bca3d3df5c10d5ca931a10affc66b9623e-397559f30702781d-01 outer:exit 2b-146aa1bca3d3df5c10d5ca931a10affc66b9623e-381b676953b3bac9-01
2021-09-23T17:19:39.506Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:39.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-3542642a526031892cddf6a855cfcd174105bf63-e2349c1d8e9b54ab-01 outer:exit 2b-3542642a526031892cddf6a855cfcd174105bf63-5a75d13bab63568f-01
2021-09-23T17:19:39.547Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:39.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-1447f3be500cf70d0106648f1f4713bc6d613957-15f147478a3bb111-01 outer:exit 2b-1447f3be500cf70d0106648f1f4713bc6d613957-ea09c50bca776782-01
2021-09-23T17:19:39.576Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:39.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c1ba0c9b8f12a256cb2cb870aea0eaee56933ff-bcf4bbc8b519f0f7-01 outer:exit 2b-5c1ba0c9b8f12a256cb2cb870aea0eaee56933ff-8703b283bf9a073a-01
2021-09-23T17:19:39.659Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:39.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dedbd394870238f9705ef66f46abbb69ebe6383-8a6ae30fb2b5af48-01 outer:exit 2b-8dedbd394870238f9705ef66f46abbb69ebe6383-13c68e8cb7e6d7a9-01
2021-09-23T17:19:39.666Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:39.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde5ac7ecdeb4352d2221ce709599d18df8f2c9f-1d0a3ee9b74b003b-01 outer:exit 2b-fde5ac7ecdeb4352d2221ce709599d18df8f2c9f-51b914040e03e9d4-01
2021-09-23T17:19:39.669Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:39.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-513eadde5bc2c7462e987eb1071e7f46e9dba652-b3911e52d4c9a615-01 outer:exit 2b-513eadde5bc2c7462e987eb1071e7f46e9dba652-dbeeb7617e67b988-01
2021-09-23T17:19:39.676Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:39.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-c13b21c908da3a5e4396cb0bcb13d8b09ec3df59-27351a1461673c0f-01 outer:exit 2b-c13b21c908da3a5e4396cb0bcb13d8b09ec3df59-8bf3379dfb7c6939-01
2021-09-23T17:19:39.680Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:39.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-9055358c732132af5de0afc7cb6f70c9ab0b53f6-a31ad1b17aac0df9-01 outer:exit 2b-9055358c732132af5de0afc7cb6f70c9ab0b53f6-145518d5a2278c75-01
2021-09-23T17:19:39.684Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:39.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-195ffac20fb8b642be42c73afc6b32afe4661d19-ec830473111c24b0-01 outer:exit 2b-195ffac20fb8b642be42c73afc6b32afe4661d19-c6f2a7dff4ac40b2-01
2021-09-23T17:19:39.688Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:39.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-110013a6a302bb4ffabc95b9d9f26b9c595ee12c-2dda02cfb07f8f0a-01 outer:exit 2b-110013a6a302bb4ffabc95b9d9f26b9c595ee12c-95b3036fb7f30a6a-01
2021-09-23T17:19:39.691Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:39.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-e294d27fb54232424f418232567fe6631b76fd65-3a09af424036a6dc-01 outer:exit 2b-e294d27fb54232424f418232567fe6631b76fd65-692c76b987562e49-01
2021-09-23T17:19:39.693Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:39.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8f59c46821a636678e84b03cb3b9c9f1f3a48e6-98413dba3e467fef-01 outer:exit 2b-e8f59c46821a636678e84b03cb3b9c9f1f3a48e6-56778d799322bee6-01
2021-09-23T17:19:39.697Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:39.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b04f1f525e62338de4ffbd4e2981427d1d0e15b-d71bf16e0f99c6cb-01 outer:exit 2b-1b04f1f525e62338de4ffbd4e2981427d1d0e15b-320fce697fc015b7-01
2021-09-23T17:19:39.701Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:39.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-b68bdd78ed6470847b500d80c5259c1e79de0949-00288d9b775004f8-01 outer:exit 2b-b68bdd78ed6470847b500d80c5259c1e79de0949-2a091c03045b5563-01
2021-09-23T17:19:39.704Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:39.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-0dbd9d0c0c82530f0b982e201be1f968c595fd80-f3fcfd7e6c50795b-01 outer:exit 2b-0dbd9d0c0c82530f0b982e201be1f968c595fd80-7cf3717649d4bafa-01
2021-09-23T17:19:39.706Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:39.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-add75f07161fed4c13875b2d6b04eb712ef458fd-67af5e988ee295b9-01 outer:exit 2b-add75f07161fed4c13875b2d6b04eb712ef458fd-603530187805c8ff-01
2021-09-23T17:19:39.749Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:39.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-e26705c458226ccb750bbf124a5b29846dc4d308-f831e83c84e77242-01 outer:exit 2b-e26705c458226ccb750bbf124a5b29846dc4d308-a09d8dabca1f9e43-01
2021-09-23T17:19:39.768Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:39.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaba3a033b501286709fa9559f0f47647f2635c0-3d727e8eec35e9ad-01 outer:exit 2b-eaba3a033b501286709fa9559f0f47647f2635c0-de49d2b1bf9d3e16-01
2021-09-23T17:19:39.781Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:39.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfac656647ad7e7e7e26a621d19a32104ac73a31-9fa02dff611d03ce-01 outer:exit 2b-dfac656647ad7e7e7e26a621d19a32104ac73a31-9dbd99a73943bf62-01
2021-09-23T17:19:39.807Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:39.812Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a0a329610512c5ddce6a9d3364291138e18adf3-e1c6c3a77e5ca5c8-01 outer:exit 2b-2a0a329610512c5ddce6a9d3364291138e18adf3-b49a2b4758f15cbb-01
2021-09-23T17:19:39.812Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:39.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4bbc31d2b891a5b21447ac85efcbd019bbd6371-f1518403399f44c6-01 outer:exit 2b-e4bbc31d2b891a5b21447ac85efcbd019bbd6371-24b4c14a1ade501f-01
2021-09-23T17:19:39.846Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:39.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc0740c492e55707e5af823e2e4cbf1a3f53652e-0f7c3ab8467a5fe4-01 outer:exit 2b-cc0740c492e55707e5af823e2e4cbf1a3f53652e-a307db17799af939-01
2021-09-23T17:19:39.863Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:39.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-49badd1e52c051dd176a6762a4dfff8f45a38639-0fdd843cb855a2f0-01 outer:exit 2b-49badd1e52c051dd176a6762a4dfff8f45a38639-5fc923f0d49b5bb1-01
2021-09-23T17:19:39.874Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:39.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-33d6a70bd54298c8710de6b727843067cb654812-a24ff64c957e6ab8-01 outer:exit 2b-33d6a70bd54298c8710de6b727843067cb654812-f37fc5d0348c4491-01
2021-09-23T17:19:39.877Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:39.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d007fe57a4ca0fd630ab983c36aa7965a8b76f7-7c69542666d3d53a-01 outer:exit 2b-5d007fe57a4ca0fd630ab983c36aa7965a8b76f7-6e278209f63e90bb-01
2021-09-23T17:19:39.886Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:39.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-36558e931516016185bcbf59c7a6d832a95684bf-e6379413e0b679e8-01 outer:exit 2b-36558e931516016185bcbf59c7a6d832a95684bf-ad4192ff000d55de-01
2021-09-23T17:19:39.891Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:39.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4ba86a56bc8c8be186fdebc2c2b390273399dcd-c4f6f02d4ec3ad38-01 outer:exit 2b-c4ba86a56bc8c8be186fdebc2c2b390273399dcd-f1c86fa4ca38da22-01
2021-09-23T17:19:39.894Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:39.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f1722e8c0d2b8125d354862d5d71b3e17150da6-f263914c0d7ff9a0-01 outer:exit 2b-1f1722e8c0d2b8125d354862d5d71b3e17150da6-e1f0f6ec8dcba0c0-01
2021-09-23T17:19:39.907Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:39.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a59ce321c0b4ab083930b8081654efc7b1af986-336b2658667d8584-01 outer:exit 2b-3a59ce321c0b4ab083930b8081654efc7b1af986-fd0d2d059eb8656e-01
2021-09-23T17:19:39.927Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:39.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-1405fb3549fc0c6b712babff2562f1b72c833d37-3a57c2489e00291b-01 outer:exit 2b-1405fb3549fc0c6b712babff2562f1b72c833d37-0c0799d1f6d792a1-01
2021-09-23T17:19:39.932Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:39.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-218e0029cf8717ca2f5fbb999b360cf83091b266-bbbf41beea46a4dd-01 outer:exit 2b-218e0029cf8717ca2f5fbb999b360cf83091b266-e8f622dcf1a659bd-01
2021-09-23T17:19:39.945Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:40.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-e033281689932bfd867547fdc78b5dd1f360c8df-0c4627ef824e61a5-01 outer:exit 2b-e033281689932bfd867547fdc78b5dd1f360c8df-1aa3e6e2d7c6f42b-01
2021-09-23T17:19:40.028Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:40.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-407875c89a8bf605869dd228d8609e611bba7514-bb524ba1d7455ec6-01 outer:exit 2b-407875c89a8bf605869dd228d8609e611bba7514-1e8fb678ea8b1140-01
2021-09-23T17:19:40.069Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (732ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.1
updated 1 package and audited 1098 packages in 6.343s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:19:47.818Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:47.819Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:47.819Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:47.820Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:47.921Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:48.043Z appoptics:patching patched crypto 
2021-09-23T17:19:48.086Z appoptics:patching patched https 
2021-09-23T17:19:48.086Z appoptics:patching patched http 
2021-09-23T17:19:48.156Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:48.157Z appoptics:patching patched fs 
2021-09-23T17:19:48.178Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v14.17.6)
2021-09-23T17:19:48.194Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2021-09-23T17:19:48.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fc2c92e0a2b126e77237bd7cf0ed17b6f3b59e9-7939466f6228a48d-01 outer:exit 2b-3fc2c92e0a2b126e77237bd7cf0ed17b6f3b59e9-a1405cd770e696a5-01
2021-09-23T17:19:48.410Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:48.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-be372c7ffbdeb8ac9e91b2be4920f74a7f0abe2f-86ddaadff621a850-01 outer:exit 2b-be372c7ffbdeb8ac9e91b2be4920f74a7f0abe2f-46fd87de443f7dce-01
2021-09-23T17:19:48.501Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:48.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dc5db82f372655cc8a4a2f661b808cc4084db1c-9eb9e49b87af8797-01 outer:exit 2b-3dc5db82f372655cc8a4a2f661b808cc4084db1c-df973388d2b1cde3-01
2021-09-23T17:19:48.505Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:48.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1381a478b87531b26d38ce2fbae67ac4f2bf0cb-624a50481639e061-01 outer:exit 2b-f1381a478b87531b26d38ce2fbae67ac4f2bf0cb-ba9c8a55da8cd966-01
2021-09-23T17:19:48.508Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:48.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8c06bb9fa778206428b5960f0006223821389ff-f71574b92b1e1ecd-01 outer:exit 2b-c8c06bb9fa778206428b5960f0006223821389ff-9c95a6039024d825-01
2021-09-23T17:19:48.513Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:48.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-1416d32a74e44a95d0375259acd03fc010dba280-aab3732330f621c7-01 outer:exit 2b-1416d32a74e44a95d0375259acd03fc010dba280-5fe268a47355dbc5-01
2021-09-23T17:19:48.517Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:48.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-194b36eabb48c7ecc11ddf2c4bf4bc2fa1a11d02-fee36060ad548863-01 outer:exit 2b-194b36eabb48c7ecc11ddf2c4bf4bc2fa1a11d02-9a366ef0f54c6ca3-01
2021-09-23T17:19:48.520Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:48.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-123370c4c71d2c838e78396de625356f35f1cdfc-7189623cd5106dc5-01 outer:exit 2b-123370c4c71d2c838e78396de625356f35f1cdfc-6a1b8f217ac026fc-01
2021-09-23T17:19:48.522Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:48.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-68b151ba58d8ad782afea09d0cb95d1d83cdb471-047ed21e9c16d2af-01 outer:exit 2b-68b151ba58d8ad782afea09d0cb95d1d83cdb471-3138c0221c7817e2-01
2021-09-23T17:19:48.525Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:48.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3a5cfca3b9fffe218ed982d4f35cfbccc1ec5c0-73a75ca71e2b5b34-01 outer:exit 2b-d3a5cfca3b9fffe218ed982d4f35cfbccc1ec5c0-acfc82c5174efb57-01
2021-09-23T17:19:48.528Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:48.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-029271804671f5a87fb567f7868475f9efc9d074-d4af80f67d308107-01 outer:exit 2b-029271804671f5a87fb567f7868475f9efc9d074-4430d68d52fa4a4a-01
2021-09-23T17:19:48.533Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:48.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d3beaed4177a2bc50be7d189bba6c654a85fc0e-5727c58065846f00-01 outer:exit 2b-9d3beaed4177a2bc50be7d189bba6c654a85fc0e-94a263e7f906bd09-01
2021-09-23T17:19:48.540Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:48.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b0cc23150e27a6775b282722d8202d68ebb3f90-3e701e949b8d164f-01 outer:exit 2b-5b0cc23150e27a6775b282722d8202d68ebb3f90-930d57502cc0fe1f-01
2021-09-23T17:19:48.557Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:48.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-b67ae1c9bdd39491aa6901d4f30dfb06146044a5-dbc82629cb7fd81f-01 outer:exit 2b-b67ae1c9bdd39491aa6901d4f30dfb06146044a5-fbd41434c3cb9981-01
2021-09-23T17:19:48.596Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:48.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-9923be485883dd69794644bb0a265780b994cc04-7b312c4dc9a050a0-01 outer:exit 2b-9923be485883dd69794644bb0a265780b994cc04-5fd984ad59c56cc9-01
2021-09-23T17:19:48.599Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:48.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fb52d874425286482d298bbcf4c0766d73e63db-82506668403b87af-01 outer:exit 2b-8fb52d874425286482d298bbcf4c0766d73e63db-b2db0f4957fed3ea-01
2021-09-23T17:19:48.602Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:48.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-05aa556b906a7be3f7c62153f167c9b6c21e2ade-ea3735491b1367b9-01 outer:exit 2b-05aa556b906a7be3f7c62153f167c9b6c21e2ade-8f362b4801eabc38-01
2021-09-23T17:19:48.606Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:48.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-705dc1cd9b3fca14d065fdb882e1b0570a35059c-023cbc36d9535363-01 outer:exit 2b-705dc1cd9b3fca14d065fdb882e1b0570a35059c-792f3687589fcc3a-01
2021-09-23T17:19:48.608Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:48.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-30245c5f47035c0869bca00eb6d00445d567cf72-7ff12d88181359e1-01 outer:exit 2b-30245c5f47035c0869bca00eb6d00445d567cf72-45122aadb7eb10de-01
2021-09-23T17:19:48.611Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:48.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-84ab34b767373d94eb3f703beb2d82d9eee44cdc-51a0c63f6e94c607-01 outer:exit 2b-84ab34b767373d94eb3f703beb2d82d9eee44cdc-21654e6048ce53af-01
2021-09-23T17:19:48.613Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:48.616Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ad9cdfc13945d0fb73549e4ce62a87e29cdfe29-fc81c1ebd0c3bb82-01 outer:exit 2b-4ad9cdfc13945d0fb73549e4ce62a87e29cdfe29-8b6e375813e45611-01
2021-09-23T17:19:48.616Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:48.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2c712b75d06ee01b57dfdb4988645a372d3679-551fee9a7116d829-01 outer:exit 2b-0c2c712b75d06ee01b57dfdb4988645a372d3679-8c269f0438c7520c-01
2021-09-23T17:19:48.619Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:48.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd2331886062f3e8bca020cc555853d24eecbaf9-143ac7290c036b0b-01 outer:exit 2b-dd2331886062f3e8bca020cc555853d24eecbaf9-4ea7a7fe49341a6b-01
2021-09-23T17:19:48.622Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:48.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e693fb82770d641d18133a1ccdbd7998f090caa-d95dab542117c083-01 outer:exit 2b-5e693fb82770d641d18133a1ccdbd7998f090caa-f6df7acd636e7b3b-01
2021-09-23T17:19:48.626Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:48.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-a10a5a26dc93b7c85f1028c201dad394f518164f-05a0ebc62cb1efc9-01 outer:exit 2b-a10a5a26dc93b7c85f1028c201dad394f518164f-1746a7dacc89128c-01
2021-09-23T17:19:48.629Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:48.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fd41f4f4db28cd7b8ee3f2effbcb1803c1f9cee-046f9cc4d41e318b-01 outer:exit 2b-5fd41f4f4db28cd7b8ee3f2effbcb1803c1f9cee-e385487b4d89f528-01
2021-09-23T17:19:48.632Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:48.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3d075d43a0bfb3cf632fbb8c06b60dadd06dbac-473839ea4dd095af-01 outer:exit 2b-d3d075d43a0bfb3cf632fbb8c06b60dadd06dbac-d5cf7990806a4e11-01
2021-09-23T17:19:48.638Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:48.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e7ff8322e3eaf9a5c76b1857414da05fb467512-b4d39a7982c0f10d-01 outer:exit 2b-6e7ff8322e3eaf9a5c76b1857414da05fb467512-c4b26ea2e484d740-01
2021-09-23T17:19:48.643Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:48.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-8898ca80bb1c2cdb57d7432f6165cb44309f146d-67174529177454f4-01 outer:exit 2b-8898ca80bb1c2cdb57d7432f6165cb44309f146d-67d2d5220f237709-01
2021-09-23T17:19:48.655Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:48.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-357e7c7b808f62d2ae5e508f1a07c997cc324fc2-d305e07a376f04e7-01 outer:exit 2b-357e7c7b808f62d2ae5e508f1a07c997cc324fc2-74a7c1b6a73b44ae-01
2021-09-23T17:19:48.662Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:48.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-043a54cf12f86f4cbfc78fe3b5df8cce8d960af6-6fe3d1e171406c17-01 outer:exit 2b-043a54cf12f86f4cbfc78fe3b5df8cce8d960af6-a2b595adc1907553-01
2021-09-23T17:19:48.671Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:48.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ba05dd97966f8ceeebf5d94426d4d047c96cb69-577d43e0bf888b31-01 outer:exit 2b-3ba05dd97966f8ceeebf5d94426d4d047c96cb69-4cbef0fbad8583c3-01
2021-09-23T17:19:48.677Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:48.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-13b51b6802ab449cd74cdd4eb16bf4481c63bd94-a1dca0da13a480c3-01 outer:exit 2b-13b51b6802ab449cd74cdd4eb16bf4481c63bd94-6d4aa02455c6bb8b-01
2021-09-23T17:19:48.691Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:48.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1e475b1344204750f34ddb4e11cb3b3199a7065-acdad08537310300-01 outer:exit 2b-b1e475b1344204750f34ddb4e11cb3b3199a7065-4ae24e5bd081a050-01
2021-09-23T17:19:48.694Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:48.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-44dd495d12f42bbd0ffbd25a9f83ccf82f0c9690-ad3dc81f5ff2cf65-01 outer:exit 2b-44dd495d12f42bbd0ffbd25a9f83ccf82f0c9690-f840cc7ee304b1e0-01
2021-09-23T17:19:48.696Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:48.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-1af11135697992153f700899a81879fbe376cdc0-76f2f1cef3c54e58-01 outer:exit 2b-1af11135697992153f700899a81879fbe376cdc0-c0c9045b5d2a71b9-01
2021-09-23T17:19:48.699Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:48.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bae7fd1cfa93791034923e200be08fbd0255774-800ffc81679f5573-01 outer:exit 2b-0bae7fd1cfa93791034923e200be08fbd0255774-aaa836f827799ce2-01
2021-09-23T17:19:48.701Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:48.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-3642b70a7172939642fca64ea95c60399c773f93-dd9439c9f7fd7905-01 outer:exit 2b-3642b70a7172939642fca64ea95c60399c773f93-33b22c6d94aff200-01
2021-09-23T17:19:48.704Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:48.714Z appoptics:debug span.exit - no last event outer outer:entry 2b-b77024ac54f3dd2e7a399e89ea8d56a2ffcdc5c6-d486e1d6e0c63f71-01 outer:exit 2b-b77024ac54f3dd2e7a399e89ea8d56a2ffcdc5c6-871dcb489ca5138e-01
2021-09-23T17:19:48.714Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:48.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-f162af3a4d050ebf24baf5a57c64718d537b9514-2a289382696b0003-01 outer:exit 2b-f162af3a4d050ebf24baf5a57c64718d537b9514-bc08b590a5d1037c-01
2021-09-23T17:19:48.725Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:48.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-813d73bd0cbed766253e9a550198f5640cfa6ce3-51c98900890e05ef-01 outer:exit 2b-813d73bd0cbed766253e9a550198f5640cfa6ce3-7651ba8f8389f19a-01
2021-09-23T17:19:48.730Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:48.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-d69ba4c9deab59921f0ca029c4f76505418e4d35-7668411a5545b5f6-01 outer:exit 2b-d69ba4c9deab59921f0ca029c4f76505418e4d35-fa531673a4fb28f0-01
2021-09-23T17:19:48.734Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:48.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a9c03720e840fea322c9369f122e17b641157f6-406d576ac82fb789-01 outer:exit 2b-2a9c03720e840fea322c9369f122e17b641157f6-5f1b539c768b9634-01
2021-09-23T17:19:48.737Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:48.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1abfc3d9097cf9c20ba460d5ad8f81c3bc53f1c-5740b14b6402fcdf-01 outer:exit 2b-d1abfc3d9097cf9c20ba460d5ad8f81c3bc53f1c-eabebe8578b2e16c-01
2021-09-23T17:19:48.766Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (396ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.2
updated 1 package and audited 1098 packages in 6.034s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:19:56.115Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:19:56.116Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:19:56.116Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:19:56.116Z appoptics:debug using context provider: ace-context
2021-09-23T17:19:56.196Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:19:56.251Z appoptics:patching patched crypto 
2021-09-23T17:19:56.276Z appoptics:patching patched https 
2021-09-23T17:19:56.276Z appoptics:patching patched http 
2021-09-23T17:19:56.329Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:19:56.329Z appoptics:patching patched fs 
2021-09-23T17:19:56.347Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v14.17.6)
2021-09-23T17:19:56.355Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2021-09-23T17:19:56.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3bc0d29ac4e175674441eb3ec03d37883d1b805-3e2cf28d4808df87-01 outer:exit 2b-d3bc0d29ac4e175674441eb3ec03d37883d1b805-61b48cc8a8633766-01
2021-09-23T17:19:56.596Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:19:56.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-0044084598a3b327b17714d58a61ae0fcbf8f32f-5bbf46011c143aec-01 outer:exit 2b-0044084598a3b327b17714d58a61ae0fcbf8f32f-a5eb3027b9eaf240-01
2021-09-23T17:19:56.642Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:19:56.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-735bc117397352fa3461f3725d05a4c1a0aecde9-473d1d9f8297b2ee-01 outer:exit 2b-735bc117397352fa3461f3725d05a4c1a0aecde9-3642edca34fde342-01
2021-09-23T17:19:56.646Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:19:56.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c1466a22b4a515d60576be02c5e6344972d8e2d-14e8dcaa56dd4078-01 outer:exit 2b-2c1466a22b4a515d60576be02c5e6344972d8e2d-5f484f8d11f4bf35-01
2021-09-23T17:19:56.650Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:19:56.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-61b86f790ad6f5f2dc16672c00b3014dcf0ba26f-afafb9af9591022c-01 outer:exit 2b-61b86f790ad6f5f2dc16672c00b3014dcf0ba26f-ea241418a831fce3-01
2021-09-23T17:19:56.661Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:19:56.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-5db94ca1f92b083a7981846b7481f987ef258826-77f1236f6c884443-01 outer:exit 2b-5db94ca1f92b083a7981846b7481f987ef258826-e84f8841cd4f94f1-01
2021-09-23T17:19:56.665Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:19:56.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-859b94d0fb458203a85de58ad6dc9c8df4ab3dfe-07e5352317a77f5b-01 outer:exit 2b-859b94d0fb458203a85de58ad6dc9c8df4ab3dfe-d181c70c90f27e09-01
2021-09-23T17:19:56.668Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:19:56.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f9f7fa1360dce2423c53d58cd9551b72c541981-d13e26b98122d626-01 outer:exit 2b-3f9f7fa1360dce2423c53d58cd9551b72c541981-8eb1c9da8a638960-01
2021-09-23T17:19:56.671Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:19:56.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9c71ec6e81de9e3c716e214d69da098a2a9218-e98052c118db700e-01 outer:exit 2b-dd9c71ec6e81de9e3c716e214d69da098a2a9218-2f9507793f08fb2c-01
2021-09-23T17:19:56.685Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:19:56.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6bd6dd14b6489ba08e98ecca68fae11cb65834e-be8e3236fca87f24-01 outer:exit 2b-c6bd6dd14b6489ba08e98ecca68fae11cb65834e-b3ef66a859d654c0-01
2021-09-23T17:19:56.688Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:19:56.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4ca8ee6047b8f4a7fb34e79aca9e51d318ad0c9-d8b1475a6e71b19c-01 outer:exit 2b-b4ca8ee6047b8f4a7fb34e79aca9e51d318ad0c9-97d6dedce4ca8190-01
2021-09-23T17:19:56.693Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:19:56.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-02cf8f67de5b8c3045fbda44f3504e4d05eeb54d-a8beb6c38f74d61f-01 outer:exit 2b-02cf8f67de5b8c3045fbda44f3504e4d05eeb54d-5394b5bb236d5877-01
2021-09-23T17:19:56.700Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:19:56.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ff21ff3b3b03ef9fc3f870f825baad71f3ee393-55afb936655c65be-01 outer:exit 2b-4ff21ff3b3b03ef9fc3f870f825baad71f3ee393-c57fb17378db0d94-01
2021-09-23T17:19:56.721Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:19:56.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ea60aafa32200caacc71f2329cdd10daab86c48-46d0a5fa74f391c6-01 outer:exit 2b-7ea60aafa32200caacc71f2329cdd10daab86c48-ff09e8d46ffdf852-01
2021-09-23T17:19:56.797Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:19:56.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d634173aea5bac7728ebf98614a81f4fc37e9df-44f739be58474d42-01 outer:exit 2b-0d634173aea5bac7728ebf98614a81f4fc37e9df-a473e92c99b7476f-01
2021-09-23T17:19:56.800Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:19:56.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1f4dea7f75801d5c81774568f9f02b5b6991ef3-55824d8c04f11335-01 outer:exit 2b-b1f4dea7f75801d5c81774568f9f02b5b6991ef3-f994d98cbe67a1d9-01
2021-09-23T17:19:56.804Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:19:56.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-97929cf8e7340460ae61e29cdec86592ebda44ae-e1b41866515ae7b4-01 outer:exit 2b-97929cf8e7340460ae61e29cdec86592ebda44ae-a9b0295b261f131c-01
2021-09-23T17:19:56.808Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:19:56.810Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bb6f8aa4579a9d5f66f0b565d7fe52f38823c1c-6c711cc9ca2a7f59-01 outer:exit 2b-3bb6f8aa4579a9d5f66f0b565d7fe52f38823c1c-763c3e2d702a41d7-01
2021-09-23T17:19:56.810Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:19:56.813Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bf636ebbba687d9030a1656de28f10dfa3f4dbe-b45d0c9befc79b13-01 outer:exit 2b-0bf636ebbba687d9030a1656de28f10dfa3f4dbe-da7444f7991924ba-01
2021-09-23T17:19:56.813Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:19:56.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-2743a8c52e8432726103e13c454f528018c75078-960c8f299f6c0fa7-01 outer:exit 2b-2743a8c52e8432726103e13c454f528018c75078-85adf06fac2c6999-01
2021-09-23T17:19:56.816Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:19:56.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-f50d5b054f9cf39bf5ec1677a18f6743a7f45866-90f0dfa44cb195d9-01 outer:exit 2b-f50d5b054f9cf39bf5ec1677a18f6743a7f45866-2527477da4ca14aa-01
2021-09-23T17:19:56.818Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:19:56.821Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a68fe8124f7c8b89b4dc286fa1ee6cdbacee4df-74093b44ee7c6af6-01 outer:exit 2b-7a68fe8124f7c8b89b4dc286fa1ee6cdbacee4df-140a7b0e48f52b9c-01
2021-09-23T17:19:56.821Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:19:56.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-81a8c9dd5078f3a7dbe63b523c4f5962239c28c0-8ed3e3b966dfa1ad-01 outer:exit 2b-81a8c9dd5078f3a7dbe63b523c4f5962239c28c0-d3c6d9fc9bfbd603-01
2021-09-23T17:19:56.825Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:19:56.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-f937979729d986e1f97772e7096ee8c4df346ea2-586456ea5ab34642-01 outer:exit 2b-f937979729d986e1f97772e7096ee8c4df346ea2-f3ea2edbff33c5f5-01
2021-09-23T17:19:56.832Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:19:56.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6998a410f4df751ae8eb38b3885002d4a42c9f7-4e666cdfda7a66dc-01 outer:exit 2b-b6998a410f4df751ae8eb38b3885002d4a42c9f7-d884dd731d0b452e-01
2021-09-23T17:19:56.835Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:19:56.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed86227c8e5f44e52dd5458d93612d397d6a4220-e3756e4839e0c24b-01 outer:exit 2b-ed86227c8e5f44e52dd5458d93612d397d6a4220-a744d0de1a898ebe-01
2021-09-23T17:19:56.838Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:19:56.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-c685fac58f38dae03400fcebfb0fada77fb6f592-d371912d361c09b9-01 outer:exit 2b-c685fac58f38dae03400fcebfb0fada77fb6f592-196494027dbfcbc1-01
2021-09-23T17:19:56.845Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:19:56.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-6431d065bd395cbed5c352ff68b336bdd1f7a3c0-8132b9ee1c231cdf-01 outer:exit 2b-6431d065bd395cbed5c352ff68b336bdd1f7a3c0-e210d52f9261d442-01
2021-09-23T17:19:56.851Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:19:56.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-03587b35aa65a2cabe71743fdce494fc40fd4f59-3fb4047e9604042f-01 outer:exit 2b-03587b35aa65a2cabe71743fdce494fc40fd4f59-1460af0eac567034-01
2021-09-23T17:19:56.863Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:19:56.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-14f367d8555d5bc766a5940fc3554eab9c271119-4de8a4ea10086dd7-01 outer:exit 2b-14f367d8555d5bc766a5940fc3554eab9c271119-c697376979787516-01
2021-09-23T17:19:56.871Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:19:56.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ac6574f7ac7247643c017bd4de43b129058f288-d76a9696769bbb31-01 outer:exit 2b-6ac6574f7ac7247643c017bd4de43b129058f288-46a8537464983907-01
2021-09-23T17:19:56.881Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:19:56.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d508876b482c7cebe8d85b81ab2714947aa0a12-8be07284a5914d19-01 outer:exit 2b-1d508876b482c7cebe8d85b81ab2714947aa0a12-f41386a1f612b4de-01
2021-09-23T17:19:56.889Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:19:56.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-a67f8587a086ee636783584ca07694a8a5d12698-ac1e18c0c244ed9a-01 outer:exit 2b-a67f8587a086ee636783584ca07694a8a5d12698-8a638f6e8c70cb78-01
2021-09-23T17:19:56.903Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:19:56.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b695a244816765208e661e4c0c9f69b39d5d2e4-481b306b08955fd1-01 outer:exit 2b-2b695a244816765208e661e4c0c9f69b39d5d2e4-1fc7a3c3721946c5-01
2021-09-23T17:19:56.906Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:19:56.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dbfdc4b372ed85bf9ec67f42888b718aebea6cc-6ee340636c0d0efd-01 outer:exit 2b-3dbfdc4b372ed85bf9ec67f42888b718aebea6cc-64c4219584334d91-01
2021-09-23T17:19:56.909Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:19:56.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-afb9b615d5c0911abadf87d5a4f1d47bc11e723d-b5c4792c5e320162-01 outer:exit 2b-afb9b615d5c0911abadf87d5a4f1d47bc11e723d-d08f7671f7307ffc-01
2021-09-23T17:19:56.912Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:19:56.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cbc48a98c4d1ba34826c09611e0bdf7d33c227f-343e547cb9646260-01 outer:exit 2b-2cbc48a98c4d1ba34826c09611e0bdf7d33c227f-1cd9cecea1e1f404-01
2021-09-23T17:19:56.914Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:19:56.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-14ee88f915d9111a829d5bf061c5209ea3092cd5-be2b94d7c7d83aa5-01 outer:exit 2b-14ee88f915d9111a829d5bf061c5209ea3092cd5-919f335bc1b82f83-01
2021-09-23T17:19:56.917Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:19:56.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-14412d9bfb2851a1a9cf09f72846c719dc31bd86-8861babb16532e66-01 outer:exit 2b-14412d9bfb2851a1a9cf09f72846c719dc31bd86-ee3127b316d7e507-01
2021-09-23T17:19:56.928Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:19:56.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6a98ed3ddd251b9b5098e3985e38a6136d2e618-99c0dbe8d3784e7b-01 outer:exit 2b-f6a98ed3ddd251b9b5098e3985e38a6136d2e618-81b59742153697fa-01
2021-09-23T17:19:56.938Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:19:56.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e0aaa3038e5a05e988f3a2b0c4962d887474c2b-9aa4ee53cb9587dd-01 outer:exit 2b-6e0aaa3038e5a05e988f3a2b0c4962d887474c2b-a39959f542ff1244-01
2021-09-23T17:19:56.942Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:19:56.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-e81a6d332794ed8e28d6efea2b19cfa2026e7816-3d22913ea6e90e88-01 outer:exit 2b-e81a6d332794ed8e28d6efea2b19cfa2026e7816-b8b7875490d270ea-01
2021-09-23T17:19:56.945Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:19:56.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-e53df97621665f0de244261985e5a99e919f147f-f6dedfe97b864022-01 outer:exit 2b-e53df97621665f0de244261985e5a99e919f147f-5364b46580ab89da-01
2021-09-23T17:19:56.948Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:19:56.978Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f51b4cc05f97f9e36503692911263240aef4b3f-272466809f4b1233-01 outer:exit 2b-0f51b4cc05f97f9e36503692911263240aef4b3f-7fe64659802984b2-01
2021-09-23T17:19:56.978Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (427ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.3
updated 1 package and audited 1098 packages in 6.626s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:04.804Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:04.805Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:04.805Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:04.806Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:04.881Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:04.935Z appoptics:patching patched crypto 
2021-09-23T17:20:04.959Z appoptics:patching patched https 
2021-09-23T17:20:04.960Z appoptics:patching patched http 
2021-09-23T17:20:05.013Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:05.013Z appoptics:patching patched fs 
2021-09-23T17:20:05.031Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v14.17.6)
2021-09-23T17:20:05.040Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2021-09-23T17:20:05.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d338f3e37357e6b4d2d255be8bab74a036de2e1-c117d4d2f41a39d0-01 outer:exit 2b-4d338f3e37357e6b4d2d255be8bab74a036de2e1-117d752d1460b65e-01
2021-09-23T17:20:05.282Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:05.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53bff4fc492225fe7882f484fbba830e57bc427-db68a6a351e5309c-01 outer:exit 2b-c53bff4fc492225fe7882f484fbba830e57bc427-2457ccc75e0e6388-01
2021-09-23T17:20:05.344Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:05.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-83e9da9306cb4069866cbba4685a1c6c622005ef-72fe247f028e45d6-01 outer:exit 2b-83e9da9306cb4069866cbba4685a1c6c622005ef-0e5e110bbc04f352-01
2021-09-23T17:20:05.348Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:05.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c09558c97644f7678fd856d291b7a6b4664dbc3-230a4b4a7c591046-01 outer:exit 2b-9c09558c97644f7678fd856d291b7a6b4664dbc3-2e38be1326672083-01
2021-09-23T17:20:05.352Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:05.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-e04e5d917e538541a05f2d4c17b91ec37ab66d72-e43557312d68a5b0-01 outer:exit 2b-e04e5d917e538541a05f2d4c17b91ec37ab66d72-5245410f28163e0f-01
2021-09-23T17:20:05.358Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:05.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-e069e017b99193c705c018e0509d0ee996e4af06-ebd4dc52b419c51f-01 outer:exit 2b-e069e017b99193c705c018e0509d0ee996e4af06-53fcdaa9d086fea1-01
2021-09-23T17:20:05.363Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:05.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-3da13132b3a5de8e56aae96139d7de13f45ee57f-7b099c612de20f71-01 outer:exit 2b-3da13132b3a5de8e56aae96139d7de13f45ee57f-777e256751eacc16-01
2021-09-23T17:20:05.367Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:05.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-1677401943e94d0e016c5bac07cfd7f60b1c13a3-13e4c0a1bf23d168-01 outer:exit 2b-1677401943e94d0e016c5bac07cfd7f60b1c13a3-b6676fd18be93edd-01
2021-09-23T17:20:05.370Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:05.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f0615d36e5e94cc294844d497130920e8131f5e-ced6a3e509f38767-01 outer:exit 2b-8f0615d36e5e94cc294844d497130920e8131f5e-b2aed70cb45cfc1e-01
2021-09-23T17:20:05.373Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:05.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bb5a975520a11a75c3125a981a7951a21d97aa7-d4db47258448bc66-01 outer:exit 2b-6bb5a975520a11a75c3125a981a7951a21d97aa7-23aabbee1c4eb67f-01
2021-09-23T17:20:05.377Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:05.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-48181681d58c70c85324f2b8099ac227dccfcfcc-0e318294f8f2dc06-01 outer:exit 2b-48181681d58c70c85324f2b8099ac227dccfcfcc-97f98b228b9216f1-01
2021-09-23T17:20:05.382Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:05.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7034093d29230a43496642df52c6da22b62ae62-2aa104b8ce851e66-01 outer:exit 2b-a7034093d29230a43496642df52c6da22b62ae62-f1fc132bde9fd1db-01
2021-09-23T17:20:05.389Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:05.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0c6d38c7ed10c45dd2c560afe42112f39de5c2b-f64be0134ea6f23c-01 outer:exit 2b-d0c6d38c7ed10c45dd2c560afe42112f39de5c2b-7730ab4fa451091e-01
2021-09-23T17:20:05.406Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:05.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-0830d550208fac00e0100fc9c63e5880620d78bb-60e1eb2a88529c6a-01 outer:exit 2b-0830d550208fac00e0100fc9c63e5880620d78bb-ea1dc19c14d7cbe9-01
2021-09-23T17:20:05.442Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:05.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1b76a03f0fb9c143e4e9485078b8d5998154923-4c78b3700d24291f-01 outer:exit 2b-c1b76a03f0fb9c143e4e9485078b8d5998154923-d1ec2b9ac176aed3-01
2021-09-23T17:20:05.446Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:05.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0cebee9bdafa76b7f01c2b19b94dac6062fa8a4-5e5ba533ba10bf5d-01 outer:exit 2b-c0cebee9bdafa76b7f01c2b19b94dac6062fa8a4-885d0d56f9cbfe7b-01
2021-09-23T17:20:05.449Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:05.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-82168e75147935b156777300c033a7bb8960ef3c-19560a0208c97a3d-01 outer:exit 2b-82168e75147935b156777300c033a7bb8960ef3c-fcc4d59fecee6574-01
2021-09-23T17:20:05.452Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:05.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3351b72a6813dc153cca063410cb1512bb8fa29-b1b58edf09aaaf90-01 outer:exit 2b-e3351b72a6813dc153cca063410cb1512bb8fa29-e992a2e5b2815257-01
2021-09-23T17:20:05.455Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:05.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7fa5e57f702223f30998e9e28d83ade8396841f-aac4b79140fefea3-01 outer:exit 2b-d7fa5e57f702223f30998e9e28d83ade8396841f-7582f042e6c945a5-01
2021-09-23T17:20:05.457Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:05.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fdc0f6c4314669bbda6789c152b3729fb099f25-b8cb25d9bbbe2e15-01 outer:exit 2b-3fdc0f6c4314669bbda6789c152b3729fb099f25-042c20cdc81bf8e0-01
2021-09-23T17:20:05.460Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:05.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6a823fb61e944ef8c5dfe986b0bdf55319ba060-9fc18e81ba0436f2-01 outer:exit 2b-a6a823fb61e944ef8c5dfe986b0bdf55319ba060-e3e4e1096e3c1a10-01
2021-09-23T17:20:05.462Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:05.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0d79981a10678029656cc69574711bcaa6a84d3-5f79eed3b8cdd157-01 outer:exit 2b-c0d79981a10678029656cc69574711bcaa6a84d3-80c34eb5416934ba-01
2021-09-23T17:20:05.465Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:05.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-140a03baaba98b19a47b2f530ac481901cdfc3b0-4a74b602fcc0d1bb-01 outer:exit 2b-140a03baaba98b19a47b2f530ac481901cdfc3b0-47da90dd0c1ee816-01
2021-09-23T17:20:05.468Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:05.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-53844cc26e76e0b64c3640960f720431a467d7f8-933580587eb5c8bf-01 outer:exit 2b-53844cc26e76e0b64c3640960f720431a467d7f8-aaf843978be47f42-01
2021-09-23T17:20:05.472Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:05.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e86d48236e514b5aabddf341591ef0db015fdb7-3e31b1f618410377-01 outer:exit 2b-4e86d48236e514b5aabddf341591ef0db015fdb7-f7259b839ab79181-01
2021-09-23T17:20:05.474Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:05.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-164bbfda78df19a9385ba060bdadf59d9587a08b-8feef7ba8c55bc07-01 outer:exit 2b-164bbfda78df19a9385ba060bdadf59d9587a08b-064bd0989aa264fd-01
2021-09-23T17:20:05.478Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:05.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-008789adf2eb1f2a4451f60d8aa34064c4e71b19-18f3b515b9444d54-01 outer:exit 2b-008789adf2eb1f2a4451f60d8aa34064c4e71b19-c11418ad230df19f-01
2021-09-23T17:20:05.488Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:05.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea1c26fbb02457970599f41dc693125bbbc6d907-eff163383d6daa73-01 outer:exit 2b-ea1c26fbb02457970599f41dc693125bbbc6d907-0b5fc6ef73fbb13f-01
2021-09-23T17:20:05.493Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:05.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-75dfe93eaa25c49bc978dffa183ca0116cc9cbef-5dc0bbedc82977e9-01 outer:exit 2b-75dfe93eaa25c49bc978dffa183ca0116cc9cbef-7b798d2d44486bfb-01
2021-09-23T17:20:05.505Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:05.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bd9b443726edc62fe6ba3e6ed57e80541403783-4e2fc073541d63b7-01 outer:exit 2b-6bd9b443726edc62fe6ba3e6ed57e80541403783-e7a1f674e6b1df96-01
2021-09-23T17:20:05.512Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:05.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3cd38ee69cb95445a7794df037fc756973c1a81-db12d89e4afcefdc-01 outer:exit 2b-b3cd38ee69cb95445a7794df037fc756973c1a81-0bfa3d2c13e2ebcf-01
2021-09-23T17:20:05.522Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:05.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d03e0dfb1b70198f94fd0ae96b6b20c27a4e2f3-153943ad4e0ae488-01 outer:exit 2b-8d03e0dfb1b70198f94fd0ae96b6b20c27a4e2f3-9338e30bad1f5cf5-01
2021-09-23T17:20:05.528Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:05.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-42fe249bb4115484b5893ac2af21d07a1574835e-2ae18840237f8772-01 outer:exit 2b-42fe249bb4115484b5893ac2af21d07a1574835e-6cd4b9d19efe3c61-01
2021-09-23T17:20:05.543Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:05.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bec5c0a5c1f99e5b21c4ed0631086d527e48084-ba16bedbb65abc09-01 outer:exit 2b-3bec5c0a5c1f99e5b21c4ed0631086d527e48084-4015e90c7155759b-01
2021-09-23T17:20:05.547Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:05.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-52de924f3682187e4ed76f79f96853043b758a50-327496f80e23f935-01 outer:exit 2b-52de924f3682187e4ed76f79f96853043b758a50-aaaff7d5f2177d22-01
2021-09-23T17:20:05.550Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:05.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2ff0ba5ab61afc8e2bc8fa455541cd0f052f21c-b25a50762d7afb8b-01 outer:exit 2b-c2ff0ba5ab61afc8e2bc8fa455541cd0f052f21c-6661999a2480d077-01
2021-09-23T17:20:05.553Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:05.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-ece7b9d9afa0e0eaaf9d7bdb408ec9674bc17a5c-571f2f1353ee4662-01 outer:exit 2b-ece7b9d9afa0e0eaaf9d7bdb408ec9674bc17a5c-e8a5630a1530865e-01
2021-09-23T17:20:05.556Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:05.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-40596f3b29f580b8d02d7d00d615a847a76b388c-993bee5cdfeee755-01 outer:exit 2b-40596f3b29f580b8d02d7d00d615a847a76b388c-15b517737e10799d-01
2021-09-23T17:20:05.558Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:05.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b04e19afcf77abeee7de58a5c726cb729c044b8-bc99160031eb16ff-01 outer:exit 2b-8b04e19afcf77abeee7de58a5c726cb729c044b8-06b28fb97d2d5e9b-01
2021-09-23T17:20:05.569Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:05.580Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c9f07c471f3c388fbb1d177c78a21cfa53cee17-fd0a89c10b9f8648-01 outer:exit 2b-7c9f07c471f3c388fbb1d177c78a21cfa53cee17-c430e20a9b689c52-01
2021-09-23T17:20:05.580Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:05.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-a328ff19f683b0410c0ffe58f8cc57ea8313ca9f-06311d416a3c5c9b-01 outer:exit 2b-a328ff19f683b0410c0ffe58f8cc57ea8313ca9f-71c8accd20851ef1-01
2021-09-23T17:20:05.583Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:05.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7d0e713466bfd33845973c5c6d97551ab6f4304-c02ef84befc0beea-01 outer:exit 2b-e7d0e713466bfd33845973c5c6d97551ab6f4304-67d16b7ae70d723f-01
2021-09-23T17:20:05.587Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:05.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b749bc67069760eb76275ac28df9233749874fc-132ead158ecba15e-01 outer:exit 2b-5b749bc67069760eb76275ac28df9233749874fc-e3dca7476ac8584b-01
2021-09-23T17:20:05.591Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:05.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3d7df22cea28baef8feff6c96a0fe7cde196b36-92426b2f7ddda7f6-01 outer:exit 2b-d3d7df22cea28baef8feff6c96a0fe7cde196b36-401ac27db3d428d6-01
2021-09-23T17:20:05.623Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (383ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.4
updated 1 package and audited 1098 packages in 6.347s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:13.370Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:13.370Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:13.371Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:13.371Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:13.436Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:13.483Z appoptics:patching patched crypto 
2021-09-23T17:20:13.506Z appoptics:patching patched https 
2021-09-23T17:20:13.506Z appoptics:patching patched http 
2021-09-23T17:20:13.556Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:13.556Z appoptics:patching patched fs 
2021-09-23T17:20:13.574Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v14.17.6)
2021-09-23T17:20:13.581Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2021-09-23T17:20:13.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-9400565e697a1a83d1e1a44f49738982377dc1a0-4116b0893213443b-01 outer:exit 2b-9400565e697a1a83d1e1a44f49738982377dc1a0-0ab1dc6cd262256a-01
2021-09-23T17:20:13.835Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:13.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-914c472dcdd09d9ef0597381499283868c9ea5d9-7e3ed1050986a2b9-01 outer:exit 2b-914c472dcdd09d9ef0597381499283868c9ea5d9-0d0d32906d3cccf5-01
2021-09-23T17:20:13.899Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:13.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-75681bc2782551fc7c9d8e8c29361ce3fec38bb4-5c2b4fd9e2cb33f2-01 outer:exit 2b-75681bc2782551fc7c9d8e8c29361ce3fec38bb4-56e94412d100b146-01
2021-09-23T17:20:13.908Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:13.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-61001b00b2fbf720769cca87d12e7346408cecb5-7a4b8395e80833bd-01 outer:exit 2b-61001b00b2fbf720769cca87d12e7346408cecb5-3f627bf275e59f38-01
2021-09-23T17:20:13.912Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:13.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-16e3ad880c8cd8c3def9dab38967cd4def803e70-ca46568fd4cee0dc-01 outer:exit 2b-16e3ad880c8cd8c3def9dab38967cd4def803e70-bb4caaab68f758c8-01
2021-09-23T17:20:13.922Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:13.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-d57d86de953f411b4e9e06a2e5e6d899a4a81d48-ec1ff5bce5d417d3-01 outer:exit 2b-d57d86de953f411b4e9e06a2e5e6d899a4a81d48-39ad87a4254e498a-01
2021-09-23T17:20:13.926Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:13.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d103fb07267ad949f6f88c4f2adf5cf5ea17ae7-b9db0835bf12357e-01 outer:exit 2b-2d103fb07267ad949f6f88c4f2adf5cf5ea17ae7-42bce34ecfbc2928-01
2021-09-23T17:20:13.930Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:13.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-52c5e70b1293e6bb2b2a7a5693f9a3a1888515e5-8d96fb81be2d55fe-01 outer:exit 2b-52c5e70b1293e6bb2b2a7a5693f9a3a1888515e5-79f8c83518f4f974-01
2021-09-23T17:20:13.934Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:13.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6c4be2bcc93041fad8e19fd74bc170a6797a4f1-8d5367a806d296e2-01 outer:exit 2b-e6c4be2bcc93041fad8e19fd74bc170a6797a4f1-3b16f19a47e636ad-01
2021-09-23T17:20:13.937Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:13.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb1295e6faa465ca223de8c2ff3ec417d8c32933-11aa35e01c3e11a4-01 outer:exit 2b-fb1295e6faa465ca223de8c2ff3ec417d8c32933-074e2d84f7f62ff9-01
2021-09-23T17:20:13.941Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:13.950Z appoptics:debug span.exit - no last event outer outer:entry 2b-2eb0aca80f0a39e99c00259074eb30b29da9f273-f80c7dc390e89d32-01 outer:exit 2b-2eb0aca80f0a39e99c00259074eb30b29da9f273-8693e69768866fd7-01
2021-09-23T17:20:13.950Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:13.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b00030d2cd778aa5785a860b9f7c84f0f35307c-3163efd8f5d826eb-01 outer:exit 2b-1b00030d2cd778aa5785a860b9f7c84f0f35307c-8d7a7f6d63277f1c-01
2021-09-23T17:20:13.957Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:13.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab84c6484b0273d3a085b37af5343cf5432c5026-bebe9f27a068b6df-01 outer:exit 2b-ab84c6484b0273d3a085b37af5343cf5432c5026-28fff11ecee158bd-01
2021-09-23T17:20:13.976Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:14.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5fa4a35d37645659a0253e3af0e7847be913d77-b46c3e31de199ff9-01 outer:exit 2b-b5fa4a35d37645659a0253e3af0e7847be913d77-84c44887ddab6ce3-01
2021-09-23T17:20:14.037Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:14.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc32c79f2a563aaa374db6c7bc4372cb5522b1d9-8fffe0f499abdbe1-01 outer:exit 2b-cc32c79f2a563aaa374db6c7bc4372cb5522b1d9-b7c6f77e99786c60-01
2021-09-23T17:20:14.041Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:14.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-29a79b76c65452597d3dc71eb03976f6f1d4550e-d8d8c7624761a30b-01 outer:exit 2b-29a79b76c65452597d3dc71eb03976f6f1d4550e-e200372aa625bd83-01
2021-09-23T17:20:14.044Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:14.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a2d5c8d841fa3dac10862b824df28131acba056-b3823bca92c59a74-01 outer:exit 2b-8a2d5c8d841fa3dac10862b824df28131acba056-3dbdd3011c30a977-01
2021-09-23T17:20:14.047Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:14.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-1134d261a4798d9007e17c3cc87973be10c68a2c-2931d819b4a23c58-01 outer:exit 2b-1134d261a4798d9007e17c3cc87973be10c68a2c-227b15bd0dc12361-01
2021-09-23T17:20:14.052Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:14.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-da021bdda4d8f835646ee4aecd2d888ec4b532bc-cbe062d48082d940-01 outer:exit 2b-da021bdda4d8f835646ee4aecd2d888ec4b532bc-d7595af6d0d96eb4-01
2021-09-23T17:20:14.055Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:14.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cb6652165b287c644b3f9f8b116a5e701e22c07-92d920d184d55075-01 outer:exit 2b-6cb6652165b287c644b3f9f8b116a5e701e22c07-7e71735a39132e27-01
2021-09-23T17:20:14.058Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:14.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a1422dff92f87b9947c511e1e70c768b61dcd96-fbd20848c26b6bad-01 outer:exit 2b-0a1422dff92f87b9947c511e1e70c768b61dcd96-f760a94f7e1eeac0-01
2021-09-23T17:20:14.061Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:14.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4f94e9b01c1a43ce40b09ae7925279611d41c7b-65bc02b1947dd808-01 outer:exit 2b-e4f94e9b01c1a43ce40b09ae7925279611d41c7b-0b5d20433a830693-01
2021-09-23T17:20:14.064Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:14.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-51ff361dfa89ca47c8a4cd71f91908126a8bb3d6-fe36af997373d3a1-01 outer:exit 2b-51ff361dfa89ca47c8a4cd71f91908126a8bb3d6-374ab2ec57cbc83a-01
2021-09-23T17:20:14.067Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:14.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-995e95ab1fe1af74edb72e2cdb95ab2aa5370728-314c53f3ffff0f88-01 outer:exit 2b-995e95ab1fe1af74edb72e2cdb95ab2aa5370728-fa6961df1ce547cd-01
2021-09-23T17:20:14.071Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:14.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-09ac1fc1785ca5f1dbefc5f1e72186428b8f67c2-fffd7fcc3592927e-01 outer:exit 2b-09ac1fc1785ca5f1dbefc5f1e72186428b8f67c2-2a533dbd4b0fd246-01
2021-09-23T17:20:14.075Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:14.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e44a07ebe5d2732586dffa7bf0e6f38e980e0b7-77e3827fe32e7e2c-01 outer:exit 2b-9e44a07ebe5d2732586dffa7bf0e6f38e980e0b7-2945e8efad891c4e-01
2021-09-23T17:20:14.078Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:14.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-b873b3d2d348343dced12878d441f89972b93165-f109e871e5d4c84a-01 outer:exit 2b-b873b3d2d348343dced12878d441f89972b93165-d7ebf3e47e2b4a32-01
2021-09-23T17:20:14.084Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:14.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c37de0347c5bf5bfa6a07d5e07b503287824de-e296bb930645eb22-01 outer:exit 2b-36c37de0347c5bf5bfa6a07d5e07b503287824de-7b7332fd6d359c88-01
2021-09-23T17:20:14.089Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:14.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-4110aee04d6104cceb821bb6870a85e426f7436b-aa478aa2d78898a9-01 outer:exit 2b-4110aee04d6104cceb821bb6870a85e426f7436b-836595dfb45f022e-01
2021-09-23T17:20:14.099Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:14.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0cac20f941a9e8a0102847a6b0f8ae72289e4c1-da0709be621aae20-01 outer:exit 2b-b0cac20f941a9e8a0102847a6b0f8ae72289e4c1-2d64b77d4e4ae119-01
2021-09-23T17:20:14.112Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:14.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-1686b5b0d30811eb1e3b3550f3b54f9aa0e78605-946ae2657a1f9548-01 outer:exit 2b-1686b5b0d30811eb1e3b3550f3b54f9aa0e78605-f9c266c1c0aa3be3-01
2021-09-23T17:20:14.115Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:14.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbe3d4e1f94f8e8fdb67ad32ed98cdd08af345d1-a233b50988c0bbd9-01 outer:exit 2b-cbe3d4e1f94f8e8fdb67ad32ed98cdd08af345d1-7c350859184f98e7-01
2021-09-23T17:20:14.158Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:14.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf3d5efc56c065d5f93b149eb74d517405ceecab-ce4b52755512e6ad-01 outer:exit 2b-cf3d5efc56c065d5f93b149eb74d517405ceecab-a905572e00fe16f5-01
2021-09-23T17:20:14.166Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:14.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-b65603dc3dddeeb1668d59a83d40b92b22c7b838-da0d54ff2bb322cb-01 outer:exit 2b-b65603dc3dddeeb1668d59a83d40b92b22c7b838-683fddb279866b0f-01
2021-09-23T17:20:14.169Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:14.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a43074aa10624973ec9d6483f0d3061386a6ba8-a79cbbf9757428b9-01 outer:exit 2b-5a43074aa10624973ec9d6483f0d3061386a6ba8-6e3cd502223b000f-01
2021-09-23T17:20:14.175Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:14.177Z appoptics:debug span.exit - no last event outer outer:entry 2b-967b6e0885bd895d7015fa50842e59032a6e6530-c4a59fbdc0116c6a-01 outer:exit 2b-967b6e0885bd895d7015fa50842e59032a6e6530-5a8332e5bf2fc21a-01
2021-09-23T17:20:14.177Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:14.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-f85f1f0f5c3048de6454f278d4f254c206ad7af2-465615fff341b75a-01 outer:exit 2b-f85f1f0f5c3048de6454f278d4f254c206ad7af2-7aa952d8096af017-01
2021-09-23T17:20:14.180Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:14.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-80b4123b3d4783001d8d38bb36bc79883697a41e-47d7917b9bba49a7-01 outer:exit 2b-80b4123b3d4783001d8d38bb36bc79883697a41e-c3810c570f130bc6-01
2021-09-23T17:20:14.184Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:14.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-632e15593f0e3b8fce62a04df160f2482638c9bb-40afb66f3ddf34b1-01 outer:exit 2b-632e15593f0e3b8fce62a04df160f2482638c9bb-3aa0af154a64632a-01
2021-09-23T17:20:14.198Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:14.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-b562874401f5071329cbcbe38a547574d4c58d8c-8ceaf2dd7c14fcb9-01 outer:exit 2b-b562874401f5071329cbcbe38a547574d4c58d8c-f409b9317e43c6aa-01
2021-09-23T17:20:14.210Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:14.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4fd058462e609f89cf6819975875399be625b8a-7da909bd57756c7d-01 outer:exit 2b-e4fd058462e609f89cf6819975875399be625b8a-f6209c582e60ccab-01
2021-09-23T17:20:14.214Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:14.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-412b6ca9ca6533093e7fe50d8e30155b122f305e-e1f8b6361391d93a-01 outer:exit 2b-412b6ca9ca6533093e7fe50d8e30155b122f305e-61cb642409a546a4-01
2021-09-23T17:20:14.219Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:14.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-5561644680110914c5753b95d885c9079769d3f7-ec96a02339b4a561-01 outer:exit 2b-5561644680110914c5753b95d885c9079769d3f7-85b6b3b48892b42c-01
2021-09-23T17:20:14.222Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:14.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-752427eeb24d2dc036cbc2db5a512a48c86d3daf-f9dbab73a70df447-01 outer:exit 2b-752427eeb24d2dc036cbc2db5a512a48c86d3daf-ea2b93f5756bf935-01
2021-09-23T17:20:14.258Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (474ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.5
updated 1 package and audited 1098 packages in 5.816s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:21.349Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:21.350Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:21.350Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:21.351Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:21.443Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:21.521Z appoptics:patching patched crypto 
2021-09-23T17:20:21.555Z appoptics:patching patched https 
2021-09-23T17:20:21.555Z appoptics:patching patched http 
2021-09-23T17:20:21.611Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:21.611Z appoptics:patching patched fs 
2021-09-23T17:20:21.629Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v14.17.6)
2021-09-23T17:20:21.638Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2021-09-23T17:20:21.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-83b78a62de012429573722db7e1576e368c196c8-884b69c8dd328a19-01 outer:exit 2b-83b78a62de012429573722db7e1576e368c196c8-b3e80f4316427df1-01
2021-09-23T17:20:21.983Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:22.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-80c724f38b89820eac994cb6ff83571e9ceabc7e-0bdbacbeb03ac4f0-01 outer:exit 2b-80c724f38b89820eac994cb6ff83571e9ceabc7e-fc83761d36582954-01
2021-09-23T17:20:22.040Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:22.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-17dde3b3397afe8120de0b68a4579d8cea3d1c20-fded7fc1f2993d37-01 outer:exit 2b-17dde3b3397afe8120de0b68a4579d8cea3d1c20-ee9cd0eea4f5715b-01
2021-09-23T17:20:22.046Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:22.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-1db14204e1533ebf0c11b1ee1f5416d09fb23fcf-866449de25424e48-01 outer:exit 2b-1db14204e1533ebf0c11b1ee1f5416d09fb23fcf-dd680d926424bd47-01
2021-09-23T17:20:22.050Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:22.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-8402ce9c880b398965e68dbf4b93407b536a8a17-e1d97e17dd04e357-01 outer:exit 2b-8402ce9c880b398965e68dbf4b93407b536a8a17-acead267f36a64ce-01
2021-09-23T17:20:22.055Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:22.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-506a917236df905145b6b570f27ebdd2e148f1d0-9c4adfeb9edf07b3-01 outer:exit 2b-506a917236df905145b6b570f27ebdd2e148f1d0-b4c0d673c126d4e9-01
2021-09-23T17:20:22.059Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:22.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e3ffa1f3c9aed7d779acd0f148c714d8bc94d86-0f871841eb736695-01 outer:exit 2b-4e3ffa1f3c9aed7d779acd0f148c714d8bc94d86-932469b908be2da2-01
2021-09-23T17:20:22.062Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:22.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-67c1a95fe4b0cf7dff3e193a792284ec5bb9d868-003225e84c9bf278-01 outer:exit 2b-67c1a95fe4b0cf7dff3e193a792284ec5bb9d868-45e81acb8f575270-01
2021-09-23T17:20:22.066Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:22.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-00d6ba9281502aeb367e1bfbde062f90bc2c7f3b-9fb406195b9843ce-01 outer:exit 2b-00d6ba9281502aeb367e1bfbde062f90bc2c7f3b-4a00036997428d08-01
2021-09-23T17:20:22.068Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:22.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e1423159faf1e101fa4134e0a03aa2dd475360a-b878eb1d7416378a-01 outer:exit 2b-2e1423159faf1e101fa4134e0a03aa2dd475360a-690dca966e0114bf-01
2021-09-23T17:20:22.075Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:22.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eb362d702cf06c59ffe63d17706a6f4191405c2-3bcfdd3f46a994f2-01 outer:exit 2b-3eb362d702cf06c59ffe63d17706a6f4191405c2-b7cb85b8128734ec-01
2021-09-23T17:20:22.082Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:22.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-036d17944cd259e8a22da4fdc35a01ad3c0c0489-3e5d99cb817455c5-01 outer:exit 2b-036d17944cd259e8a22da4fdc35a01ad3c0c0489-e3d66e8d96e1fd13-01
2021-09-23T17:20:22.090Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:22.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-093697b193a5f63f9a121ef24adfc9091c22d7be-cdbee51f3f074230-01 outer:exit 2b-093697b193a5f63f9a121ef24adfc9091c22d7be-534b307614f4e416-01
2021-09-23T17:20:22.109Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:22.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee064b27fb6cfc4bc7948e8b31b8d9d0e13b458a-cf49c800f07bd364-01 outer:exit 2b-ee064b27fb6cfc4bc7948e8b31b8d9d0e13b458a-12b075f2e002d557-01
2021-09-23T17:20:22.144Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:22.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa06c22dd7a78dbfb95e0c8476d2ec1eeba19c36-c5830a61fada7f57-01 outer:exit 2b-aa06c22dd7a78dbfb95e0c8476d2ec1eeba19c36-f35c137ccd339247-01
2021-09-23T17:20:22.147Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:22.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbe0a3f8f427c2ae7c6444e0d94a0ecfe7bc1ed8-41ebca4bbe705846-01 outer:exit 2b-dbe0a3f8f427c2ae7c6444e0d94a0ecfe7bc1ed8-5df916adeed4e023-01
2021-09-23T17:20:22.151Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:22.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-027fe692d70b39403f14bd3f4d2d4beaa4f91191-7c675f591f744064-01 outer:exit 2b-027fe692d70b39403f14bd3f4d2d4beaa4f91191-b21623dda367bfc0-01
2021-09-23T17:20:22.154Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:22.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-a25a0498c4c9a128f0b59ae21865634c10558f23-f7488320011a6046-01 outer:exit 2b-a25a0498c4c9a128f0b59ae21865634c10558f23-b92a075f5188a8a9-01
2021-09-23T17:20:22.158Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:22.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-9309e2d6b50e939e3448370ea544c702ffd5954b-a59fe333b4a0fa47-01 outer:exit 2b-9309e2d6b50e939e3448370ea544c702ffd5954b-0cc433722622e53b-01
2021-09-23T17:20:22.162Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:22.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c2c2dd2fcaf4f8a959d81ebd2508d57df517f6d-d09d0241570e3e99-01 outer:exit 2b-4c2c2dd2fcaf4f8a959d81ebd2508d57df517f6d-118da0b7f5465242-01
2021-09-23T17:20:22.166Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:22.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4f75faaf2c2dbfa742e7750c782bd9da10a1f8b-5a507e6c1969db1f-01 outer:exit 2b-b4f75faaf2c2dbfa742e7750c782bd9da10a1f8b-231da08a19702437-01
2021-09-23T17:20:22.168Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:22.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-533cb61f73505a9e47313a639f73297e293de442-979fe7771378302f-01 outer:exit 2b-533cb61f73505a9e47313a639f73297e293de442-eb992ba43583739e-01
2021-09-23T17:20:22.171Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:22.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-3933ba68e89e5ad6643e8fd857157ed5fed5f96d-56ea43f51670cf5e-01 outer:exit 2b-3933ba68e89e5ad6643e8fd857157ed5fed5f96d-4cba2be9251a5519-01
2021-09-23T17:20:22.175Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:22.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-18d2794f654d98140b00725318213c0a3c9bbd58-d2dd4a31a905f80d-01 outer:exit 2b-18d2794f654d98140b00725318213c0a3c9bbd58-809c6a815f1f6df2-01
2021-09-23T17:20:22.180Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:22.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-160c3b6ba78e1451c1d5d733c797d4f8735ba6fa-4667fa49de6aeee2-01 outer:exit 2b-160c3b6ba78e1451c1d5d733c797d4f8735ba6fa-ee041a57f19baf75-01
2021-09-23T17:20:22.183Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:22.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca788d0491d3bfb6eb15c2e4a9311473cdb829d8-b5f664bd328027dc-01 outer:exit 2b-ca788d0491d3bfb6eb15c2e4a9311473cdb829d8-86764dec055c5b63-01
2021-09-23T17:20:22.186Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:22.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f3d866c3ee1157d4b5fb473f41d3d4f8b647780-1a47d50b5dc0ad18-01 outer:exit 2b-0f3d866c3ee1157d4b5fb473f41d3d4f8b647780-df00a99f5d879d46-01
2021-09-23T17:20:22.193Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:22.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-02cbe417cc0fda20949ab24a2c7477555532012e-0f1f20f55d2a689d-01 outer:exit 2b-02cbe417cc0fda20949ab24a2c7477555532012e-a0aac53434fac122-01
2021-09-23T17:20:22.198Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:22.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba956a0874387133f95d5ca4b0efafb38dc2c7ab-bd6cab6292525600-01 outer:exit 2b-ba956a0874387133f95d5ca4b0efafb38dc2c7ab-c1a2c18592633f0a-01
2021-09-23T17:20:22.213Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:22.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfe77792d1a6b7ebe359deb1902712fdcf04d870-a6781817bce368a9-01 outer:exit 2b-dfe77792d1a6b7ebe359deb1902712fdcf04d870-d78dc550de88e56b-01
2021-09-23T17:20:22.223Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:22.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4aa98d801334a19e33ab730984c433535e464d7-d72d81ada636a197-01 outer:exit 2b-c4aa98d801334a19e33ab730984c433535e464d7-dfb0a5a7a288ee74-01
2021-09-23T17:20:22.226Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:22.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-a64fb2850f992ae967bbca8933cfa4eace718749-889bde17a5f2dc31-01 outer:exit 2b-a64fb2850f992ae967bbca8933cfa4eace718749-e9e548dc5b8c2b3e-01
2021-09-23T17:20:22.237Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:22.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1ed066ff1478cac3d35a1a7700c865b982d7bd1-a6e2f594dfe3f61a-01 outer:exit 2b-e1ed066ff1478cac3d35a1a7700c865b982d7bd1-b653b3eba06fc803-01
2021-09-23T17:20:22.255Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:22.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-b75ed4a94cbd0e37be879133b790bb4804126133-f93194e80b769ffd-01 outer:exit 2b-b75ed4a94cbd0e37be879133b790bb4804126133-a44842d22b348402-01
2021-09-23T17:20:22.258Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:22.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d4cc1ea5679b6541bef0ed5619aa6e99c24de22-b906f0fd69b60dcd-01 outer:exit 2b-7d4cc1ea5679b6541bef0ed5619aa6e99c24de22-15f84c11852a62d0-01
2021-09-23T17:20:22.260Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:22.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-a194c1647fda960e192feab87c65bbe345db54b9-abb65df65d5bbc32-01 outer:exit 2b-a194c1647fda960e192feab87c65bbe345db54b9-c0ae5201b4e403aa-01
2021-09-23T17:20:22.263Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:22.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf2ea375b754b5bd69e00660f67fe09c4c138315-69522c414dae0c2b-01 outer:exit 2b-cf2ea375b754b5bd69e00660f67fe09c4c138315-cd94a72ddd203536-01
2021-09-23T17:20:22.266Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:22.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-a07e4c5e5f46be22012100e330d7011db0b70522-8441c0eeee181f7a-01 outer:exit 2b-a07e4c5e5f46be22012100e330d7011db0b70522-397de0f0c0e19005-01
2021-09-23T17:20:22.268Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:22.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-395030f1e758110435ea482e52438851b6f415dd-5eabfbec3f6160ae-01 outer:exit 2b-395030f1e758110435ea482e52438851b6f415dd-b24210cf3d3ca7f9-01
2021-09-23T17:20:22.287Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:22.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae9f89f70c2230a6d3398db1e50b6fadb266505c-e7b873fe35bd9142-01 outer:exit 2b-ae9f89f70c2230a6d3398db1e50b6fadb266505c-f47d936ef1199dde-01
2021-09-23T17:20:22.297Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:22.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ea5280effc8960f8e0bce0dec6905458abbaa07-684f3cd10d1361c5-01 outer:exit 2b-8ea5280effc8960f8e0bce0dec6905458abbaa07-59476cea1f094f55-01
2021-09-23T17:20:22.302Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:22.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-a041505ffe46d142a807c7997d15ff019df231df-e701edc75b5c7beb-01 outer:exit 2b-a041505ffe46d142a807c7997d15ff019df231df-08d05d09ab0645eb-01
2021-09-23T17:20:22.306Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:22.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-29d7d4835a07828577dd92546cda881baa5fa606-04560459f23721da-01 outer:exit 2b-29d7d4835a07828577dd92546cda881baa5fa606-e4714c6505e598b1-01
2021-09-23T17:20:22.310Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:22.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6c03b44258ff9dae4f4228de0d9644e649a85ce-791870058ee6a085-01 outer:exit 2b-d6c03b44258ff9dae4f4228de0d9644e649a85ce-914db9a5d9fbea09-01
2021-09-23T17:20:22.343Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (411ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.6
updated 1 package and audited 1098 packages in 6.645s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:30.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:30.241Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:30.241Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:30.242Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:30.320Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:30.376Z appoptics:patching patched crypto 
2021-09-23T17:20:30.402Z appoptics:patching patched https 
2021-09-23T17:20:30.402Z appoptics:patching patched http 
2021-09-23T17:20:30.452Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:30.453Z appoptics:patching patched fs 
2021-09-23T17:20:30.469Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v14.17.6)
2021-09-23T17:20:30.477Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2021-09-23T17:20:30.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fd91a8ac5af3a0f90fa83a09e9dc93530937b1e-e043623e1a9cf198-01 outer:exit 2b-2fd91a8ac5af3a0f90fa83a09e9dc93530937b1e-9a6161a10fc258b4-01
2021-09-23T17:20:30.769Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:30.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9caddf89c3c93dbfab48e938e826937e21b9428-0d7ec38f71f296f0-01 outer:exit 2b-d9caddf89c3c93dbfab48e938e826937e21b9428-84edee81c8bbac42-01
2021-09-23T17:20:30.846Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:30.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a5c4aadfbf52c2c5e7a11f31e46dcbbe3b27265-8674567257090ff6-01 outer:exit 2b-9a5c4aadfbf52c2c5e7a11f31e46dcbbe3b27265-64da372d5aa18117-01
2021-09-23T17:20:30.850Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:30.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-b073bb7db74301dfb6e273d52a6475ddca4ffaa7-dbe8db5c04e4cabf-01 outer:exit 2b-b073bb7db74301dfb6e273d52a6475ddca4ffaa7-48d3a7c633ffcca2-01
2021-09-23T17:20:30.854Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:30.859Z appoptics:debug span.exit - no last event outer outer:entry 2b-2eabbf6d4eb8e9f5735631c606581adb9dd266d0-f0e99049c143bc87-01 outer:exit 2b-2eabbf6d4eb8e9f5735631c606581adb9dd266d0-9b0a049c93da1ee4-01
2021-09-23T17:20:30.859Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:30.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-f10aff4ad81a2a0f33128807f195e417d07e755e-3a8aff90063ffdbc-01 outer:exit 2b-f10aff4ad81a2a0f33128807f195e417d07e755e-658b4065ff3674bd-01
2021-09-23T17:20:30.864Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:30.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-33148f8e361cc1128f5ed59132b11ef1b959b241-bb06e3bb9937373e-01 outer:exit 2b-33148f8e361cc1128f5ed59132b11ef1b959b241-64de9b3752e0b8c0-01
2021-09-23T17:20:30.867Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:30.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-00d93700703c850eb655149dc0e2a25e4f83aafc-79a0db3217f0a68f-01 outer:exit 2b-00d93700703c850eb655149dc0e2a25e4f83aafc-f820e0639f19c029-01
2021-09-23T17:20:30.871Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:30.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-74428efa216bca33deee98c6240aff11c05453f0-df59ea28b2914aa5-01 outer:exit 2b-74428efa216bca33deee98c6240aff11c05453f0-9728c736672bac65-01
2021-09-23T17:20:30.873Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:30.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d07707b33115e6bc0171cb96c8980d45dfdd774-9c83d28def9a9f64-01 outer:exit 2b-1d07707b33115e6bc0171cb96c8980d45dfdd774-d9c981866e15eb9b-01
2021-09-23T17:20:30.876Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:30.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-5575942fa025c605c33e0660cbaca95577e10b18-24aa24932c1af407-01 outer:exit 2b-5575942fa025c605c33e0660cbaca95577e10b18-d1b9f01caa8bf100-01
2021-09-23T17:20:30.882Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:30.888Z appoptics:debug span.exit - no last event outer outer:entry 2b-ede71ec7300be6424236313ee4a59d366bf4552a-67f5cb1ee5cc784c-01 outer:exit 2b-ede71ec7300be6424236313ee4a59d366bf4552a-719600300922e93a-01
2021-09-23T17:20:30.888Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:30.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-130c0669fdd70585d2f2d6c0955e5e33094308f4-7c53f1056944bd92-01 outer:exit 2b-130c0669fdd70585d2f2d6c0955e5e33094308f4-4e673b67008c430b-01
2021-09-23T17:20:30.903Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:30.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-7410f05de4a2662f517056d865ec0ca312b74222-8c4e7f9825180ace-01 outer:exit 2b-7410f05de4a2662f517056d865ec0ca312b74222-16104163348d45b6-01
2021-09-23T17:20:30.946Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:30.949Z appoptics:debug span.exit - no last event outer outer:entry 2b-dde293e72e03a78aed0cff02381691309fad7129-108ed9bada0bf30e-01 outer:exit 2b-dde293e72e03a78aed0cff02381691309fad7129-7283b3956bf2360e-01
2021-09-23T17:20:30.949Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:30.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-f65b00fd1025eb72e68921f9220976c4bb34b2b9-cef34a33c2ef5598-01 outer:exit 2b-f65b00fd1025eb72e68921f9220976c4bb34b2b9-968dcd976334519d-01
2021-09-23T17:20:30.952Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:30.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-69aab5713a37abd524ada7d41504f27f809d989d-a77469fdfb383113-01 outer:exit 2b-69aab5713a37abd524ada7d41504f27f809d989d-48d270720e23f601-01
2021-09-23T17:20:30.956Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:30.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-79fbf449eb6aa197ec715a95a5254c9a4cea9822-ade1858c2dc04747-01 outer:exit 2b-79fbf449eb6aa197ec715a95a5254c9a4cea9822-1325af69e4577212-01
2021-09-23T17:20:30.958Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:30.961Z appoptics:debug span.exit - no last event outer outer:entry 2b-138cba04230982106fe58fd67f037afd65990a6e-0aaa1430fa7ce895-01 outer:exit 2b-138cba04230982106fe58fd67f037afd65990a6e-ab93cfc3b2e5f34f-01
2021-09-23T17:20:30.961Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:30.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-983ab804caea574d9840536789f058870c849902-c6b3585181fd6881-01 outer:exit 2b-983ab804caea574d9840536789f058870c849902-e6cd103cbddfafc3-01
2021-09-23T17:20:30.963Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:30.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-4448c56936c938a718321c407465de35c47e1e97-a92e4fd905ac8afb-01 outer:exit 2b-4448c56936c938a718321c407465de35c47e1e97-70100f93b66934a1-01
2021-09-23T17:20:30.966Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:30.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-a83eae460fdd575e5d273fdbee074caec81a322d-d0af9f76a7b18943-01 outer:exit 2b-a83eae460fdd575e5d273fdbee074caec81a322d-491135464f121475-01
2021-09-23T17:20:30.969Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:30.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c97bcc237cb3cdcfeed061f0771fcf34610230b-a31148374ac60ef8-01 outer:exit 2b-5c97bcc237cb3cdcfeed061f0771fcf34610230b-93a418ca4e655a46-01
2021-09-23T17:20:30.973Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:30.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0add73f05b1e9d6ebf98c40dd8f87be99ead6f-0d8114670e3bc516-01 outer:exit 2b-0e0add73f05b1e9d6ebf98c40dd8f87be99ead6f-f80831142f848b89-01
2021-09-23T17:20:30.976Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:30.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-750738a3972766931ba0f01c3c989f74a1958970-c4bbea5047e17f86-01 outer:exit 2b-750738a3972766931ba0f01c3c989f74a1958970-3d196270a99db009-01
2021-09-23T17:20:30.979Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:30.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-96f975cd8ce374d9ad5c03ca6333dba9b597517b-74551daa1a59ef76-01 outer:exit 2b-96f975cd8ce374d9ad5c03ca6333dba9b597517b-dbf5edd71ed9f486-01
2021-09-23T17:20:30.982Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:30.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-79a3a58922027b8de9ee0a44816b8728012497a5-bdbcbd1d60143ff9-01 outer:exit 2b-79a3a58922027b8de9ee0a44816b8728012497a5-c9cc0b8451e25d22-01
2021-09-23T17:20:30.989Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:30.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f27920977addb09d4778024d027de3c0525aa62-afe2fc02c46b67c2-01 outer:exit 2b-6f27920977addb09d4778024d027de3c0525aa62-31a207c830e07fcf-01
2021-09-23T17:20:30.994Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:31.008Z appoptics:debug span.exit - no last event outer outer:entry 2b-9292e7e64ae2161923799a7f8e3326ebc3f0374f-995398558e0f9e5d-01 outer:exit 2b-9292e7e64ae2161923799a7f8e3326ebc3f0374f-fba45b95851c1428-01
2021-09-23T17:20:31.008Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:31.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-161f35dcbafc91898bb5b04823e004e6ea842b67-f74492903706fa8a-01 outer:exit 2b-161f35dcbafc91898bb5b04823e004e6ea842b67-629effd78dab9924-01
2021-09-23T17:20:31.016Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:31.025Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ee7a312daa321d4c8127052a18b06bbd3922df-6c68ec937ef2e250-01 outer:exit 2b-75ee7a312daa321d4c8127052a18b06bbd3922df-6483d577b2c17079-01
2021-09-23T17:20:31.025Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:31.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-175818b31620edbd688c29fe822707a1c8595697-510f7fd16e686e0b-01 outer:exit 2b-175818b31620edbd688c29fe822707a1c8595697-7963b69926b6d497-01
2021-09-23T17:20:31.032Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:31.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-e97edc9cfb3b3c2fecdad65f94f9bdab19b79dd2-e3656da378f9c6c7-01 outer:exit 2b-e97edc9cfb3b3c2fecdad65f94f9bdab19b79dd2-4161fdba566703c5-01
2021-09-23T17:20:31.046Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:31.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-1753036c91602e511bc3b8e6fd5c28952fa960e9-d8a2716f446e5672-01 outer:exit 2b-1753036c91602e511bc3b8e6fd5c28952fa960e9-f22a5ca4459d5a98-01
2021-09-23T17:20:31.049Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:31.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b78099eec2e5cb5afe2ef166f03fcf3b68a0941-90845fc20d797e12-01 outer:exit 2b-5b78099eec2e5cb5afe2ef166f03fcf3b68a0941-f074989e5a7ecf98-01
2021-09-23T17:20:31.052Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:31.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-25711a0d260074b2403419eeaf31ca2e02738748-c5423ae1ea3199bf-01 outer:exit 2b-25711a0d260074b2403419eeaf31ca2e02738748-88705baaad54d598-01
2021-09-23T17:20:31.054Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:31.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4ee5c09e4b2bc2df3485a88dcb795c5a2da0960-eec147b5954b911f-01 outer:exit 2b-b4ee5c09e4b2bc2df3485a88dcb795c5a2da0960-bcbe801e7740f8f1-01
2021-09-23T17:20:31.057Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:31.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5b86cdd0de799b29c162a45c370e36832e6077b-bd4fb04f791a0c4d-01 outer:exit 2b-a5b86cdd0de799b29c162a45c370e36832e6077b-1bf2dbbcdd267799-01
2021-09-23T17:20:31.063Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:31.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-f66d243b983c4f6727d95227ad944efb36b35566-3a2da6c3ec765e2c-01 outer:exit 2b-f66d243b983c4f6727d95227ad944efb36b35566-df26d910dde053ba-01
2021-09-23T17:20:31.074Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:31.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-cccaabc897e7ae8c6c857fb8d6db40947db8670f-2260630d5442cddd-01 outer:exit 2b-cccaabc897e7ae8c6c857fb8d6db40947db8670f-14b88b84e0c013f0-01
2021-09-23T17:20:31.084Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:31.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac0c964d840aafe791bec946d455d027f61eb938-ef718c99692ffc91-01 outer:exit 2b-ac0c964d840aafe791bec946d455d027f61eb938-76e82407575cf9c4-01
2021-09-23T17:20:31.088Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:31.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-b07c3e6de445873830a6a7ca5f2ac244942b5090-904479afc9171839-01 outer:exit 2b-b07c3e6de445873830a6a7ca5f2ac244942b5090-a82ada157bd857f1-01
2021-09-23T17:20:31.091Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:31.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-104b10ad83d4a92ddc72e0cfb9f948647ae8ac51-07fcc6fab2228d72-01 outer:exit 2b-104b10ad83d4a92ddc72e0cfb9f948647ae8ac51-264a7c649dc43ba1-01
2021-09-23T17:20:31.095Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:31.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd297796122720a55d1676d4893aadb9a7ae9089-84e73578a1a26b7f-01 outer:exit 2b-dd297796122720a55d1676d4893aadb9a7ae9089-f03251cdd880c22b-01
2021-09-23T17:20:31.126Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (399ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.7
updated 1 package and audited 1098 packages in 6.478s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:39.156Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:39.157Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:39.157Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:39.158Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:39.224Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:39.272Z appoptics:patching patched crypto 
2021-09-23T17:20:39.296Z appoptics:patching patched https 
2021-09-23T17:20:39.296Z appoptics:patching patched http 
2021-09-23T17:20:39.346Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:39.346Z appoptics:patching patched fs 
2021-09-23T17:20:39.363Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v14.17.6)
2021-09-23T17:20:39.370Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2021-09-23T17:20:39.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed55c1bb98d907af757325cf868fb486ff6f49b4-ecafe4a0967e5314-01 outer:exit 2b-ed55c1bb98d907af757325cf868fb486ff6f49b4-3151cce5dd016c33-01
2021-09-23T17:20:39.611Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:39.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-28088435429f5176af08ec0ed81cb6ed2684b962-73af8231dfa1e443-01 outer:exit 2b-28088435429f5176af08ec0ed81cb6ed2684b962-f08ddead164be91b-01
2021-09-23T17:20:39.645Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:39.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4a01cbc3a118e2a7723266dfa213deac334f417-63c000b410e112a0-01 outer:exit 2b-d4a01cbc3a118e2a7723266dfa213deac334f417-df281c0e8a94673b-01
2021-09-23T17:20:39.649Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:39.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-979b34ce528a7b4d1ee8c47a689abdf9cf5e401f-f32cd0be6a09c612-01 outer:exit 2b-979b34ce528a7b4d1ee8c47a689abdf9cf5e401f-46b47fc1668f8ae7-01
2021-09-23T17:20:39.653Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:39.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-85cb17d9dc49c23db867f977210aedbbad1e39f1-23797372a0aedb7d-01 outer:exit 2b-85cb17d9dc49c23db867f977210aedbbad1e39f1-861e653cbde536dd-01
2021-09-23T17:20:39.658Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:39.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0e9e459092faec0887c1a276a43e07b38f226a5-863bacbf8f6acdbe-01 outer:exit 2b-d0e9e459092faec0887c1a276a43e07b38f226a5-4bbbdf485d1dff6d-01
2021-09-23T17:20:39.661Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:39.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-74facbb3d9424a8ada71eea4859c158b035c155a-957b52e3be55e221-01 outer:exit 2b-74facbb3d9424a8ada71eea4859c158b035c155a-1b213f6d8173292a-01
2021-09-23T17:20:39.664Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:39.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d97e6919a5f5778c0f1d8c5bf088bf943db9a80-4a9fc34b4547bd03-01 outer:exit 2b-7d97e6919a5f5778c0f1d8c5bf088bf943db9a80-c7c4add99a097c35-01
2021-09-23T17:20:39.667Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:39.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e722a247e5c12d5488fb4160080e4258f8b1a94-781ac21f573225f8-01 outer:exit 2b-7e722a247e5c12d5488fb4160080e4258f8b1a94-fbf3b603c8ef96b6-01
2021-09-23T17:20:39.670Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:39.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-70af42b989dd0d6fef3423ac6965459ef798521f-cf42b4d3fc650473-01 outer:exit 2b-70af42b989dd0d6fef3423ac6965459ef798521f-8c8048d520f25bd0-01
2021-09-23T17:20:39.673Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:39.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceb03b1e6ce807244d30e4b6f75422c987d92b9c-d51353eee9878395-01 outer:exit 2b-ceb03b1e6ce807244d30e4b6f75422c987d92b9c-c87f0c0ab5453951-01
2021-09-23T17:20:39.677Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:39.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0395e679d0c17b826f9261a6847f8f208a1315e-0569f919d243a068-01 outer:exit 2b-b0395e679d0c17b826f9261a6847f8f208a1315e-1ee73a87b164f167-01
2021-09-23T17:20:39.684Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:39.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-3735de89fc37ebe8ba58e4516d9db67e37123034-1a41150b768efe68-01 outer:exit 2b-3735de89fc37ebe8ba58e4516d9db67e37123034-3930485f26039fb2-01
2021-09-23T17:20:39.699Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:39.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d6811a1792e9c168a4dda4fd4a7ab6b4d4eefd1-a484973fa1f9ee9c-01 outer:exit 2b-5d6811a1792e9c168a4dda4fd4a7ab6b4d4eefd1-a016ded037849fb5-01
2021-09-23T17:20:39.738Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:39.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ab4fe8a06097d07f67545240e5cfb30b0c9508e-17222227f911f647-01 outer:exit 2b-9ab4fe8a06097d07f67545240e5cfb30b0c9508e-e92b2b305b1c2d9b-01
2021-09-23T17:20:39.741Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:39.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-93b6e4a4bd7b85901238ca1a3b6441f00ee91cf7-58b18746ca348e70-01 outer:exit 2b-93b6e4a4bd7b85901238ca1a3b6441f00ee91cf7-35a64a75ab068fd7-01
2021-09-23T17:20:39.744Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:39.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3e7ce61db4b36651ab5575460193dc132ef23d6-2f90fb4b08c484d0-01 outer:exit 2b-c3e7ce61db4b36651ab5575460193dc132ef23d6-4ad908880006a022-01
2021-09-23T17:20:39.747Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:39.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdbcceb45efd2b111d80ef666d4211678c21991f-602d43634be8e571-01 outer:exit 2b-cdbcceb45efd2b111d80ef666d4211678c21991f-11c8bcb582e3551b-01
2021-09-23T17:20:39.749Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:39.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-43a49d682b07e332fab0948445989c25c186d63d-1122a21784927b43-01 outer:exit 2b-43a49d682b07e332fab0948445989c25c186d63d-7c7ecbca5b033f9e-01
2021-09-23T17:20:39.752Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:39.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-792a72c7d6b637687a0cbfca5c391c46c03f1f01-203518cadd60876e-01 outer:exit 2b-792a72c7d6b637687a0cbfca5c391c46c03f1f01-84f79becc0178f78-01
2021-09-23T17:20:39.754Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:39.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-edfba7de53bb44f2a71d1e404a5c693032999764-413f333538953fe1-01 outer:exit 2b-edfba7de53bb44f2a71d1e404a5c693032999764-d3a296240869d175-01
2021-09-23T17:20:39.757Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:39.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d0003cceb4f6726d54743d02b8911f0e753d674-c5f0ff85e84228d2-01 outer:exit 2b-3d0003cceb4f6726d54743d02b8911f0e753d674-fcf6b69c73d65dd7-01
2021-09-23T17:20:39.759Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:39.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd66d30a9e76d5aa04791c708cfaaa4fe5efeb86-5c4d5d35d3452905-01 outer:exit 2b-bd66d30a9e76d5aa04791c708cfaaa4fe5efeb86-fffdb8558d1680a0-01
2021-09-23T17:20:39.763Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:39.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-0693d31b71ad5c35dfadad5ea97f94227531311e-a5748cdcbe0fc0b3-01 outer:exit 2b-0693d31b71ad5c35dfadad5ea97f94227531311e-b38e95543ea3c18e-01
2021-09-23T17:20:39.766Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:39.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-941bb6deab3f6c6522172e08b321c16dffb13c65-9560ce97c2dd561f-01 outer:exit 2b-941bb6deab3f6c6522172e08b321c16dffb13c65-538012085ecb0f6b-01
2021-09-23T17:20:39.768Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:39.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-6942337daea7b7aaeb7377922080bc5fa1b6c678-1ca5d0e964b39d0a-01 outer:exit 2b-6942337daea7b7aaeb7377922080bc5fa1b6c678-84236790cc2f590d-01
2021-09-23T17:20:39.771Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:39.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-66d8c356e57913a3e2955b0d977a0e8720fa6021-ce9b912c11aa73bd-01 outer:exit 2b-66d8c356e57913a3e2955b0d977a0e8720fa6021-12b62199d2678451-01
2021-09-23T17:20:39.777Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:39.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-6270511276f9dafc4f26196d61c7fb1b5d7bb015-1af2930764b91fca-01 outer:exit 2b-6270511276f9dafc4f26196d61c7fb1b5d7bb015-2311689b2c73e862-01
2021-09-23T17:20:39.782Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:39.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-254e656461e60ace1303de119fdc857b76240668-3cab01301ebaec13-01 outer:exit 2b-254e656461e60ace1303de119fdc857b76240668-f43451ec7610205e-01
2021-09-23T17:20:39.804Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:39.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ed694133857b1be154f816dd038a205260bbdd6-711598a8433c62a8-01 outer:exit 2b-2ed694133857b1be154f816dd038a205260bbdd6-e48494b80bb8a83e-01
2021-09-23T17:20:39.819Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:39.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b45c2539af5c49477dd592abd6199e2ee475384-dad32d87fa154c12-01 outer:exit 2b-0b45c2539af5c49477dd592abd6199e2ee475384-25f0693eb8105b35-01
2021-09-23T17:20:39.837Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:39.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ed83d93fe4f53d6f8dfab514ec0b62ca5a6d787-4dda5fcc2789540e-01 outer:exit 2b-5ed83d93fe4f53d6f8dfab514ec0b62ca5a6d787-04c5c9b92208b70f-01
2021-09-23T17:20:39.868Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:39.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-767357228d8c9ca1b0eb0e018835d8830ef36efe-da0d106dcb56df0e-01 outer:exit 2b-767357228d8c9ca1b0eb0e018835d8830ef36efe-3b72d2fc6653c2aa-01
2021-09-23T17:20:39.880Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:39.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-70d04bdb11ceec67b24d57475fc87aeb9ee5694a-ddd3914de564f1c0-01 outer:exit 2b-70d04bdb11ceec67b24d57475fc87aeb9ee5694a-f3b1d53baedb27e7-01
2021-09-23T17:20:39.884Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:39.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5ccea9d184b8281e0ef6ac658f6455b8c4387bf-f0fccdaafa3d7d5b-01 outer:exit 2b-f5ccea9d184b8281e0ef6ac658f6455b8c4387bf-b0b9ab5789dca1dc-01
2021-09-23T17:20:39.887Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:39.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53ed9fa3a6c050c339bd97a5a9b6d292ced0c0c-788e400f1a9eff29-01 outer:exit 2b-c53ed9fa3a6c050c339bd97a5a9b6d292ced0c0c-0a905e39c166fa52-01
2021-09-23T17:20:39.889Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:39.892Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fd2d7884ae99fb5c2d09d60cafa830d7f1bbb3e-f2e62081886af8a8-01 outer:exit 2b-2fd2d7884ae99fb5c2d09d60cafa830d7f1bbb3e-d027989eff23c11c-01
2021-09-23T17:20:39.892Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:39.895Z appoptics:debug span.exit - no last event outer outer:entry 2b-6645117b38f6fe051d5f27c41f8220c07b19bf31-f5b5aeedaadea159-01 outer:exit 2b-6645117b38f6fe051d5f27c41f8220c07b19bf31-16289cf30ecd9a25-01
2021-09-23T17:20:39.895Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:39.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-12d50dbf68f6c9059c38cb42fd476d8e2df90655-759f9a745e8c607c-01 outer:exit 2b-12d50dbf68f6c9059c38cb42fd476d8e2df90655-78ea3600a7067e7b-01
2021-09-23T17:20:39.911Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:39.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-75a44fe64bf581f08551e93943e672427b9be2fa-add0d78951f81b7e-01 outer:exit 2b-75a44fe64bf581f08551e93943e672427b9be2fa-a06e7b0dfe9d6ff2-01
2021-09-23T17:20:39.921Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:39.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba69f25bdbfff5a6a08d6a38976a692577b7b3ca-e90ad96b70c07c88-01 outer:exit 2b-ba69f25bdbfff5a6a08d6a38976a692577b7b3ca-f505b504324eaffc-01
2021-09-23T17:20:39.924Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:39.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-52ace7daa19ef43d998a419f843dd3e43ad0f11e-498ad6ceafe45e66-01 outer:exit 2b-52ace7daa19ef43d998a419f843dd3e43ad0f11e-a86b81c388899ea6-01
2021-09-23T17:20:39.927Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:39.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae181dfc9e73386fcc4713c3a00360bb46ebca1d-7d4c853c5599976d-01 outer:exit 2b-ae181dfc9e73386fcc4713c3a00360bb46ebca1d-68349677bf9acaa4-01
2021-09-23T17:20:39.933Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:39.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f6c44e65b18e02e7b31a77c3ef2ecad5820a75a-47c5cd05bf71bd20-01 outer:exit 2b-9f6c44e65b18e02e7b31a77c3ef2ecad5820a75a-3744ee69d187c3a7-01
2021-09-23T17:20:39.972Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (402ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.8
updated 1 package and audited 1098 packages in 5.665s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:46.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:46.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:46.886Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:46.887Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:46.954Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:47.003Z appoptics:patching patched crypto 
2021-09-23T17:20:47.026Z appoptics:patching patched https 
2021-09-23T17:20:47.026Z appoptics:patching patched http 
2021-09-23T17:20:47.075Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:47.075Z appoptics:patching patched fs 
2021-09-23T17:20:47.090Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v14.17.6)
2021-09-23T17:20:47.098Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2021-09-23T17:20:47.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-5817731eaeaad15ad45e1314faa56773b69c7a0d-ae3cc2c4cd320ed1-01 outer:exit 2b-5817731eaeaad15ad45e1314faa56773b69c7a0d-e5cb0e71b975e133-01
2021-09-23T17:20:47.339Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:47.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-aea251a4b2782f3d52d5e9953bf324fb6251dfe6-d20e60270a4fcca5-01 outer:exit 2b-aea251a4b2782f3d52d5e9953bf324fb6251dfe6-f07049926ac94ed3-01
2021-09-23T17:20:47.385Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:47.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d587d6764b7b9fc01a7d73034491dd412d56272-05fc9c3ce33150c3-01 outer:exit 2b-9d587d6764b7b9fc01a7d73034491dd412d56272-70b3c31dc2b93767-01
2021-09-23T17:20:47.388Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:47.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-50f0f4b16c27747efcfa949fd25b249eed508078-b230677d670d9a6f-01 outer:exit 2b-50f0f4b16c27747efcfa949fd25b249eed508078-48d0bc6b92ea251f-01
2021-09-23T17:20:47.392Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:47.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-89d3ef8a194b2466a156246751de4e7b2e99e24e-b1e1cbcf46e76460-01 outer:exit 2b-89d3ef8a194b2466a156246751de4e7b2e99e24e-88242dd1fac4e49e-01
2021-09-23T17:20:47.398Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:47.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-777adccc4c0c7f403a94b4be8201fc4bbb94e6e4-0861b6b0d927b4cf-01 outer:exit 2b-777adccc4c0c7f403a94b4be8201fc4bbb94e6e4-968f2b7c22c07663-01
2021-09-23T17:20:47.402Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:47.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cbd71546d6bc30225d8a7e581ded052aec15c18-e3b36445c59bf79d-01 outer:exit 2b-5cbd71546d6bc30225d8a7e581ded052aec15c18-8d6c3705eb33f8fa-01
2021-09-23T17:20:47.405Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:47.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b49003de6d2642464653cef3c1ffe7e3535f659-3bbcd172aab22483-01 outer:exit 2b-9b49003de6d2642464653cef3c1ffe7e3535f659-d4386604c67e9639-01
2021-09-23T17:20:47.408Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:47.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-79c88e7693c572f129ce0236c0a4e44c4c426974-94d5bd1848246ee1-01 outer:exit 2b-79c88e7693c572f129ce0236c0a4e44c4c426974-e3427d09a0f27f0d-01
2021-09-23T17:20:47.410Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:47.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-73dad3dfd8233e69d2847a623640c2977cf17032-03960ca0b38adc07-01 outer:exit 2b-73dad3dfd8233e69d2847a623640c2977cf17032-578729a9631a512e-01
2021-09-23T17:20:47.414Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:47.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-8892ac4ea7dec01b34f0f21380e41d3793256276-76d5e8af61eeb3fe-01 outer:exit 2b-8892ac4ea7dec01b34f0f21380e41d3793256276-d479a0cda829d583-01
2021-09-23T17:20:47.419Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:47.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae51a06ddad7c205d830101c52e48b9594f6e4f5-63952499a1f64fde-01 outer:exit 2b-ae51a06ddad7c205d830101c52e48b9594f6e4f5-f5f44c4ecc10b636-01
2021-09-23T17:20:47.426Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:47.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6c4f735335783854ca43bc2c81d78674d48093c-fed54cb9179b1e71-01 outer:exit 2b-c6c4f735335783854ca43bc2c81d78674d48093c-cc3bcd41616db4b0-01
2021-09-23T17:20:47.442Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:47.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d599d4481e51255ec1dcc171f4571df719c68ab-42733dafc9b83a01-01 outer:exit 2b-7d599d4481e51255ec1dcc171f4571df719c68ab-3da61909e67236a9-01
2021-09-23T17:20:47.485Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:47.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d2d6d091b8f57413b20958d1c0d52f39ceaec66-ec4e6fa8e3440ef4-01 outer:exit 2b-2d2d6d091b8f57413b20958d1c0d52f39ceaec66-50415183458a0c60-01
2021-09-23T17:20:47.490Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:47.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-74a50baec75c89a777d73ec277ef84dc79017b85-30ae2b32e5ddfa92-01 outer:exit 2b-74a50baec75c89a777d73ec277ef84dc79017b85-bee9bc0ad874d808-01
2021-09-23T17:20:47.493Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:47.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-f883316dd427a707eeed6ef07c208ad31ef93ca9-3f112b5239cff141-01 outer:exit 2b-f883316dd427a707eeed6ef07c208ad31ef93ca9-6a143fae46b322c2-01
2021-09-23T17:20:47.498Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:47.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-3446e866145980fbd593a35ba1248f45d27ef78a-97b48e591630c8a7-01 outer:exit 2b-3446e866145980fbd593a35ba1248f45d27ef78a-b7ab852ca0960d55-01
2021-09-23T17:20:47.501Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:47.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0546f8e6ca4e9fd9f726baf76b0bd6ffb8a6413-b2a76af4a7eaf332-01 outer:exit 2b-d0546f8e6ca4e9fd9f726baf76b0bd6ffb8a6413-243d224c85e4f6c4-01
2021-09-23T17:20:47.504Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:47.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f7496cb82777c993e8ff5ae2bae33067dfa159b-ecf78b3fb1efe0f0-01 outer:exit 2b-3f7496cb82777c993e8ff5ae2bae33067dfa159b-3033015386eb611f-01
2021-09-23T17:20:47.507Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:47.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f38f9559286090ecde2b87f0f7182cfbd3671f1-3f5a38560366c76e-01 outer:exit 2b-0f38f9559286090ecde2b87f0f7182cfbd3671f1-115bd802b5b60746-01
2021-09-23T17:20:47.510Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:47.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-711d41a34c865ce2718a420d392c3ecbdc99812c-a29aac8948a59d76-01 outer:exit 2b-711d41a34c865ce2718a420d392c3ecbdc99812c-e46e662f151f886c-01
2021-09-23T17:20:47.514Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:47.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-dce1eff7b663d1e6706640e2fe40e7b19c4b75e0-2271cf3a88430ddb-01 outer:exit 2b-dce1eff7b663d1e6706640e2fe40e7b19c4b75e0-a2848b2d088da16b-01
2021-09-23T17:20:47.519Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:47.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-4231442e62252037682bce1c1e70d40359ef2125-25b79910d2cb0eb7-01 outer:exit 2b-4231442e62252037682bce1c1e70d40359ef2125-ab13687acdc7cea8-01
2021-09-23T17:20:47.522Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:47.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c9e9ce3572cdc1394b60fbe58636ed7bac9a43d-006d8b93253281e5-01 outer:exit 2b-3c9e9ce3572cdc1394b60fbe58636ed7bac9a43d-b023193de5572cd7-01
2021-09-23T17:20:47.525Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:47.528Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a06d43fab8b6a5a72c7d918d8d7ae580a2f6a42-1edadaa273d4e2d8-01 outer:exit 2b-1a06d43fab8b6a5a72c7d918d8d7ae580a2f6a42-cf845e113921c4f8-01
2021-09-23T17:20:47.528Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:47.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c9a5684a41bf165b98e4f7efb8cbbb88f78b5bc-0c388d5211eb0e28-01 outer:exit 2b-2c9a5684a41bf165b98e4f7efb8cbbb88f78b5bc-17dd715e8252dfe8-01
2021-09-23T17:20:47.534Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:47.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-4866f1d496c0e451d8514fed029b1b985f13b97e-ee0ef560303a4d04-01 outer:exit 2b-4866f1d496c0e451d8514fed029b1b985f13b97e-3ec9eed1cf3cb0ea-01
2021-09-23T17:20:47.546Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:47.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-45b1b32ae42c8a93dd420a6ce076044ab9912b9a-1e87b275d888eaf4-01 outer:exit 2b-45b1b32ae42c8a93dd420a6ce076044ab9912b9a-0e07a1859e77a84d-01
2021-09-23T17:20:47.556Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:47.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-60199e3d27b9207ec36e8cac48fb5db4b37e9200-3949511c3e3af051-01 outer:exit 2b-60199e3d27b9207ec36e8cac48fb5db4b37e9200-eadc3f3c4cc9a4fc-01
2021-09-23T17:20:47.565Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:47.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-146e9b6cd06f740e1beaf7acb3a5071007126c8a-59fcbf46baed5ce5-01 outer:exit 2b-146e9b6cd06f740e1beaf7acb3a5071007126c8a-cbdafd775543a168-01
2021-09-23T17:20:47.589Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:47.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-421e92b6e1c42b4bf64b37b43a6d7ac89e198d05-5b014dea7d3fa2ad-01 outer:exit 2b-421e92b6e1c42b4bf64b37b43a6d7ac89e198d05-f1da853cc278ae30-01
2021-09-23T17:20:47.597Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:47.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0aea0c734020ae5b57000528e4a3f27981b5599-6ac65c55522a51eb-01 outer:exit 2b-d0aea0c734020ae5b57000528e4a3f27981b5599-6f00ec98365510be-01
2021-09-23T17:20:47.605Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:47.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff623a6563f5b5720b8f9c78192c161c9699b455-558d82c7e0af1be8-01 outer:exit 2b-ff623a6563f5b5720b8f9c78192c161c9699b455-6b5ecfaa8952407e-01
2021-09-23T17:20:47.608Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:47.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-778c1624a19607bc072a53fedb32db9892fb39f4-5666f47a35676f0b-01 outer:exit 2b-778c1624a19607bc072a53fedb32db9892fb39f4-e32738884d877235-01
2021-09-23T17:20:47.610Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:47.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c0973f5b8bf1ba606c80428b87bbc3342f390cb-7dee1597d5682f49-01 outer:exit 2b-1c0973f5b8bf1ba606c80428b87bbc3342f390cb-366e9167db0844f5-01
2021-09-23T17:20:47.613Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:47.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-78715145a018addc95fe9c7deb2ed639348dec93-743bf3437e17db8b-01 outer:exit 2b-78715145a018addc95fe9c7deb2ed639348dec93-ff7de3367ed570a0-01
2021-09-23T17:20:47.615Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:47.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-107df8350727ce61bfa3a3fe60272b256ecd8ade-47ab780a735911fb-01 outer:exit 2b-107df8350727ce61bfa3a3fe60272b256ecd8ade-941447ee938bc619-01
2021-09-23T17:20:47.618Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:47.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-6626d6578d74e3ca4760e7728120dcd2219de985-52297a12d1ae1f1f-01 outer:exit 2b-6626d6578d74e3ca4760e7728120dcd2219de985-929a0952727be198-01
2021-09-23T17:20:47.629Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:47.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c20b73970bb386e207ec017520b2acb10e1729d-b2a79ffd619b257f-01 outer:exit 2b-6c20b73970bb386e207ec017520b2acb10e1729d-8876db3405ee4f2a-01
2021-09-23T17:20:47.640Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:47.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-26edccc28c1a95579c10fa0fdf4b63d80dd7574c-d1023ff51e979282-01 outer:exit 2b-26edccc28c1a95579c10fa0fdf4b63d80dd7574c-7296a9b113acf4ff-01
2021-09-23T17:20:47.646Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:47.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cee3ac1e34ec426e4700b5bc423a53e6e74c99e-4f6df188b995ff0b-01 outer:exit 2b-1cee3ac1e34ec426e4700b5bc423a53e6e74c99e-8e8763e5a4a23f97-01
2021-09-23T17:20:47.651Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:47.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab0ce275a1771339a04eb378687cd879301b96c7-b556b5240a0c5c36-01 outer:exit 2b-ab0ce275a1771339a04eb378687cd879301b96c7-b76879f1fea5f8f3-01
2021-09-23T17:20:47.658Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:47.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae35124b7efa7dbbb91ac19411e1fc465ceadeac-8f6db4c31fe4eb3b-01 outer:exit 2b-ae35124b7efa7dbbb91ac19411e1fc465ceadeac-11adcb284458f74a-01
2021-09-23T17:20:47.706Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (408ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.9
updated 1 package and audited 1098 packages in 6.658s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:20:55.667Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:20:55.668Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:20:55.668Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:20:55.669Z appoptics:debug using context provider: ace-context
2021-09-23T17:20:55.739Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:20:55.787Z appoptics:patching patched crypto 
2021-09-23T17:20:55.811Z appoptics:patching patched https 
2021-09-23T17:20:55.812Z appoptics:patching patched http 
2021-09-23T17:20:55.866Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:20:55.866Z appoptics:patching patched fs 
2021-09-23T17:20:55.882Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v14.17.6)
2021-09-23T17:20:55.890Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2021-09-23T17:20:56.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c8e455b48914fcb7756e7ee563c4a073c21465d-fef7a28dd6260e00-01 outer:exit 2b-0c8e455b48914fcb7756e7ee563c4a073c21465d-32f8e14a5bd24400-01
2021-09-23T17:20:56.098Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:20:56.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-51cc6b825cc91755a6802dc8ff24f91c4e65785b-ddfe3dc5745252d9-01 outer:exit 2b-51cc6b825cc91755a6802dc8ff24f91c4e65785b-e4959dbd969560ff-01
2021-09-23T17:20:56.135Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:20:56.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-53e52781e8b62443a49b0c14f708cae01c25d9bc-97fd3217d08a7a94-01 outer:exit 2b-53e52781e8b62443a49b0c14f708cae01c25d9bc-e509c4eac8eaeb87-01
2021-09-23T17:20:56.139Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:20:56.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-54e6f765f0c12730c7167f0171129697ae6b5606-a0d4a4c98b906beb-01 outer:exit 2b-54e6f765f0c12730c7167f0171129697ae6b5606-096a4da207bcbeae-01
2021-09-23T17:20:56.142Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:20:56.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2c1170fdd770bcf65c2aaa67f98194414be6397-faa0e4406b87ce4a-01 outer:exit 2b-a2c1170fdd770bcf65c2aaa67f98194414be6397-e32b6e09a1fd28ef-01
2021-09-23T17:20:56.148Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:20:56.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-6353d846b3ae3e14947f5a72c8c918ad3b486f35-771ac90cfc7352c1-01 outer:exit 2b-6353d846b3ae3e14947f5a72c8c918ad3b486f35-d1507281f16275b5-01
2021-09-23T17:20:56.152Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:20:56.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-325285c29536520048400dde54b9bff37632fa75-2d79b3ea35a33f99-01 outer:exit 2b-325285c29536520048400dde54b9bff37632fa75-f038bd7f1997a670-01
2021-09-23T17:20:56.155Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:20:56.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0ef5b4bec9a7e439e69713dbd098110907d5648-23bac4bad2eca890-01 outer:exit 2b-f0ef5b4bec9a7e439e69713dbd098110907d5648-de7a345eaff08d82-01
2021-09-23T17:20:56.158Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:20:56.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-fff657f21404ab21f37d5f42fc25578920c6cdca-3119666bac564d16-01 outer:exit 2b-fff657f21404ab21f37d5f42fc25578920c6cdca-7a74f9374a94dde3-01
2021-09-23T17:20:56.160Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:20:56.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c2d6dcb9e740227de42d6c210fd38f9d91257cd-eb684221268c89af-01 outer:exit 2b-1c2d6dcb9e740227de42d6c210fd38f9d91257cd-e7c6cacca2e742de-01
2021-09-23T17:20:56.163Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:20:56.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-f53734373a5e9e90a72053c373047a7b34f64173-55e48feceeaa4e99-01 outer:exit 2b-f53734373a5e9e90a72053c373047a7b34f64173-f13e5ffe2fb8d905-01
2021-09-23T17:20:56.168Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:20:56.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ce3e017492f587dd81eb1a9c479200a37495f3f-7e0e221b20a2b4f1-01 outer:exit 2b-7ce3e017492f587dd81eb1a9c479200a37495f3f-312e55c0d28b36ff-01
2021-09-23T17:20:56.174Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:20:56.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-828c2cc2182cf969e09f8fa965611d77dc9049dd-5431b1f883991b87-01 outer:exit 2b-828c2cc2182cf969e09f8fa965611d77dc9049dd-6b9bb4d4616d92b6-01
2021-09-23T17:20:56.190Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:20:56.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7b1d5ce73877044cda333d80dbda7635e65bc64-b3acbca8eed458e2-01 outer:exit 2b-d7b1d5ce73877044cda333d80dbda7635e65bc64-590536c1a024b610-01
2021-09-23T17:20:56.235Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:20:56.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-afb4814c1e80afc2f33016c3c9e769133c057ec6-1178f0f505a13459-01 outer:exit 2b-afb4814c1e80afc2f33016c3c9e769133c057ec6-5c2b92ff5d024833-01
2021-09-23T17:20:56.239Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:20:56.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fc7dcf2ee257b3edbd6853d21d3663d5da3fbc7-0bead166c0c26209-01 outer:exit 2b-4fc7dcf2ee257b3edbd6853d21d3663d5da3fbc7-ec195d2cfdf2f182-01
2021-09-23T17:20:56.242Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:20:56.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-297f4bc8196adfa4dbf4e4e00c093ff3d6645e31-3417ac1ea13f468e-01 outer:exit 2b-297f4bc8196adfa4dbf4e4e00c093ff3d6645e31-1105aaa9c45aa6e1-01
2021-09-23T17:20:56.245Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:20:56.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-c24e82ef83100234567009e52d7a0c00e7940dd8-50ce03ab6f756efc-01 outer:exit 2b-c24e82ef83100234567009e52d7a0c00e7940dd8-47a11943cc6c7521-01
2021-09-23T17:20:56.249Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:20:56.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-74b0345b7ba0b5bc016e58cd212877ee1f82ee05-5203d0ad4e3aad05-01 outer:exit 2b-74b0345b7ba0b5bc016e58cd212877ee1f82ee05-7d2e3bfdc4c45c5a-01
2021-09-23T17:20:56.252Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:20:56.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-119895ec394b3e2960ce0a2bf7285d3a836c252d-114b19493eb05ad6-01 outer:exit 2b-119895ec394b3e2960ce0a2bf7285d3a836c252d-d6c35e84336143dd-01
2021-09-23T17:20:56.255Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:20:56.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-e25f34d56e18e1e7c3f51e89977aca024f71c038-900f69f286d4bbf4-01 outer:exit 2b-e25f34d56e18e1e7c3f51e89977aca024f71c038-72f7ee6cada8391f-01
2021-09-23T17:20:56.258Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:20:56.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f19488edab42afe557e8fd09ced0cd082766cf9-573cbd6ef8bc6321-01 outer:exit 2b-2f19488edab42afe557e8fd09ced0cd082766cf9-9735330fcedc759e-01
2021-09-23T17:20:56.261Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:20:56.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-17ac885b3d7285e2fbb3b442646f0651e6841a10-842b18506587b603-01 outer:exit 2b-17ac885b3d7285e2fbb3b442646f0651e6841a10-ffd291d638137ddc-01
2021-09-23T17:20:56.264Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:20:56.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b7285b3bfca96dd57f032f3f0bf9abf8ee24f05-18d2c783c0b20199-01 outer:exit 2b-2b7285b3bfca96dd57f032f3f0bf9abf8ee24f05-f1460db0bb1a64e8-01
2021-09-23T17:20:56.268Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:20:56.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1f09b1307386f46fb7bd542ebb25732c4cec92f-3bead4dc134d6be4-01 outer:exit 2b-d1f09b1307386f46fb7bd542ebb25732c4cec92f-c69af8e7b211b94d-01
2021-09-23T17:20:56.271Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:20:56.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-526431b50aca4179ea3ef90b65b486e8d6d28b7c-b497ca508e16cb60-01 outer:exit 2b-526431b50aca4179ea3ef90b65b486e8d6d28b7c-6b145b040498ec8a-01
2021-09-23T17:20:56.274Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:20:56.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef60e001804e29cfbe9ca945fda826d806c8ba73-36a184fd9e396343-01 outer:exit 2b-ef60e001804e29cfbe9ca945fda826d806c8ba73-eb045be465c2f6bc-01
2021-09-23T17:20:56.281Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:20:56.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8dd33737d3704c7e5cecc65cbeedec3e80a3815-45e284a68ed8d63e-01 outer:exit 2b-d8dd33737d3704c7e5cecc65cbeedec3e80a3815-d97debe5894886e5-01
2021-09-23T17:20:56.289Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:20:56.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-29ae33eef3bc03004b0b25f4003224c8e1413730-b4e3798938d8c7a7-01 outer:exit 2b-29ae33eef3bc03004b0b25f4003224c8e1413730-a5dd95ea387445bd-01
2021-09-23T17:20:56.299Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:20:56.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-fafcc20a2c60609dc75e9e76dea6ec05d0351c66-fad013b8ff697148-01 outer:exit 2b-fafcc20a2c60609dc75e9e76dea6ec05d0351c66-1cb8ed10baa4bfdc-01
2021-09-23T17:20:56.311Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:20:56.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-a46d1e7fd6d87adf05f9d7cce46883be29dfdd84-71367d4a62be2545-01 outer:exit 2b-a46d1e7fd6d87adf05f9d7cce46883be29dfdd84-bb0918913fe89bf1-01
2021-09-23T17:20:56.316Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:20:56.322Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea18b8f0598841d1ae2739ba74cb73a7e3926f52-b45cfe2da36caf0a-01 outer:exit 2b-ea18b8f0598841d1ae2739ba74cb73a7e3926f52-dc8a0df9d9211531-01
2021-09-23T17:20:56.322Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:20:56.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1bac8b5e623b993cbfe40292458008fc8d0a708-25e2bf254ab2312c-01 outer:exit 2b-d1bac8b5e623b993cbfe40292458008fc8d0a708-0d5e5b7c70c0b7d9-01
2021-09-23T17:20:56.336Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:20:56.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-ede55e1adcdf77ea9ba99bdd1fe014cda4164025-088164b97b5b771d-01 outer:exit 2b-ede55e1adcdf77ea9ba99bdd1fe014cda4164025-120160d2d05c2495-01
2021-09-23T17:20:56.339Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:20:56.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-5295281952110682bc86c0901b1f8c01ab2faa59-cf78e35264999865-01 outer:exit 2b-5295281952110682bc86c0901b1f8c01ab2faa59-cc09a37d56824edc-01
2021-09-23T17:20:56.342Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:20:56.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3935d83820037e8b2d037bb146c8988b4b83fd7-cc51b3050469b752-01 outer:exit 2b-e3935d83820037e8b2d037bb146c8988b4b83fd7-a3e7b78892680392-01
2021-09-23T17:20:56.344Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:20:56.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-84896fe0d543799cb2ce3013ca47c09e77584cc3-b0c9ff9e59efae90-01 outer:exit 2b-84896fe0d543799cb2ce3013ca47c09e77584cc3-2ae3412f2a1bf250-01
2021-09-23T17:20:56.347Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:20:56.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-9854b83c1626067bb103393e12a9ec062c743ce4-eea94f895f751122-01 outer:exit 2b-9854b83c1626067bb103393e12a9ec062c743ce4-9e3cf118bb042fc8-01
2021-09-23T17:20:56.350Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:20:56.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-d79af4e6a1a03cb4843d801648ff630ff4708ce5-e3bb386f28124381-01 outer:exit 2b-d79af4e6a1a03cb4843d801648ff630ff4708ce5-b09656c788c1a3ed-01
2021-09-23T17:20:56.360Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:20:56.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-552555f4358a8e29ae49e16d770c5bc766ae5f49-abbe00eb13673078-01 outer:exit 2b-552555f4358a8e29ae49e16d770c5bc766ae5f49-367dea68b12c1a6a-01
2021-09-23T17:20:56.371Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:20:56.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-f666e390c1315add6e334aaaa49dde7b1b33c1ca-a6f65d66256bcd0e-01 outer:exit 2b-f666e390c1315add6e334aaaa49dde7b1b33c1ca-ed937ce51c8a4559-01
2021-09-23T17:20:56.374Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:20:56.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-a25532f7aa597dfb90e7b241caa11473a115d029-e4ea0bde442ddd69-01 outer:exit 2b-a25532f7aa597dfb90e7b241caa11473a115d029-597d055cdf33ff60-01
2021-09-23T17:20:56.377Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:20:56.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ff7e86f5b6ea28a3182aee6ef5e211d5c68743d-e15a604e5211c1e5-01 outer:exit 2b-0ff7e86f5b6ea28a3182aee6ef5e211d5c68743d-50cb3685bb4a458b-01
2021-09-23T17:20:56.381Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:20:56.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-9594e63d6b622d7ba7e97f26ecfcbdcdd196f295-340b6052629863a2-01 outer:exit 2b-9594e63d6b622d7ba7e97f26ecfcbdcdd196f295-efeb55a63fba9b6d-01
2021-09-23T17:20:56.410Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (351ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.10
updated 1 package and audited 1098 packages in 6.279s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:04.073Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:04.074Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:04.074Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:04.075Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:04.146Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:04.197Z appoptics:patching patched crypto 
2021-09-23T17:21:04.221Z appoptics:patching patched https 
2021-09-23T17:21:04.221Z appoptics:patching patched http 
2021-09-23T17:21:04.272Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:04.273Z appoptics:patching patched fs 
2021-09-23T17:21:04.290Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v14.17.6)
2021-09-23T17:21:04.298Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2021-09-23T17:21:04.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-40c74a2754e7bc413927539ffacfb84751c69f35-1721b2255f4c8c6d-01 outer:exit 2b-40c74a2754e7bc413927539ffacfb84751c69f35-0d59a8797a3c5221-01
2021-09-23T17:21:04.530Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:04.585Z appoptics:debug span.exit - no last event outer outer:entry 2b-22532d7d60989c68b3da306436aedd7609d36424-ec11681272a4978d-01 outer:exit 2b-22532d7d60989c68b3da306436aedd7609d36424-c07e93da5984f349-01
2021-09-23T17:21:04.585Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:04.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-049c8b2e8bcb757352e2b542beaf6048a7d10e2a-11439ccd2de65304-01 outer:exit 2b-049c8b2e8bcb757352e2b542beaf6048a7d10e2a-7e27ec286524da19-01
2021-09-23T17:21:04.589Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:04.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c8d264ba4878b99945861151b49e37a24d1ab7f-55eac1e29fcfaf46-01 outer:exit 2b-2c8d264ba4878b99945861151b49e37a24d1ab7f-9151f52117d6f86f-01
2021-09-23T17:21:04.593Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:04.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-af3d3f155e35cb0c7e1f521a4998479b712b4d61-9c642f447baf6db8-01 outer:exit 2b-af3d3f155e35cb0c7e1f521a4998479b712b4d61-6bae59ae5b48f234-01
2021-09-23T17:21:04.598Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:04.602Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb12b1b00bcc11a958241a10e9ef351a1fcb7ab9-8d68915b7466e141-01 outer:exit 2b-fb12b1b00bcc11a958241a10e9ef351a1fcb7ab9-5df4d3f06abcf015-01
2021-09-23T17:21:04.602Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:04.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0caa269e8325c299d3a11db8e18374c4b13d356-6b103c4d1d03edf2-01 outer:exit 2b-d0caa269e8325c299d3a11db8e18374c4b13d356-3b6c2f13c0eb4213-01
2021-09-23T17:21:04.605Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:04.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e9d322628295273ea5836f0cc11d2535cf4443c-f2a7934612e538dd-01 outer:exit 2b-3e9d322628295273ea5836f0cc11d2535cf4443c-da38888a9cb69e88-01
2021-09-23T17:21:04.608Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:04.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dff3683b9f5027ed590e7f6f4901314060c0aee-f815a3094e7ec071-01 outer:exit 2b-3dff3683b9f5027ed590e7f6f4901314060c0aee-62f539f4c29f259e-01
2021-09-23T17:21:04.610Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:04.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d820056ac50d9c4eacc82e4fc1392c154307a65-dba5a0034ac3eb8a-01 outer:exit 2b-2d820056ac50d9c4eacc82e4fc1392c154307a65-787b2649e2ff0cb6-01
2021-09-23T17:21:04.614Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:04.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-e241c7151e1fa73e55626b53c1c17ec62cda51aa-26f205b5ad933a1d-01 outer:exit 2b-e241c7151e1fa73e55626b53c1c17ec62cda51aa-9b77d3525543fdfd-01
2021-09-23T17:21:04.618Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:04.625Z appoptics:debug span.exit - no last event outer outer:entry 2b-38741b2ff63600286ef4dc773ba8bbcee925e626-0cdd9dc1588374f8-01 outer:exit 2b-38741b2ff63600286ef4dc773ba8bbcee925e626-2f9423682817ec46-01
2021-09-23T17:21:04.625Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:04.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b65ade346f004dc6f6d233d7e3b2d74d918d878-d6667d7bb8f5cb43-01 outer:exit 2b-0b65ade346f004dc6f6d233d7e3b2d74d918d878-5c82545dcffbac36-01
2021-09-23T17:21:04.641Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:04.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-69fe1ed69d4b45a593662886fff1c3804655a2ec-74b61d57736eca74-01 outer:exit 2b-69fe1ed69d4b45a593662886fff1c3804655a2ec-0db28d529b6f3afe-01
2021-09-23T17:21:04.684Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:04.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9720cc42d28f7f7f18bed4c49851853e43d3398-ea30885e443e80a1-01 outer:exit 2b-a9720cc42d28f7f7f18bed4c49851853e43d3398-3bed449b6b75a001-01
2021-09-23T17:21:04.688Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:04.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfe69ee8fc90c31ec6a8c6ca3f08f781eb08a37c-86819a9f49b32032-01 outer:exit 2b-bfe69ee8fc90c31ec6a8c6ca3f08f781eb08a37c-1d12614f16db3687-01
2021-09-23T17:21:04.691Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:04.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-63c7f0cfee25a4be87f4dc0018e083a33e84243b-cbc9a06adb6e9aa2-01 outer:exit 2b-63c7f0cfee25a4be87f4dc0018e083a33e84243b-9609238e59d3f9e6-01
2021-09-23T17:21:04.694Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:04.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb6de9a6f701e5f7d952de262cf45a0dd235e2b2-2df0dd7fa3a867e2-01 outer:exit 2b-cb6de9a6f701e5f7d952de262cf45a0dd235e2b2-e94d762b0814efc2-01
2021-09-23T17:21:04.697Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:04.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-5dc694413276db6748e2eb638369b37cb5074832-0ff14a01b2af4454-01 outer:exit 2b-5dc694413276db6748e2eb638369b37cb5074832-690b2a9cee423ffa-01
2021-09-23T17:21:04.700Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:04.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-843c9259759436afcd265a3c3817c8e95813cb09-6f487b308682ab0c-01 outer:exit 2b-843c9259759436afcd265a3c3817c8e95813cb09-7632354cef660701-01
2021-09-23T17:21:04.703Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:04.705Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d494538840d20251ec6ed8063a8206ac963b5e1-f0a53c6a07833642-01 outer:exit 2b-1d494538840d20251ec6ed8063a8206ac963b5e1-c2d47214472ec172-01
2021-09-23T17:21:04.705Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:04.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c608794aa324e6cb0a5f2f8f2cd5691372df2af-ab02f5f76de597d5-01 outer:exit 2b-0c608794aa324e6cb0a5f2f8f2cd5691372df2af-c1da1f7846b50044-01
2021-09-23T17:21:04.708Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:04.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e9007243a9e44af6a3e5b6a7a58932692d77319-1e35db6850623ed3-01 outer:exit 2b-3e9007243a9e44af6a3e5b6a7a58932692d77319-4c7250557e468ddc-01
2021-09-23T17:21:04.712Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:04.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dbc213000df5493b07732044f2cb145e14f3cb5-d0967c8fffb31e6c-01 outer:exit 2b-3dbc213000df5493b07732044f2cb145e14f3cb5-b99f7d54062a3d9c-01
2021-09-23T17:21:04.715Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:04.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-119f38e92c82b076a6de374c83b73130024ca70e-f13c07eb7c4820b0-01 outer:exit 2b-119f38e92c82b076a6de374c83b73130024ca70e-2564bc3fc10ef56c-01
2021-09-23T17:21:04.718Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:04.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9866006a6376ef838deed7b9173fac0fdff2cbf-a53cb345491fdbbf-01 outer:exit 2b-e9866006a6376ef838deed7b9173fac0fdff2cbf-6246181dce1c9704-01
2021-09-23T17:21:04.721Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:04.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b8e53f4e42a46c66fd7f900d00ff601f90b60d-080849ae778c0125-01 outer:exit 2b-58b8e53f4e42a46c66fd7f900d00ff601f90b60d-b58cd034ceda38ee-01
2021-09-23T17:21:04.728Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:04.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6f7f52e4f7554ea393d5ebf6e861cacf771b090-f403160906507a07-01 outer:exit 2b-a6f7f52e4f7554ea393d5ebf6e861cacf771b090-e2d5fc5e243b453a-01
2021-09-23T17:21:04.735Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:04.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-54bb715d81022f82608c73bbc4b474ff2ad75d4c-f31d634125c91406-01 outer:exit 2b-54bb715d81022f82608c73bbc4b474ff2ad75d4c-1417abee76b4fd12-01
2021-09-23T17:21:04.744Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:04.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc2b730b69940b8775d6fa3569eb019ba3105fb9-fcc088c7b9e316f0-01 outer:exit 2b-bc2b730b69940b8775d6fa3569eb019ba3105fb9-5399f0b309fdc5e3-01
2021-09-23T17:21:04.751Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:04.759Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbd3d0015323cdd8f77e754f1a436321b872d941-64a137a3c06462d2-01 outer:exit 2b-dbd3d0015323cdd8f77e754f1a436321b872d941-ae724902a5b3cd29-01
2021-09-23T17:21:04.759Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:04.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-f287ebf19f004dbd2743f45aa102572d109cc6ca-6787932c65d46fd7-01 outer:exit 2b-f287ebf19f004dbd2743f45aa102572d109cc6ca-c5bc3a48f8aacbfe-01
2021-09-23T17:21:04.769Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:04.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-6febdb141ff07f12c0c4965ca049ba872a9ecd17-6f4384728bdc3bdd-01 outer:exit 2b-6febdb141ff07f12c0c4965ca049ba872a9ecd17-3d87e7feaaa6403b-01
2021-09-23T17:21:04.781Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:04.784Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d372e656177872b08d12a658c8522596255d83b-460a6125814c2401-01 outer:exit 2b-5d372e656177872b08d12a658c8522596255d83b-c75976b0e52cb2a5-01
2021-09-23T17:21:04.784Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:04.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-da54ac45b05538a1b711b2fdea9802617a74b84a-ff752f52e2e66e52-01 outer:exit 2b-da54ac45b05538a1b711b2fdea9802617a74b84a-324228dd0f2bdb0f-01
2021-09-23T17:21:04.787Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:04.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-943a659c7dda5f8774a73bedd710ec2eb916a8a2-cdd6a8c9fb041da0-01 outer:exit 2b-943a659c7dda5f8774a73bedd710ec2eb916a8a2-ce080605f73ea8a0-01
2021-09-23T17:21:04.790Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:04.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d061f68ca03e3d540a523a958f3b20ac7e29bad-4d922b3cf4658e68-01 outer:exit 2b-7d061f68ca03e3d540a523a958f3b20ac7e29bad-810ae7178b8c69cf-01
2021-09-23T17:21:04.792Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:04.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-12bf7b11f554efff5158c2061ff75e1be059fee7-78b55713959c4a18-01 outer:exit 2b-12bf7b11f554efff5158c2061ff75e1be059fee7-31e27415f84bd7df-01
2021-09-23T17:21:04.795Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:04.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-90c962904fa924d1d7514fbd4142813aec271fbc-c2d7085b58facd74-01 outer:exit 2b-90c962904fa924d1d7514fbd4142813aec271fbc-7297da0d655d0bb8-01
2021-09-23T17:21:04.805Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:04.815Z appoptics:debug span.exit - no last event outer outer:entry 2b-683caf6a0779a1d2d91ebadc094da2c6d693a886-31e946c9930bddc4-01 outer:exit 2b-683caf6a0779a1d2d91ebadc094da2c6d693a886-ba41b8c3f5e15b9b-01
2021-09-23T17:21:04.815Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:04.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc510e533fc8e44b1923ef498897fd7d3ac568e9-c9df95729599d24c-01 outer:exit 2b-fc510e533fc8e44b1923ef498897fd7d3ac568e9-2946a6a44f5caa70-01
2021-09-23T17:21:04.819Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:04.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-1de4bf1bf0bf6fd317aaf0f66feb4b191c2548a7-340fb84d574001cf-01 outer:exit 2b-1de4bf1bf0bf6fd317aaf0f66feb4b191c2548a7-5fcae1118dddf877-01
2021-09-23T17:21:04.822Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:04.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbfc4369b0d6e831c107ee3f6b0a93ad7b405558-894e2cf360d42cda-01 outer:exit 2b-fbfc4369b0d6e831c107ee3f6b0a93ad7b405558-3dece58cb142d019-01
2021-09-23T17:21:04.826Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:04.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b7817e70b73ce7ba5600371232f2b6179bff2f2-019f685a8cbe2585-01 outer:exit 2b-3b7817e70b73ce7ba5600371232f2b6179bff2f2-ef35cdd0257b2b92-01
2021-09-23T17:21:04.857Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (368ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.11
updated 1 package and audited 1098 packages in 5.635s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:11.793Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:11.794Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:11.794Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:11.795Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:11.866Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:11.917Z appoptics:patching patched crypto 
2021-09-23T17:21:11.940Z appoptics:patching patched https 
2021-09-23T17:21:11.941Z appoptics:patching patched http 
2021-09-23T17:21:11.990Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:11.991Z appoptics:patching patched fs 
2021-09-23T17:21:12.008Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v14.17.6)
2021-09-23T17:21:12.016Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2021-09-23T17:21:12.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-c07d45dff35370ec20488de2b6222197822fba45-8a102fb0b0490a5f-01 outer:exit 2b-c07d45dff35370ec20488de2b6222197822fba45-08e9d51d5eac65db-01
2021-09-23T17:21:12.263Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:12.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-c768fbbd28a97f1476eb35ab0f1387bbcb6cae11-911145597a73a28b-01 outer:exit 2b-c768fbbd28a97f1476eb35ab0f1387bbcb6cae11-8ebbdc285fbcc6f9-01
2021-09-23T17:21:12.350Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:12.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-f50127cd7655d883093c2e464aca0726cfe36923-aa564a2718ee85be-01 outer:exit 2b-f50127cd7655d883093c2e464aca0726cfe36923-1454daec7a8a20c1-01
2021-09-23T17:21:12.354Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:12.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-e06d0fc2f5b017c342243cc1f25b70ba1dc10973-00306895975b0cc9-01 outer:exit 2b-e06d0fc2f5b017c342243cc1f25b70ba1dc10973-50e5dca7c65adeb7-01
2021-09-23T17:21:12.358Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:12.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2a2328ea02de73698493d5524c38f546caa1366-4dfc9f21ca0040a5-01 outer:exit 2b-a2a2328ea02de73698493d5524c38f546caa1366-49895a9b7804db96-01
2021-09-23T17:21:12.364Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:12.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-643c1905a5b6fad6f1b28b158fd8b4444c394e5c-62cf9048a27056aa-01 outer:exit 2b-643c1905a5b6fad6f1b28b158fd8b4444c394e5c-f88d5d3783030029-01
2021-09-23T17:21:12.368Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:12.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-7abb29ec3b8c4d603a165ec8dd1c5240d0ef8002-8761bce3dc72df35-01 outer:exit 2b-7abb29ec3b8c4d603a165ec8dd1c5240d0ef8002-8f8d772596ad1aec-01
2021-09-23T17:21:12.372Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:12.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-1405b20efbe4e81ee6c0b846228b35c01b6f878e-9102b630bc28a79c-01 outer:exit 2b-1405b20efbe4e81ee6c0b846228b35c01b6f878e-599f04aef8bd3571-01
2021-09-23T17:21:12.374Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:12.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-851b924331c4cd3fb7953e99fa9f0a93886b94e0-a93ba1da744e91d8-01 outer:exit 2b-851b924331c4cd3fb7953e99fa9f0a93886b94e0-537929275f0576db-01
2021-09-23T17:21:12.377Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:12.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-360383f97a8524de5a0e43da5ff8ebc3a30d2590-8c1fe0f25b86e178-01 outer:exit 2b-360383f97a8524de5a0e43da5ff8ebc3a30d2590-92352cf3e264ceda-01
2021-09-23T17:21:12.381Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:12.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-befd1b79f229c75cda982b9f47a968cfeecb5600-2fbdaca0dc197369-01 outer:exit 2b-befd1b79f229c75cda982b9f47a968cfeecb5600-cd102e3e8a549179-01
2021-09-23T17:21:12.386Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:12.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b9df42ad10611f4214dd3dd69a230b811b3aeec-3569faa5e8d1a0ad-01 outer:exit 2b-8b9df42ad10611f4214dd3dd69a230b811b3aeec-2051c2fa11981d38-01
2021-09-23T17:21:12.393Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:12.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab73c35e36aff79957dab12342b8e99a45e2d315-b21bfe5974d96a1c-01 outer:exit 2b-ab73c35e36aff79957dab12342b8e99a45e2d315-964852bbaa262888-01
2021-09-23T17:21:12.408Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:12.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-54cff5e5c741c02ebe35dcb9712f1ed0450eb687-aeebf1a560293a7f-01 outer:exit 2b-54cff5e5c741c02ebe35dcb9712f1ed0450eb687-27af31e09ca6872b-01
2021-09-23T17:21:12.449Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:12.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-832a6906939b0571a3c89611fdecbfe284b3be97-c1083ed719b50e4f-01 outer:exit 2b-832a6906939b0571a3c89611fdecbfe284b3be97-ecdf39820bff8868-01
2021-09-23T17:21:12.452Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:12.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb050a523388eb1df2070a8ebacd6fa3c4b7258c-356a8d2e28901080-01 outer:exit 2b-eb050a523388eb1df2070a8ebacd6fa3c4b7258c-6e7e783e31e87592-01
2021-09-23T17:21:12.455Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:12.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0689701cecad2c5df7b9d2ca1d1e99ce2af69c8-26255dae02f7bd69-01 outer:exit 2b-f0689701cecad2c5df7b9d2ca1d1e99ce2af69c8-c1ab6da71f979d7b-01
2021-09-23T17:21:12.458Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:12.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-3651d0af823ac06da983c9e4bc0cc91cbc09c3ad-4289f3d4a7812111-01 outer:exit 2b-3651d0af823ac06da983c9e4bc0cc91cbc09c3ad-71ee84530a5eb517-01
2021-09-23T17:21:12.461Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:12.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e99d704d72bbaf1cd97f8cd5c70c7782c46e5bf-de650cfd54f9246b-01 outer:exit 2b-1e99d704d72bbaf1cd97f8cd5c70c7782c46e5bf-9ade44129cd9846c-01
2021-09-23T17:21:12.464Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:12.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-13202d21110d9f1850db69b4f9965a3ae3ee5887-938c3035d1eaa76d-01 outer:exit 2b-13202d21110d9f1850db69b4f9965a3ae3ee5887-6595b62d0502fcef-01
2021-09-23T17:21:12.467Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:12.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b4051a8d62cc4fe61dd3e428c3d38e3a0c29a12-6b1bf70b3ff10f81-01 outer:exit 2b-5b4051a8d62cc4fe61dd3e428c3d38e3a0c29a12-561824869a6bedc6-01
2021-09-23T17:21:12.470Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:12.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-993c6c8cb1a35295baef85ca6dedaf84988c143a-13b051dc22cc2db1-01 outer:exit 2b-993c6c8cb1a35295baef85ca6dedaf84988c143a-025a4a7c93540997-01
2021-09-23T17:21:12.473Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:12.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb94af70ffbbb92582a01f9eb4c528b9cf5a7745-0452a2bc9f3b445f-01 outer:exit 2b-bb94af70ffbbb92582a01f9eb4c528b9cf5a7745-d36983258ff8dbe2-01
2021-09-23T17:21:12.476Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:12.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-f983a19aa25427ad455f39e060c2789020cdec85-00ba1907af58e665-01 outer:exit 2b-f983a19aa25427ad455f39e060c2789020cdec85-2c0104a6c5a71215-01
2021-09-23T17:21:12.479Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:12.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa25304360a93d4720ef29f284f3b82bc5d4549b-63f8626759cf2b50-01 outer:exit 2b-fa25304360a93d4720ef29f284f3b82bc5d4549b-f961d250b5048835-01
2021-09-23T17:21:12.482Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:12.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-52912eb2ce94a53cc76541dc1407cd741afbe38a-7f908090fa028b68-01 outer:exit 2b-52912eb2ce94a53cc76541dc1407cd741afbe38a-d72586e729cea638-01
2021-09-23T17:21:12.485Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:12.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bf3be2604bdc224a01991820f5d5560a2673e2c-0dd9fc7b9e94a24c-01 outer:exit 2b-6bf3be2604bdc224a01991820f5d5560a2673e2c-9b64911ad1f56d8a-01
2021-09-23T17:21:12.493Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:12.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6a3aef8ca4f64ed1657d976ebec66e319fe5288-82905e48f7286c9b-01 outer:exit 2b-b6a3aef8ca4f64ed1657d976ebec66e319fe5288-d99504d8d5313a4e-01
2021-09-23T17:21:12.500Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:12.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3f4c53d428babdd417f677891c2fae5f3996596-e4458462e3d09044-01 outer:exit 2b-f3f4c53d428babdd417f677891c2fae5f3996596-be612ccb29c3a609-01
2021-09-23T17:21:12.510Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:12.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b7c21f26790a8f7db3e01ca9bfd01e4f387d8ee-0223133bca40c14e-01 outer:exit 2b-3b7c21f26790a8f7db3e01ca9bfd01e4f387d8ee-f8a770f606ee6127-01
2021-09-23T17:21:12.519Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:12.524Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1480bdec889dd611aea5089dd5d02928b488f00-d3f331b2ce36c858-01 outer:exit 2b-f1480bdec889dd611aea5089dd5d02928b488f00-ba4e14ca3e2416e9-01
2021-09-23T17:21:12.524Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:12.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-92daef67435e6d9b7d63175af700bdd7dce0fd4d-d83e7878376872b6-01 outer:exit 2b-92daef67435e6d9b7d63175af700bdd7dce0fd4d-9b842657be86e8ae-01
2021-09-23T17:21:12.532Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:12.544Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ffa1e9c617b56cf6830540dfc40051930d3916f-c875745ae96259b9-01 outer:exit 2b-0ffa1e9c617b56cf6830540dfc40051930d3916f-50352eb9108fadf8-01
2021-09-23T17:21:12.544Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:12.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ce0ee361c8d7ea5a45ab91dd728b097468b9dd2-d43541baa040566b-01 outer:exit 2b-9ce0ee361c8d7ea5a45ab91dd728b097468b9dd2-a342dbc7547e3273-01
2021-09-23T17:21:12.546Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:12.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a2e4eb915856bae50578a6f31bf6f2ad16fa1aa-b487e978aaccf8ff-01 outer:exit 2b-6a2e4eb915856bae50578a6f31bf6f2ad16fa1aa-99ecd4acd06524cf-01
2021-09-23T17:21:12.549Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:12.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f314e854332e8dc86ac9644733783ce74afe5bd-eee8c5a8d0cae20f-01 outer:exit 2b-9f314e854332e8dc86ac9644733783ce74afe5bd-12b21e12937ca926-01
2021-09-23T17:21:12.551Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:12.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14d5ee46b132654cd27b58d8b130fc2b0297f61-6bf2d190133a5141-01 outer:exit 2b-f14d5ee46b132654cd27b58d8b130fc2b0297f61-fe9752a1d624701d-01
2021-09-23T17:21:12.553Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:12.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-064303fa6775a245b384d60e07b9a8662ecdcb37-adc1711068b9d435-01 outer:exit 2b-064303fa6775a245b384d60e07b9a8662ecdcb37-0cd3ff47f33b4562-01
2021-09-23T17:21:12.555Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:12.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-b30b0abbf98610620616e3b462930951db76b618-fb67fb1339657970-01 outer:exit 2b-b30b0abbf98610620616e3b462930951db76b618-90c8c67091f4e7b4-01
2021-09-23T17:21:12.566Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:12.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1dd3abd9f4c929e0f72001265caf5f3e8ad6a25-f2d93c18397455bb-01 outer:exit 2b-b1dd3abd9f4c929e0f72001265caf5f3e8ad6a25-5a10bd838144e621-01
2021-09-23T17:21:12.576Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:12.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-2473c79e6012b17bfb5c66e097a53405b9b935da-9efdb7f86a7db6b3-01 outer:exit 2b-2473c79e6012b17bfb5c66e097a53405b9b935da-6d1faf21b14f8799-01
2021-09-23T17:21:12.579Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:12.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b44c5a2489e9b2ed35c9b8f4de9207cf4955474-834e25fb09b9cc37-01 outer:exit 2b-3b44c5a2489e9b2ed35c9b8f4de9207cf4955474-f975ef841c592884-01
2021-09-23T17:21:12.582Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:12.586Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9f6aa25cba2165da2af9ff8c725c8d739cb44d0-7b5a0a4d79068825-01 outer:exit 2b-e9f6aa25cba2165da2af9ff8c725c8d739cb44d0-271f5c840d04e269-01
2021-09-23T17:21:12.586Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:12.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3fb07390930883f1849d0af44899240710bf386-1661e53aaa1af4eb-01 outer:exit 2b-c3fb07390930883f1849d0af44899240710bf386-1a03f4cee722da7b-01
2021-09-23T17:21:12.615Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (409ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.12
updated 1 package and audited 1098 packages in 6.2s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:20.087Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:20.088Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:20.088Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:20.089Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:20.154Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:20.201Z appoptics:patching patched crypto 
2021-09-23T17:21:20.223Z appoptics:patching patched https 
2021-09-23T17:21:20.223Z appoptics:patching patched http 
2021-09-23T17:21:20.274Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:20.275Z appoptics:patching patched fs 
2021-09-23T17:21:20.297Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v14.17.6)
2021-09-23T17:21:20.309Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2021-09-23T17:21:20.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-623a513cec81ac95d65e3642ece8adb42d907fbd-37b5bb1e0cedafce-01 outer:exit 2b-623a513cec81ac95d65e3642ece8adb42d907fbd-a40a737926a576b8-01
2021-09-23T17:21:20.700Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:20.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1522fa99bc30b14bed7562655331f7884cdcca3-562840918fc58ccb-01 outer:exit 2b-c1522fa99bc30b14bed7562655331f7884cdcca3-c0d05490cd01a111-01
2021-09-23T17:21:20.738Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:20.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbb08fcfc78e62aa7601e9c513689db26a5bf808-2c24e7a2d4e91af7-01 outer:exit 2b-bbb08fcfc78e62aa7601e9c513689db26a5bf808-9f09ab89359b8d55-01
2021-09-23T17:21:20.742Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:20.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb205930fc5bc1a3948cc76906d9880c9e5f2dc3-656f8d7e998f4d2f-01 outer:exit 2b-eb205930fc5bc1a3948cc76906d9880c9e5f2dc3-5adbf76378a416aa-01
2021-09-23T17:21:20.746Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:20.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-322c46382559de6249e964b2d1a8fb436448de5f-8638dc7e9643aea8-01 outer:exit 2b-322c46382559de6249e964b2d1a8fb436448de5f-4719568564655191-01
2021-09-23T17:21:20.752Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:20.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-a577a46a8d827d1e1662b1d5cc8e9b3c8a4967b1-7c68875232f9980f-01 outer:exit 2b-a577a46a8d827d1e1662b1d5cc8e9b3c8a4967b1-15d41d9e5a5e288a-01
2021-09-23T17:21:20.757Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:20.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-31c1269f44484e118a082a9bc49d0091e129607f-a62da39b8def0d53-01 outer:exit 2b-31c1269f44484e118a082a9bc49d0091e129607f-1b535e98a7346f33-01
2021-09-23T17:21:20.761Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:20.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4be5bfdbf1c8aeba6e6d24d76590fa829d0ad6b-4bdaf54744bbc8cd-01 outer:exit 2b-c4be5bfdbf1c8aeba6e6d24d76590fa829d0ad6b-45cafbded3fcad77-01
2021-09-23T17:21:20.764Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:20.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-2126d715d44b698eaee17ad38c38b8d6517d297e-2ff41a2a6e7c9985-01 outer:exit 2b-2126d715d44b698eaee17ad38c38b8d6517d297e-1572dc4e11b8ba19-01
2021-09-23T17:21:20.767Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:20.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2a29e9836690233c9ae21a10dcc1ff054859836-aff4369e0a5324d7-01 outer:exit 2b-b2a29e9836690233c9ae21a10dcc1ff054859836-b9126c22d4e3ff8e-01
2021-09-23T17:21:20.772Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:20.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ca6061e9b1d7042b26b0602f979bf72198fefd4-396644e776ca7fd9-01 outer:exit 2b-6ca6061e9b1d7042b26b0602f979bf72198fefd4-beb75429d92ae84e-01
2021-09-23T17:21:20.779Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:20.817Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e2e3825f1b69fd24cd93e621a33dffdfdb738a1-32793df73d2bfae7-01 outer:exit 2b-8e2e3825f1b69fd24cd93e621a33dffdfdb738a1-78a6c5f79d8023b3-01
2021-09-23T17:21:20.817Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:20.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-f156ffeee2b356dad241d6a9cc438fb395e90fe3-74ba6b7fadf02ed4-01 outer:exit 2b-f156ffeee2b356dad241d6a9cc438fb395e90fe3-ba651f64167f1d3c-01
2021-09-23T17:21:20.835Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:20.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4aaf24d32e8561720ca085b0b0bc9b60e77e631-08b4ad237bfc7f8f-01 outer:exit 2b-b4aaf24d32e8561720ca085b0b0bc9b60e77e631-75ff9c59afed1185-01
2021-09-23T17:21:20.896Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:20.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-588423d9e631545e193a6d7318c9b088fb44e7de-a7a44c20f2e111f4-01 outer:exit 2b-588423d9e631545e193a6d7318c9b088fb44e7de-07bebbe4315f5bd0-01
2021-09-23T17:21:20.900Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:20.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-64ac7a5d00afcd899a4d6fae8306a18515e23202-78fcb05b24896b7d-01 outer:exit 2b-64ac7a5d00afcd899a4d6fae8306a18515e23202-0777f83b46be752b-01
2021-09-23T17:21:20.903Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:20.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c85414455500e75b2b57b9569bf47cf86cf486d-726f1204c0afb443-01 outer:exit 2b-5c85414455500e75b2b57b9569bf47cf86cf486d-28f7e4e5630509dd-01
2021-09-23T17:21:20.906Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:20.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-89683f60148b05cb09c76010d8f1ac684e8b535c-3acf5232521ae87e-01 outer:exit 2b-89683f60148b05cb09c76010d8f1ac684e8b535c-d537b11b8cc5af05-01
2021-09-23T17:21:20.910Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:20.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee86666b78d99c20c66c9479607f481a3e43c0c5-28241263c44b25b9-01 outer:exit 2b-ee86666b78d99c20c66c9479607f481a3e43c0c5-d74ef08420f65ec7-01
2021-09-23T17:21:20.912Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:20.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-acb0dd89fad79664f4d4c0d59eafa3b6aaee5ea8-9cff6702b1c61879-01 outer:exit 2b-acb0dd89fad79664f4d4c0d59eafa3b6aaee5ea8-5a5ce67df92d9eb1-01
2021-09-23T17:21:20.915Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:20.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-2db16ce47879ea74f7dd5d103d500aaf7fda6e63-5ce83658033f295b-01 outer:exit 2b-2db16ce47879ea74f7dd5d103d500aaf7fda6e63-a35fd7b9f3c108d1-01
2021-09-23T17:21:20.917Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:20.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aeffa2971528d1c43f29d44a7282a98f8ed06c8-d23463fd779ffa7e-01 outer:exit 2b-8aeffa2971528d1c43f29d44a7282a98f8ed06c8-50a75bbf329526c6-01
2021-09-23T17:21:20.920Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:20.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d385dd7f9e1e8c7e805aa2a4a644427d2baf3c-f0e209aeeae75447-01 outer:exit 2b-86d385dd7f9e1e8c7e805aa2a4a644427d2baf3c-01117ae9329f0676-01
2021-09-23T17:21:20.923Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:20.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1fccba755acdbd88da52c183abf19b16b6a8cc8-7ed27b37c959ea43-01 outer:exit 2b-f1fccba755acdbd88da52c183abf19b16b6a8cc8-40777533be36af5c-01
2021-09-23T17:21:20.926Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:20.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-6867e5c094e9240b3b6c9d55f482a7da2bb4d9da-cde7007d3f342986-01 outer:exit 2b-6867e5c094e9240b3b6c9d55f482a7da2bb4d9da-93da14b18f2f33d1-01
2021-09-23T17:21:20.930Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:20.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-2845791c791beb1ce84a1ba5651fb47eba037c75-aed846daacee8fb8-01 outer:exit 2b-2845791c791beb1ce84a1ba5651fb47eba037c75-5a84151428d9535a-01
2021-09-23T17:21:20.932Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:20.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f749e3af136d9e45a85f1c1f425daa98ba70e83-e7f2d8c000d43e50-01 outer:exit 2b-2f749e3af136d9e45a85f1c1f425daa98ba70e83-2dc8cc26669c4a6f-01
2021-09-23T17:21:20.957Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:20.983Z appoptics:debug span.exit - no last event outer outer:entry 2b-86faf26fbcc091b5180e84307c85cb6abb245c95-eae075c1330b0248-01 outer:exit 2b-86faf26fbcc091b5180e84307c85cb6abb245c95-63acc03122f80df4-01
2021-09-23T17:21:20.983Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:20.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-a55e9bf351e3fe3bd176a92253769072a6b82621-75f21d87059526ba-01 outer:exit 2b-a55e9bf351e3fe3bd176a92253769072a6b82621-37c178401550f8b5-01
2021-09-23T17:21:20.993Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:21.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff881771d0a42be32cd15a126603e92c8d716314-0e91f62212b5681e-01 outer:exit 2b-ff881771d0a42be32cd15a126603e92c8d716314-edae8da9d54ce718-01
2021-09-23T17:21:21.007Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:21.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-68665301f3c5bb10378cc6af4b45f3dab1292067-4e7c83d5786933a5-01 outer:exit 2b-68665301f3c5bb10378cc6af4b45f3dab1292067-4b9137604cd87b9c-01
2021-09-23T17:21:21.015Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:21.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab6b3b984b3aa7c029d10b0953aa199b5cb431ac-a8f0ae90c953ff3d-01 outer:exit 2b-ab6b3b984b3aa7c029d10b0953aa199b5cb431ac-8672dd4e8741a378-01
2021-09-23T17:21:21.029Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:21.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-705fdba06c8ad22de008d1633f73061083a3a011-91ac031fabfb6774-01 outer:exit 2b-705fdba06c8ad22de008d1633f73061083a3a011-54a7165f7a5fb9c4-01
2021-09-23T17:21:21.054Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:21.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-55cae74bf196798822f5365be7434c0ccfaa8063-aef46a5fa6d22dd1-01 outer:exit 2b-55cae74bf196798822f5365be7434c0ccfaa8063-ea9eb61d69ea76d0-01
2021-09-23T17:21:21.058Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:21.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-87c5a2e8f16b7b809e0931133fd6f24413f173ef-6a214e3969f2a4cd-01 outer:exit 2b-87c5a2e8f16b7b809e0931133fd6f24413f173ef-fe5fbd1d5802ff52-01
2021-09-23T17:21:21.063Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:21.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f84558baa72f645b12a17d6258ce96047159236-2b7ed4d5c38d37cb-01 outer:exit 2b-8f84558baa72f645b12a17d6258ce96047159236-c88ac52663f130f3-01
2021-09-23T17:21:21.066Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:21.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2ea6b4f5af97f94803ececd917f0140ee080f06-1d7b264072ccb008-01 outer:exit 2b-b2ea6b4f5af97f94803ececd917f0140ee080f06-00afe604a49fafb6-01
2021-09-23T17:21:21.068Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:21.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-039b6c4de5858e069ac8f300e73aa7c90ef51aff-b9fb5fd99325c03d-01 outer:exit 2b-039b6c4de5858e069ac8f300e73aa7c90ef51aff-ebff7963f8f402b2-01
2021-09-23T17:21:21.071Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:21.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4c3818c4766e42acb1a2e225c568b9a7a650890-b7eb5e4f537335f3-01 outer:exit 2b-f4c3818c4766e42acb1a2e225c568b9a7a650890-8ff23d13704b1bca-01
2021-09-23T17:21:21.083Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:21.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bb496979c2a1f8026154386a7f7ff89927c6212-a68d4ca5d07d7d42-01 outer:exit 2b-2bb496979c2a1f8026154386a7f7ff89927c6212-b40069eeff56bdf6-01
2021-09-23T17:21:21.094Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:21.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8eac6d23a47370641c3d2792cf1db8d21bea6f4-dea677ba126a2489-01 outer:exit 2b-e8eac6d23a47370641c3d2792cf1db8d21bea6f4-a932fb0a072f594d-01
2021-09-23T17:21:21.099Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:21.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-7391a8a5ed4d9a0ff0b2d0918db52fd5047e2346-4f0bff5c69cb4284-01 outer:exit 2b-7391a8a5ed4d9a0ff0b2d0918db52fd5047e2346-3b83c6d1580e7357-01
2021-09-23T17:21:21.103Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:21.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9fcafc4bcaa892c50483416a081abcf0ed4e6ff-d2529d8e9eaec59e-01 outer:exit 2b-d9fcafc4bcaa892c50483416a081abcf0ed4e6ff-1027fbeab945afb6-01
2021-09-23T17:21:21.120Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:21.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-f977b78ff98940a7241b17a18e23d3d654fef0bd-2c90b6ffc6faadbc-01 outer:exit 2b-f977b78ff98940a7241b17a18e23d3d654fef0bd-1a0cec3c40875f1f-01
2021-09-23T17:21:21.157Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (564ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.13
updated 1 package and audited 1098 packages in 6.151s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:28.780Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:28.781Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:28.781Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:28.781Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:28.849Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:28.898Z appoptics:patching patched crypto 
2021-09-23T17:21:28.921Z appoptics:patching patched https 
2021-09-23T17:21:28.921Z appoptics:patching patched http 
2021-09-23T17:21:28.968Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:28.968Z appoptics:patching patched fs 
2021-09-23T17:21:28.983Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v14.17.6)
2021-09-23T17:21:28.990Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2021-09-23T17:21:29.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-258c9e3a89c9c4a0aace0c6843f1c8e3a80b9889-4afcb4af76ed013a-01 outer:exit 2b-258c9e3a89c9c4a0aace0c6843f1c8e3a80b9889-e9fb38344d624ac4-01
2021-09-23T17:21:29.207Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:29.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4edd6f657787075e7fa6b43d23c2aed2d53974a-ea5de2dab91bf966-01 outer:exit 2b-c4edd6f657787075e7fa6b43d23c2aed2d53974a-90d7a67aa6ce5ec0-01
2021-09-23T17:21:29.249Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:29.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ffd05c82279fd7d5d8b6051590811e6e9e22ce0-4483904bec85cad0-01 outer:exit 2b-2ffd05c82279fd7d5d8b6051590811e6e9e22ce0-e6543c609d2c739b-01
2021-09-23T17:21:29.253Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:29.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa586823f9a7071ece83124163761c1f6c609154-853d70cbf0c99229-01 outer:exit 2b-aa586823f9a7071ece83124163761c1f6c609154-322bb4abf2516dba-01
2021-09-23T17:21:29.256Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:29.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-def63be17a67caaf472f5936f576a39eed7004a4-c4e6a567a9392ca8-01 outer:exit 2b-def63be17a67caaf472f5936f576a39eed7004a4-8ac1ee16190be1d0-01
2021-09-23T17:21:29.262Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:29.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-869cf13d1e624448eb49799edc016b6a15b717fa-794ddb12ecb022e8-01 outer:exit 2b-869cf13d1e624448eb49799edc016b6a15b717fa-c19ce723480f5ebf-01
2021-09-23T17:21:29.266Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:29.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf23ee9f910b2dfa68bf04b334550f73db0971a2-d0510996f9ed8067-01 outer:exit 2b-cf23ee9f910b2dfa68bf04b334550f73db0971a2-5ac923f4f3ee844e-01
2021-09-23T17:21:29.270Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:29.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ccaf0c51d5d8b5d902b443734b1c828a81198af-87718c6ace4b5ba7-01 outer:exit 2b-3ccaf0c51d5d8b5d902b443734b1c828a81198af-047bafa3cf813514-01
2021-09-23T17:21:29.274Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:29.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a9b3c2192141db1938f3538fe48511bd56a113d-5cb28ae2e499293d-01 outer:exit 2b-1a9b3c2192141db1938f3538fe48511bd56a113d-0165264d69c216a3-01
2021-09-23T17:21:29.277Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:29.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-8820c5b05f3b59b66ca12a3394f3272243cec72e-ef51ac318c096e2d-01 outer:exit 2b-8820c5b05f3b59b66ca12a3394f3272243cec72e-f391dc39f388bae2-01
2021-09-23T17:21:29.281Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:29.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fcaa5c8f0dbf7d3270e84700669fe8a6fa57800-26b72e8abcd3253e-01 outer:exit 2b-0fcaa5c8f0dbf7d3270e84700669fe8a6fa57800-1af2b8f8c87707b4-01
2021-09-23T17:21:29.287Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:29.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-f766b6110eb431ecbc9c46855046a6a2e6745018-e19811b51426b7a0-01 outer:exit 2b-f766b6110eb431ecbc9c46855046a6a2e6745018-318b56e940c98ca5-01
2021-09-23T17:21:29.294Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:29.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1f9a66f97f72acf93e9450e52c914d616f547c8-1b51002d770fe30a-01 outer:exit 2b-b1f9a66f97f72acf93e9450e52c914d616f547c8-79c96a74eaecc625-01
2021-09-23T17:21:29.308Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:29.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-2493fd10947e464aabc8e3e91479a1f761a38c57-424eb142b0e0a974-01 outer:exit 2b-2493fd10947e464aabc8e3e91479a1f761a38c57-764ac25b5421da84-01
2021-09-23T17:21:29.347Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:29.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e5e1721db4d6ed0033c32dc3ebb50fe15a33cb2-668d02b194bfd328-01 outer:exit 2b-0e5e1721db4d6ed0033c32dc3ebb50fe15a33cb2-0605819155ca83f9-01
2021-09-23T17:21:29.351Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:29.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d65579839538676138f81ec13f16e249636656e-fa676030260bffab-01 outer:exit 2b-6d65579839538676138f81ec13f16e249636656e-352a6b47d1b6e83a-01
2021-09-23T17:21:29.354Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:29.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-53c2b4cc50254f7d422160e64754d0059e211637-72ff92d00ae00a88-01 outer:exit 2b-53c2b4cc50254f7d422160e64754d0059e211637-6279db5583baea0d-01
2021-09-23T17:21:29.357Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:29.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-05aa019ed393eb825197370f1b2ed97e53ae5cca-1088e3f2306dc7a7-01 outer:exit 2b-05aa019ed393eb825197370f1b2ed97e53ae5cca-5aaf2413fe353245-01
2021-09-23T17:21:29.360Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:29.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-59808907590bc742105255d3d6353ea38f53fa32-30db2b2623ac3e71-01 outer:exit 2b-59808907590bc742105255d3d6353ea38f53fa32-1d4b79fd68e3d6c4-01
2021-09-23T17:21:29.363Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:29.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-941822c334f1a76f236aa55a21cb86104008109b-442e64862b7e3fb9-01 outer:exit 2b-941822c334f1a76f236aa55a21cb86104008109b-ee872245e385d157-01
2021-09-23T17:21:29.366Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:29.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb08443e2b88bca4bbb788439d768ad7ee1bdf0d-562a6ca1e6471e99-01 outer:exit 2b-bb08443e2b88bca4bbb788439d768ad7ee1bdf0d-dd36b2cac44ed57d-01
2021-09-23T17:21:29.368Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:29.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-215a16bea81edc6f5a84f44c9dc0a1484f331be0-918cb321cb164ace-01 outer:exit 2b-215a16bea81edc6f5a84f44c9dc0a1484f331be0-a34ff377a95c4395-01
2021-09-23T17:21:29.371Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:29.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-819d4504b9ad7628cb7e7c4aa4b5d1bf87220d8d-386bd63727e28748-01 outer:exit 2b-819d4504b9ad7628cb7e7c4aa4b5d1bf87220d8d-4e7d76630b2081f9-01
2021-09-23T17:21:29.374Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:29.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-19f8f19b7e9f2b7cb3fd271bed4a0483e941e1c7-bd50fab290d9931c-01 outer:exit 2b-19f8f19b7e9f2b7cb3fd271bed4a0483e941e1c7-fa8e51cae56ebf17-01
2021-09-23T17:21:29.378Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:29.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-53741c4da358d9bb5187c16c7261226314828105-44d75756ea16c61e-01 outer:exit 2b-53741c4da358d9bb5187c16c7261226314828105-a28ad37e9f8b525b-01
2021-09-23T17:21:29.381Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:29.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d630f28f8739d9ab6406ce7c804391287f6c776-ba15b00106f40c73-01 outer:exit 2b-0d630f28f8739d9ab6406ce7c804391287f6c776-1e9bd6836189cc1b-01
2021-09-23T17:21:29.384Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:29.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa6769fcb7c71a7564c6591df7f8b1903d9b9b4e-aadd4fa55b2d3568-01 outer:exit 2b-aa6769fcb7c71a7564c6591df7f8b1903d9b9b4e-23e142ed8b8a324c-01
2021-09-23T17:21:29.392Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:29.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc054e36c15cf326ace4ca908f7e9f7c041df381-3afef6ac464e7204-01 outer:exit 2b-dc054e36c15cf326ace4ca908f7e9f7c041df381-5c7a78dffb671495-01
2021-09-23T17:21:29.397Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:29.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-70222a94c03b2512722aa2bafd9f6898f1104636-cb2dc9a55e9812e1-01 outer:exit 2b-70222a94c03b2512722aa2bafd9f6898f1104636-c842390e60fd8f5d-01
2021-09-23T17:21:29.407Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:29.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-95cc4da6bde26e458bef467bd2da33c90eea2354-876f365f3eb5a2ce-01 outer:exit 2b-95cc4da6bde26e458bef467bd2da33c90eea2354-96842a181e7a52fb-01
2021-09-23T17:21:29.432Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:29.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-c36e41a20ef498ff02717a39d20071943fed94e3-91c480fb74aaaafc-01 outer:exit 2b-c36e41a20ef498ff02717a39d20071943fed94e3-bf4d101d893424f5-01
2021-09-23T17:21:29.435Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:29.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c8d7eb4e00b40e32becb36649b05298932f8bb2-924d454d8a5fc291-01 outer:exit 2b-1c8d7eb4e00b40e32becb36649b05298932f8bb2-9c30a8600d2365ca-01
2021-09-23T17:21:29.439Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:29.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d8f38bea40892b4f7d893da34332d4f5f3187f0-2644480f553ff01c-01 outer:exit 2b-6d8f38bea40892b4f7d893da34332d4f5f3187f0-6cb4fc63f9729562-01
2021-09-23T17:21:29.446Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:29.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f9d91f09a86ecc857d8d787bb2feef8bad88104-33641d351dbe341c-01 outer:exit 2b-9f9d91f09a86ecc857d8d787bb2feef8bad88104-3854893cf6ff76f8-01
2021-09-23T17:21:29.449Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:29.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-92e84776cd04e6563602ff75d551a4b8018426fe-5fe75591b6079328-01 outer:exit 2b-92e84776cd04e6563602ff75d551a4b8018426fe-34d5f8fc47a4382f-01
2021-09-23T17:21:29.452Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:29.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0ebe173412037ad7fc5c847732d76e91f9d3210-55e9cc76bd19fb8f-01 outer:exit 2b-a0ebe173412037ad7fc5c847732d76e91f9d3210-916bdbdb94dcc2e4-01
2021-09-23T17:21:29.454Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:29.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-05a69df81cbd9b906328d9fb67e5696c10868588-19e7600376e87a5e-01 outer:exit 2b-05a69df81cbd9b906328d9fb67e5696c10868588-35babc7cd80aeb58-01
2021-09-23T17:21:29.457Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:29.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-b225876e20bc4a9843623abf5d27fda959f921a2-23d8a1fedb66f7f2-01 outer:exit 2b-b225876e20bc4a9843623abf5d27fda959f921a2-6782cb1b4c918961-01
2021-09-23T17:21:29.459Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:29.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf324c37566fa22fe385dbb644a4257b3389efa7-3ee5adbe9c1274c4-01 outer:exit 2b-bf324c37566fa22fe385dbb644a4257b3389efa7-abd66af421c0095b-01
2021-09-23T17:21:29.470Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:29.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4b080ec9846f80b435e37af9bf7cec78a90e0fc-0764a6422f9a7d9c-01 outer:exit 2b-a4b080ec9846f80b435e37af9bf7cec78a90e0fc-47e6113f9f4048b2-01
2021-09-23T17:21:29.479Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:29.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-638ab6b6813730f91ae5a9e955c44eda0d8360ef-bf2210d0ccc655fb-01 outer:exit 2b-638ab6b6813730f91ae5a9e955c44eda0d8360ef-e3848635a6fc77ad-01
2021-09-23T17:21:29.482Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:29.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd440442ca66ab5c56de07b2eb2a451c0f6e959-9ce3ec4fe31b0e66-01 outer:exit 2b-6dd440442ca66ab5c56de07b2eb2a451c0f6e959-40f06691e65c0d56-01
2021-09-23T17:21:29.485Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:29.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-9273b522e171848e66409473e29e337d2a810d39-ba986849af3acd71-01 outer:exit 2b-9273b522e171848e66409473e29e337d2a810d39-addbfbaad1549689-01
2021-09-23T17:21:29.488Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:29.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e9e8fd29934389d534ac89a24d4c64d15b70fb0-279d9325d11089d0-01 outer:exit 2b-1e9e8fd29934389d534ac89a24d4c64d15b70fb0-50a2fb20c7f457b5-01
2021-09-23T17:21:29.518Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (351ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.0.14
updated 1 package and audited 1098 packages in 5.79s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:36.491Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:36.492Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:36.492Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:36.492Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:36.557Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:36.605Z appoptics:patching patched crypto 
2021-09-23T17:21:36.627Z appoptics:patching patched https 
2021-09-23T17:21:36.627Z appoptics:patching patched http 
2021-09-23T17:21:36.674Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:36.674Z appoptics:patching patched fs 
2021-09-23T17:21:36.689Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v14.17.6)
2021-09-23T17:21:36.696Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2021-09-23T17:21:36.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f2a3542918b7dc195f9e9c7dc44d8258c9ea9cc-a57e165159a664eb-01 outer:exit 2b-8f2a3542918b7dc195f9e9c7dc44d8258c9ea9cc-55ec9fc17e195624-01
2021-09-23T17:21:36.906Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:36.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1b538acd88b78e285672822a66f151880582124-60fdc15ed09a7e16-01 outer:exit 2b-e1b538acd88b78e285672822a66f151880582124-ea1754bcc7385546-01
2021-09-23T17:21:36.945Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:36.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-00644771307e8a3b344e8930763bf930360c2848-5d14bde122504bb2-01 outer:exit 2b-00644771307e8a3b344e8930763bf930360c2848-7998d617f30aaf92-01
2021-09-23T17:21:36.948Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:36.952Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a64b566a6804262c503b2ad6cf83366b3d5e8a-2daa176e3d474970-01 outer:exit 2b-77a64b566a6804262c503b2ad6cf83366b3d5e8a-32a01a9040d1bd8f-01
2021-09-23T17:21:36.952Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:36.958Z appoptics:debug span.exit - no last event outer outer:entry 2b-811acaeb4c6c565234e27a94a89c8df3564971dd-cc3496f865b5965b-01 outer:exit 2b-811acaeb4c6c565234e27a94a89c8df3564971dd-9563301c462062a8-01
2021-09-23T17:21:36.958Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:36.962Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f2c0b7cf0a7553ab79c781c577146b2b7d60639-032582cc6934c2dc-01 outer:exit 2b-7f2c0b7cf0a7553ab79c781c577146b2b7d60639-fcff0483ee81ac1a-01
2021-09-23T17:21:36.962Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:36.965Z appoptics:debug span.exit - no last event outer outer:entry 2b-64482207a3aac6f6f4021746069c64fe7c64f864-640442f8c9f8db03-01 outer:exit 2b-64482207a3aac6f6f4021746069c64fe7c64f864-f6ed5d83e21a1e68-01
2021-09-23T17:21:36.965Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:36.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cdaec16bf99a988174cdeeded60c2249e62d122-d4415bf47f973553-01 outer:exit 2b-8cdaec16bf99a988174cdeeded60c2249e62d122-447dbfd05f339f23-01
2021-09-23T17:21:36.969Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:36.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-9358b614974201df53d23d62d720bd8fe3a29798-d4178266bbdfe34a-01 outer:exit 2b-9358b614974201df53d23d62d720bd8fe3a29798-af05f6812e719b35-01
2021-09-23T17:21:36.973Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:36.977Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd0c7286e5e50ee0f28be45b90d7abaecddf216b-2f8c1b2db387e11d-01 outer:exit 2b-bd0c7286e5e50ee0f28be45b90d7abaecddf216b-e618a7ef37800712-01
2021-09-23T17:21:36.977Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:36.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-699b3bcf1bfa40b9951bc76fa8eaf9b53cd33025-9156df3c6ee0037f-01 outer:exit 2b-699b3bcf1bfa40b9951bc76fa8eaf9b53cd33025-fe73ff62914967bc-01
2021-09-23T17:21:36.982Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:36.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-03b9030fe09fec1d3592a57f2d5039b4a0f64150-9a7a11cefda9bf7d-01 outer:exit 2b-03b9030fe09fec1d3592a57f2d5039b4a0f64150-53efcca27e46dab3-01
2021-09-23T17:21:36.989Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:37.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-329b08f3010b4d7c391e731ad365dcfbc06143c8-a4369e06a2f20b68-01 outer:exit 2b-329b08f3010b4d7c391e731ad365dcfbc06143c8-b828ded1f6a5cee3-01
2021-09-23T17:21:37.007Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:37.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfdf58467c0d5ed7a24786b7f3308404a933c715-db0b98c3408cab66-01 outer:exit 2b-bfdf58467c0d5ed7a24786b7f3308404a933c715-7c3f9aea2fc9a2ec-01
2021-09-23T17:21:37.045Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:37.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ac49fae882d407775da6684ba601272d7f94759-52781e00ee61578d-01 outer:exit 2b-4ac49fae882d407775da6684ba601272d7f94759-27337528784feeb1-01
2021-09-23T17:21:37.048Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:37.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a1853e6b466ea2454df11faff85b1f713b2d6da-ad765ac21f4a5a4f-01 outer:exit 2b-1a1853e6b466ea2454df11faff85b1f713b2d6da-fd48ab2ef18d5e58-01
2021-09-23T17:21:37.051Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:37.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-b20f217a504a6e0fc796d13ff695b78383684bff-699b54ea5bcdd5c7-01 outer:exit 2b-b20f217a504a6e0fc796d13ff695b78383684bff-f8198f2dcef93dad-01
2021-09-23T17:21:37.059Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:37.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-359befc2a38990b7e241af9b13e9e1440088d57b-f2d0321523cd97ba-01 outer:exit 2b-359befc2a38990b7e241af9b13e9e1440088d57b-9428b8f2f6ad0343-01
2021-09-23T17:21:37.062Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:37.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea423c719143f794fe97663e50a3ca57376109a0-539ebefaf6c96f76-01 outer:exit 2b-ea423c719143f794fe97663e50a3ca57376109a0-70b6ded1b56b8539-01
2021-09-23T17:21:37.065Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:37.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-96e5b3c299623e8de317bf02a5dbdc7213cf3d1c-952b0ba14ddc0d40-01 outer:exit 2b-96e5b3c299623e8de317bf02a5dbdc7213cf3d1c-a9012be39a70beb0-01
2021-09-23T17:21:37.068Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:37.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-31b42029edc687f8ede92036a34a53efeeed7a84-395f4617fb2ed50d-01 outer:exit 2b-31b42029edc687f8ede92036a34a53efeeed7a84-fa842e8e02eb0e48-01
2021-09-23T17:21:37.071Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:37.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9d12249017a5663d4a8d89bf5259fe3f6c5acf1-d872ed62c6d8dc49-01 outer:exit 2b-b9d12249017a5663d4a8d89bf5259fe3f6c5acf1-c6ad3b820273f150-01
2021-09-23T17:21:37.074Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:37.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-73af4d451dceb9d8fc7839604927ab64265634b9-43c3168efbe45d62-01 outer:exit 2b-73af4d451dceb9d8fc7839604927ab64265634b9-a7d10ee6800b9c9a-01
2021-09-23T17:21:37.077Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:37.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-901a57791c818f4235f64507cca52a58cc38bade-c6d7e8f0f312e6a8-01 outer:exit 2b-901a57791c818f4235f64507cca52a58cc38bade-55149b18c17f240f-01
2021-09-23T17:21:37.083Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:37.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-60d5559eca753de17bf7c475dd979bf244392eea-370bc87a1d831f94-01 outer:exit 2b-60d5559eca753de17bf7c475dd979bf244392eea-ea3029d79deb5c2f-01
2021-09-23T17:21:37.086Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:37.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c26202e05d1445585560b478d873801d5406d21-7d492ede53810532-01 outer:exit 2b-8c26202e05d1445585560b478d873801d5406d21-dadd7a45225cbf78-01
2021-09-23T17:21:37.089Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:37.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f0ea28265cbdeb7504666762a25bd0a2e7f9bab-77acb178ffe3e304-01 outer:exit 2b-6f0ea28265cbdeb7504666762a25bd0a2e7f9bab-8e31619f91f2d952-01
2021-09-23T17:21:37.097Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:37.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-199d6ec76756473d5628a9bc781dfb5a6c48b92f-7ec251b4c5f61e21-01 outer:exit 2b-199d6ec76756473d5628a9bc781dfb5a6c48b92f-db2b6d3462718b4c-01
2021-09-23T17:21:37.102Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:37.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-31693a7735b8b66d1a9b1afd049096bcf29f1570-85d937d7e116e433-01 outer:exit 2b-31693a7735b8b66d1a9b1afd049096bcf29f1570-f9766a8609cb9112-01
2021-09-23T17:21:37.111Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:37.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-16a1c0b54c0995d49724f3feb57b014fa61d682a-579926026b22ac8f-01 outer:exit 2b-16a1c0b54c0995d49724f3feb57b014fa61d682a-1cf0d29461c91de3-01
2021-09-23T17:21:37.119Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:37.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f95d6ce0f45d30a1d2a8560276efae5f574a750-f5ccc04d11b96237-01 outer:exit 2b-0f95d6ce0f45d30a1d2a8560276efae5f574a750-d5d16ca1e7d04e97-01
2021-09-23T17:21:37.126Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:37.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-972f035001e31c01ad22c55259d5fb51b94ba6b9-ee5763e7d4e29b3e-01 outer:exit 2b-972f035001e31c01ad22c55259d5fb51b94ba6b9-fd1fd427dd9ccd14-01
2021-09-23T17:21:37.134Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:37.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-615a3db2acaae1a4e5afa523a07973114613cbdb-b10a9ada176dd3ed-01 outer:exit 2b-615a3db2acaae1a4e5afa523a07973114613cbdb-00b513b9093a497b-01
2021-09-23T17:21:37.150Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:37.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-68e8b447beeb401b9c3462bbfa8ad58a8320e408-97073858643ef5de-01 outer:exit 2b-68e8b447beeb401b9c3462bbfa8ad58a8320e408-a82f58e9cd4a0758-01
2021-09-23T17:21:37.153Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:37.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-4394460e3c984e447c7a2c906c4bcc3e202b83b0-5995e29fc903ae4d-01 outer:exit 2b-4394460e3c984e447c7a2c906c4bcc3e202b83b0-4eac6632d55ca1fa-01
2021-09-23T17:21:37.155Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:37.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ccd0b9dd35ceaada3df3de65ae01adc1af04eca-51852d6f5969f7c6-01 outer:exit 2b-6ccd0b9dd35ceaada3df3de65ae01adc1af04eca-56d6e6f1730b1cc0-01
2021-09-23T17:21:37.158Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:37.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-910ab1e45643f371fe3677c52d5a603569cc7dcd-d9e79df4e3ab340e-01 outer:exit 2b-910ab1e45643f371fe3677c52d5a603569cc7dcd-a2ea491814800b5c-01
2021-09-23T17:21:37.160Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:37.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-acc3f6a719f2de0f7e01ef7162538979634d4112-d516c218d5bfaf22-01 outer:exit 2b-acc3f6a719f2de0f7e01ef7162538979634d4112-fd597bb82e105b64-01
2021-09-23T17:21:37.163Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:37.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-423012d8f56b278c75ef7d33f24982ded7c2ccb9-1a4a817b73c3f41a-01 outer:exit 2b-423012d8f56b278c75ef7d33f24982ded7c2ccb9-33f885ee44fe652b-01
2021-09-23T17:21:37.173Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:37.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-16ae67c2eb6d0d2d199fdd5dc3fdff429f486499-045fa59441e09c2c-01 outer:exit 2b-16ae67c2eb6d0d2d199fdd5dc3fdff429f486499-4c5dd3fd05b30c41-01
2021-09-23T17:21:37.182Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:37.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cf44139b9902c0b85b9f0fc7d3ca44c136a029f-fc6fffd3b0504711-01 outer:exit 2b-8cf44139b9902c0b85b9f0fc7d3ca44c136a029f-59a2819403855753-01
2021-09-23T17:21:37.186Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:37.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-881f75e16ead96c50356bab129ca19c924206bac-a3a9c3c5736ccc0d-01 outer:exit 2b-881f75e16ead96c50356bab129ca19c924206bac-bd53a3d0190797cc-01
2021-09-23T17:21:37.189Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:37.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff435dda1737cc37c6cf51cf50a2bf0d58c111cf-f94f941ca3b208fd-01 outer:exit 2b-ff435dda1737cc37c6cf51cf50a2bf0d58c111cf-9ca7a4b44ebf7bbf-01
2021-09-23T17:21:37.192Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:37.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-b08e9e3c99aff90df959dceb13616dd380903df0-372acf88c9722e0a-01 outer:exit 2b-b08e9e3c99aff90df959dceb13616dd380903df0-dbfcd9c2940885d4-01
2021-09-23T17:21:37.222Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (356ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.0
updated 2 packages and audited 1098 packages in 7.229s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:45.661Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:45.662Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:45.662Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:45.662Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:45.733Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:45.787Z appoptics:patching patched crypto 
2021-09-23T17:21:45.812Z appoptics:patching patched https 
2021-09-23T17:21:45.812Z appoptics:patching patched http 
2021-09-23T17:21:45.859Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:45.859Z appoptics:patching patched fs 
2021-09-23T17:21:45.892Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v14.17.6)
2021-09-23T17:21:45.902Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2021-09-23T17:21:46.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9727d97b55fd52f5df9e5ae4d7cdb4beb47c316-b9bba673d2e710ec-01 outer:exit 2b-b9727d97b55fd52f5df9e5ae4d7cdb4beb47c316-790da07ce9617e79-01
2021-09-23T17:21:46.147Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:46.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-95fb1f1f181609a074127f35ef2e251c82db4759-f90e63b80cad60d0-01 outer:exit 2b-95fb1f1f181609a074127f35ef2e251c82db4759-275b30ffde228df1-01
2021-09-23T17:21:46.201Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:46.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-94b222857b2cdb32fd1a8d2e9fca720a1803d3f8-f7ab8de279290607-01 outer:exit 2b-94b222857b2cdb32fd1a8d2e9fca720a1803d3f8-5ac5ebfdec445a97-01
2021-09-23T17:21:46.205Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:46.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e0ba377054f49a3d3a7f4cb76d865f938491fd4-39cda64677138e17-01 outer:exit 2b-0e0ba377054f49a3d3a7f4cb76d865f938491fd4-15f94f284594fe26-01
2021-09-23T17:21:46.208Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:46.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-d37a69d370a95956e55a4d4ebcfbeb60e180b4ec-dddb0e0e0558b64b-01 outer:exit 2b-d37a69d370a95956e55a4d4ebcfbeb60e180b4ec-0427efaf195f80ef-01
2021-09-23T17:21:46.214Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:46.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-eefcf99a3c7e69e8d641a5feefc1e64184c93cd3-b29432eae4a92f9d-01 outer:exit 2b-eefcf99a3c7e69e8d641a5feefc1e64184c93cd3-281d68f2a63dd83f-01
2021-09-23T17:21:46.218Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:46.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc1a410e301b0eba48231a70f243aa6f661045e9-354e98478cc0ede2-01 outer:exit 2b-bc1a410e301b0eba48231a70f243aa6f661045e9-e78d115494cc34ee-01
2021-09-23T17:21:46.221Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:46.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-31569d8097d18999b4a5df0cf3de738247c380ed-d20fda33427d10a4-01 outer:exit 2b-31569d8097d18999b4a5df0cf3de738247c380ed-63e37f5535b90937-01
2021-09-23T17:21:46.224Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:46.227Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ff68f937398698fe6362bceb44530b6fba84c3-7ec2cecfe15f7591-01 outer:exit 2b-33ff68f937398698fe6362bceb44530b6fba84c3-a2dd785e8d69866b-01
2021-09-23T17:21:46.227Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:46.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b8472612c08546aa3d7d68195a1bbc6b694b25f-52453cfb97fa1dc2-01 outer:exit 2b-8b8472612c08546aa3d7d68195a1bbc6b694b25f-9655a6ed00903690-01
2021-09-23T17:21:46.231Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:46.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6ef1dd4e8fcebf7ecae2920c517a8b6d470ea0-cacc84e11d8a771a-01 outer:exit 2b-bc6ef1dd4e8fcebf7ecae2920c517a8b6d470ea0-be9f084291aeec30-01
2021-09-23T17:21:46.236Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:46.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0d8b8e8f1d3574c2f77494f675faa41b6dce871-86e3f9fe3ebab9fc-01 outer:exit 2b-b0d8b8e8f1d3574c2f77494f675faa41b6dce871-489b294538289f80-01
2021-09-23T17:21:46.242Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:46.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-89ea4e85f647b98e2741482311cabd08e45b46d1-55faa902c7905145-01 outer:exit 2b-89ea4e85f647b98e2741482311cabd08e45b46d1-8b8056e9c37ebc77-01
2021-09-23T17:21:46.258Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:46.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-98d7ff4b95152613d87973cfab7eee9a2162f979-439fcfa69cbc4b6f-01 outer:exit 2b-98d7ff4b95152613d87973cfab7eee9a2162f979-e191a1749f63ff01-01
2021-09-23T17:21:46.297Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:46.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0cec8834e4fbbb6ae948f245e1d66aeadafc779-43f911e32f5cd38f-01 outer:exit 2b-c0cec8834e4fbbb6ae948f245e1d66aeadafc779-4e71527e6d56dd12-01
2021-09-23T17:21:46.300Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:46.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-aae210a416088cc4e902ab6934be2081609f63b0-f136427c56062fcb-01 outer:exit 2b-aae210a416088cc4e902ab6934be2081609f63b0-eea1c2278f9b9815-01
2021-09-23T17:21:46.303Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:46.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-d12a6fda85c12d5b3900748e70b16e25d0b879e9-3082fe4ff82788a9-01 outer:exit 2b-d12a6fda85c12d5b3900748e70b16e25d0b879e9-f0a7dba11225dcef-01
2021-09-23T17:21:46.306Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:46.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-7551e79e6c5483720b9512c07e035f7d897edf16-6adf59dea5bf1717-01 outer:exit 2b-7551e79e6c5483720b9512c07e035f7d897edf16-b2740a6627dea232-01
2021-09-23T17:21:46.309Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:46.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac90e388936c6137dbc1959ea618c26dd1565aa5-13a96f07eca88cf5-01 outer:exit 2b-ac90e388936c6137dbc1959ea618c26dd1565aa5-0e98d85275657772-01
2021-09-23T17:21:46.312Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:46.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-21cbf52e31c3320482e6eda159b43d02d23a1895-8948eb764c1ff9f2-01 outer:exit 2b-21cbf52e31c3320482e6eda159b43d02d23a1895-db207bfb72517a9c-01
2021-09-23T17:21:46.314Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:46.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-26bae4d099f596ec9e72108e9f327c71c4998481-a462761e774e0353-01 outer:exit 2b-26bae4d099f596ec9e72108e9f327c71c4998481-0ae0a874f2550419-01
2021-09-23T17:21:46.317Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:46.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-c77002af3034480498dd432a4d78a918ab1229f3-36fc90bd94560bf0-01 outer:exit 2b-c77002af3034480498dd432a4d78a918ab1229f3-28ba99c15b82c3e4-01
2021-09-23T17:21:46.320Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:46.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-44938d96a4c402f3e250da4db5547b9dbb04bc80-62a44562774cc983-01 outer:exit 2b-44938d96a4c402f3e250da4db5547b9dbb04bc80-c1a09b2cab8c601b-01
2021-09-23T17:21:46.323Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:46.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cb33d668847f054d15b5cc0e945c60c5c1ab897-9209525b5014a75b-01 outer:exit 2b-1cb33d668847f054d15b5cc0e945c60c5c1ab897-36d5b340852b0d6e-01
2021-09-23T17:21:46.328Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:46.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1077472a992c7e37ea761669461b4bfc4205a66-34fa47a3ebde7905-01 outer:exit 2b-b1077472a992c7e37ea761669461b4bfc4205a66-f887bc064e387b59-01
2021-09-23T17:21:46.331Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:46.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-768a57bea63fe0e0088bf4d6ef9ca255f5a5d29a-f9172d7c8d69b251-01 outer:exit 2b-768a57bea63fe0e0088bf4d6ef9ca255f5a5d29a-8faf4e5e7747a2d8-01
2021-09-23T17:21:46.334Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:46.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-26a4a1cbd37b2371986dbf5df6e54fe9fd38db15-9bb2c2c616491f78-01 outer:exit 2b-26a4a1cbd37b2371986dbf5df6e54fe9fd38db15-9e542d8bbd128585-01
2021-09-23T17:21:46.346Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:46.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e247be0690773e438d81a4ef7ad532063870189-ec0347f125c354be-01 outer:exit 2b-5e247be0690773e438d81a4ef7ad532063870189-fabe7a50cc3e77ce-01
2021-09-23T17:21:46.355Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:46.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aefb8c7144da1f4090b6d78a134980fce235e58-ad5f4211affdd530-01 outer:exit 2b-0aefb8c7144da1f4090b6d78a134980fce235e58-45a363ddc1ed6e03-01
2021-09-23T17:21:46.369Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:46.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bdb3c21658414e7e8d5d81ab968d3ce94e43dcf-f868b40123184b1f-01 outer:exit 2b-4bdb3c21658414e7e8d5d81ab968d3ce94e43dcf-cdb6195c2640c22f-01
2021-09-23T17:21:46.382Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:46.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-80f720e7509bfd1a1706ba2640b0e54816b1bd56-366f5fc1e29a21a6-01 outer:exit 2b-80f720e7509bfd1a1706ba2640b0e54816b1bd56-250a6b59e7c120c5-01
2021-09-23T17:21:46.385Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:46.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-917203769a350c98b93aa6421708c4dbc8b18820-e828b1733bc3e5bd-01 outer:exit 2b-917203769a350c98b93aa6421708c4dbc8b18820-29ace79d843f5bca-01
2021-09-23T17:21:46.389Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:46.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-dde8fb292b1e10fdb81690d72b4b37db628dfbd7-46faf0ce45002971-01 outer:exit 2b-dde8fb292b1e10fdb81690d72b4b37db628dfbd7-8fb1a1ce8f0e00ea-01
2021-09-23T17:21:46.397Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:46.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-b22e3d19cdf6e01796589e345aaf61c7773cfdb0-20887406325df00b-01 outer:exit 2b-b22e3d19cdf6e01796589e345aaf61c7773cfdb0-b0229c9498aec8fc-01
2021-09-23T17:21:46.399Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:46.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-57b27aae8a1a4eed355bf7621fd1738fc692df61-a861c66b00c66fdb-01 outer:exit 2b-57b27aae8a1a4eed355bf7621fd1738fc692df61-e5237e5d0b3070c5-01
2021-09-23T17:21:46.402Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:46.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-6775097b3e0fd35f97987c9b1b0fa5aff08a775e-d684e1d96b93473c-01 outer:exit 2b-6775097b3e0fd35f97987c9b1b0fa5aff08a775e-5bfa17ef4644e976-01
2021-09-23T17:21:46.405Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:46.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dd7ab7be97b754d85ab9e2135e5039eb22f02ff-6802275cfa03b49a-01 outer:exit 2b-4dd7ab7be97b754d85ab9e2135e5039eb22f02ff-4af7a99177942255-01
2021-09-23T17:21:46.407Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:46.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee403884bcdb407feeb0bb71fea5368edcab7c05-4821fb10aa1b39fd-01 outer:exit 2b-ee403884bcdb407feeb0bb71fea5368edcab7c05-ece4cc94d81700fb-01
2021-09-23T17:21:46.410Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:46.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-703306641ba3e101b5e3696efbec6e707e3097a1-65dd99354d5a5dff-01 outer:exit 2b-703306641ba3e101b5e3696efbec6e707e3097a1-0136f8c5f4150002-01
2021-09-23T17:21:46.421Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:46.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-052de5747dc0b3dafdaa5f8496696f3cc06068a6-48b9f192770311de-01 outer:exit 2b-052de5747dc0b3dafdaa5f8496696f3cc06068a6-6a75d4286601485d-01
2021-09-23T17:21:46.432Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:46.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-3327cb45e5b8b809858540e5ce9c00bfea697a7c-e408549cfbdb166a-01 outer:exit 2b-3327cb45e5b8b809858540e5ce9c00bfea697a7c-e0bd2d761810bcf2-01
2021-09-23T17:21:46.435Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:46.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e91cb8f1c038b5ef70e01c4d8c9068576514864-31813acf1349eec6-01 outer:exit 2b-4e91cb8f1c038b5ef70e01c4d8c9068576514864-18695ad16dbf574b-01
2021-09-23T17:21:46.438Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:46.442Z appoptics:debug span.exit - no last event outer outer:entry 2b-27384bcde7e3aef5c02262156451528427aee8b0-749645dc7a9a3080-01 outer:exit 2b-27384bcde7e3aef5c02262156451528427aee8b0-811a63534ef35085-01
2021-09-23T17:21:46.442Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:46.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-16d55b1800ec4ad9084b5c61bba64825ffc9c731-d966c11de4f641ba-01 outer:exit 2b-16d55b1800ec4ad9084b5c61bba64825ffc9c731-097f21b2922cb5ce-01
2021-09-23T17:21:46.473Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (368ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.1
updated 1 package and audited 1098 packages in 8.417s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:21:56.156Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:21:56.157Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:21:56.157Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:21:56.157Z appoptics:debug using context provider: ace-context
2021-09-23T17:21:56.223Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:21:56.271Z appoptics:patching patched crypto 
2021-09-23T17:21:56.295Z appoptics:patching patched https 
2021-09-23T17:21:56.296Z appoptics:patching patched http 
2021-09-23T17:21:56.339Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:21:56.339Z appoptics:patching patched fs 
2021-09-23T17:21:56.370Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v14.17.6)
2021-09-23T17:21:56.377Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2021-09-23T17:21:56.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-a76d96b49fc2547b0047a20e8a7d0d4bc1108703-07ed6ad5ae2fca34-01 outer:exit 2b-a76d96b49fc2547b0047a20e8a7d0d4bc1108703-eb8c5a6263c31e2e-01
2021-09-23T17:21:56.592Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:21:56.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc80dc7c11e0206553a6e92c361754ba2ded4969-2034cdffa98cc8ed-01 outer:exit 2b-dc80dc7c11e0206553a6e92c361754ba2ded4969-00ed9e339d0fed40-01
2021-09-23T17:21:56.640Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:21:56.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab004f751c48a69320c9a7230768a314e0b0476f-99f0ef5833a61ef9-01 outer:exit 2b-ab004f751c48a69320c9a7230768a314e0b0476f-38f4d74675c92072-01
2021-09-23T17:21:56.643Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:21:56.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-56efd2101074dee412e474062d70f0f2ea16dc8a-f263154eac41b0ce-01 outer:exit 2b-56efd2101074dee412e474062d70f0f2ea16dc8a-faca3e398b3533b6-01
2021-09-23T17:21:56.646Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:21:56.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca4b3452f9d19820f05a234ea5fb2b7e08225dfa-9694d248ecf894bb-01 outer:exit 2b-ca4b3452f9d19820f05a234ea5fb2b7e08225dfa-f54a77e1a3831335-01
2021-09-23T17:21:56.652Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:21:56.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a79026afde5637c59219b359969d9dcef031028-2f112f2d570c2317-01 outer:exit 2b-6a79026afde5637c59219b359969d9dcef031028-2b8a2a0dae359064-01
2021-09-23T17:21:56.656Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:21:56.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-dac39f3896756db19d19a19a39765e0212965763-bf8f722ff10996ef-01 outer:exit 2b-dac39f3896756db19d19a19a39765e0212965763-57b5548cc5bda388-01
2021-09-23T17:21:56.658Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:21:56.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b71526e40d54f8fec078aa7ef4f9630f5979e6a-95dc629461462ca1-01 outer:exit 2b-8b71526e40d54f8fec078aa7ef4f9630f5979e6a-27f35688f0524b91-01
2021-09-23T17:21:56.661Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:21:56.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-6899e9a57716769050236c740d805448f95acc66-79ba5803998a4e65-01 outer:exit 2b-6899e9a57716769050236c740d805448f95acc66-aa7d5a74c6b88dc9-01
2021-09-23T17:21:56.664Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:21:56.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-84666f0bcb3e2e71a4b1b6d580a453ef50eaea5c-1f79fb85a928a39e-01 outer:exit 2b-84666f0bcb3e2e71a4b1b6d580a453ef50eaea5c-143ec7f2a4b7fab3-01
2021-09-23T17:21:56.667Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:21:56.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-80fef2ff60f900ee8f544c9749de01ede9cf9ce4-2753e77ccbd9f7e5-01 outer:exit 2b-80fef2ff60f900ee8f544c9749de01ede9cf9ce4-19be7b150b15b0fa-01
2021-09-23T17:21:56.672Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:21:56.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff5e7d76bf46e9e7a5991095e7f547c767e70adc-bf538c0d2da352ec-01 outer:exit 2b-ff5e7d76bf46e9e7a5991095e7f547c767e70adc-5a2f0abf66900f11-01
2021-09-23T17:21:56.679Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:21:56.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4f6a320c345e148a5492a9bd783c3656f4d81f6-8f0b5ec6c06acdb0-01 outer:exit 2b-f4f6a320c345e148a5492a9bd783c3656f4d81f6-ae67db2d1eff8078-01
2021-09-23T17:21:56.694Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:21:56.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-728e25c97837ff55487267d0d1557242acd4f703-f3ad5c91f0b832af-01 outer:exit 2b-728e25c97837ff55487267d0d1557242acd4f703-c5c6c6691b8da4d8-01
2021-09-23T17:21:56.739Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:21:56.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fe9e4e0d76d104594fca926b2a597f56635a230-0dcec480202193fd-01 outer:exit 2b-4fe9e4e0d76d104594fca926b2a597f56635a230-649fc9770454a3d2-01
2021-09-23T17:21:56.742Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:21:56.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-a98bc1ec54c4278281fef359c527f6cd0c382e6d-f3e9d9cc5ae15656-01 outer:exit 2b-a98bc1ec54c4278281fef359c527f6cd0c382e6d-eb07ce5103cda6b6-01
2021-09-23T17:21:56.745Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:21:56.748Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f3f7b03430c655f738925d7f3911e3d721565c3-13cde72861830b0c-01 outer:exit 2b-6f3f7b03430c655f738925d7f3911e3d721565c3-9d7ec523a4e15c69-01
2021-09-23T17:21:56.748Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:21:56.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-e14c2e199e09c020b96048e322cc7b66b9e5f864-6799e1fd72640417-01 outer:exit 2b-e14c2e199e09c020b96048e322cc7b66b9e5f864-db34c8f0e89532ba-01
2021-09-23T17:21:56.751Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:21:56.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-bcb22c25cd767ae558abfe3030da5352c1b5fe83-3d8c0e594347d3cf-01 outer:exit 2b-bcb22c25cd767ae558abfe3030da5352c1b5fe83-3bea6d3efdab6675-01
2021-09-23T17:21:56.754Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:21:56.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3809489348be069b180185fd507de971adb6e35-6c6d33620cf2aedf-01 outer:exit 2b-b3809489348be069b180185fd507de971adb6e35-3272b36628f93cd0-01
2021-09-23T17:21:56.756Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:21:56.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed7555c807a680f902b6b314018fe0f71d389dd0-da5c3dccad37f85e-01 outer:exit 2b-ed7555c807a680f902b6b314018fe0f71d389dd0-646641f9d3088bed-01
2021-09-23T17:21:56.759Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:21:56.761Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5615229347c884572503e0b9a89b4e1f84f54c-5bb43d29db775518-01 outer:exit 2b-0b5615229347c884572503e0b9a89b4e1f84f54c-740b7332bc3744cf-01
2021-09-23T17:21:56.761Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:21:56.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-76142a2fe8c7f50f22d455d3aa98ecc4da6cfee2-685d667f925aaa18-01 outer:exit 2b-76142a2fe8c7f50f22d455d3aa98ecc4da6cfee2-22ff1010200e8e53-01
2021-09-23T17:21:56.764Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:21:56.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0d30b66a3765bef9eec5333e9e37c21542e5fe7-d3ab25a88e2f2c63-01 outer:exit 2b-a0d30b66a3765bef9eec5333e9e37c21542e5fe7-9a026ea0e12b93d7-01
2021-09-23T17:21:56.768Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:21:56.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-bab4091663fb904a516adc0a904afe247b28171c-5f7ccd6a136f71f6-01 outer:exit 2b-bab4091663fb904a516adc0a904afe247b28171c-794cfeda4344d34a-01
2021-09-23T17:21:56.771Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:21:56.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b86f0c8f4db11440d8dc9c014b596b8e005d42f-ecefd837cd0784aa-01 outer:exit 2b-6b86f0c8f4db11440d8dc9c014b596b8e005d42f-eef349bae2e0ca17-01
2021-09-23T17:21:56.774Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:21:56.798Z appoptics:debug span.exit - no last event outer outer:entry 2b-3314e6de0569de1aa8b2ab0a1b68c0e573590683-50a11e8c3e5ee62e-01 outer:exit 2b-3314e6de0569de1aa8b2ab0a1b68c0e573590683-611459f9174c3479-01
2021-09-23T17:21:56.798Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:21:56.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-261f31442392368cdff1a6baf1527126d06223ce-cf17b1a91ca4e918-01 outer:exit 2b-261f31442392368cdff1a6baf1527126d06223ce-c04b17baa970b016-01
2021-09-23T17:21:56.807Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:21:56.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-45c9ad1ad228ba0b148f5f104d6d5d642f851642-31a6421bcc54bc00-01 outer:exit 2b-45c9ad1ad228ba0b148f5f104d6d5d642f851642-2da1d05e02282490-01
2021-09-23T17:21:56.818Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:21:56.826Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7406b14ce882382129a6f1070f8e8ffd2f0feeb-c4bb0c657c0a9413-01 outer:exit 2b-b7406b14ce882382129a6f1070f8e8ffd2f0feeb-03715ed79fe7bfa4-01
2021-09-23T17:21:56.826Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:21:56.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8d23e4ab9aa2977e72d8c1fa6f3a5745d778e0b-fd60e6c7edd9ba75-01 outer:exit 2b-e8d23e4ab9aa2977e72d8c1fa6f3a5745d778e0b-70e85978926a1f1d-01
2021-09-23T17:21:56.829Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:21:56.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbcd701b85b6e3cd98abe8ece99d5337ed0ee351-712cdfd7aefef357-01 outer:exit 2b-dbcd701b85b6e3cd98abe8ece99d5337ed0ee351-bcd8e802799c597b-01
2021-09-23T17:21:56.833Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:21:56.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-408a5c1311d023771f8211afc6182ac51b25548d-236bf3182e4f4b5b-01 outer:exit 2b-408a5c1311d023771f8211afc6182ac51b25548d-06895dc8389a8fae-01
2021-09-23T17:21:56.840Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:21:56.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0f1f5d260ea68b487b5fa43eaef2518ff91ccae-53cd3954bb4bb33e-01 outer:exit 2b-c0f1f5d260ea68b487b5fa43eaef2518ff91ccae-6ec96f2f9cc802be-01
2021-09-23T17:21:56.843Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:21:56.846Z appoptics:debug span.exit - no last event outer outer:entry 2b-362cf390036f27f1cf6d20a4a11a21c9203cac72-c2612e7c4066d234-01 outer:exit 2b-362cf390036f27f1cf6d20a4a11a21c9203cac72-e5839ec17b7951c4-01
2021-09-23T17:21:56.846Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:21:56.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-069df14fb112b0428ebddaa25a6c74fa00de4f20-9bd132d761fe2856-01 outer:exit 2b-069df14fb112b0428ebddaa25a6c74fa00de4f20-1a5e0d8f9acbb816-01
2021-09-23T17:21:56.848Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:21:56.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4887350d12fdec63593dfac0dad52f747b9eb25-17a215baceda0113-01 outer:exit 2b-a4887350d12fdec63593dfac0dad52f747b9eb25-74111b8c62637e3c-01
2021-09-23T17:21:56.851Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:21:56.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-feefd1d81355aaa90c8687cab2b313eff135d37d-ae742d509455a477-01 outer:exit 2b-feefd1d81355aaa90c8687cab2b313eff135d37d-74a08cdd5aa09c10-01
2021-09-23T17:21:56.853Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:21:56.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9fca1f0b7f2a0888c58c2589a7e9c378581603c-1f21e1f97026a392-01 outer:exit 2b-f9fca1f0b7f2a0888c58c2589a7e9c378581603c-8a4572885847542e-01
2021-09-23T17:21:56.864Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:21:56.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e3c50a1e5dbfef04ca6aaec8661cc36616e1881-e107e0bfd9446166-01 outer:exit 2b-1e3c50a1e5dbfef04ca6aaec8661cc36616e1881-ca4146bdd81a0baf-01
2021-09-23T17:21:56.874Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:21:56.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-13e5e72db9148c74bc56b87060156815aae87021-05b6299c9e35ad7f-01 outer:exit 2b-13e5e72db9148c74bc56b87060156815aae87021-5e24d7cfb82651da-01
2021-09-23T17:21:56.878Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:21:56.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5f3d39e0fa24c8c40dd555ebaf35cebb80f3e64-1b468033351303db-01 outer:exit 2b-a5f3d39e0fa24c8c40dd555ebaf35cebb80f3e64-932ef6f71b779551-01
2021-09-23T17:21:56.881Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:21:56.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-69aa7f1b61246bf77ac2c00108b8731f08925e73-fa6cd392b0716e75-01 outer:exit 2b-69aa7f1b61246bf77ac2c00108b8731f08925e73-0e05edda8ed4759c-01
2021-09-23T17:21:56.885Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:21:56.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b767e8c9144242ca90be03086052b9e29d65d12-953ca0f7a3e3cb35-01 outer:exit 2b-3b767e8c9144242ca90be03086052b9e29d65d12-02d7aa839f1b7690-01
2021-09-23T17:21:56.920Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (368ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.2
updated 1 package and audited 1098 packages in 5.728s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:04.296Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:04.297Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:04.297Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:04.298Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:04.390Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:04.449Z appoptics:patching patched crypto 
2021-09-23T17:22:04.494Z appoptics:patching patched https 
2021-09-23T17:22:04.494Z appoptics:patching patched http 
2021-09-23T17:22:04.539Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:04.540Z appoptics:patching patched fs 
2021-09-23T17:22:04.570Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v14.17.6)
2021-09-23T17:22:04.578Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2021-09-23T17:22:04.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-a421d58f5de95bc0fd4d2b6fc5ee4245cd72b6c6-24d09f67eb675594-01 outer:exit 2b-a421d58f5de95bc0fd4d2b6fc5ee4245cd72b6c6-ee962133d2efe1aa-01
2021-09-23T17:22:04.927Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:05.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4cab9989b2b47ee477c6019aa73a5bf8c72efbc-e6ec28198eee8d83-01 outer:exit 2b-f4cab9989b2b47ee477c6019aa73a5bf8c72efbc-ff78a8116a0f23f9-01
2021-09-23T17:22:05.003Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:05.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-926cbbacaf94adcc41205d44eb5525da73b5d2fe-e707c2d38142720d-01 outer:exit 2b-926cbbacaf94adcc41205d44eb5525da73b5d2fe-1ec49c8c3e1445b7-01
2021-09-23T17:22:05.011Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:05.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-ed2452c8d2d8810cc5831bae832e860455a258f3-d57c5d6e266ee6b1-01 outer:exit 2b-ed2452c8d2d8810cc5831bae832e860455a258f3-190dd6c256155570-01
2021-09-23T17:22:05.014Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:05.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-139560e50dbfeb9d568069d197ed69e8bb5c1217-ffbebe545578920f-01 outer:exit 2b-139560e50dbfeb9d568069d197ed69e8bb5c1217-538c9d0b3eb6cbf2-01
2021-09-23T17:22:05.021Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:05.028Z appoptics:debug span.exit - no last event outer outer:entry 2b-cadb68c333fb011987fd260a30d470ad49b25bbd-03bd13e4a1bd040b-01 outer:exit 2b-cadb68c333fb011987fd260a30d470ad49b25bbd-c598c038c5ba9657-01
2021-09-23T17:22:05.028Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:05.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-385cd99815694328b1239493afd9a36531ff5e99-c8769dd242a48f34-01 outer:exit 2b-385cd99815694328b1239493afd9a36531ff5e99-4c563e7bf08d1cfb-01
2021-09-23T17:22:05.033Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:05.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-767409b19bac9db9f79999426c19d9f830d423e2-b3f72ddcac4ab79d-01 outer:exit 2b-767409b19bac9db9f79999426c19d9f830d423e2-d632c6d2718c8ccc-01
2021-09-23T17:22:05.038Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:05.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f45c1525fd328acecd893eb9b71531431243004-a03e014b68aec3d4-01 outer:exit 2b-9f45c1525fd328acecd893eb9b71531431243004-afaf0fa428e78820-01
2021-09-23T17:22:05.043Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:05.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-66084d9b98f990e87f669b65be8d7f9890ccb37d-61a6c86e064f430e-01 outer:exit 2b-66084d9b98f990e87f669b65be8d7f9890ccb37d-23ec9819f7fde3cd-01
2021-09-23T17:22:05.048Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:05.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a3b25bada9b14981aacd4309d43819fea960146-5001619daf4d034b-01 outer:exit 2b-1a3b25bada9b14981aacd4309d43819fea960146-6425a928e917ec48-01
2021-09-23T17:22:05.057Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:05.073Z appoptics:debug span.exit - no last event outer outer:entry 2b-a162d0d9a34313ed4395324cbada2fbebb8ed703-9ac59aa6b33a3650-01 outer:exit 2b-a162d0d9a34313ed4395324cbada2fbebb8ed703-4701eb89e49e16f4-01
2021-09-23T17:22:05.073Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:05.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8b7c59ae4268df5b05f945c785fee715ae988a9-6cc4ec868df2678b-01 outer:exit 2b-e8b7c59ae4268df5b05f945c785fee715ae988a9-40a8e1141c71e4a2-01
2021-09-23T17:22:05.112Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:05.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ba6a9688aee6dc8e885b68542cddcca26133e49-46a1fa4a49240dc7-01 outer:exit 2b-0ba6a9688aee6dc8e885b68542cddcca26133e49-59f759fbfb6f4378-01
2021-09-23T17:22:05.203Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:05.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-52dabc661dd4ab489dca3b6afc49ab7b1dab144b-fa81e61c48b1369f-01 outer:exit 2b-52dabc661dd4ab489dca3b6afc49ab7b1dab144b-ee7b6fcb8c997980-01
2021-09-23T17:22:05.208Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:05.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e311f7de77496ade4543d52fa28fd17e75726d2-9e530c58ac7c4c50-01 outer:exit 2b-9e311f7de77496ade4543d52fa28fd17e75726d2-e8c0d4fc96b559a0-01
2021-09-23T17:22:05.210Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:05.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b46d5c1d0e9e1efdfade78130aefcae2c657f72-d20cad049da48614-01 outer:exit 2b-1b46d5c1d0e9e1efdfade78130aefcae2c657f72-723a97c94372581f-01
2021-09-23T17:22:05.215Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:05.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-73a4fac8834eb548bcfae56bdde5ca4be73f2095-13d432f5b943c702-01 outer:exit 2b-73a4fac8834eb548bcfae56bdde5ca4be73f2095-4ef6a2d1de69a637-01
2021-09-23T17:22:05.219Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:05.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-440b299cc3ca5e88bec1ce592aa08ab2cfabb351-8a4ab0e78590bc9c-01 outer:exit 2b-440b299cc3ca5e88bec1ce592aa08ab2cfabb351-cfbaf0c78a7b5e73-01
2021-09-23T17:22:05.232Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:05.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca1584b80cede54bcd9abab47659e34e98880097-2acfda15b23f0b1c-01 outer:exit 2b-ca1584b80cede54bcd9abab47659e34e98880097-4319141937e209cf-01
2021-09-23T17:22:05.287Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:05.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-336ac79df4c40f52cbadd64b6d5a057dff645937-5ee1443c8d23f950-01 outer:exit 2b-336ac79df4c40f52cbadd64b6d5a057dff645937-610a98f5d3987e23-01
2021-09-23T17:22:05.293Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:05.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-264732f61cd7dc66c5741e5430092ef74ded511d-ab86a881dfecc4b2-01 outer:exit 2b-264732f61cd7dc66c5741e5430092ef74ded511d-e218219d75a3ede5-01
2021-09-23T17:22:05.300Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:05.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-7889858df1eafd7372d5e9d7a7a337cf0732dad8-786fce962ff4dcf8-01 outer:exit 2b-7889858df1eafd7372d5e9d7a7a337cf0732dad8-f9c29fdd01c16a09-01
2021-09-23T17:22:05.309Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:05.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-c73fd6721edc2316ebedc0ab842461950d218bea-26dd5559e01a7a3b-01 outer:exit 2b-c73fd6721edc2316ebedc0ab842461950d218bea-16f14e568b8ae563-01
2021-09-23T17:22:05.317Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:05.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad1bb37b4010b048280ae62156ea704f71440f1a-f1029cc510f3d0db-01 outer:exit 2b-ad1bb37b4010b048280ae62156ea704f71440f1a-4327dfbc0d1f49d9-01
2021-09-23T17:22:05.323Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:05.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cb8f4d14b7a88e80a00726a7b7ce121bea3100c-23caf7ac3675d01b-01 outer:exit 2b-3cb8f4d14b7a88e80a00726a7b7ce121bea3100c-6b20abcc75ec46af-01
2021-09-23T17:22:05.327Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:05.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-7df0596b1e699d4ba98451ea76f4677ae4a7a1de-5f1a7fab297c3f12-01 outer:exit 2b-7df0596b1e699d4ba98451ea76f4677ae4a7a1de-f29e62b81f3a1c52-01
2021-09-23T17:22:05.346Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:05.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b1c35bc0cd560d792646244aa8bb071340348d3-e3121d1e86322e9d-01 outer:exit 2b-6b1c35bc0cd560d792646244aa8bb071340348d3-a1fcf3a4804b3f82-01
2021-09-23T17:22:05.352Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:05.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-a05ab2c2d0e605f3f7016cef32bacf92f0a42ef7-7e1fe6d134cfc460-01 outer:exit 2b-a05ab2c2d0e605f3f7016cef32bacf92f0a42ef7-745086562e251e0f-01
2021-09-23T17:22:05.364Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:05.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-456cb13e864650c15831d7c7226501c153cd69ac-94d0109a44debbe1-01 outer:exit 2b-456cb13e864650c15831d7c7226501c153cd69ac-9a6921c3589e17e3-01
2021-09-23T17:22:05.377Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:05.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f46144daa5cca0e88c3982eb883a15d2faa8933-190a77ac81a7983b-01 outer:exit 2b-4f46144daa5cca0e88c3982eb883a15d2faa8933-f9305b8b34b9548f-01
2021-09-23T17:22:05.380Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:05.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5404fd92c556a261c64f7e980340f0333631e59-1b0f494a2cd9cb87-01 outer:exit 2b-c5404fd92c556a261c64f7e980340f0333631e59-cf067ef725518278-01
2021-09-23T17:22:05.385Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:05.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5b851e540438f4cb8c3daea0214c4311bc5b8fc-3a31a7939563f04d-01 outer:exit 2b-b5b851e540438f4cb8c3daea0214c4311bc5b8fc-c03673effe389ab9-01
2021-09-23T17:22:05.396Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:05.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-7aab46947fcc9f6b5c78a05c153cd573713be17d-cb5be61ee33c1bfc-01 outer:exit 2b-7aab46947fcc9f6b5c78a05c153cd573713be17d-f6b2c4c9a9a53c5f-01
2021-09-23T17:22:05.399Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:05.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6194536629b670d3777694ce06866e001500c59-2f67b97f0fb27304-01 outer:exit 2b-e6194536629b670d3777694ce06866e001500c59-ae06eebc34b2a2d9-01
2021-09-23T17:22:05.402Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:05.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-74a192752f5b538cc26f3af7cef44d081e030d13-d2c431484287d394-01 outer:exit 2b-74a192752f5b538cc26f3af7cef44d081e030d13-f7a5e5385520a2a9-01
2021-09-23T17:22:05.406Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:05.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-26b951dd1897644f70b63ea3e6eb21c0dfc5bb94-8b0ba81809176ecc-01 outer:exit 2b-26b951dd1897644f70b63ea3e6eb21c0dfc5bb94-5a66da11f58181ee-01
2021-09-23T17:22:05.413Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:05.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-49f3acc7b7eb77e0a81d642ceb0c7b27aba3467f-6519e869e28055e8-01 outer:exit 2b-49f3acc7b7eb77e0a81d642ceb0c7b27aba3467f-c1d8a38fd38b819a-01
2021-09-23T17:22:05.416Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:05.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e29843914d8efb83df576815a64a20fab24850f-844cb511a3c10e53-01 outer:exit 2b-2e29843914d8efb83df576815a64a20fab24850f-55ab9df7a7309b58-01
2021-09-23T17:22:05.440Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:05.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-524264e3057d805d1da5798659a33bf60fa3069c-20180fa166ca3f58-01 outer:exit 2b-524264e3057d805d1da5798659a33bf60fa3069c-5ce5339e5b56ed95-01
2021-09-23T17:22:05.453Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:05.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-f65841ec9efbfa7cd73c23d5ed4b0e0bb80849c4-1c783867dd2b1529-01 outer:exit 2b-f65841ec9efbfa7cd73c23d5ed4b0e0bb80849c4-4a2ebfc9eb3baf1a-01
2021-09-23T17:22:05.460Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:05.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d406da15e4c82c4e8896efb7119ce0a1c2373a6-126a78a11b776cb6-01 outer:exit 2b-5d406da15e4c82c4e8896efb7119ce0a1c2373a6-761b397fb85dd4fd-01
2021-09-23T17:22:05.464Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:05.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-b647eb5128e3abefac82a2027a1bbefaf3ce5c68-4d090f9b28f6eee9-01 outer:exit 2b-b647eb5128e3abefac82a2027a1bbefaf3ce5c68-8b9c9a128c4a9656-01
2021-09-23T17:22:05.469Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:05.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-52e2b1ee829c54b39f66609a1446b1fd1c7ae7ff-cc25c3c569aa5705-01 outer:exit 2b-52e2b1ee829c54b39f66609a1446b1fd1c7ae7ff-29760c1410d13e80-01
2021-09-23T17:22:05.521Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (670ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.3
updated 1 package and audited 1098 packages in 5.471s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:12.377Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:12.378Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:12.378Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:12.378Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:12.449Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:12.497Z appoptics:patching patched crypto 
2021-09-23T17:22:12.521Z appoptics:patching patched https 
2021-09-23T17:22:12.521Z appoptics:patching patched http 
2021-09-23T17:22:12.569Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:12.570Z appoptics:patching patched fs 
2021-09-23T17:22:12.601Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v14.17.6)
2021-09-23T17:22:12.612Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2021-09-23T17:22:12.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a7f161ab8fae89e32d80800edb96d317fb4da4a-2fdceae6c1ed9051-01 outer:exit 2b-9a7f161ab8fae89e32d80800edb96d317fb4da4a-f8e08147f9735a45-01
2021-09-23T17:22:12.838Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:12.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-b183e602622fd04dc8ef624b55dced4ad97ca049-b5f07814be1fad7b-01 outer:exit 2b-b183e602622fd04dc8ef624b55dced4ad97ca049-0fde351bb79a0d20-01
2021-09-23T17:22:12.886Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:12.890Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd9915f9a28753f82a254418d6ae5755510f85c6-9fa26ec3da4aec2d-01 outer:exit 2b-dd9915f9a28753f82a254418d6ae5755510f85c6-b17fe8344d010056-01
2021-09-23T17:22:12.890Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:12.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-02859341644c448dd7943d4f9cdd773639f9308f-22581e796e553f92-01 outer:exit 2b-02859341644c448dd7943d4f9cdd773639f9308f-96097b0bb63aec8a-01
2021-09-23T17:22:12.894Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:12.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-acb602d9016ef0999d42ae77ffb92c1c15ffff46-a7f947e381f58b29-01 outer:exit 2b-acb602d9016ef0999d42ae77ffb92c1c15ffff46-b5f7a35365baa389-01
2021-09-23T17:22:12.900Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:12.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-44033a662be3eee70d17d88c7b777a23ac156cc7-c64f8521d66f1b93-01 outer:exit 2b-44033a662be3eee70d17d88c7b777a23ac156cc7-562fcad99e0e6dd1-01
2021-09-23T17:22:12.904Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:12.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-638bd3c7e40d860754e176759df7bf732d8bd73b-80bb2fd1a8476c92-01 outer:exit 2b-638bd3c7e40d860754e176759df7bf732d8bd73b-9402e14b048491ab-01
2021-09-23T17:22:12.907Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:12.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d79662678ee58086f217598cb04d6e68f80dbe-13479819aaf93533-01 outer:exit 2b-f7d79662678ee58086f217598cb04d6e68f80dbe-c21d065b6a2c010a-01
2021-09-23T17:22:12.911Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:12.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-6516142d187a77fd3565d35ddabbae367eb01c8f-430d0df09c3726df-01 outer:exit 2b-6516142d187a77fd3565d35ddabbae367eb01c8f-aab546e75fffac96-01
2021-09-23T17:22:12.914Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:12.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-cde905e194647a14b90fc0038940835261bec6d9-4e7a7b8ec12c29a8-01 outer:exit 2b-cde905e194647a14b90fc0038940835261bec6d9-7ba1dee13af80965-01
2021-09-23T17:22:12.917Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:12.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-823c2fec3db275171ce2327c326e469fd9d97513-bec313b0b3a3ebe3-01 outer:exit 2b-823c2fec3db275171ce2327c326e469fd9d97513-12dad693f0f662a2-01
2021-09-23T17:22:12.922Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:12.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-10f4254995f9a6e2f9f86cbc3df14445efd83db1-e3cbf587f6f4c311-01 outer:exit 2b-10f4254995f9a6e2f9f86cbc3df14445efd83db1-a1589a34b2fdec48-01
2021-09-23T17:22:12.929Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:12.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-4387c8a9bbbecb2cbbcf5eb7a261d7c23d51e9e7-bf7ea01dc1d91790-01 outer:exit 2b-4387c8a9bbbecb2cbbcf5eb7a261d7c23d51e9e7-b2242d9f82521063-01
2021-09-23T17:22:12.944Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:12.986Z appoptics:debug span.exit - no last event outer outer:entry 2b-781d4e95c7b34574e559b9874b7e6c9fb2648d2f-1d0623414dc77da9-01 outer:exit 2b-781d4e95c7b34574e559b9874b7e6c9fb2648d2f-dbc2c088572aebc7-01
2021-09-23T17:22:12.986Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:12.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cb802b1775ce3961dc44660def5364260c665a9-36efdd398fd87903-01 outer:exit 2b-3cb802b1775ce3961dc44660def5364260c665a9-a29d0bc5f5c62ece-01
2021-09-23T17:22:12.990Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:12.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-025ef61de24f4c2d0bbbce392264dadd3b8981c4-d10ca6f555178763-01 outer:exit 2b-025ef61de24f4c2d0bbbce392264dadd3b8981c4-05897d097520eff0-01
2021-09-23T17:22:12.993Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:12.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-968eb8470c5720a1e55f758aa8ac27d7c47070d3-b6719cdedec9c784-01 outer:exit 2b-968eb8470c5720a1e55f758aa8ac27d7c47070d3-6305b3f4db47b288-01
2021-09-23T17:22:12.996Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:13.000Z appoptics:debug span.exit - no last event outer outer:entry 2b-a08797e27fdbf42a26de01168308f1004f7c522a-788e3ea054ec1f2f-01 outer:exit 2b-a08797e27fdbf42a26de01168308f1004f7c522a-dbb2c1b7ba4b4015-01
2021-09-23T17:22:13.000Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:13.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-24da9a3ad1fa41cad2ac655c6e0d528f5272d4a1-3c5dae8f2e64c703-01 outer:exit 2b-24da9a3ad1fa41cad2ac655c6e0d528f5272d4a1-31f3bfa0b23a63fb-01
2021-09-23T17:22:13.003Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:13.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-a83f4cfb64e4b0212a22c4b18d2296b6101580d2-9ea91ab3ef41ab63-01 outer:exit 2b-a83f4cfb64e4b0212a22c4b18d2296b6101580d2-39edd3ad1246924d-01
2021-09-23T17:22:13.018Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:13.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-98846a6b081a3b708973f2357364825014c0737e-7400597178088ded-01 outer:exit 2b-98846a6b081a3b708973f2357364825014c0737e-df8b2a5a489112bb-01
2021-09-23T17:22:13.030Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:13.033Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2c969d1330e87329f9d91c3cb349c445b84bcdc-44f698d4b9dbe15f-01 outer:exit 2b-a2c969d1330e87329f9d91c3cb349c445b84bcdc-ce1eaa218ad73ed6-01
2021-09-23T17:22:13.033Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:13.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cdb4c7ac1f1346dc4911be3648517a178457fe6-39317df39b8d7164-01 outer:exit 2b-9cdb4c7ac1f1346dc4911be3648517a178457fe6-0512544decc590b8-01
2021-09-23T17:22:13.036Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:13.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-7db4c2003c6d7b5601d22b2094899fe972dc3428-1417b0b5c5cc6ef1-01 outer:exit 2b-7db4c2003c6d7b5601d22b2094899fe972dc3428-e68bb60482a11a44-01
2021-09-23T17:22:13.040Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:13.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbad12d5cfef75748226218745e6c755198925f5-ead3f40eddaed390-01 outer:exit 2b-dbad12d5cfef75748226218745e6c755198925f5-4ec1952fa6e47882-01
2021-09-23T17:22:13.043Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:13.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ce2a1f4f409152aa16f0a090118881a2869c0c7-5f83cb63f6be6f04-01 outer:exit 2b-4ce2a1f4f409152aa16f0a090118881a2869c0c7-dbf2631fadf04ec3-01
2021-09-23T17:22:13.046Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:13.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c6d8799118466ade14c4ae685106b5abc635969-fc47dbf22716f633-01 outer:exit 2b-3c6d8799118466ade14c4ae685106b5abc635969-b88e7564c42ea3b0-01
2021-09-23T17:22:13.053Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:13.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5a92efff27036dda6de7ef4daf7bef2c3cb6a64-8e7004ba61e9511a-01 outer:exit 2b-d5a92efff27036dda6de7ef4daf7bef2c3cb6a64-fab6e7c3c26cf6d9-01
2021-09-23T17:22:13.059Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:13.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-52da3edc3a4b0bf947f24879bf9cafc93e032173-7425a1c0ed6d7c3e-01 outer:exit 2b-52da3edc3a4b0bf947f24879bf9cafc93e032173-63168ecbe5b61dca-01
2021-09-23T17:22:13.070Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:13.077Z appoptics:debug span.exit - no last event outer outer:entry 2b-067197482026a8241c0199401d7baf739d3f30a0-09a8e7496fd6e4d6-01 outer:exit 2b-067197482026a8241c0199401d7baf739d3f30a0-feaa108a6b28246f-01
2021-09-23T17:22:13.078Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:13.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-be37dd431e4e68936c1e0cde28bd8763977dbb94-69ed4810db221b4e-01 outer:exit 2b-be37dd431e4e68936c1e0cde28bd8763977dbb94-5e44dd17f51b691a-01
2021-09-23T17:22:13.080Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:13.084Z appoptics:debug span.exit - no last event outer outer:entry 2b-0035cb25a0e481317a30bb029377dc0e7353332f-f8a373cd398267d6-01 outer:exit 2b-0035cb25a0e481317a30bb029377dc0e7353332f-67997463d9d1eecb-01
2021-09-23T17:22:13.084Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:13.091Z appoptics:debug span.exit - no last event outer outer:entry 2b-c966457311c6a98493e55018eaa704597c788908-07c5460ad6cc918a-01 outer:exit 2b-c966457311c6a98493e55018eaa704597c788908-291174aacecb0214-01
2021-09-23T17:22:13.091Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:13.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-64132b361be51454a1b18a4e6868cb205aba14c1-e47e9fb3e4d417e3-01 outer:exit 2b-64132b361be51454a1b18a4e6868cb205aba14c1-c2521d5013c4b383-01
2021-09-23T17:22:13.094Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:13.097Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ef867a0f52ab6175bb8b1e2fdec0e3ccf50768e-aad4c60d93bcb787-01 outer:exit 2b-8ef867a0f52ab6175bb8b1e2fdec0e3ccf50768e-1838e338842d9c43-01
2021-09-23T17:22:13.097Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:13.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e338592c56e07aa1299c15a6e4241266345513f-d3d3bbf1abe7571d-01 outer:exit 2b-3e338592c56e07aa1299c15a6e4241266345513f-030a13c9393158d4-01
2021-09-23T17:22:13.099Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:13.102Z appoptics:debug span.exit - no last event outer outer:entry 2b-0609071d6894918f5f37bbaf23cefc41374c3af2-e4e49e58a140b729-01 outer:exit 2b-0609071d6894918f5f37bbaf23cefc41374c3af2-4f5d9d2551cc1cd4-01
2021-09-23T17:22:13.102Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:13.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-c45d5bf469b104e801b2cc4c9ed3ed62059c5449-12198d868e363bd8-01 outer:exit 2b-c45d5bf469b104e801b2cc4c9ed3ed62059c5449-fca84b558e85a0de-01
2021-09-23T17:22:13.104Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:13.115Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff6b6467bfc78e0b45c47a594dc5918db81c14dd-ebe1609a1e250296-01 outer:exit 2b-ff6b6467bfc78e0b45c47a594dc5918db81c14dd-551c253dc1c038e8-01
2021-09-23T17:22:13.115Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:13.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4b06c6d80146ea67be28d63a3410b4c68b02eda-e1c6894adab6ee53-01 outer:exit 2b-b4b06c6d80146ea67be28d63a3410b4c68b02eda-2d5cf08263e4de1f-01
2021-09-23T17:22:13.126Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:13.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-741c22197a5f298adc4d7d5a5d4d9219358ea6b2-664af3d3df9a5979-01 outer:exit 2b-741c22197a5f298adc4d7d5a5d4d9219358ea6b2-36a295501a8d51c7-01
2021-09-23T17:22:13.129Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:13.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ea64bc388c623c39dc382fdddefab70275294de-9809e3aff284edbb-01 outer:exit 2b-2ea64bc388c623c39dc382fdddefab70275294de-87f17f38279928b1-01
2021-09-23T17:22:13.133Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:13.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-39cfbb56940339e6b409667b28abc066e9911ed9-5a02548a1a97e2ff-01 outer:exit 2b-39cfbb56940339e6b409667b28abc066e9911ed9-3704b50f29593f77-01
2021-09-23T17:22:13.136Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:13.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-3209967aca37c523e05f17011f98d6e010c9131a-2353c17aa1c0d93f-01 outer:exit 2b-3209967aca37c523e05f17011f98d6e010c9131a-ad81bdd887112873-01
2021-09-23T17:22:13.167Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (371ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.4
updated 1 package and audited 1098 packages in 7.018s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:21.460Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:21.460Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:21.461Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:21.461Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:21.532Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:21.603Z appoptics:patching patched crypto 
2021-09-23T17:22:21.661Z appoptics:patching patched https 
2021-09-23T17:22:21.663Z appoptics:patching patched http 
2021-09-23T17:22:21.700Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:21.701Z appoptics:patching patched fs 
2021-09-23T17:22:21.730Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v14.17.6)
2021-09-23T17:22:21.737Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2021-09-23T17:22:21.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-70a9bd1428de4809a98e2a1c336c13a737271e64-eaa89ef6707f55f7-01 outer:exit 2b-70a9bd1428de4809a98e2a1c336c13a737271e64-bb13796eeae1a3f1-01
2021-09-23T17:22:21.946Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:21.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccea8655873a8c6988b3ec2bd1e19fbe18642bbc-d801bdcb7b8939c8-01 outer:exit 2b-ccea8655873a8c6988b3ec2bd1e19fbe18642bbc-35c60fe03a2525d3-01
2021-09-23T17:22:21.994Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:21.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-cff64a16c627613bde3454e0995a62d118dfd61d-cdf576a67387f00c-01 outer:exit 2b-cff64a16c627613bde3454e0995a62d118dfd61d-ceb8bd6ab4ab6001-01
2021-09-23T17:22:21.997Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:22.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3341d8982c0582a044c9cbb5454e6505f54b3b5-fa518e65c0368803-01 outer:exit 2b-e3341d8982c0582a044c9cbb5454e6505f54b3b5-360cf3ce5520984e-01
2021-09-23T17:22:22.001Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:22.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f1d46cdec9d1b07fb53d1801411f2e350b1452b-3cdaee1f54c7957c-01 outer:exit 2b-8f1d46cdec9d1b07fb53d1801411f2e350b1452b-aa235bf9d44c06e1-01
2021-09-23T17:22:22.008Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:22.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-27653dce413bf761d7eac18269bf36a728e4173c-309f61200be5da8c-01 outer:exit 2b-27653dce413bf761d7eac18269bf36a728e4173c-35790d838eee740c-01
2021-09-23T17:22:22.011Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:22.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5625e2c1d754afd1341527fea288bfa8b2467ee-724a67eaeb59a234-01 outer:exit 2b-f5625e2c1d754afd1341527fea288bfa8b2467ee-78fdc35baadb6f41-01
2021-09-23T17:22:22.014Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:22.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-abcfeddae75080c389471f5dc3d6670a35bd1597-37f02a9d11859137-01 outer:exit 2b-abcfeddae75080c389471f5dc3d6670a35bd1597-135633500cf558b4-01
2021-09-23T17:22:22.017Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:22.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-1731b30ad657f473074c4f73d35cd3c44f2614ea-e673b74ec1d09aad-01 outer:exit 2b-1731b30ad657f473074c4f73d35cd3c44f2614ea-de80b59267104795-01
2021-09-23T17:22:22.020Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:22.023Z appoptics:debug span.exit - no last event outer outer:entry 2b-74db553f15860f88b5e64ff8a6c8b196d78350a6-ee7d9a941300fc04-01 outer:exit 2b-74db553f15860f88b5e64ff8a6c8b196d78350a6-10fd575e121e7084-01
2021-09-23T17:22:22.023Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:22.029Z appoptics:debug span.exit - no last event outer outer:entry 2b-f595feadf652d2bee70c08cc43dbb9e2b8191147-a88bb8a5ec066c8c-01 outer:exit 2b-f595feadf652d2bee70c08cc43dbb9e2b8191147-4efa69b6b5c89175-01
2021-09-23T17:22:22.029Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:22.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-a229abd6fa46967c76991d16d353a2f1c3f17cd6-56d951e79a08af39-01 outer:exit 2b-a229abd6fa46967c76991d16d353a2f1c3f17cd6-6d5a2da57f6eb157-01
2021-09-23T17:22:22.036Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:22.051Z appoptics:debug span.exit - no last event outer outer:entry 2b-e235d216f3b576c5ea0832e06af1e3cd07e74e1a-2718da0768927fa1-01 outer:exit 2b-e235d216f3b576c5ea0832e06af1e3cd07e74e1a-675d9ad994ba551f-01
2021-09-23T17:22:22.051Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:22.094Z appoptics:debug span.exit - no last event outer outer:entry 2b-211e42cc34b1e53c12d97e6b20da3163ad705b41-c3a5015e6333e489-01 outer:exit 2b-211e42cc34b1e53c12d97e6b20da3163ad705b41-778c0bc23a10bb25-01
2021-09-23T17:22:22.094Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:22.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-28ea638b719c35c9c8227f449231cce95bfb611e-773c589b06504516-01 outer:exit 2b-28ea638b719c35c9c8227f449231cce95bfb611e-2537e96a10f12ee5-01
2021-09-23T17:22:22.098Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:22.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-415e1c969c1d2637281175bd72af153f99f9db33-cb8fb70d09283112-01 outer:exit 2b-415e1c969c1d2637281175bd72af153f99f9db33-df95fc68354ba2ea-01
2021-09-23T17:22:22.106Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:22.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1b4bf1bb7ec01c38bb672ce12391f5ddf063e7c-b2da55ab4e4ded5d-01 outer:exit 2b-a1b4bf1bb7ec01c38bb672ce12391f5ddf063e7c-fa34ed69193062df-01
2021-09-23T17:22:22.110Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:22.119Z appoptics:debug span.exit - no last event outer outer:entry 2b-67aae90448b1b256648dba68cd01bde13626f83c-3642888cb1580cde-01 outer:exit 2b-67aae90448b1b256648dba68cd01bde13626f83c-46a3cfac86964ce6-01
2021-09-23T17:22:22.119Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:22.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-8186d7224c5425709aa4c6fd2c29c9545ddf5cd9-9ddbe78c46915182-01 outer:exit 2b-8186d7224c5425709aa4c6fd2c29c9545ddf5cd9-f61b1b69b5b8ec96-01
2021-09-23T17:22:22.122Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:22.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-ded9294c2ede56ca46c30b37a0aba15fb0c08481-5edaeee5a9cee1f5-01 outer:exit 2b-ded9294c2ede56ca46c30b37a0aba15fb0c08481-cd7f0651d29af9a1-01
2021-09-23T17:22:22.184Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:22.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-b17fa92e7723e1596315d6ff045d662bed8ca3c3-41a1a0890e5c4021-01 outer:exit 2b-b17fa92e7723e1596315d6ff045d662bed8ca3c3-4d30016e4bd326db-01
2021-09-23T17:22:22.200Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:22.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-264acb7188cc10b6a598a2dfdb1dd885ab32a61e-ea19ba212deb4834-01 outer:exit 2b-264acb7188cc10b6a598a2dfdb1dd885ab32a61e-b76cb0318c611d51-01
2021-09-23T17:22:22.203Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:22.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-934aea676188ff3972fc16644067ccc74a721aaa-4ca0aaa48435056d-01 outer:exit 2b-934aea676188ff3972fc16644067ccc74a721aaa-b9700b2d6c4058e7-01
2021-09-23T17:22:22.207Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:22.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-b187b28de2b0e77c9882c8f4d7cee62012eb4340-315f35425de24c0e-01 outer:exit 2b-b187b28de2b0e77c9882c8f4d7cee62012eb4340-6c0e49d81a5eaefe-01
2021-09-23T17:22:22.211Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:22.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-1adb81576f52a8e1d41f62da1df4affbe956be01-a2463e0480fb21db-01 outer:exit 2b-1adb81576f52a8e1d41f62da1df4affbe956be01-c9e5d4374bb7f8b3-01
2021-09-23T17:22:22.214Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:22.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-eafa05891f9f3c6a8da4944cd4a2a38ff4e5680e-3a37ba11cefddc9b-01 outer:exit 2b-eafa05891f9f3c6a8da4944cd4a2a38ff4e5680e-4f5b9008c33d049a-01
2021-09-23T17:22:22.219Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:22.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-6200d2f1a007965df28bf52e51739ae737e423b4-f6deb92af1bbf778-01 outer:exit 2b-6200d2f1a007965df28bf52e51739ae737e423b4-1f3843bbfcc74e7e-01
2021-09-23T17:22:22.232Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:22.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-e37e10b65a49a74329ef4c5dd22086285f9d66b3-c6d3fc8524346362-01 outer:exit 2b-e37e10b65a49a74329ef4c5dd22086285f9d66b3-fa99b6632c2903e7-01
2021-09-23T17:22:22.238Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:22.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-65ff83f42de46685954230530711b4ef46453f0e-3d7cfc682ea055d3-01 outer:exit 2b-65ff83f42de46685954230530711b4ef46453f0e-d1dab57af229d89b-01
2021-09-23T17:22:22.247Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:22.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e5a5a96155bb8d3909c76eb2f8746d5382e8892-bbb53d8a11d35e8b-01 outer:exit 2b-5e5a5a96155bb8d3909c76eb2f8746d5382e8892-4e6cf62f914b72b0-01
2021-09-23T17:22:22.255Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:22.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-72b6ad7dd2d279b3e7a4f2a56b155177d106ef00-b22014604d4b8ed0-01 outer:exit 2b-72b6ad7dd2d279b3e7a4f2a56b155177d106ef00-853670fadf448bab-01
2021-09-23T17:22:22.257Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:22.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-e89aaf037caf753dba5b024e78f1ec798f8732b2-3d0b5a2f545b6721-01 outer:exit 2b-e89aaf037caf753dba5b024e78f1ec798f8732b2-a6cc1edbf790c978-01
2021-09-23T17:22:22.261Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:22.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb67e354b81ef9d3f24b37735e317fc98fb4a4b0-3191b2a2a113eaca-01 outer:exit 2b-bb67e354b81ef9d3f24b37735e317fc98fb4a4b0-2d8bd87a2e69c1cb-01
2021-09-23T17:22:22.268Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:22.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-dea8d885e47f80d914bea4ffae8adc48f73398ae-527b8cc9ba555a97-01 outer:exit 2b-dea8d885e47f80d914bea4ffae8adc48f73398ae-77f213daa52d5083-01
2021-09-23T17:22:22.271Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:22.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-a03749048be0dc64ccd79bedd3267d114d41980f-f4b8086fe1c25085-01 outer:exit 2b-a03749048be0dc64ccd79bedd3267d114d41980f-69d3ec92392f393d-01
2021-09-23T17:22:22.274Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:22.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a69edfdcca15b5b9b40f588814906e585abb382-b97393d5a9dda76f-01 outer:exit 2b-0a69edfdcca15b5b9b40f588814906e585abb382-719fb3c2b72fce49-01
2021-09-23T17:22:22.276Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:22.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b12ac2f89e5eae663e344fff5706ca1f50bea30-94b499cdbfbb0831-01 outer:exit 2b-8b12ac2f89e5eae663e344fff5706ca1f50bea30-92de88ce9392928c-01
2021-09-23T17:22:22.278Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:22.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d9fc099a086136d726068f16d1631f9187eaa30-a4b6ce328e4e4619-01 outer:exit 2b-1d9fc099a086136d726068f16d1631f9187eaa30-70272a608e8f4097-01
2021-09-23T17:22:22.281Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:22.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4918b649e52e20661ffa551e21ebc90dbc7f163-5f712d6b5243d9fe-01 outer:exit 2b-e4918b649e52e20661ffa551e21ebc90dbc7f163-82df143440aa1832-01
2021-09-23T17:22:22.291Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:22.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-ab43818ee10a85df104ef48e0a2474fb2a5884b2-5323bb4a923d2ef8-01 outer:exit 2b-ab43818ee10a85df104ef48e0a2474fb2a5884b2-1e8c2736c6ec40d3-01
2021-09-23T17:22:22.301Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:22.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-3962ea250ce04d020bec50a1cb7d6044bc0910ea-6db28e572fd7d3e0-01 outer:exit 2b-3962ea250ce04d020bec50a1cb7d6044bc0910ea-46e51c32983dd717-01
2021-09-23T17:22:22.304Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:22.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-8daa76682eef81fedacd3e6eb3efe5d71220a1b7-d3e2ce079b86878c-01 outer:exit 2b-8daa76682eef81fedacd3e6eb3efe5d71220a1b7-fac2021be98834f8-01
2021-09-23T17:22:22.308Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:22.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ddc6235c8663822636139ae59cd968721e8614a-adea23aee74969c9-01 outer:exit 2b-6ddc6235c8663822636139ae59cd968721e8614a-bc9bf5c6a2c2d925-01
2021-09-23T17:22:22.311Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:22.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-8207a7aa7c34fd829facbd67da8ac247a850c646-e4b903b6ebd13e3f-01 outer:exit 2b-8207a7aa7c34fd829facbd67da8ac247a850c646-0c670a6568c4dc21-01
2021-09-23T17:22:22.341Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (433ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.5
updated 1 package and audited 1098 packages in 6.532s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:30.176Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:30.177Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:30.177Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:30.178Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:30.266Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:30.336Z appoptics:patching patched crypto 
2021-09-23T17:22:30.395Z appoptics:patching patched https 
2021-09-23T17:22:30.396Z appoptics:patching patched http 
2021-09-23T17:22:30.529Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:30.533Z appoptics:patching patched fs 
2021-09-23T17:22:30.603Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v14.17.6)
2021-09-23T17:22:30.613Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2021-09-23T17:22:30.868Z appoptics:debug span.exit - no last event outer outer:entry 2b-f27fa338cf46c05086780ee433500481ab136513-d70765ced9b6f4cd-01 outer:exit 2b-f27fa338cf46c05086780ee433500481ab136513-fa15a58d1b8ca505-01
2021-09-23T17:22:30.868Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:30.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-556df85c7d7f2c61af14846100bc63bbc31fb6a7-5d4568a068529497-01 outer:exit 2b-556df85c7d7f2c61af14846100bc63bbc31fb6a7-7089a339d24fb228-01
2021-09-23T17:22:30.947Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:30.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd5d9498ee01e81dc5cd6098af7cac2e2224db30-64893ba5460f3dbc-01 outer:exit 2b-fd5d9498ee01e81dc5cd6098af7cac2e2224db30-9fe712f6d423cf76-01
2021-09-23T17:22:30.951Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:30.954Z appoptics:debug span.exit - no last event outer outer:entry 2b-efb806782d58bd63522a503e3ba24d4e57b82f09-3bb999ae02af819d-01 outer:exit 2b-efb806782d58bd63522a503e3ba24d4e57b82f09-1a42981f3a3e42d4-01
2021-09-23T17:22:30.954Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:30.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-161dd5bfbda95e9f5e86b457c78286f1697d8822-b6bc6c79d3f1ee96-01 outer:exit 2b-161dd5bfbda95e9f5e86b457c78286f1697d8822-5115651a7c01ea22-01
2021-09-23T17:22:30.960Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:30.964Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fab752b8361cd181a51a423467091c27a52d96f-26f3f50ffb44e84e-01 outer:exit 2b-8fab752b8361cd181a51a423467091c27a52d96f-49cc16996d2c1c87-01
2021-09-23T17:22:30.964Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:30.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-43f9a7819754095a8b6eb5e4899caa1dfd705cd2-40d9b1e43e6414b1-01 outer:exit 2b-43f9a7819754095a8b6eb5e4899caa1dfd705cd2-b943a1391ca227b7-01
2021-09-23T17:22:30.967Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:30.970Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8bf4956020d53c50e40b833dfcfe0d0b2a6f0a1-44171faa53a233c7-01 outer:exit 2b-e8bf4956020d53c50e40b833dfcfe0d0b2a6f0a1-3c1742367157b007-01
2021-09-23T17:22:30.970Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:30.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f49b355f05e924674758e02b98400bf26c07962-15fc2ab798be371d-01 outer:exit 2b-5f49b355f05e924674758e02b98400bf26c07962-60cb8a2d473376e6-01
2021-09-23T17:22:30.972Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:30.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cd8f7776078026077d9ea71c243df26471a9aa3-ee0a469827440f77-01 outer:exit 2b-4cd8f7776078026077d9ea71c243df26471a9aa3-57e9e5736fc94030-01
2021-09-23T17:22:30.976Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:30.980Z appoptics:debug span.exit - no last event outer outer:entry 2b-bad5f1521bf5fc3b816096084df353c70765933c-8249a7aae19c2087-01 outer:exit 2b-bad5f1521bf5fc3b816096084df353c70765933c-a78faffa2b8b8bed-01
2021-09-23T17:22:30.981Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:30.987Z appoptics:debug span.exit - no last event outer outer:entry 2b-703da2248f2019c289b86ed90d2590ee05bad120-10947e6b5bb21f69-01 outer:exit 2b-703da2248f2019c289b86ed90d2590ee05bad120-888cd9569762db37-01
2021-09-23T17:22:30.987Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:31.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f59ff577894edc48f052e1627a81edc919c5bf5-8b0474320fd595b9-01 outer:exit 2b-6f59ff577894edc48f052e1627a81edc919c5bf5-a9a778b3e3f920c7-01
2021-09-23T17:22:31.005Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:31.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-aac4681fd02fd79ebf005598c2e62fc28176b9bc-289952be6f2cb352-01 outer:exit 2b-aac4681fd02fd79ebf005598c2e62fc28176b9bc-cbdd385011893ca9-01
2021-09-23T17:22:31.050Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:31.055Z appoptics:debug span.exit - no last event outer outer:entry 2b-0205fefce784b7f54e0c266efc03b871d2821e1f-337f554951acdcac-01 outer:exit 2b-0205fefce784b7f54e0c266efc03b871d2821e1f-ca1c6fa9f838841f-01
2021-09-23T17:22:31.055Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:31.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd74d898a94aba9b4fc81cb652783bc14f437159-89a9dd660e19b9a7-01 outer:exit 2b-cd74d898a94aba9b4fc81cb652783bc14f437159-ab5c554f5a0cfa64-01
2021-09-23T17:22:31.059Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:31.064Z appoptics:debug span.exit - no last event outer outer:entry 2b-52ec72266b156149b5059e3ed9106324cbed3c9f-3c7adb02743a03d5-01 outer:exit 2b-52ec72266b156149b5059e3ed9106324cbed3c9f-2e8decea2ee68002-01
2021-09-23T17:22:31.064Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:31.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-758b983b0faeacd51c0cfcdd1c0c5b9aaa7833a7-14a2ef7945da2c93-01 outer:exit 2b-758b983b0faeacd51c0cfcdd1c0c5b9aaa7833a7-4a51681699917261-01
2021-09-23T17:22:31.067Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:31.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-70c13db3b89a118aa86688902b1f84be64619be0-3b054128de31f131-01 outer:exit 2b-70c13db3b89a118aa86688902b1f84be64619be0-0a320484a8896cd1-01
2021-09-23T17:22:31.071Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:31.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-79d40ee6c196af9be52a5253c2f69c9bd157fa06-ed120ece0931861d-01 outer:exit 2b-79d40ee6c196af9be52a5253c2f69c9bd157fa06-748a5c6969a1b713-01
2021-09-23T17:22:31.081Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:31.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a958f8e7e70a1c217438a47e771a323a47db9c1-5688b1beb2c9d014-01 outer:exit 2b-2a958f8e7e70a1c217438a47e771a323a47db9c1-ca99d7608a38a03e-01
2021-09-23T17:22:31.085Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:31.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-822df56414e6dc5cb5b9cd6e522c562956e40c43-09c199dd77cebfbb-01 outer:exit 2b-822df56414e6dc5cb5b9cd6e522c562956e40c43-7ab824b07c6189c2-01
2021-09-23T17:22:31.090Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:31.095Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e90e9f8062eff869ca83930da9035f19e74e622-5d7cfb0c62ff3011-01 outer:exit 2b-6e90e9f8062eff869ca83930da9035f19e74e622-9327db7cecbc9b72-01
2021-09-23T17:22:31.095Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:31.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-c08be1cc56af318162d3b8a7cc069d297d80de97-f13839cf3dfcc32e-01 outer:exit 2b-c08be1cc56af318162d3b8a7cc069d297d80de97-a35239e546ec7548-01
2021-09-23T17:22:31.104Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:31.108Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ca02791f5a4fc6352d424d28a221b64d2216baa-1398e01b5029b75a-01 outer:exit 2b-9ca02791f5a4fc6352d424d28a221b64d2216baa-53561048b1c7f141-01
2021-09-23T17:22:31.108Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:31.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae8e145d2a80614645d896e7fd725fb17f1292e8-2888855cf00f7863-01 outer:exit 2b-ae8e145d2a80614645d896e7fd725fb17f1292e8-4cf29baa49d9926c-01
2021-09-23T17:22:31.111Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:31.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6fd34d1c2f2d068a6171c79d27d23c26bac0a9e-51aa074c227fac2d-01 outer:exit 2b-e6fd34d1c2f2d068a6171c79d27d23c26bac0a9e-079acf262d68c6d6-01
2021-09-23T17:22:31.118Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:31.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0e549f4f004912c78ae91b7e4a866c887487699-2658c36d5577630c-01 outer:exit 2b-b0e549f4f004912c78ae91b7e4a866c887487699-e805d2f3e2aa7567-01
2021-09-23T17:22:31.123Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:31.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-02a104629fd427c4537b1a9fd5d5c340b997eea9-7af87fe865c19859-01 outer:exit 2b-02a104629fd427c4537b1a9fd5d5c340b997eea9-84d717874b0a85ee-01
2021-09-23T17:22:31.134Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:31.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bd0edaa93612954501a83ab79028a4d6d3b0f13-815c4b2cd7e02edd-01 outer:exit 2b-5bd0edaa93612954501a83ab79028a4d6d3b0f13-90508c0dc75c4f81-01
2021-09-23T17:22:31.141Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:31.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-aaf78041ae8c70627fd12e9b029a093b0add037b-fa614ace036ac1d0-01 outer:exit 2b-aaf78041ae8c70627fd12e9b029a093b0add037b-e387352b207fb04d-01
2021-09-23T17:22:31.144Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:31.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d614306511aceec96e9b3fefd560d8372698e31-a0fff70fe57edb33-01 outer:exit 2b-5d614306511aceec96e9b3fefd560d8372698e31-e092df113ed37324-01
2021-09-23T17:22:31.147Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:31.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6dc1c7d4cbd835b29f58f7f1e72b5cda1b4ec90-f53b36e4c742ac9a-01 outer:exit 2b-d6dc1c7d4cbd835b29f58f7f1e72b5cda1b4ec90-8513bc12f84b9b9a-01
2021-09-23T17:22:31.155Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:31.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-a02d08ebf31748f2f1f00f118b6503189153dfff-7f8c80c4ac8e6cbb-01 outer:exit 2b-a02d08ebf31748f2f1f00f118b6503189153dfff-ca192451ea9ccd02-01
2021-09-23T17:22:31.158Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:31.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-fcb55f82740a86adb5ff551ee003eef77b1ec456-d05a939691f611e6-01 outer:exit 2b-fcb55f82740a86adb5ff551ee003eef77b1ec456-7031f81aa546dd65-01
2021-09-23T17:22:31.161Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:31.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dfded8023913dd59c628b73202284a1c89d18ab-6ca9c768637e6ce0-01 outer:exit 2b-3dfded8023913dd59c628b73202284a1c89d18ab-db725513f3fb0ba8-01
2021-09-23T17:22:31.164Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:31.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-b32a674400e19196a73e250989df8f8dd744e7af-2b0bb5150d71d504-01 outer:exit 2b-b32a674400e19196a73e250989df8f8dd744e7af-bb880d5631c2341c-01
2021-09-23T17:22:31.166Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:31.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-a508b6b56b9ce3d8151644cd7bb25dbdbb498582-b0caff27a03291eb-01 outer:exit 2b-a508b6b56b9ce3d8151644cd7bb25dbdbb498582-6be51955a608c4fd-01
2021-09-23T17:22:31.169Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:31.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9c292af3feebd3fb66ca3c2af5104039f68faf6-164185fc998d08c1-01 outer:exit 2b-a9c292af3feebd3fb66ca3c2af5104039f68faf6-ee41a93ba2c7001c-01
2021-09-23T17:22:31.180Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:31.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-21d6dc069d92265c1b665eaf2915e1c38cbe7d76-31ab772242f94395-01 outer:exit 2b-21d6dc069d92265c1b665eaf2915e1c38cbe7d76-3ba6c4ad08cee749-01
2021-09-23T17:22:31.191Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:31.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-d7acb4a374aa62e226224f8b07d346c413230b1a-d7bc058c73ed6880-01 outer:exit 2b-d7acb4a374aa62e226224f8b07d346c413230b1a-434083a5a36b8825-01
2021-09-23T17:22:31.194Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:31.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb71c59cb76333ff7b3a3b399f605ccb2e2c3357-6f235e370799232f-01 outer:exit 2b-eb71c59cb76333ff7b3a3b399f605ccb2e2c3357-5f84b94a00221f9a-01
2021-09-23T17:22:31.198Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:31.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa9376099eec978184a36852c8aacb2a3f97ccc7-f1768cb0e7be4d28-01 outer:exit 2b-aa9376099eec978184a36852c8aacb2a3f97ccc7-c95e55c925141cb2-01
2021-09-23T17:22:31.202Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:31.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c6247edca305402793f9f0e09ccbee370adb6f9-6182a4d3f2ef397e-01 outer:exit 2b-1c6247edca305402793f9f0e09ccbee370adb6f9-c335f1f10e6652bc-01
2021-09-23T17:22:31.232Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (408ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.6
updated 1 package and audited 1098 packages in 5.902s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:38.393Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:38.394Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:38.394Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:38.395Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:38.477Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:38.526Z appoptics:patching patched crypto 
2021-09-23T17:22:38.549Z appoptics:patching patched https 
2021-09-23T17:22:38.549Z appoptics:patching patched http 
2021-09-23T17:22:38.590Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:38.590Z appoptics:patching patched fs 
2021-09-23T17:22:38.618Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v14.17.6)
2021-09-23T17:22:38.625Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2021-09-23T17:22:38.851Z appoptics:debug span.exit - no last event outer outer:entry 2b-63e8d6053d0a359c90d1c272bea8e9bca8558c48-bb36d38e950291da-01 outer:exit 2b-63e8d6053d0a359c90d1c272bea8e9bca8558c48-3f5c2dbbfcaa0e34-01
2021-09-23T17:22:38.851Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:38.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-35eb261944b8d522755348cf3ae9b38d19bd4fa2-880436cfa60d3d94-01 outer:exit 2b-35eb261944b8d522755348cf3ae9b38d19bd4fa2-f489adb4a5a61cfd-01
2021-09-23T17:22:38.894Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:38.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-194fc5b0e58986d5d7844d409bc9739abab3e76d-a3dc98d5e0cda64a-01 outer:exit 2b-194fc5b0e58986d5d7844d409bc9739abab3e76d-12661ceb3d89fbbf-01
2021-09-23T17:22:38.899Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:38.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-08aa02557c17ab7014935a922df132118fb30a5e-6bfa824bd4cebaad-01 outer:exit 2b-08aa02557c17ab7014935a922df132118fb30a5e-ffa13bd3e8f59b1b-01
2021-09-23T17:22:38.903Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:38.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3b70976d727c8d47a17a4d8077937b147bc60d2-96f4f06b84dce228-01 outer:exit 2b-e3b70976d727c8d47a17a4d8077937b147bc60d2-aca66926cf087588-01
2021-09-23T17:22:38.910Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:38.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-374c7ffe273ea7e7f6a2a0e0810b6006f9cb18dd-79e8ef246fb4be56-01 outer:exit 2b-374c7ffe273ea7e7f6a2a0e0810b6006f9cb18dd-a86732a78b21f4a2-01
2021-09-23T17:22:38.914Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:38.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-89ab9c1f0b9a495d52a10f9a90ab58e92fee2977-9cc251779eb16f79-01 outer:exit 2b-89ab9c1f0b9a495d52a10f9a90ab58e92fee2977-830dd0bb0f9f92c4-01
2021-09-23T17:22:38.917Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:38.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-a808eace34a4b10838ace43395f33adcc8f0a8d5-5efbd74d99de87f3-01 outer:exit 2b-a808eace34a4b10838ace43395f33adcc8f0a8d5-b3ddef1849ca2ef4-01
2021-09-23T17:22:38.921Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:38.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-bec39e7213425ecca2967bbae10d0ba0c697659f-91c0c9c26753aec7-01 outer:exit 2b-bec39e7213425ecca2967bbae10d0ba0c697659f-777e51e7083cae02-01
2021-09-23T17:22:38.923Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:38.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-04b810b4d21a78e61f0fbece2f2892c63f65913a-ff1e92b0aa17ec87-01 outer:exit 2b-04b810b4d21a78e61f0fbece2f2892c63f65913a-61ff42f549687a4a-01
2021-09-23T17:22:38.927Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:38.932Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6bf40c0e5fbefc7446cf7e690ccbe1638b7db4e-0f2d15d40ecc5824-01 outer:exit 2b-f6bf40c0e5fbefc7446cf7e690ccbe1638b7db4e-e26f3500581a1ebb-01
2021-09-23T17:22:38.932Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:38.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-26bc43b2630b4a6e78c5f1985b77a0dd5a8e261b-3061e14dc5d5fef4-01 outer:exit 2b-26bc43b2630b4a6e78c5f1985b77a0dd5a8e261b-779c7b2c13caed82-01
2021-09-23T17:22:38.939Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:38.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-385dc51d672020a276d7d82a26e54e6b350cf95d-b99112de21b8c493-01 outer:exit 2b-385dc51d672020a276d7d82a26e54e6b350cf95d-c34fa786da249c5e-01
2021-09-23T17:22:38.957Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:39.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ed13e6e0cdf9d96b9813ac7bb851741f4fe0ce6-cff8095e1173b20e-01 outer:exit 2b-4ed13e6e0cdf9d96b9813ac7bb851741f4fe0ce6-82455777f12aeb1f-01
2021-09-23T17:22:39.041Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:39.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e412d8c2594e22727c7c77a460f2ca22a1fb50b-e5365d856fad7f51-01 outer:exit 2b-0e412d8c2594e22727c7c77a460f2ca22a1fb50b-e2146c521829337e-01
2021-09-23T17:22:39.044Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:39.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-eeed5620b330519ddcb05ee469423030a807e06f-5a52a86b1eaa3d69-01 outer:exit 2b-eeed5620b330519ddcb05ee469423030a807e06f-c7a0c61d1f0eb37a-01
2021-09-23T17:22:39.046Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:39.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a12ee53539399418d8dadf1e4e7bb557d9d90ee-f06f6b48cbb7a413-01 outer:exit 2b-4a12ee53539399418d8dadf1e4e7bb557d9d90ee-fb9985d45a20bd89-01
2021-09-23T17:22:39.050Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:39.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-87bab8cb53ec61e468fb54bf01389248042f6cdc-a787bc059009e251-01 outer:exit 2b-87bab8cb53ec61e468fb54bf01389248042f6cdc-574d86fbef5be6ec-01
2021-09-23T17:22:39.052Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:39.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-19cfefc156f20aa1031226ea72efeff95ec5b4d6-4c9813625bac881f-01 outer:exit 2b-19cfefc156f20aa1031226ea72efeff95ec5b4d6-e9cb5cc5eb02dddd-01
2021-09-23T17:22:39.054Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:39.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-9984c40a4082205de01744d3bac99702fc3b181c-b8d79b9ee520fe49-01 outer:exit 2b-9984c40a4082205de01744d3bac99702fc3b181c-ef5161a7c05b9bfd-01
2021-09-23T17:22:39.058Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:39.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-1eae3b829fe7828f8ebbb4326028a9f0cd3ce5bf-57c463b7ed5e6566-01 outer:exit 2b-1eae3b829fe7828f8ebbb4326028a9f0cd3ce5bf-5e46db43991c8ef0-01
2021-09-23T17:22:39.061Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:39.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-17e7bee40ce54be0a708bff28f90cf09f7f99da0-76082550c26ea972-01 outer:exit 2b-17e7bee40ce54be0a708bff28f90cf09f7f99da0-dded616056422d57-01
2021-09-23T17:22:39.063Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:39.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e130d82d46c1013894da2f05d6d3ffc777356cd-343c1b05acebc467-01 outer:exit 2b-3e130d82d46c1013894da2f05d6d3ffc777356cd-535e69e6e68e241a-01
2021-09-23T17:22:39.066Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:39.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bc716c002ea106b4f591a4c9bc88b808b254f28-ba291970ba9017d7-01 outer:exit 2b-6bc716c002ea106b4f591a4c9bc88b808b254f28-d72220cc8cfafc8e-01
2021-09-23T17:22:39.070Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:39.072Z appoptics:debug span.exit - no last event outer outer:entry 2b-e742d91c33a46161ff163b56a0c0d0ea8b2cdfc5-db1ce1f728fffd38-01 outer:exit 2b-e742d91c33a46161ff163b56a0c0d0ea8b2cdfc5-856dc3d6ca3ecaed-01
2021-09-23T17:22:39.072Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:39.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4c6f0dd48afd83c311979683407cd092a68e2cd-7595b9faa4c048a2-01 outer:exit 2b-a4c6f0dd48afd83c311979683407cd092a68e2cd-e59c8071c68f68cc-01
2021-09-23T17:22:39.075Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:39.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c07a5d2cfee0bf55633bd3c2e537c6e9061a74a-6b9108f96a00cf64-01 outer:exit 2b-5c07a5d2cfee0bf55633bd3c2e537c6e9061a74a-a0fca110a25c7bb2-01
2021-09-23T17:22:39.089Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:39.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8164fa50f1a960fc0b9d5c45927575b099ee20a-ed42bd1bf13d184b-01 outer:exit 2b-b8164fa50f1a960fc0b9d5c45927575b099ee20a-418bd60363441645-01
2021-09-23T17:22:39.096Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:39.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-e01224a9116d663832c66a074db9c11b12c55344-589196fcd39d29af-01 outer:exit 2b-e01224a9116d663832c66a074db9c11b12c55344-c3bccc5441e28de2-01
2021-09-23T17:22:39.110Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:39.117Z appoptics:debug span.exit - no last event outer outer:entry 2b-015029b944a6a5c4ec9670f8862f0efe7f37b9e2-9e21b3c306bee141-01 outer:exit 2b-015029b944a6a5c4ec9670f8862f0efe7f37b9e2-51ba1d1809280422-01
2021-09-23T17:22:39.118Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:39.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-2709d85d62bfe324705b30e624cca143f70fbe29-147fa1fc00b0d073-01 outer:exit 2b-2709d85d62bfe324705b30e624cca143f70fbe29-acae8343e7262469-01
2021-09-23T17:22:39.120Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:39.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-62f7006b597004ae53145671694a4e0b064dc795-eb2c5a03a9f473d5-01 outer:exit 2b-62f7006b597004ae53145671694a4e0b064dc795-de64a87c8304d6f7-01
2021-09-23T17:22:39.124Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:39.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-48ac14388aa39119bb023195c6d4e86048c3cf4a-298e823d7b9ff956-01 outer:exit 2b-48ac14388aa39119bb023195c6d4e86048c3cf4a-d4a53e908fe910b7-01
2021-09-23T17:22:39.131Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:39.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bbe0874736122fc121a78d8e95aa826ed7806f8-3ec3089a017a5383-01 outer:exit 2b-8bbe0874736122fc121a78d8e95aa826ed7806f8-90e6dd39663f9a22-01
2021-09-23T17:22:39.134Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:39.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-b08614d2bf87ee4f2fc3079296d3dde4fa034e79-121dc8eafdccd2b8-01 outer:exit 2b-b08614d2bf87ee4f2fc3079296d3dde4fa034e79-129c2732222a977c-01
2021-09-23T17:22:39.137Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:39.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9889ba6d4d3c47384037ad071cfc0e9e393e44f-28a0222b93cbb333-01 outer:exit 2b-a9889ba6d4d3c47384037ad071cfc0e9e393e44f-37eb04fc33add8da-01
2021-09-23T17:22:39.139Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:39.141Z appoptics:debug span.exit - no last event outer outer:entry 2b-39ee72d49cbd7eb89bcd9049946799139e075bff-43236829f612c585-01 outer:exit 2b-39ee72d49cbd7eb89bcd9049946799139e075bff-d45457a6fcfda1a6-01
2021-09-23T17:22:39.141Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:39.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-629fc2dacd126cbc1a476eb9a377aaab8b7b4ae7-ad5dd02c16d8c09f-01 outer:exit 2b-629fc2dacd126cbc1a476eb9a377aaab8b7b4ae7-b2307ffe423180ae-01
2021-09-23T17:22:39.144Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:39.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e5980e728e800b491580abd8a9adcd85df9f571-1f5d17aeb61f6e28-01 outer:exit 2b-1e5980e728e800b491580abd8a9adcd85df9f571-12eba3d2b7f53e57-01
2021-09-23T17:22:39.155Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:39.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-db4ad9add4cbd4e80f06f5f6233d06ab866ce594-a8464f6b85bc67de-01 outer:exit 2b-db4ad9add4cbd4e80f06f5f6233d06ab866ce594-0ab43892181b415a-01
2021-09-23T17:22:39.164Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:39.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0c7f9676e8d23eb08a47aaffe7163d7932b7fc0-0a09b65a70061752-01 outer:exit 2b-c0c7f9676e8d23eb08a47aaffe7163d7932b7fc0-6c9fe55fb73dd6ea-01
2021-09-23T17:22:39.168Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:39.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff0b5941599d32310bd348bc4315ff443adb742d-8e49d289dfd480b0-01 outer:exit 2b-ff0b5941599d32310bd348bc4315ff443adb742d-a1c370d3c8a19256-01
2021-09-23T17:22:39.171Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:39.174Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b8a0a7e913f4b3dafa6e9da11792b2cc5cffa81-4a8032bf31323829-01 outer:exit 2b-1b8a0a7e913f4b3dafa6e9da11792b2cc5cffa81-27b8a91575e36e39-01
2021-09-23T17:22:39.174Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:39.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e29d3c1723ff4e137be19b646bbd509bc71d7f4-98482096b7c1ecf8-01 outer:exit 2b-0e29d3c1723ff4e137be19b646bbd509bc71d7f4-97fe1343a78b5ee4-01
2021-09-23T17:22:39.204Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (410ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.7
updated 1 package and audited 1098 packages in 6.587s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:47.152Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:47.153Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:47.153Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:47.153Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:47.230Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:47.298Z appoptics:patching patched crypto 
2021-09-23T17:22:47.325Z appoptics:patching patched https 
2021-09-23T17:22:47.325Z appoptics:patching patched http 
2021-09-23T17:22:47.375Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:47.376Z appoptics:patching patched fs 
2021-09-23T17:22:47.408Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v14.17.6)
2021-09-23T17:22:47.421Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2021-09-23T17:22:47.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dc0fb8957506d7004b0c6f5fbaa63e2712b04c2-94abb44db778f20f-01 outer:exit 2b-1dc0fb8957506d7004b0c6f5fbaa63e2712b04c2-6ad14a01ce6caa7c-01
2021-09-23T17:22:47.685Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:47.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-73999a258f53d99ae947edfc66165178314d1085-3ce4ff50139f8068-01 outer:exit 2b-73999a258f53d99ae947edfc66165178314d1085-7463839934fafd3c-01
2021-09-23T17:22:47.735Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:47.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-9de8c17dce4bf77fac7e47c67ab7e368dd484b7a-bb12119990ecb9ee-01 outer:exit 2b-9de8c17dce4bf77fac7e47c67ab7e368dd484b7a-2049f0cb399150b1-01
2021-09-23T17:22:47.743Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:47.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-9da0486b075d0ef0bff411e7e293a139b8eed629-595c577b8d333e7f-01 outer:exit 2b-9da0486b075d0ef0bff411e7e293a139b8eed629-d2652c95191deef1-01
2021-09-23T17:22:47.747Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:47.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-be46bbe6dd50029a15ae982af04b39731898f4b6-c5f2600bdc22ec55-01 outer:exit 2b-be46bbe6dd50029a15ae982af04b39731898f4b6-25335a01ef2e0ab0-01
2021-09-23T17:22:47.753Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:47.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-a662f48931dd3e9bd9bc2aa8fdcd05fc7161e4e0-3e9e81af27e4fa12-01 outer:exit 2b-a662f48931dd3e9bd9bc2aa8fdcd05fc7161e4e0-d402b74dfe9ce5b4-01
2021-09-23T17:22:47.757Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:47.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9bcd1482f79128ce08104036c599a10f43599fd-caf66ffd520923f7-01 outer:exit 2b-d9bcd1482f79128ce08104036c599a10f43599fd-32975ecbb05f3801-01
2021-09-23T17:22:47.760Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:47.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4c6746a1080f7530fd75bda63059d0d39d457c3-ffc579559d4a386f-01 outer:exit 2b-e4c6746a1080f7530fd75bda63059d0d39d457c3-4f1ccfc510c3824d-01
2021-09-23T17:22:47.763Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:47.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-eecba67f1c248b58de855eab3ff582d0885bff4d-97e41c0783484505-01 outer:exit 2b-eecba67f1c248b58de855eab3ff582d0885bff4d-5246de4b47539bcd-01
2021-09-23T17:22:47.766Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:47.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b8df773758169fc61fd60cb8b98c707e2683bdf-bf3495283ecb3cb8-01 outer:exit 2b-6b8df773758169fc61fd60cb8b98c707e2683bdf-c5f43eeb430d14fb-01
2021-09-23T17:22:47.769Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:47.773Z appoptics:debug span.exit - no last event outer outer:entry 2b-175ec4689f42c2459b501f63869552184d6d10a5-ae1d852be2c9573b-01 outer:exit 2b-175ec4689f42c2459b501f63869552184d6d10a5-237c8f523329809e-01
2021-09-23T17:22:47.773Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:47.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-170943be1be0a61d3ee496e4d18d79faa92ec44f-fa45cfdafdbe5f5f-01 outer:exit 2b-170943be1be0a61d3ee496e4d18d79faa92ec44f-e090d0a4182b6f41-01
2021-09-23T17:22:47.780Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:47.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d77881d1f1ccf288f1721a3bb82a9e6db56ec20-157616555c9d3d9e-01 outer:exit 2b-7d77881d1f1ccf288f1721a3bb82a9e6db56ec20-d44362f4c178247f-01
2021-09-23T17:22:47.796Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:47.833Z appoptics:debug span.exit - no last event outer outer:entry 2b-8461bf5d6339cc48aaf579b8a394b3fcd689f318-ac491821294c11ca-01 outer:exit 2b-8461bf5d6339cc48aaf579b8a394b3fcd689f318-00708cbe9c4f95b9-01
2021-09-23T17:22:47.833Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:47.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-a097ec9d1c1691968776893b35655177f630c74a-974966756a8e237f-01 outer:exit 2b-a097ec9d1c1691968776893b35655177f630c74a-0bbce8d7c3729cb6-01
2021-09-23T17:22:47.836Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:47.839Z appoptics:debug span.exit - no last event outer outer:entry 2b-01a80015008526e7915833b73843b3da425b6451-0ba85c0bfe67cbf7-01 outer:exit 2b-01a80015008526e7915833b73843b3da425b6451-e9e24a2ad905adac-01
2021-09-23T17:22:47.839Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:47.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-5296fc5b50d50370fb8689163850ccaaae7f96c3-280ef1f16028e3bd-01 outer:exit 2b-5296fc5b50d50370fb8689163850ccaaae7f96c3-96d98d739e0072ee-01
2021-09-23T17:22:47.843Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:47.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-68f53b0359efcdce6f7c9c6908fb910ca689907c-3f4b73f3efebd90b-01 outer:exit 2b-68f53b0359efcdce6f7c9c6908fb910ca689907c-03d8e20f4f7b98ef-01
2021-09-23T17:22:47.845Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:47.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-886b7eb195d330f1c843ff70b96196ffd7798aab-30719b6593697a0c-01 outer:exit 2b-886b7eb195d330f1c843ff70b96196ffd7798aab-79affe9759210f5f-01
2021-09-23T17:22:47.848Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:47.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ae25bca71134751b8851399e1526de09b28b660-f18a2d47923edd52-01 outer:exit 2b-6ae25bca71134751b8851399e1526de09b28b660-0b28e272d1acf3ef-01
2021-09-23T17:22:47.850Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:47.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c42b1f70c941b655c00a61593fad26d3971b79f-043ef23d9ac8c8e8-01 outer:exit 2b-6c42b1f70c941b655c00a61593fad26d3971b79f-d9d12c373cd690c2-01
2021-09-23T17:22:47.853Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:47.863Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a69b1ef55801355c75ae3a61904a99870ba3e9-f2477791308805bd-01 outer:exit 2b-a3a69b1ef55801355c75ae3a61904a99870ba3e9-79b51de9ab15a9e9-01
2021-09-23T17:22:47.863Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:47.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-88b005fa9649964b144dee56d8eb153d45678056-d85acf47129b7ad4-01 outer:exit 2b-88b005fa9649964b144dee56d8eb153d45678056-96bd77aa33bc99fb-01
2021-09-23T17:22:47.870Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:47.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f76f26c0c8f6b46f028fb346ea720b7b3d57ed4-c731d3faa90d749f-01 outer:exit 2b-2f76f26c0c8f6b46f028fb346ea720b7b3d57ed4-4f72d6ccc39ef415-01
2021-09-23T17:22:47.883Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:47.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-7978f8db2b2c13f4e64a38f2fae9113722a07698-393220035a53565d-01 outer:exit 2b-7978f8db2b2c13f4e64a38f2fae9113722a07698-396dea6663924919-01
2021-09-23T17:22:47.886Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:47.889Z appoptics:debug span.exit - no last event outer outer:entry 2b-791d419decf49fc3ba9878846afaadf19b6fc798-e05da33740a51f71-01 outer:exit 2b-791d419decf49fc3ba9878846afaadf19b6fc798-499c2cad5f5ea3ba-01
2021-09-23T17:22:47.889Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:47.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e0206446a3f77e6ead75be7bf90523ac8f7a917-97f84be6c8d3f14a-01 outer:exit 2b-7e0206446a3f77e6ead75be7bf90523ac8f7a917-265f847807210b3d-01
2021-09-23T17:22:47.897Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:47.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-182d63a7409aaaa6e51f9d65bd0bbf434cbf9f4e-a7a35642711a1899-01 outer:exit 2b-182d63a7409aaaa6e51f9d65bd0bbf434cbf9f4e-c1cc28a663c4b651-01
2021-09-23T17:22:47.902Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:47.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-be51a0cab35df624d10502be855cf1198d39ef57-aabd97b9b0c1cd85-01 outer:exit 2b-be51a0cab35df624d10502be855cf1198d39ef57-eecd98095446367e-01
2021-09-23T17:22:47.912Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:47.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-422028f30c0a847e5b2cb37d5b522c024ade3f0f-8efb05ffbc2cb7ca-01 outer:exit 2b-422028f30c0a847e5b2cb37d5b522c024ade3f0f-2fe06c1929b1ab87-01
2021-09-23T17:22:47.919Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:47.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-140355963556be3546914df99ff56da51bff5909-434b92f473ab4295-01 outer:exit 2b-140355963556be3546914df99ff56da51bff5909-b8967259d64ea934-01
2021-09-23T17:22:47.922Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:47.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4e7b6c026a3baede04ec31f050fc0203dd6c648-80cc07003a06024e-01 outer:exit 2b-b4e7b6c026a3baede04ec31f050fc0203dd6c648-effa45d7dbf776a4-01
2021-09-23T17:22:47.925Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:47.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c7a221b2354e9ca7f8cb1b1d64225c3d237d853-b90108c734aa15ce-01 outer:exit 2b-9c7a221b2354e9ca7f8cb1b1d64225c3d237d853-dca89c6e0bfaad9f-01
2021-09-23T17:22:47.933Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:47.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3a4e993be2a9453dfa83a87ce0491e1ef7cbbe7-4b323fbf80eedc45-01 outer:exit 2b-d3a4e993be2a9453dfa83a87ce0491e1ef7cbbe7-fddf744a4c012a2e-01
2021-09-23T17:22:47.936Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:47.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4c3410db3f9e1e24fb050cdd2b5cad85bdbc982-6464133f677085a5-01 outer:exit 2b-e4c3410db3f9e1e24fb050cdd2b5cad85bdbc982-ca7d0ca3fd652d31-01
2021-09-23T17:22:47.938Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:47.941Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c46b8dbe93af925d6e64cdcb752b7bfd7f8e2e3-5ad0bcfad52cf67e-01 outer:exit 2b-2c46b8dbe93af925d6e64cdcb752b7bfd7f8e2e3-c28173518ec242fd-01
2021-09-23T17:22:47.941Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:47.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-f98566c0c0af2169d74dd57a4ae28466f5823076-aa71bb4ea2c44bad-01 outer:exit 2b-f98566c0c0af2169d74dd57a4ae28466f5823076-7f74cf92b984e9cd-01
2021-09-23T17:22:47.943Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:47.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-9470b2bc70487828bb47f6a59543f350995acb43-07858b7468985e76-01 outer:exit 2b-9470b2bc70487828bb47f6a59543f350995acb43-2f1af1453664ef76-01
2021-09-23T17:22:47.946Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:47.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-191d8c4a951213ccd480462408242130c375e6be-73b1c04d89a83cc5-01 outer:exit 2b-191d8c4a951213ccd480462408242130c375e6be-0cb152ddae58c144-01
2021-09-23T17:22:47.956Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:47.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-4217984f033049d480916b23eece381d8fef83cb-dd90cf4de8b67b7c-01 outer:exit 2b-4217984f033049d480916b23eece381d8fef83cb-e9aacb4a6bd240da-01
2021-09-23T17:22:47.966Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:47.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c78630c3c8db2b799a69ad6cffbcdf75de76a53-17ebccbcfa7a74b6-01 outer:exit 2b-5c78630c3c8db2b799a69ad6cffbcdf75de76a53-72a39e669bb93d50-01
2021-09-23T17:22:47.969Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:47.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb7c7790a369c268b24d13aed5f702292617d175-b12e8851ae414287-01 outer:exit 2b-cb7c7790a369c268b24d13aed5f702292617d175-983361228881ed79-01
2021-09-23T17:22:47.973Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:47.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-d856af0ff4a52f3b9c0ef137b33f01bed604099e-3c19eb54e0a3d6a0-01 outer:exit 2b-d856af0ff4a52f3b9c0ef137b33f01bed604099e-22db2afe1549e501-01
2021-09-23T17:22:47.976Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:48.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c5b79b7b6d338227ad97d322f37158224da9fbf-1305a3fc9dd74260-01 outer:exit 2b-5c5b79b7b6d338227ad97d322f37158224da9fbf-ce8d7f2d0e8f0871-01
2021-09-23T17:22:48.016Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (381ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.8
updated 1 package and audited 1098 packages in 6.263s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:22:55.885Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:22:55.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:22:55.886Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:22:55.887Z appoptics:debug using context provider: ace-context
2021-09-23T17:22:55.977Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:22:56.049Z appoptics:patching patched crypto 
2021-09-23T17:22:56.088Z appoptics:patching patched https 
2021-09-23T17:22:56.088Z appoptics:patching patched http 
2021-09-23T17:22:56.132Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:22:56.133Z appoptics:patching patched fs 
2021-09-23T17:22:56.163Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v14.17.6)
2021-09-23T17:22:56.171Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2021-09-23T17:22:56.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-6949395be1ee20677945a2419f0c43bbe8f1f040-73202cd3eed272d0-01 outer:exit 2b-6949395be1ee20677945a2419f0c43bbe8f1f040-e6e211e0e5f80174-01
2021-09-23T17:22:56.386Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:22:56.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-9137c264f5a975e10993a402f8c3c488bf68f6f9-7d4b7c8aae8702ed-01 outer:exit 2b-9137c264f5a975e10993a402f8c3c488bf68f6f9-51d2f264fd4793b7-01
2021-09-23T17:22:56.443Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:22:56.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-3595a84268381e22636ea72907f3c6ec70af9559-6607dff87d036be8-01 outer:exit 2b-3595a84268381e22636ea72907f3c6ec70af9559-728e59f1fdfd4bcb-01
2021-09-23T17:22:56.448Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:22:56.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-82f732268069df881295e67d3138ec42477f850a-5519a564f2786d4f-01 outer:exit 2b-82f732268069df881295e67d3138ec42477f850a-2ee46cb116220d93-01
2021-09-23T17:22:56.451Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:22:56.456Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecabddf14d2e907ea0083497ce29a65aa89183b8-ae249a25ad497c74-01 outer:exit 2b-ecabddf14d2e907ea0083497ce29a65aa89183b8-5f5558305ebe09a1-01
2021-09-23T17:22:56.456Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:22:56.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2406afc4f64bef9337275ba75bd3fde6c1e87ce-04aec81f42111ed2-01 outer:exit 2b-d2406afc4f64bef9337275ba75bd3fde6c1e87ce-04ccd9db27e95765-01
2021-09-23T17:22:56.460Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:22:56.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4e3a3a69fd36e4ae5917db490e0a0694828ca82-7578b2ce9b9f2c57-01 outer:exit 2b-e4e3a3a69fd36e4ae5917db490e0a0694828ca82-fc1cb6496bcc8ba7-01
2021-09-23T17:22:56.463Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:22:56.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d9b9269e90c30236495591d7208f245ffef4831-877f066a229799dc-01 outer:exit 2b-1d9b9269e90c30236495591d7208f245ffef4831-22e881b043968fbc-01
2021-09-23T17:22:56.466Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:22:56.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bb6c90f1762191f7ff75bbeb376870f84c565c7-dbf2b58a016f0034-01 outer:exit 2b-7bb6c90f1762191f7ff75bbeb376870f84c565c7-4f072bb56211e243-01
2021-09-23T17:22:56.469Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:22:56.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f7d68ed20de14f5b91444d5a62f313541870885-21e889f52eb6767a-01 outer:exit 2b-6f7d68ed20de14f5b91444d5a62f313541870885-417467357e0f41ce-01
2021-09-23T17:22:56.472Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:22:56.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-9876afd631c6017a6c176dc828879a51979e9ece-e298fc4b0727cdf6-01 outer:exit 2b-9876afd631c6017a6c176dc828879a51979e9ece-f42ecf03ce6c7313-01
2021-09-23T17:22:56.477Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:22:56.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-63fdad4545b171706e58cc397e22b0b88546f520-95303ea1379b301c-01 outer:exit 2b-63fdad4545b171706e58cc397e22b0b88546f520-14a2777ed728b5e3-01
2021-09-23T17:22:56.485Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:22:56.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-43033ecd0007ba296dc10c4a9a5f91de6dfa1411-31874dee85f69af0-01 outer:exit 2b-43033ecd0007ba296dc10c4a9a5f91de6dfa1411-12a4d2cefa7aff48-01
2021-09-23T17:22:56.501Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:22:56.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c373bb4911fe0bf493f215fe3795da029e407b-4afd85e770ae02a0-01 outer:exit 2b-65c373bb4911fe0bf493f215fe3795da029e407b-0ecd3e639f18f4fb-01
2021-09-23T17:22:56.542Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:22:56.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a1103ea1290943c3f92b08d9c632513a39fee06-58465ea1ce22390b-01 outer:exit 2b-9a1103ea1290943c3f92b08d9c632513a39fee06-34c82dc85b812b76-01
2021-09-23T17:22:56.545Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:22:56.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-310f3e17c02bae9b66ca107418966a048e567a77-ab6cd4b43f13bf2e-01 outer:exit 2b-310f3e17c02bae9b66ca107418966a048e567a77-fc356b4ca3ccef3a-01
2021-09-23T17:22:56.548Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:22:56.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-359f797395994b13cf9ddf998fb5f036cd938fc4-3595492fd38b7b93-01 outer:exit 2b-359f797395994b13cf9ddf998fb5f036cd938fc4-1887becbe4373a37-01
2021-09-23T17:22:56.552Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:22:56.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3db2999edd14423705f547d93635450e71c2d78-1f36c7f4ef1a9ab8-01 outer:exit 2b-f3db2999edd14423705f547d93635450e71c2d78-a29f06d61ff4889f-01
2021-09-23T17:22:56.554Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:22:56.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dfd0097b28a54f1fc5806d95dd5c57cd9b104f9-1f6cfc629f2aa447-01 outer:exit 2b-1dfd0097b28a54f1fc5806d95dd5c57cd9b104f9-ff43ce0559733217-01
2021-09-23T17:22:56.557Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:22:56.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3cb22724b765dc2fea784bd6dc26e313401e9d0-351a11441f367daa-01 outer:exit 2b-e3cb22724b765dc2fea784bd6dc26e313401e9d0-387cb3cd0c38bdab-01
2021-09-23T17:22:56.560Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:22:56.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec3e356d3dffe82090de02cf15b1027de301a54a-0d42866a8fc164a2-01 outer:exit 2b-ec3e356d3dffe82090de02cf15b1027de301a54a-e8b22ff175fb331a-01
2021-09-23T17:22:56.570Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:22:56.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-7edf58c07a3b27b9f4e402eb2e8db5767aa50666-e1ca1f49e8409baa-01 outer:exit 2b-7edf58c07a3b27b9f4e402eb2e8db5767aa50666-fe23a26936963ecf-01
2021-09-23T17:22:56.576Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:22:56.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-004c4e04431fbfdf2a3ab5d76d44b7feb376cb18-3314f74207cd4f3d-01 outer:exit 2b-004c4e04431fbfdf2a3ab5d76d44b7feb376cb18-5a7c6cc7b72a8208-01
2021-09-23T17:22:56.582Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:22:56.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-14ccde2167674e042719e1a3bbe5f92176fdd7e3-5b7a0c99ec7ad6bf-01 outer:exit 2b-14ccde2167674e042719e1a3bbe5f92176fdd7e3-6133cd89de911ba8-01
2021-09-23T17:22:56.587Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:22:56.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-62b77b2e92e727db302af5e34d87704e2935a8d4-acca0b66ae018fd6-01 outer:exit 2b-62b77b2e92e727db302af5e34d87704e2935a8d4-dc095481610f370b-01
2021-09-23T17:22:56.596Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:22:56.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc2b5a3ddfe6871d1d8e7e05ba239c305aa2a4ba-ead10046b9be1e1d-01 outer:exit 2b-cc2b5a3ddfe6871d1d8e7e05ba239c305aa2a4ba-7931c5d4482d81fc-01
2021-09-23T17:22:56.599Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:22:56.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-c532a2d5401cb06a82ef5b912407b182447252e1-0d96c243ce41546b-01 outer:exit 2b-c532a2d5401cb06a82ef5b912407b182447252e1-d2df6cb6393efb46-01
2021-09-23T17:22:56.607Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:22:56.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba2e44197833d0d1ec96e219b8d8c0cd5bdca667-1b3002548be4ab56-01 outer:exit 2b-ba2e44197833d0d1ec96e219b8d8c0cd5bdca667-61290159d799f5c6-01
2021-09-23T17:22:56.611Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:22:56.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-d988aaf3ff106c2a84056524497c71e6a2790ab2-66fee5df9cf30291-01 outer:exit 2b-d988aaf3ff106c2a84056524497c71e6a2790ab2-adff9a77dec48a4b-01
2021-09-23T17:22:56.621Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:22:56.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa0a158ef914f48447d3d38dc1b242a0f274f005-fbc7803cee864a8f-01 outer:exit 2b-fa0a158ef914f48447d3d38dc1b242a0f274f005-7393a4fa0f622a72-01
2021-09-23T17:22:56.630Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:22:56.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c61a719d54d09dcdae44515a77f89ff83233d87-f7e7efc22390478d-01 outer:exit 2b-8c61a719d54d09dcdae44515a77f89ff83233d87-58511e586d84e019-01
2021-09-23T17:22:56.632Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:22:56.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c2fef3521610d6a96eb541f4db7fb43c97871b6-798ea79b7b745d0a-01 outer:exit 2b-0c2fef3521610d6a96eb541f4db7fb43c97871b6-a0aedffd1caa9525-01
2021-09-23T17:22:56.637Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:22:56.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf34822284ef8b535a94e032ab0cb888d938f628-1f926cba3f9b9459-01 outer:exit 2b-cf34822284ef8b535a94e032ab0cb888d938f628-f20796afa9c7bbac-01
2021-09-23T17:22:56.645Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:22:56.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-bff8899c6234265633d389a8c0c3db6093fee62e-aa45e10025865805-01 outer:exit 2b-bff8899c6234265633d389a8c0c3db6093fee62e-a1f88a1335208bd6-01
2021-09-23T17:22:56.648Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:22:56.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-909f3c6adb17c0138748cbf1c62a5f1c4dbccfd9-ea5aac882f79ce7f-01 outer:exit 2b-909f3c6adb17c0138748cbf1c62a5f1c4dbccfd9-c6c73fad9548d239-01
2021-09-23T17:22:56.650Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:22:56.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-0991bd0f12ddc28d393ff1933a06ea876231096b-9064c2f47df7b2a8-01 outer:exit 2b-0991bd0f12ddc28d393ff1933a06ea876231096b-d6b0012c06846479-01
2021-09-23T17:22:56.653Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:22:56.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d55985901d02b7c2371cc5706d6639ee0f9951c-878c5fb9926e91c5-01 outer:exit 2b-1d55985901d02b7c2371cc5706d6639ee0f9951c-9739bce97d95e31e-01
2021-09-23T17:22:56.656Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:22:56.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fac5bedf362498d408e45939d49775fb6307581-14647e8b74dbdc7c-01 outer:exit 2b-2fac5bedf362498d408e45939d49775fb6307581-5e4d57349639480e-01
2021-09-23T17:22:56.658Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:22:56.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-6513fb0d36a63b74d43d0890cb99c5113fdc665c-4faff668987b436e-01 outer:exit 2b-6513fb0d36a63b74d43d0890cb99c5113fdc665c-6505866b00621703-01
2021-09-23T17:22:56.669Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:22:56.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d0ad6ade195ee13be84669e0766fbb428786c5a-e13b2e4ded4f9a77-01 outer:exit 2b-4d0ad6ade195ee13be84669e0766fbb428786c5a-4d3cdd4f2c126b65-01
2021-09-23T17:22:56.680Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:22:56.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3674d80ae2a22aa75c0ebc29d49817e8d699b1f-917670a27eb60f75-01 outer:exit 2b-d3674d80ae2a22aa75c0ebc29d49817e8d699b1f-b2d44e8f13cb41d2-01
2021-09-23T17:22:56.684Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:22:56.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd5950eae0b45ccce0996bda8e9f39c18d4808fd-c36779c0d4b87fe3-01 outer:exit 2b-fd5950eae0b45ccce0996bda8e9f39c18d4808fd-4d6ffe84a10bc8d3-01
2021-09-23T17:22:56.687Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:22:56.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-66b2812a0f4178647cfcc6fe1340b6e47f481a3e-364988927267adf9-01 outer:exit 2b-66b2812a0f4178647cfcc6fe1340b6e47f481a3e-18a040c47eb4d2d4-01
2021-09-23T17:22:56.691Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:22:56.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-45ec17695768802bd07540e393a3130f2adffd3b-4f9b7d98354bf86e-01 outer:exit 2b-45ec17695768802bd07540e393a3130f2adffd3b-9fd60eaea5984632-01
2021-09-23T17:22:56.721Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (378ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.9
updated 1 package and audited 1098 packages in 5.924s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:03.833Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:03.833Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:03.833Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:03.834Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:03.901Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:03.950Z appoptics:patching patched crypto 
2021-09-23T17:23:03.972Z appoptics:patching patched https 
2021-09-23T17:23:03.972Z appoptics:patching patched http 
2021-09-23T17:23:04.044Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:04.044Z appoptics:patching patched fs 
2021-09-23T17:23:04.078Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v14.17.6)
2021-09-23T17:23:04.086Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2021-09-23T17:23:04.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-06469ffa6a38bd26708e53b6d0fd2a917679efff-8215b59c151839e0-01 outer:exit 2b-06469ffa6a38bd26708e53b6d0fd2a917679efff-e709220e658eb23f-01
2021-09-23T17:23:04.306Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:04.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-f39aea1495b6ffaddc864670551eeb12c68bd3d9-f9853adc5ff46428-01 outer:exit 2b-f39aea1495b6ffaddc864670551eeb12c68bd3d9-950df49b74e0eb34-01
2021-09-23T17:23:04.346Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:04.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-b32c4ebc15e108686631d3e198f03745dd89bf90-9e561f402e59d1de-01 outer:exit 2b-b32c4ebc15e108686631d3e198f03745dd89bf90-a356bdbc4fd8c0d3-01
2021-09-23T17:23:04.350Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:04.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-57bac322249bb1d0c4d65753d05d9be77e1f75b9-d04537f58e261424-01 outer:exit 2b-57bac322249bb1d0c4d65753d05d9be77e1f75b9-e35af2bdb08928bd-01
2021-09-23T17:23:04.354Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:04.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0543d72614abedb0e2f91bae8c96063af8d0e14-4e5fa96c11c8e9dc-01 outer:exit 2b-e0543d72614abedb0e2f91bae8c96063af8d0e14-d6033a008a745a4f-01
2021-09-23T17:23:04.360Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:04.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b4edee21a331863b8d32ae3da894a886487876c-493cd135725e9b22-01 outer:exit 2b-6b4edee21a331863b8d32ae3da894a886487876c-e4a24c7f604a23a9-01
2021-09-23T17:23:04.364Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:04.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ee8a124135d9825f1bfd36f9df091882383eeff-af63d1c1dbd67283-01 outer:exit 2b-6ee8a124135d9825f1bfd36f9df091882383eeff-2c5fd16dc7099b0e-01
2021-09-23T17:23:04.367Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:04.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcbe76fc04f810a106009db5c58e5244992bd4fa-9b90a27e725925cb-01 outer:exit 2b-dcbe76fc04f810a106009db5c58e5244992bd4fa-d34eb25289831a5d-01
2021-09-23T17:23:04.370Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:04.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-45161b559b8d48c3a8d6578dc4a15d1631303f6e-d9c41cc6ab836ceb-01 outer:exit 2b-45161b559b8d48c3a8d6578dc4a15d1631303f6e-d4d96f9c15e311f1-01
2021-09-23T17:23:04.373Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:04.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-e96770157a83d59ecd51e5ca4d2a01259a94b815-2d07366fdcf3b96f-01 outer:exit 2b-e96770157a83d59ecd51e5ca4d2a01259a94b815-b81ecedb9d530a49-01
2021-09-23T17:23:04.376Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:04.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bbc2039ca5407f7cec6591a0b70496e951d220f-17e3f9969c9308fc-01 outer:exit 2b-1bbc2039ca5407f7cec6591a0b70496e951d220f-c171d4d205ed4ea7-01
2021-09-23T17:23:04.381Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:04.401Z appoptics:debug span.exit - no last event outer outer:entry 2b-6181b4b86fe9de95756db8e9b2ae593a6977a440-90db6a6607976c77-01 outer:exit 2b-6181b4b86fe9de95756db8e9b2ae593a6977a440-44f2366ec56ac8f6-01
2021-09-23T17:23:04.401Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:04.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-e100037eab00a0ecccf3c5739dd178b9f4f52646-9471f09678112c28-01 outer:exit 2b-e100037eab00a0ecccf3c5739dd178b9f4f52646-68aea2ec7fb82345-01
2021-09-23T17:23:04.417Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:04.448Z appoptics:debug span.exit - no last event outer outer:entry 2b-425af901c5b7257d90b49049698259bd21de71e8-2f9260085370e9b4-01 outer:exit 2b-425af901c5b7257d90b49049698259bd21de71e8-f816b10aca4c6805-01
2021-09-23T17:23:04.448Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:04.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d75247b354feaa25611758cb2135e620617112-d9e3c8be51b00325-01 outer:exit 2b-f3d75247b354feaa25611758cb2135e620617112-398ed91c12189721-01
2021-09-23T17:23:04.451Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:04.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1fa3a8a0d1252786e63b41a1b3b936babaad40d-907ab4bdf0977bcf-01 outer:exit 2b-d1fa3a8a0d1252786e63b41a1b3b936babaad40d-872e973b8de1a9fe-01
2021-09-23T17:23:04.454Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:04.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-8818819da25f725415936ae8a1b96d628f18669b-6c3c3e163d83230b-01 outer:exit 2b-8818819da25f725415936ae8a1b96d628f18669b-9180dbb63b7ef92d-01
2021-09-23T17:23:04.457Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:04.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b47439846434fe42d9da48f2db5b979c17366d5-db36747b295c407d-01 outer:exit 2b-2b47439846434fe42d9da48f2db5b979c17366d5-d4708c9e3907ac23-01
2021-09-23T17:23:04.460Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:04.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-a137f2d55def27cc435a1fe261745dd8fdfdf50d-a13d7c186cd4c53d-01 outer:exit 2b-a137f2d55def27cc435a1fe261745dd8fdfdf50d-432eeeacd183e99c-01
2021-09-23T17:23:04.462Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:04.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e9d35edbc55da89dcd3b26fa5b285b377d44e81-496bcf8063560af6-01 outer:exit 2b-5e9d35edbc55da89dcd3b26fa5b285b377d44e81-d7b3f8b4724605d9-01
2021-09-23T17:23:04.465Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:04.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebc8354e149844f2e03260244f92151d8fda5d8a-05c0693e2bf6f766-01 outer:exit 2b-ebc8354e149844f2e03260244f92151d8fda5d8a-50c72d196d5698b9-01
2021-09-23T17:23:04.467Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:04.470Z appoptics:debug span.exit - no last event outer outer:entry 2b-15b1a4b51a500cea90ca785225546f9deeb8bae9-d36abfdc31bf67fa-01 outer:exit 2b-15b1a4b51a500cea90ca785225546f9deeb8bae9-733b777a2d36aeea-01
2021-09-23T17:23:04.470Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:04.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dc4e8c218a3a0bd8bba4948430615e50af39615-22cd4cab2ed5c2d2-01 outer:exit 2b-6dc4e8c218a3a0bd8bba4948430615e50af39615-0e2acad3929dc071-01
2021-09-23T17:23:04.473Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:04.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b0fc763554ca819fb1fb93e5e15906a65df91f-307061ed33088590-01 outer:exit 2b-51b0fc763554ca819fb1fb93e5e15906a65df91f-0956f2c2345dcaf3-01
2021-09-23T17:23:04.476Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:04.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-84fcb6fbf5a85db098afffb42925034db8cb614f-f40602d6bac9af11-01 outer:exit 2b-84fcb6fbf5a85db098afffb42925034db8cb614f-8afe2a5482e4585d-01
2021-09-23T17:23:04.479Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:04.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-61233d5aa53f7187d51ae0b0c46c875f291872e1-4230fe819ff1dad8-01 outer:exit 2b-61233d5aa53f7187d51ae0b0c46c875f291872e1-237c3350165f10f3-01
2021-09-23T17:23:04.482Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:04.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c0e446bbfedc4bbb950f7dcda86a8598095acee-17691c2dbb8ad1a4-01 outer:exit 2b-4c0e446bbfedc4bbb950f7dcda86a8598095acee-c8c4d268452689ce-01
2021-09-23T17:23:04.503Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:04.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf8b5e2367360cd8689ab20fabbd87295e65cc98-dad45f3134d7fd22-01 outer:exit 2b-bf8b5e2367360cd8689ab20fabbd87295e65cc98-9561a3bb44c94d28-01
2021-09-23T17:23:04.538Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:04.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-feadb24db7c5403d8ade79ae77f79cea80b30f4a-db30e9305c2da6c8-01 outer:exit 2b-feadb24db7c5403d8ade79ae77f79cea80b30f4a-94c4400ca2118052-01
2021-09-23T17:23:04.549Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:04.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-0339617104442cb66c6d8d133da547caea2bbc94-2eeba876db22930c-01 outer:exit 2b-0339617104442cb66c6d8d133da547caea2bbc94-4010abd19fe7dba8-01
2021-09-23T17:23:04.555Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:04.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce891c47442a732b342237ccbe03abc2715437b3-6e383f4015a2079b-01 outer:exit 2b-ce891c47442a732b342237ccbe03abc2715437b3-548e9701b6feb627-01
2021-09-23T17:23:04.559Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:04.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d9a313addf4b81db916fb00ef60278261a788e7-4fc228ed8e3e2df9-01 outer:exit 2b-2d9a313addf4b81db916fb00ef60278261a788e7-c55fd80ab27d14b5-01
2021-09-23T17:23:04.563Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:04.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb74b3448a57a3966bce1d8f9d303ac55d5d60f4-610c843917fa9f93-01 outer:exit 2b-bb74b3448a57a3966bce1d8f9d303ac55d5d60f4-0e540248448cec6e-01
2021-09-23T17:23:04.571Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:04.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-472b0e3cd3ab28de0b2c1eee25be043380a7ed99-c88ad35337d2af9d-01 outer:exit 2b-472b0e3cd3ab28de0b2c1eee25be043380a7ed99-e8fed2b58db28ccc-01
2021-09-23T17:23:04.574Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:04.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7d0782ddfbf44685ac4761d41bde39de2a46167-3818055db3a3001b-01 outer:exit 2b-f7d0782ddfbf44685ac4761d41bde39de2a46167-55f8ff2cb3678c81-01
2021-09-23T17:23:04.576Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:04.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-7239aa13f22b634c3e477e914f6d8392265d7bc9-0deebb229d31806f-01 outer:exit 2b-7239aa13f22b634c3e477e914f6d8392265d7bc9-3cb7064ae9ed5d70-01
2021-09-23T17:23:04.579Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:04.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c521058c51380cf8e3b048330925a461c60bee8-3f48b90b06af0e6c-01 outer:exit 2b-5c521058c51380cf8e3b048330925a461c60bee8-98d312d0be8417e5-01
2021-09-23T17:23:04.582Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:04.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a1c8c23f6c3581a1d32715abcc54f998e3ea01f-af9dd988d112395b-01 outer:exit 2b-6a1c8c23f6c3581a1d32715abcc54f998e3ea01f-48ed1e8033c12cb9-01
2021-09-23T17:23:04.584Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:04.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b6423133f0ef12b1ebba388e9e8141cc852ea63-ff586520ec24bf48-01 outer:exit 2b-8b6423133f0ef12b1ebba388e9e8141cc852ea63-40493709d65489b7-01
2021-09-23T17:23:04.595Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:04.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-761c5dfc523f8b73fa63ac7f31d389d7a867b098-b24713dc1f5f2d21-01 outer:exit 2b-761c5dfc523f8b73fa63ac7f31d389d7a867b098-9b6d73b961aae0a0-01
2021-09-23T17:23:04.604Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:04.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbb07ccfe3cd2bb2aedad3ff54a7675ba7757328-5144283d903142c3-01 outer:exit 2b-fbb07ccfe3cd2bb2aedad3ff54a7675ba7757328-039e4e037e21f94c-01
2021-09-23T17:23:04.607Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:04.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-342f8930846f65f78d229546ee04f5a98820739d-1f290f2650ef7912-01 outer:exit 2b-342f8930846f65f78d229546ee04f5a98820739d-b45df0f21de985f1-01
2021-09-23T17:23:04.611Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:04.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec4bab4769fdfd3ea7343b2f395021b33edd4e90-dc30f991d33cf5e6-01 outer:exit 2b-ec4bab4769fdfd3ea7343b2f395021b33edd4e90-eb2b9f24a56f07ea-01
2021-09-23T17:23:04.626Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:04.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbae83fb58f08db68004c3a22882c598c3f525b0-56694306ea3a9c20-01 outer:exit 2b-cbae83fb58f08db68004c3a22882c598c3f525b0-e3d943f9710c9120-01
2021-09-23T17:23:04.657Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (392ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.10
updated 1 package and audited 1098 packages in 8.124s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:13.955Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:13.956Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:13.956Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:13.957Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:14.024Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:14.077Z appoptics:patching patched crypto 
2021-09-23T17:23:14.100Z appoptics:patching patched https 
2021-09-23T17:23:14.101Z appoptics:patching patched http 
2021-09-23T17:23:14.154Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:14.155Z appoptics:patching patched fs 
2021-09-23T17:23:14.186Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v14.17.6)
2021-09-23T17:23:14.194Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2021-09-23T17:23:14.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-48a6c9a486535a9ac1aba2a8b9f96b5fa1b9a327-ac23303948ab271a-01 outer:exit 2b-48a6c9a486535a9ac1aba2a8b9f96b5fa1b9a327-db799d526bd37719-01
2021-09-23T17:23:14.430Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:14.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b1c7109baed1fe4f1411e10b72226b96fcc7401-817459d2c70d8097-01 outer:exit 2b-3b1c7109baed1fe4f1411e10b72226b96fcc7401-2e14ac60b112f7f6-01
2021-09-23T17:23:14.487Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:14.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-f64d396f6ac8aeafa8e4e27f705df6b3efdc0174-721d36cd3e5a8fba-01 outer:exit 2b-f64d396f6ac8aeafa8e4e27f705df6b3efdc0174-f3075e600c522a3b-01
2021-09-23T17:23:14.492Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:14.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-acfabbea1d544152e569900a97dff7185429f611-d46136b15d9d52c0-01 outer:exit 2b-acfabbea1d544152e569900a97dff7185429f611-61f43e2f6e00aa5e-01
2021-09-23T17:23:14.495Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:14.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e38f0babd946d6a72c2b2bc74b1bf4d95d2b6d9-75b6c1a5ab497753-01 outer:exit 2b-9e38f0babd946d6a72c2b2bc74b1bf4d95d2b6d9-55e3da8171c8445b-01
2021-09-23T17:23:14.500Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:14.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-6673e5b37a1badf70bb3ef1d10c114d3ab0b471b-c4e25f77e8be5785-01 outer:exit 2b-6673e5b37a1badf70bb3ef1d10c114d3ab0b471b-c5826b881066bd2a-01
2021-09-23T17:23:14.504Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:14.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba7f37c018d3a4c9fc4d0d6e9e26828e6d5c41b1-138e018b3af4d094-01 outer:exit 2b-ba7f37c018d3a4c9fc4d0d6e9e26828e6d5c41b1-0f88ad9b4b703535-01
2021-09-23T17:23:14.507Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:14.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d9072113112e4b3ba409986c416a87a69d084ac-fd0d9c1d0b17f9e6-01 outer:exit 2b-9d9072113112e4b3ba409986c416a87a69d084ac-ec0d4d9ba9d9e737-01
2021-09-23T17:23:14.509Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:14.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac01da93a39791935664dd01a810eb479ee6b77c-49bb5ebaf405b890-01 outer:exit 2b-ac01da93a39791935664dd01a810eb479ee6b77c-e800b59e6c2926a0-01
2021-09-23T17:23:14.512Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:14.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-63dd52f98104ee8cdabbb5883681d675f62cbe79-902bbad7cc52e444-01 outer:exit 2b-63dd52f98104ee8cdabbb5883681d675f62cbe79-fd072e8fc32ef5b0-01
2021-09-23T17:23:14.515Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:14.520Z appoptics:debug span.exit - no last event outer outer:entry 2b-94af8ec2fc1848328da44fec6c529dafaee6a8cd-747a269be20535ee-01 outer:exit 2b-94af8ec2fc1848328da44fec6c529dafaee6a8cd-496c9a0930356255-01
2021-09-23T17:23:14.520Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:14.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b29bd343b97217cd3d6f92cb71a15770bcb15a8-51bae4ecc54b2be9-01 outer:exit 2b-3b29bd343b97217cd3d6f92cb71a15770bcb15a8-6598a898a1c2f66f-01
2021-09-23T17:23:14.527Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:14.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-18af797de178d89f88b030eea452598b485c1330-7bd1272489668116-01 outer:exit 2b-18af797de178d89f88b030eea452598b485c1330-c7c7c9ff7ee3beae-01
2021-09-23T17:23:14.543Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:14.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2b244a9c55c6c37aa9bf493238d009db848ba3c-b29bc89ab1d17a54-01 outer:exit 2b-e2b244a9c55c6c37aa9bf493238d009db848ba3c-7654625dd669c240-01
2021-09-23T17:23:14.587Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:14.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-5734470a738abfbd472274be251cbd2fd3fcde67-f3fd06d0c849f510-01 outer:exit 2b-5734470a738abfbd472274be251cbd2fd3fcde67-bb5bd9f2ec616363-01
2021-09-23T17:23:14.591Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:14.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-e85e98c75e5908c155ce788f86b16ad9bcfbb518-abe70093d78f738d-01 outer:exit 2b-e85e98c75e5908c155ce788f86b16ad9bcfbb518-7a92daa0998bf89d-01
2021-09-23T17:23:14.594Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:14.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-34212a0b285559a55daa009dcc5aa55ed0a5c3c7-2bfcdd52911a53dc-01 outer:exit 2b-34212a0b285559a55daa009dcc5aa55ed0a5c3c7-c5b8ce7fc3bdc802-01
2021-09-23T17:23:14.598Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:14.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-62abfafcc977e371412e9b0f8864c3b0e9e49f38-765ddfb5a874692f-01 outer:exit 2b-62abfafcc977e371412e9b0f8864c3b0e9e49f38-3b8a8a3ce2d0514e-01
2021-09-23T17:23:14.601Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:14.604Z appoptics:debug span.exit - no last event outer outer:entry 2b-348c900ee350db7d9f4ccf08b4e2501cef45ccaa-1ee025a7791abe20-01 outer:exit 2b-348c900ee350db7d9f4ccf08b4e2501cef45ccaa-5184c762383c9ec3-01
2021-09-23T17:23:14.604Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:14.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bfbe594d56985b69fe7810ad11b41eec8e0f1e1-0fa610c52560b4c5-01 outer:exit 2b-1bfbe594d56985b69fe7810ad11b41eec8e0f1e1-884e475717676bc5-01
2021-09-23T17:23:14.606Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:14.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-d50a26d3a003248156eeda482443fb15c1c28012-2544d2515ef0d43f-01 outer:exit 2b-d50a26d3a003248156eeda482443fb15c1c28012-377946c80a7470b7-01
2021-09-23T17:23:14.609Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:14.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ebcb0f5cb7e55c9493af1ddf6f8728c3f800fca-9e0e0f7d18707e18-01 outer:exit 2b-7ebcb0f5cb7e55c9493af1ddf6f8728c3f800fca-68ec5339332cef09-01
2021-09-23T17:23:14.612Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:14.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-20245dc04d93782abc063307f13629820a2446a8-e7196e31af4e43ce-01 outer:exit 2b-20245dc04d93782abc063307f13629820a2446a8-eb6260cf469ea969-01
2021-09-23T17:23:14.615Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:14.618Z appoptics:debug span.exit - no last event outer outer:entry 2b-e784072f09555a01378ca8ee26ab0aa2d275c669-a74d254116a3f019-01 outer:exit 2b-e784072f09555a01378ca8ee26ab0aa2d275c669-0cf5f3bcb70243ed-01
2021-09-23T17:23:14.619Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:14.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac225ce60b6c0597e2c9700314cc81656d5b874a-97e954f5df64d4d4-01 outer:exit 2b-ac225ce60b6c0597e2c9700314cc81656d5b874a-0f7469b2cdcfff6d-01
2021-09-23T17:23:14.621Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:14.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-25a9c1542b9a74bd293fdfd3dd691adfe9be4700-1df6ff9d77af4093-01 outer:exit 2b-25a9c1542b9a74bd293fdfd3dd691adfe9be4700-309ba0defc6dc48f-01
2021-09-23T17:23:14.625Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:14.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e9df0a8f91465d8f81add557096b0bd4000e462-11986d9f901f3836-01 outer:exit 2b-1e9df0a8f91465d8f81add557096b0bd4000e462-0190169d718843e5-01
2021-09-23T17:23:14.633Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:14.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-605145f18db17540a66e8123abfad272346a6445-f56bff17c663859c-01 outer:exit 2b-605145f18db17540a66e8123abfad272346a6445-a653ba257240ab1c-01
2021-09-23T17:23:14.648Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:14.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-f54b1e278b23d681266640528567aa84a02167f1-b71550e9414bfcb5-01 outer:exit 2b-f54b1e278b23d681266640528567aa84a02167f1-ef2f82fdabe0ba2b-01
2021-09-23T17:23:14.662Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:14.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8fd2636674a2a653e6d81ac27ddb658b2ebe41d-5eb76f6d89ebcb32-01 outer:exit 2b-b8fd2636674a2a653e6d81ac27ddb658b2ebe41d-993e7faa92745ca9-01
2021-09-23T17:23:14.676Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:14.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-9db0d95134c9a1df4366d2d8eaf7cd10b45d77b0-6b748ce048172cb4-01 outer:exit 2b-9db0d95134c9a1df4366d2d8eaf7cd10b45d77b0-533a5440f29b2df4-01
2021-09-23T17:23:14.679Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:14.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-42f1b212f77e0fac22b933750de881cdce446382-5019d4942c0c8e76-01 outer:exit 2b-42f1b212f77e0fac22b933750de881cdce446382-5349e41eda9e76ad-01
2021-09-23T17:23:14.683Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:14.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-49bc98a0540abaaf7aac073304bfccd3f63abe4f-2c1d0274aee0fd89-01 outer:exit 2b-49bc98a0540abaaf7aac073304bfccd3f63abe4f-f8df3c887c10e7b3-01
2021-09-23T17:23:14.691Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:14.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd407019c05b470446bf80d96518408fd87657e9-b396c50bbc9174f3-01 outer:exit 2b-cd407019c05b470446bf80d96518408fd87657e9-039743a509decfee-01
2021-09-23T17:23:14.694Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:14.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eec14cb29fee3c05d808527ee10f0a6dacb91c8-7b4000c4de80f021-01 outer:exit 2b-5eec14cb29fee3c05d808527ee10f0a6dacb91c8-188e357abf4c15db-01
2021-09-23T17:23:14.697Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:14.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e390ffa2218c32bd26e32cc527dc6620dfda0a5-97e45e0f89abf1aa-01 outer:exit 2b-8e390ffa2218c32bd26e32cc527dc6620dfda0a5-78aad547ef6ec97c-01
2021-09-23T17:23:14.703Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:14.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-294b56287517014bd3200ccc051a65e799ded7df-21d108fd6cef9e6a-01 outer:exit 2b-294b56287517014bd3200ccc051a65e799ded7df-b338dd8179745081-01
2021-09-23T17:23:14.706Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:14.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b8a2ea996359b4cf175a4d7bfd37b7ff036e02f-1d226259e4d71637-01 outer:exit 2b-3b8a2ea996359b4cf175a4d7bfd37b7ff036e02f-17eccb6781d3111e-01
2021-09-23T17:23:14.709Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:14.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-f610d17b247c17fc6d5e5d339d47624e2ae7e16c-83fa1ff5768b015b-01 outer:exit 2b-f610d17b247c17fc6d5e5d339d47624e2ae7e16c-0b5c9cc5ecf21bff-01
2021-09-23T17:23:14.721Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:14.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-7974a0b8c8628a6fb5b65f07dc4c0090995fe89d-7c3ae22fc06359d2-01 outer:exit 2b-7974a0b8c8628a6fb5b65f07dc4c0090995fe89d-27924a8ae2ae54ec-01
2021-09-23T17:23:14.731Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:14.734Z appoptics:debug span.exit - no last event outer outer:entry 2b-9200b05b27b43dd309f983d91d8ca2c05a81c719-d6b6ec7174a77fa9-01 outer:exit 2b-9200b05b27b43dd309f983d91d8ca2c05a81c719-bdc63ac9d9495d89-01
2021-09-23T17:23:14.734Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:14.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-248f9c60918aecba48fdfd4418b98b875adefa00-e2eeaca57246d141-01 outer:exit 2b-248f9c60918aecba48fdfd4418b98b875adefa00-5789ad83c7f663cf-01
2021-09-23T17:23:14.738Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:14.742Z appoptics:debug span.exit - no last event outer outer:entry 2b-79ddbe65ece51e42aa5c508e38c1e95eff2335fe-0278d0693aa99db2-01 outer:exit 2b-79ddbe65ece51e42aa5c508e38c1e95eff2335fe-91d342508dfa8070-01
2021-09-23T17:23:14.742Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:14.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b357456fa2f574ba0089e20da1f2be5664a707c-05cf4b8d14410bbd-01 outer:exit 2b-7b357456fa2f574ba0089e20da1f2be5664a707c-2aad86c8f4f5951f-01
2021-09-23T17:23:14.772Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (387ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.11
updated 1 package and audited 1098 packages in 6.573s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:22.594Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:22.595Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:22.595Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:22.596Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:22.668Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:22.718Z appoptics:patching patched crypto 
2021-09-23T17:23:22.741Z appoptics:patching patched https 
2021-09-23T17:23:22.741Z appoptics:patching patched http 
2021-09-23T17:23:22.800Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:22.800Z appoptics:patching patched fs 
2021-09-23T17:23:22.848Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v14.17.6)
2021-09-23T17:23:22.856Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2021-09-23T17:23:23.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1a5707919a55f5d9603ddc0b3f5be9c76879d20-03197cffa9c8de7c-01 outer:exit 2b-e1a5707919a55f5d9603ddc0b3f5be9c76879d20-3f08e532fd2f9b2c-01
2021-09-23T17:23:23.112Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:23.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fe82970209d38b2189f8165be203346e8328b88-a9383b4c365d1f00-01 outer:exit 2b-3fe82970209d38b2189f8165be203346e8328b88-ea42903fef996c87-01
2021-09-23T17:23:23.202Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:23.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1b7ce91d11d59929ca31273496426391628a150-752f364dbf91de43-01 outer:exit 2b-f1b7ce91d11d59929ca31273496426391628a150-6816b9b0c99781b5-01
2021-09-23T17:23:23.207Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:23.213Z appoptics:debug span.exit - no last event outer outer:entry 2b-141a5af961fde5fa150637fed27e2d0d1147e296-cd99abb40c745584-01 outer:exit 2b-141a5af961fde5fa150637fed27e2d0d1147e296-08c51e980e881833-01
2021-09-23T17:23:23.213Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:23.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3527be4aa9645a95827245d4e1f9de6366d73a7-6d6515555e86895c-01 outer:exit 2b-a3527be4aa9645a95827245d4e1f9de6366d73a7-0185cfbb55b2b420-01
2021-09-23T17:23:23.224Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:23.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-3574f52db4f582b51abf5ae111a22d4283959114-4de1cbc81ab6a7f6-01 outer:exit 2b-3574f52db4f582b51abf5ae111a22d4283959114-968939bc7220a0a6-01
2021-09-23T17:23:23.228Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:23.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-97664ba01fead737f0ca19924c956c1ce48e8ebe-632e68ce65c2ca14-01 outer:exit 2b-97664ba01fead737f0ca19924c956c1ce48e8ebe-e30b5df6a52ebeb2-01
2021-09-23T17:23:23.232Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:23.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd1aaca76e2390f13dc9d5eb90578489f12fdb5e-e28013ba2eb995d6-01 outer:exit 2b-cd1aaca76e2390f13dc9d5eb90578489f12fdb5e-3da7bbf5771380e3-01
2021-09-23T17:23:23.235Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:23.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-ceda12c043c01e92054aa07426b25df1fbd6869e-08bd3c681222349b-01 outer:exit 2b-ceda12c043c01e92054aa07426b25df1fbd6869e-58547c36de37b035-01
2021-09-23T17:23:23.238Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:23.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-302c79f78c4108fafe8a2ef78aa53392a997deda-5f8e1b8755a12e48-01 outer:exit 2b-302c79f78c4108fafe8a2ef78aa53392a997deda-8a0c9e0b04484148-01
2021-09-23T17:23:23.242Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:23.248Z appoptics:debug span.exit - no last event outer outer:entry 2b-28843bd43c9e55bab3eb2d2df65df427f788ae50-584d45bb6d383192-01 outer:exit 2b-28843bd43c9e55bab3eb2d2df65df427f788ae50-831efa161824475d-01
2021-09-23T17:23:23.248Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:23.255Z appoptics:debug span.exit - no last event outer outer:entry 2b-69abd868072979af3fc1ac177d7c7fcc1ba44e9c-bc256c262565f952-01 outer:exit 2b-69abd868072979af3fc1ac177d7c7fcc1ba44e9c-6938c3c3db8b83f7-01
2021-09-23T17:23:23.255Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:23.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-98a68608ab5cd6dec7637feb0e416616ba212cfd-ca32b21696d2923e-01 outer:exit 2b-98a68608ab5cd6dec7637feb0e416616ba212cfd-bf2a696bae776ea9-01
2021-09-23T17:23:23.276Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:23.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac4f193a221315932cc4b1368109602c1d83eb7-26a4f4e0dccc4381-01 outer:exit 2b-3ac4f193a221315932cc4b1368109602c1d83eb7-468578af63cf2eed-01
2021-09-23T17:23:23.341Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:23.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cb689ac3ea6c94d4780f783f7c4c96977ba86c7-a08b724f2bebdfd5-01 outer:exit 2b-6cb689ac3ea6c94d4780f783f7c4c96977ba86c7-683d21d15d526837-01
2021-09-23T17:23:23.347Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:23.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d07dd2a0064ecce9c281780ef3ea6be0b23a2b9-965ff40559e0a050-01 outer:exit 2b-7d07dd2a0064ecce9c281780ef3ea6be0b23a2b9-7f22e722bc0d1c66-01
2021-09-23T17:23:23.350Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:23.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-3eb9706bfcc111d49e7e574c9cf656bacfec2e42-b29d002c97902104-01 outer:exit 2b-3eb9706bfcc111d49e7e574c9cf656bacfec2e42-66663f59659b21ab-01
2021-09-23T17:23:23.354Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:23.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-80a227fa3adfea996b029f1dbae04a4a86e415df-b25d82ec07ad5390-01 outer:exit 2b-80a227fa3adfea996b029f1dbae04a4a86e415df-c392465f6309ddf2-01
2021-09-23T17:23:23.357Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:23.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c419afdecf428793fdfd3b7a10c4f9069de084c-abcff2eefb8b7cd0-01 outer:exit 2b-5c419afdecf428793fdfd3b7a10c4f9069de084c-323d905cb95d431e-01
2021-09-23T17:23:23.360Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:23.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-1171e18b2077ed95408b4dea88d36cadb11473c5-7f68be1b7faed9d7-01 outer:exit 2b-1171e18b2077ed95408b4dea88d36cadb11473c5-36fd6b7bef20fd22-01
2021-09-23T17:23:23.364Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:23.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-51af625df29c9f38f13e57a65fbfba1008902ff4-8f8991ceb9298e0b-01 outer:exit 2b-51af625df29c9f38f13e57a65fbfba1008902ff4-246530dae7e0a086-01
2021-09-23T17:23:23.367Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:23.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-1679afa7c78ae7824f40b678e4d0c69795770afe-8e3be107097ef253-01 outer:exit 2b-1679afa7c78ae7824f40b678e4d0c69795770afe-8504a73a20f5bc06-01
2021-09-23T17:23:23.379Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:23.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdf071c10dd0beac67d8c44382760fd0f18f5437-93facd0f43ae9f46-01 outer:exit 2b-cdf071c10dd0beac67d8c44382760fd0f18f5437-44e71462a4a3d9f6-01
2021-09-23T17:23:23.385Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:23.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-9013cdf6d75815e8a1115d7afea9e03124d8e856-d341c8aec353cd80-01 outer:exit 2b-9013cdf6d75815e8a1115d7afea9e03124d8e856-7b8c2686f72aec79-01
2021-09-23T17:23:23.390Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:23.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-16f985f5d36b265da40ea39979beeabc43246f1e-f3d6dc68f9a81689-01 outer:exit 2b-16f985f5d36b265da40ea39979beeabc43246f1e-f693e76483133781-01
2021-09-23T17:23:23.399Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:23.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-7080255a9b045cf80cf617b0b9ed772296bd4a9b-ba3f6204a48945d1-01 outer:exit 2b-7080255a9b045cf80cf617b0b9ed772296bd4a9b-336e9e629cd7a67f-01
2021-09-23T17:23:23.403Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:23.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c41527480827d90a73519cb67fac735394ab56e-bf3f95375aec6b20-01 outer:exit 2b-7c41527480827d90a73519cb67fac735394ab56e-51dd304368525adc-01
2021-09-23T17:23:23.409Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:23.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ac659b6a703338a1f27b58221d0ad35fd1188eb-a45e4ddb51245a52-01 outer:exit 2b-2ac659b6a703338a1f27b58221d0ad35fd1188eb-2a56520264e1cf6e-01
2021-09-23T17:23:23.414Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:23.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8e234a5dc10f553fa8adedc8878f81aee356fe1-879dc1c2a1f210e0-01 outer:exit 2b-b8e234a5dc10f553fa8adedc8878f81aee356fe1-b8124e2c4eb60432-01
2021-09-23T17:23:23.424Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:23.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-532cc7ca3d90261c535a8746cd7a7904e3f15ae5-8f5d652af0b9bdbb-01 outer:exit 2b-532cc7ca3d90261c535a8746cd7a7904e3f15ae5-718625bdb145a1f7-01
2021-09-23T17:23:23.432Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:23.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-e811decc23ea0b5150e4fbd9eea5656dccedd569-d46b744733210dc3-01 outer:exit 2b-e811decc23ea0b5150e4fbd9eea5656dccedd569-44031fa37f33ccf1-01
2021-09-23T17:23:23.434Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:23.437Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f3fe960f86a4c1bdcdd979f2b8a75f1170879b9-ddc8121128d82dd6-01 outer:exit 2b-1f3fe960f86a4c1bdcdd979f2b8a75f1170879b9-8d6ac9a037b4427d-01
2021-09-23T17:23:23.437Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:23.445Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb1d65dafe406d6dc12a5da10cdbea62218c3bc3-f884b044af43246c-01 outer:exit 2b-fb1d65dafe406d6dc12a5da10cdbea62218c3bc3-1fbfbae069e121c0-01
2021-09-23T17:23:23.445Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:23.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b39e69415e9b9992d9e9064b222b5461644e18d-dea481b4fe3e3a59-01 outer:exit 2b-4b39e69415e9b9992d9e9064b222b5461644e18d-0fa33983d825438f-01
2021-09-23T17:23:23.447Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:23.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b77e091917a553ec8923c45437d09b9584cbb59-7ac4ce5109d1d31c-01 outer:exit 2b-4b77e091917a553ec8923c45437d09b9584cbb59-f4332879eb25aeca-01
2021-09-23T17:23:23.450Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:23.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-e63161347634520e8c26d70e1547a0f307b615df-9817eec5820dd648-01 outer:exit 2b-e63161347634520e8c26d70e1547a0f307b615df-589eb3e459e6ae66-01
2021-09-23T17:23:23.452Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:23.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-702ddec42b4a44db9fd8bb043b68f4f0041b3fac-800450a361acb1b5-01 outer:exit 2b-702ddec42b4a44db9fd8bb043b68f4f0041b3fac-96751b6f60bdc701-01
2021-09-23T17:23:23.455Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:23.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f1de06af594f5ab53b8aaffe38c9f0357952421-9c482af42ea88f77-01 outer:exit 2b-3f1de06af594f5ab53b8aaffe38c9f0357952421-41f07995d3ada4ef-01
2021-09-23T17:23:23.458Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:23.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-b62e7089303f07ae70ac80320866203ae7888798-dcbcc1880ac27230-01 outer:exit 2b-b62e7089303f07ae70ac80320866203ae7888798-55b23b83499cd641-01
2021-09-23T17:23:23.467Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:23.476Z appoptics:debug span.exit - no last event outer outer:entry 2b-44d16ff5e2beef2a6c848eea0dfe238538a8621d-86f886a224fa9d7d-01 outer:exit 2b-44d16ff5e2beef2a6c848eea0dfe238538a8621d-b6c568cae4918331-01
2021-09-23T17:23:23.476Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:23.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cc1a8be561ff401218143b9864f4e147f868148-58b8434b624bf890-01 outer:exit 2b-2cc1a8be561ff401218143b9864f4e147f868148-428a61dcc5aab671-01
2021-09-23T17:23:23.480Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:23.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-dab455ed343b421894e42aab9531ea37607898d3-809189abb852cea0-01 outer:exit 2b-dab455ed343b421894e42aab9531ea37607898d3-8ba04d42963cc3f8-01
2021-09-23T17:23:23.483Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:23.487Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0eede4949bbe3f413ced3b10c31f3057a98d2e4-13401f2d41dff126-01 outer:exit 2b-e0eede4949bbe3f413ced3b10c31f3057a98d2e4-4390d6fbed55c1e4-01
2021-09-23T17:23:23.487Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:23.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-32567cb48fdd6686dd386c4d3285a73688457426-07bb682357fcd303-01 outer:exit 2b-32567cb48fdd6686dd386c4d3285a73688457426-57aae25038950b3c-01
2021-09-23T17:23:23.523Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (456ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.12
updated 1 package and audited 1098 packages in 6.146s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:30.962Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:30.962Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:30.962Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:30.963Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:31.034Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:31.096Z appoptics:patching patched crypto 
2021-09-23T17:23:31.130Z appoptics:patching patched https 
2021-09-23T17:23:31.131Z appoptics:patching patched http 
2021-09-23T17:23:31.189Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:31.189Z appoptics:patching patched fs 
2021-09-23T17:23:31.222Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v14.17.6)
2021-09-23T17:23:31.230Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2021-09-23T17:23:31.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4dfb0bb065fcef860e7931ea4f5836fa9235f5b-6a72601b736c1e43-01 outer:exit 2b-f4dfb0bb065fcef860e7931ea4f5836fa9235f5b-b89d6fb89d2a28cf-01
2021-09-23T17:23:31.573Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:31.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a904c617f628618efdbc93047d4a26c823c4f01-ec24af5b97a0e7bb-01 outer:exit 2b-3a904c617f628618efdbc93047d4a26c823c4f01-3a989758a34df747-01
2021-09-23T17:23:31.637Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:31.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-85b53cd174b836cab6dc6575ab253a73dcba5ae3-e9928e3333de60d0-01 outer:exit 2b-85b53cd174b836cab6dc6575ab253a73dcba5ae3-a131ff5c42dbd398-01
2021-09-23T17:23:31.643Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:31.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a1a87d6d06baae7b705df15ce6a18cf28234aff-53e03c88173c9d64-01 outer:exit 2b-6a1a87d6d06baae7b705df15ce6a18cf28234aff-e8d9f6f41ee8d827-01
2021-09-23T17:23:31.646Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:31.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccd8c0fc7da3703a804f8a0f4e8bd99c0a621bb9-f1ef76f7a29df12a-01 outer:exit 2b-ccd8c0fc7da3703a804f8a0f4e8bd99c0a621bb9-2fc83ab5da585800-01
2021-09-23T17:23:31.653Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:31.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbedc5734f46d3aa55c53b55387bdb003d04a722-320f277ea692ad55-01 outer:exit 2b-cbedc5734f46d3aa55c53b55387bdb003d04a722-abb0d33db2fd7c37-01
2021-09-23T17:23:31.657Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:31.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0e7914501483fe8da424455e1d5f1f0e8b6e236-2700999ea65b0277-01 outer:exit 2b-f0e7914501483fe8da424455e1d5f1f0e8b6e236-86b5f011a605823e-01
2021-09-23T17:23:31.660Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:31.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9df1eda6eee1df0c49baac240e23d431dfa978c-0abef7785197ffb2-01 outer:exit 2b-f9df1eda6eee1df0c49baac240e23d431dfa978c-1ffb5e86721553df-01
2021-09-23T17:23:31.663Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:31.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-944d3cac1490eb4ce53190c3853d50fcdcbdc59f-3ba7c1ffb77c84da-01 outer:exit 2b-944d3cac1490eb4ce53190c3853d50fcdcbdc59f-a88c5f98c36a03fe-01
2021-09-23T17:23:31.666Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:31.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-d95a71796e7b9cefc5716ac0409e122e043352c5-d0e7a6f8c9cb3ab2-01 outer:exit 2b-d95a71796e7b9cefc5716ac0409e122e043352c5-2fa0c657d7ad3a4e-01
2021-09-23T17:23:31.673Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:31.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a889e01dc1caba649121f1fb2fe7f6a22b75ec5-1c9c22b717787d60-01 outer:exit 2b-8a889e01dc1caba649121f1fb2fe7f6a22b75ec5-edb1dbdfda699b68-01
2021-09-23T17:23:31.678Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:31.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e116cca460d58c09b11c6dda71dba31b551bb7f-79cb47b4720e56f7-01 outer:exit 2b-8e116cca460d58c09b11c6dda71dba31b551bb7f-e502c80431162e87-01
2021-09-23T17:23:31.686Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:31.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-093d46377e46640a1424d5058739a8990d7a55ba-8819451d5711047b-01 outer:exit 2b-093d46377e46640a1424d5058739a8990d7a55ba-e37b9344d8867985-01
2021-09-23T17:23:31.709Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:31.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f18c96df02a67fb2086ea337cf586deecfe3b7d-0d5fc850c45eb6f6-01 outer:exit 2b-9f18c96df02a67fb2086ea337cf586deecfe3b7d-5ab8441354a67aaa-01
2021-09-23T17:23:31.800Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:31.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-81c5ce44d99b16660154b135971dd87ceb8ed180-bc5ae71124181c1d-01 outer:exit 2b-81c5ce44d99b16660154b135971dd87ceb8ed180-916c779c33029878-01
2021-09-23T17:23:31.806Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:31.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d44eef248217d70e6c2e407acbdea79d9de2c65-23089265e8cd16dc-01 outer:exit 2b-1d44eef248217d70e6c2e407acbdea79d9de2c65-72db0543093c109b-01
2021-09-23T17:23:31.809Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:31.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6dd41a3267e9e4f66d4ca3804a60f4c6777e12d-05b16d8900823192-01 outer:exit 2b-f6dd41a3267e9e4f66d4ca3804a60f4c6777e12d-97500d5fab25c12c-01
2021-09-23T17:23:31.816Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:31.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb8ce70cdef35e5602654bdee5c3893acc553284-a5d396619cf23967-01 outer:exit 2b-bb8ce70cdef35e5602654bdee5c3893acc553284-a25a70e95f54300c-01
2021-09-23T17:23:31.819Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:31.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f3ab877cf2df1566f3e674dcbe3d5ca088797f3-86ccc9a1459ea1b6-01 outer:exit 2b-4f3ab877cf2df1566f3e674dcbe3d5ca088797f3-4fc3c13b5825fb18-01
2021-09-23T17:23:31.822Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:31.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a692f88a8f8d478619d2e81cffa96600150eddc-66f030cb6db6fe0c-01 outer:exit 2b-3a692f88a8f8d478619d2e81cffa96600150eddc-67fb9ecf3e97e837-01
2021-09-23T17:23:31.829Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:31.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-49b7b663eef70e59a2a4b8efd9eb106f85ca4955-3917f6842eb7e5e2-01 outer:exit 2b-49b7b663eef70e59a2a4b8efd9eb106f85ca4955-6e02e7a739dbda5a-01
2021-09-23T17:23:31.832Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:31.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-94143ac5662d85f746412e966b5a80e25723709a-2f2849083e12a7be-01 outer:exit 2b-94143ac5662d85f746412e966b5a80e25723709a-f25b2bc641cc1d06-01
2021-09-23T17:23:31.847Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:31.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c41e90ea7581f04f020eed6d17d407e9e6625a7-e0690304d0933bf9-01 outer:exit 2b-5c41e90ea7581f04f020eed6d17d407e9e6625a7-64dec2c7b6ce78a2-01
2021-09-23T17:23:31.860Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:31.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea5efc30f1af577111a63698f583c55f1242cab1-69f9cae0173d895d-01 outer:exit 2b-ea5efc30f1af577111a63698f583c55f1242cab1-da0edfd5bf3420ef-01
2021-09-23T17:23:31.867Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:31.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-3924fb9a89d02e64b7685cf2e54e1003aba036d8-9c31f9e221096971-01 outer:exit 2b-3924fb9a89d02e64b7685cf2e54e1003aba036d8-f20ce8b121aa8d5f-01
2021-09-23T17:23:31.880Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:31.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-56490f7b531a725331f245ab47758a90a371c16f-71b3f8a86bffb972-01 outer:exit 2b-56490f7b531a725331f245ab47758a90a371c16f-198ac9fde6e34a90-01
2021-09-23T17:23:31.911Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:31.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-24eb91052a48356e77c3e4b795322af43cb34483-634f4c6e468051b6-01 outer:exit 2b-24eb91052a48356e77c3e4b795322af43cb34483-6bb40be0912ddd91-01
2021-09-23T17:23:31.933Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:31.947Z appoptics:debug span.exit - no last event outer outer:entry 2b-1921abca7b7c6ef2baf5ee1e5179f958ade81802-8a3f46df14dfd73d-01 outer:exit 2b-1921abca7b7c6ef2baf5ee1e5179f958ade81802-5da5544cb847dab4-01
2021-09-23T17:23:31.948Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:31.972Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b69774d9c010bd19cf0896a16536f22b9d8e415-36f05e7e2a0db3d5-01 outer:exit 2b-7b69774d9c010bd19cf0896a16536f22b9d8e415-480f5e9d3627cb75-01
2021-09-23T17:23:31.972Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:31.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-6795d57a8f7604e2887e488287d800a921c85a8e-2d0b3c686cee2dce-01 outer:exit 2b-6795d57a8f7604e2887e488287d800a921c85a8e-04d55e38974a8b71-01
2021-09-23T17:23:31.999Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:32.002Z appoptics:debug span.exit - no last event outer outer:entry 2b-6380c342dda009b9311d47e41ce5be934570aa07-9f76ff3f17f26fe5-01 outer:exit 2b-6380c342dda009b9311d47e41ce5be934570aa07-0d7f8d0c391cbeed-01
2021-09-23T17:23:32.002Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:32.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-f333cc48aa835ed65368675678f6c2d5212fcd48-12fa68296f980e04-01 outer:exit 2b-f333cc48aa835ed65368675678f6c2d5212fcd48-f7fb8bf561379e4e-01
2021-09-23T17:23:32.011Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:32.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-40526182da2cbc028894a960e96a3033b645aa12-194a9f568fa93440-01 outer:exit 2b-40526182da2cbc028894a960e96a3033b645aa12-01db7c19a1dd038b-01
2021-09-23T17:23:32.031Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:32.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-e878a57b77bc6d9af8e8aa9f5a2577157df49cd9-c122aef753cd35d5-01 outer:exit 2b-e878a57b77bc6d9af8e8aa9f5a2577157df49cd9-812c1ad3bfb3131f-01
2021-09-23T17:23:32.035Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:32.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-21bc76e80c223e74f39bb1779ff6ecdcc319d2b0-1a30516d8800a829-01 outer:exit 2b-21bc76e80c223e74f39bb1779ff6ecdcc319d2b0-3cbfa81c09f945ff-01
2021-09-23T17:23:32.037Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:32.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-61079c0df116b3f1cd9fa82f9e2d6c9e026549af-cd1d4a17ef069b06-01 outer:exit 2b-61079c0df116b3f1cd9fa82f9e2d6c9e026549af-89b3d19135b08e4d-01
2021-09-23T17:23:32.040Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:32.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e102bc77300728533bd6ef8a58d909fad101f06-136f753f7ad0aa04-01 outer:exit 2b-6e102bc77300728533bd6ef8a58d909fad101f06-195b776b0dcbd88a-01
2021-09-23T17:23:32.043Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:32.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1d85050c555fa98cecf0e4e3d3d7a757856a7bc-243545b615e9a559-01 outer:exit 2b-c1d85050c555fa98cecf0e4e3d3d7a757856a7bc-84bb1949255d8a7d-01
2021-09-23T17:23:32.046Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:32.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-7103b3c145f0260db2aa69fccfd09be790520369-b978af6b314f95f3-01 outer:exit 2b-7103b3c145f0260db2aa69fccfd09be790520369-c29dff96dfd105e2-01
2021-09-23T17:23:32.059Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:32.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-dad6d39e50f252a50c1bb3dac05b9bf384621a8f-976a046e2c4dba74-01 outer:exit 2b-dad6d39e50f252a50c1bb3dac05b9bf384621a8f-1c4982a46328af85-01
2021-09-23T17:23:32.071Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:32.075Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dda23c3b4bc69622c334fc6836ef7a221ea1059-445739c6a6da1eb6-01 outer:exit 2b-4dda23c3b4bc69622c334fc6836ef7a221ea1059-3556f7febecacf43-01
2021-09-23T17:23:32.075Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:32.078Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bedd4ccc420dc86e8f33cd873d34435b4cbdb19-bb36e9d5989368a9-01 outer:exit 2b-8bedd4ccc420dc86e8f33cd873d34435b4cbdb19-110b370c1f8c8236-01
2021-09-23T17:23:32.078Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:32.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd47ce88b8b501a27a9e07b3e0a781fb50618e8e-94c74ce31907f861-01 outer:exit 2b-cd47ce88b8b501a27a9e07b3e0a781fb50618e8e-c66153266ef8875e-01
2021-09-23T17:23:32.082Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:32.130Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a0d25f45bdf9908687d308699c9fca1305b67a0-da078b835b85986e-01 outer:exit 2b-5a0d25f45bdf9908687d308699c9fca1305b67a0-205639fe3e36586f-01
2021-09-23T17:23:32.130Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (637ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.13
updated 1 package and audited 1098 packages in 7.379s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:41.132Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:41.133Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:41.133Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:41.133Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:41.196Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:41.248Z appoptics:patching patched crypto 
2021-09-23T17:23:41.271Z appoptics:patching patched https 
2021-09-23T17:23:41.271Z appoptics:patching patched http 
2021-09-23T17:23:41.314Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:41.314Z appoptics:patching patched fs 
2021-09-23T17:23:41.345Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v14.17.6)
2021-09-23T17:23:41.353Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2021-09-23T17:23:41.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac7f5fd0debe4d3f29410fe879e42a8bc40c4916-249e46d35e58d827-01 outer:exit 2b-ac7f5fd0debe4d3f29410fe879e42a8bc40c4916-1e505053a4b8964d-01
2021-09-23T17:23:41.579Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:41.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-2679251894de5319e95b9de762092f969f8aa257-e62e0e341b05a81b-01 outer:exit 2b-2679251894de5319e95b9de762092f969f8aa257-0ded5e2f085bef94-01
2021-09-23T17:23:41.649Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:41.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-bae76fc691f6a3783829b3f7c745e1c1b6ebf39e-0a35f1a8efc5e3ae-01 outer:exit 2b-bae76fc691f6a3783829b3f7c745e1c1b6ebf39e-6d49ca05b23edd5d-01
2021-09-23T17:23:41.660Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:41.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-703ad24b1059b25f3d3f13bd39c52d30de6fe9ad-0ffae356031570de-01 outer:exit 2b-703ad24b1059b25f3d3f13bd39c52d30de6fe9ad-981607ad34cf5996-01
2021-09-23T17:23:41.664Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:41.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-773ad6051b330031b0defb86e5d6ab7023e37b1d-bf5cdca7c9c5be94-01 outer:exit 2b-773ad6051b330031b0defb86e5d6ab7023e37b1d-7b76625b90cd97c5-01
2021-09-23T17:23:41.675Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:41.679Z appoptics:debug span.exit - no last event outer outer:entry 2b-d803dd93720c785af7f7b846dccc0b50203ad406-2ae864c1898859eb-01 outer:exit 2b-d803dd93720c785af7f7b846dccc0b50203ad406-b0ac4d4bdcb07beb-01
2021-09-23T17:23:41.680Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:41.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-3124a3d20b1fbc8983cd0bbb8886706fa128a9b0-b5ccd889fece93d0-01 outer:exit 2b-3124a3d20b1fbc8983cd0bbb8886706fa128a9b0-101d6ae37110ac64-01
2021-09-23T17:23:41.684Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:41.687Z appoptics:debug span.exit - no last event outer outer:entry 2b-942c9a768cc5d54c09bf4e9faad19718668e5285-7afd3976ff83fa79-01 outer:exit 2b-942c9a768cc5d54c09bf4e9faad19718668e5285-d65c40b05bfb61fd-01
2021-09-23T17:23:41.687Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:41.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-df368491cf79a1b99be79090d001b23f63952874-0cabc6ec909f4d88-01 outer:exit 2b-df368491cf79a1b99be79090d001b23f63952874-689a2859d6665a07-01
2021-09-23T17:23:41.691Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:41.695Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a1c63790d9254817046ab3c2e22ff5b671eccd8-503cc00234ec6b6a-01 outer:exit 2b-3a1c63790d9254817046ab3c2e22ff5b671eccd8-4ec7c8fdc08582b8-01
2021-09-23T17:23:41.695Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:41.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-8da6b464b7d3699f7bafc4ff719a491d9875ec76-bbf30d48f930473a-01 outer:exit 2b-8da6b464b7d3699f7bafc4ff719a491d9875ec76-35ecf2c7c14497de-01
2021-09-23T17:23:41.701Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:41.712Z appoptics:debug span.exit - no last event outer outer:entry 2b-06d51fd0abb0ebc3344f948b9f550cf2e80b80ec-4f8a3a77255dddf1-01 outer:exit 2b-06d51fd0abb0ebc3344f948b9f550cf2e80b80ec-a142374fba69e850-01
2021-09-23T17:23:41.712Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:41.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-06d65105c806c75236c9b4f72bb1ba5cb02fa01f-4e113648d93dd6bb-01 outer:exit 2b-06d65105c806c75236c9b4f72bb1ba5cb02fa01f-3933520fda66069b-01
2021-09-23T17:23:41.731Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:41.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a87f00dee2bd57f7434bce676325c1eba70863b-607ca3153b32ffab-01 outer:exit 2b-9a87f00dee2bd57f7434bce676325c1eba70863b-1ff0bd9a4aeceeb5-01
2021-09-23T17:23:41.787Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:41.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-260d255ddb180f8f4366e350e20e3ca00c4acc9a-4daeba756d576458-01 outer:exit 2b-260d255ddb180f8f4366e350e20e3ca00c4acc9a-0f42d05c8d2320b2-01
2021-09-23T17:23:41.791Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:41.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4c6c58c4deba93fa5f12ccaec6daa3fe3b7894c-7bb41e83dbed81f8-01 outer:exit 2b-b4c6c58c4deba93fa5f12ccaec6daa3fe3b7894c-2fe72e55c6084b8a-01
2021-09-23T17:23:41.794Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:41.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5dd25aed77a9a8aac44d33ec525864c7fe5c5b-9ac61163631c6832-01 outer:exit 2b-6a5dd25aed77a9a8aac44d33ec525864c7fe5c5b-cc112773d326db39-01
2021-09-23T17:23:41.797Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:41.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f8a57815f942e00121361002f0f8b34f07955ee-09062cf126876251-01 outer:exit 2b-2f8a57815f942e00121361002f0f8b34f07955ee-d90410b33aae2280-01
2021-09-23T17:23:41.801Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:41.803Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c5e40d930165a7975916f2784df46c9d724ebe8-3a7974e233de9530-01 outer:exit 2b-5c5e40d930165a7975916f2784df46c9d724ebe8-d1bc7d2dd2988cb4-01
2021-09-23T17:23:41.804Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:41.806Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3c1d4ca7b413be937ea28f59a2a4e09f19463f8-09c329aa1f255404-01 outer:exit 2b-d3c1d4ca7b413be937ea28f59a2a4e09f19463f8-07aa61445c14b079-01
2021-09-23T17:23:41.806Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:41.809Z appoptics:debug span.exit - no last event outer outer:entry 2b-0636cd08b8f423b733458ed73940c8c66474aa31-b1526687641deb1d-01 outer:exit 2b-0636cd08b8f423b733458ed73940c8c66474aa31-13d7250cd8e1cd0f-01
2021-09-23T17:23:41.809Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:41.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-17b13dc8398b0e8198da57541aa67e7a124e2c0c-d9bab90dfc7edf43-01 outer:exit 2b-17b13dc8398b0e8198da57541aa67e7a124e2c0c-954e814cc5f0cf61-01
2021-09-23T17:23:41.819Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:41.825Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b4bdca48ee4816940ba618d995fdd06b086647-97439726c0dddf38-01 outer:exit 2b-51b4bdca48ee4816940ba618d995fdd06b086647-14507b60dec18c7f-01
2021-09-23T17:23:41.825Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:41.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-f647921106e48e9bd7bfd1bdc675f821a2f64bd8-961d15617810f217-01 outer:exit 2b-f647921106e48e9bd7bfd1bdc675f821a2f64bd8-d7a9ca4d3a3fb0ed-01
2021-09-23T17:23:41.832Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:41.837Z appoptics:debug span.exit - no last event outer outer:entry 2b-113773a33c86ad936386f945d9c0abbf7d4a76e2-badad3ff7275ffe3-01 outer:exit 2b-113773a33c86ad936386f945d9c0abbf7d4a76e2-d401e8849af9c8c1-01
2021-09-23T17:23:41.837Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:41.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-234380196839cbffc166d07b2310f1db412100cc-a3e8ebe26d24ff13-01 outer:exit 2b-234380196839cbffc166d07b2310f1db412100cc-6785a9962d7d4f63-01
2021-09-23T17:23:41.847Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:41.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe597755b895a1809e39885e670c40385076f7a8-3dd33a5004034617-01 outer:exit 2b-fe597755b895a1809e39885e670c40385076f7a8-b89ef62dccfaaec2-01
2021-09-23T17:23:41.855Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:41.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e59d18f3cee3cc54c09984d0cc3b7684a1eabe1-4a725a3c849ae92d-01 outer:exit 2b-7e59d18f3cee3cc54c09984d0cc3b7684a1eabe1-37b86aa6b031b48d-01
2021-09-23T17:23:41.861Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:41.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ec10bf42321801a21da34a7bb486736d43b1bd-219a1639ed2d3ce9-01 outer:exit 2b-40ec10bf42321801a21da34a7bb486736d43b1bd-7a4019a40fbe4f44-01
2021-09-23T17:23:41.871Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:41.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e77e06ad722eb90c0f80ae7a5fc57fc600dfa44-378e7f9852766524-01 outer:exit 2b-4e77e06ad722eb90c0f80ae7a5fc57fc600dfa44-2f094d3da4bce17a-01
2021-09-23T17:23:41.879Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:41.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-37d8b6b115111bbab0836fad062fe7c68eddc9d3-c77b9d8f5e3689e9-01 outer:exit 2b-37d8b6b115111bbab0836fad062fe7c68eddc9d3-b874de3623194268-01
2021-09-23T17:23:41.882Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:41.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-3acb6d613b8092569154c404584d7af9b939a491-36e601172dd7ae6e-01 outer:exit 2b-3acb6d613b8092569154c404584d7af9b939a491-4655b6b7bfd30a28-01
2021-09-23T17:23:41.886Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:41.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-70b16016e034d155b45e19e8a40649451ed351b1-176cc833b6bb053f-01 outer:exit 2b-70b16016e034d155b45e19e8a40649451ed351b1-214a957153dcfcbc-01
2021-09-23T17:23:41.894Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:41.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-03318cc85ee14c0b6c255b4c3beceb94d34b9626-761477c1b7e985e1-01 outer:exit 2b-03318cc85ee14c0b6c255b4c3beceb94d34b9626-612bee454eb210bf-01
2021-09-23T17:23:41.897Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:41.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-681d10e0ae17abf4b1ec64ae7219efa80b1f7a29-4d692630b42a951b-01 outer:exit 2b-681d10e0ae17abf4b1ec64ae7219efa80b1f7a29-096f9f7eeb3486f9-01
2021-09-23T17:23:41.900Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:41.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-43ef2fe5bc89ff8503174218592617c23c84728a-a1161bbea393b587-01 outer:exit 2b-43ef2fe5bc89ff8503174218592617c23c84728a-5cbd69080529c52f-01
2021-09-23T17:23:41.903Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:41.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-42bcce1973b5f73554b5debee6b05301537c1d9b-2e6c86984122d3f1-01 outer:exit 2b-42bcce1973b5f73554b5debee6b05301537c1d9b-604545cc1d364a2c-01
2021-09-23T17:23:41.905Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:41.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5d78d95d670313dc5d376046ff17101681fb140-cf61bbb8c9a60899-01 outer:exit 2b-a5d78d95d670313dc5d376046ff17101681fb140-3bbe0e93d9aa98c1-01
2021-09-23T17:23:41.908Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:41.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-f87e906e1066188c4cef565d73580b1d380c3fae-61990fc05a2d5090-01 outer:exit 2b-f87e906e1066188c4cef565d73580b1d380c3fae-4afef0698c4073e9-01
2021-09-23T17:23:41.920Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:41.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-cebb8cae9191c5429b6dfbe28d04951db5ac04f9-168172e9c1892749-01 outer:exit 2b-cebb8cae9191c5429b6dfbe28d04951db5ac04f9-99a672ba453761da-01
2021-09-23T17:23:41.929Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:41.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0495bf0b74cd99e683e9bef35edba99a7adc745-709eb43571ef9ba6-01 outer:exit 2b-f0495bf0b74cd99e683e9bef35edba99a7adc745-223e61b0c56e59be-01
2021-09-23T17:23:41.933Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:41.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b86cefe2678b846a4f54498b6c0355bdf50a935-64f59a2b2b4913ce-01 outer:exit 2b-6b86cefe2678b846a4f54498b6c0355bdf50a935-dfc87bed414970a7-01
2021-09-23T17:23:41.936Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:41.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd626ae2b86159412df9f9fe1b75a0aebf6f0fda-774eae9f89a24b1f-01 outer:exit 2b-fd626ae2b86159412df9f9fe1b75a0aebf6f0fda-63718464d8215780-01
2021-09-23T17:23:41.939Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:41.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-141e85cd4aea42990636e87f034d5c8069db0155-7a6154f2899a2dc4-01 outer:exit 2b-141e85cd4aea42990636e87f034d5c8069db0155-8b4134e40906db77-01
2021-09-23T17:23:41.969Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (435ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.14
updated 1 package and audited 1098 packages in 6.935s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:50.151Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:50.152Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:50.152Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:50.153Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:50.222Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:50.270Z appoptics:patching patched crypto 
2021-09-23T17:23:50.294Z appoptics:patching patched https 
2021-09-23T17:23:50.295Z appoptics:patching patched http 
2021-09-23T17:23:50.338Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:50.338Z appoptics:patching patched fs 
2021-09-23T17:23:50.371Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v14.17.6)
2021-09-23T17:23:50.381Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2021-09-23T17:23:50.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b043a8d574146ccec16f01a08048a5f0fd44024-43b48c83c8aba38e-01 outer:exit 2b-4b043a8d574146ccec16f01a08048a5f0fd44024-cd595c056fc5aa77-01
2021-09-23T17:23:50.617Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:50.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5a645b44889aa21c8d2531ddb5e5a387409e003-cc6aedbad31da81f-01 outer:exit 2b-e5a645b44889aa21c8d2531ddb5e5a387409e003-683e566d3eabc747-01
2021-09-23T17:23:50.686Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:50.690Z appoptics:debug span.exit - no last event outer outer:entry 2b-62408018c74aa1dc939469870177327bf01b9a44-905456a5aff65902-01 outer:exit 2b-62408018c74aa1dc939469870177327bf01b9a44-f7bc77ed4e8637a6-01
2021-09-23T17:23:50.690Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:50.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-582c11ccd371cd12cbcb89a3abe8832e1f098ae4-a6660cac62a39763-01 outer:exit 2b-582c11ccd371cd12cbcb89a3abe8832e1f098ae4-ea1d5453f107fb46-01
2021-09-23T17:23:50.694Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:50.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-281775e3fc8b24d138c480d67120a1d71bc59434-b7f0a5a9b3f494e8-01 outer:exit 2b-281775e3fc8b24d138c480d67120a1d71bc59434-1f09ffca5f090262-01
2021-09-23T17:23:50.699Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:50.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-7124ba8306607d8a2d5e4eadcddc5864f7b58b68-880ac8bebf8323df-01 outer:exit 2b-7124ba8306607d8a2d5e4eadcddc5864f7b58b68-42d23966c1a55f4a-01
2021-09-23T17:23:50.704Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:50.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-a66b59acb0340ad09b4eaab76ce05dacf4249361-e375c04788f0067e-01 outer:exit 2b-a66b59acb0340ad09b4eaab76ce05dacf4249361-66eb85f042b6c458-01
2021-09-23T17:23:50.707Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:50.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-93c5d23dc4acbd49a698272ba024b18fba98d3a0-1ae2fc5d80e790aa-01 outer:exit 2b-93c5d23dc4acbd49a698272ba024b18fba98d3a0-a5741081a1e551a4-01
2021-09-23T17:23:50.710Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:50.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a03f2d1927611b16105cbc6311078646bbb82bf-8ffb0f8667f9f932-01 outer:exit 2b-7a03f2d1927611b16105cbc6311078646bbb82bf-a397b088e00f4fed-01
2021-09-23T17:23:50.713Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:50.717Z appoptics:debug span.exit - no last event outer outer:entry 2b-aec8c501cc989eb9df3b8fd25b64a60ca01cc218-fd1c042c723c3d44-01 outer:exit 2b-aec8c501cc989eb9df3b8fd25b64a60ca01cc218-867961df2de80bbf-01
2021-09-23T17:23:50.717Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:50.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-2824f415475bd944986c73ab1924eb52a2f199ac-bc597f291fd9b7bf-01 outer:exit 2b-2824f415475bd944986c73ab1924eb52a2f199ac-14c5db77a143a349-01
2021-09-23T17:23:50.721Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:50.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-803bdbc8184ff58a09a0eb6da9f038aa3e45be1e-bd1354dca9a5e99c-01 outer:exit 2b-803bdbc8184ff58a09a0eb6da9f038aa3e45be1e-9cc0190103cfa86d-01
2021-09-23T17:23:50.729Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:50.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-306e340d70f4fe51c575ee69ef9c85ea98a28926-3b00a1a805fa468e-01 outer:exit 2b-306e340d70f4fe51c575ee69ef9c85ea98a28926-dfe0f20ac15947cf-01
2021-09-23T17:23:50.745Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:50.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-03d43d74cbfd43f9cb7abb7c20a4fb13f24cd610-57f7ab44d36e844b-01 outer:exit 2b-03d43d74cbfd43f9cb7abb7c20a4fb13f24cd610-bf69aafde1ab339b-01
2021-09-23T17:23:50.786Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:50.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-f61731b07ebb0f2dce22c1eb53fba96ebc7fc694-511da9e74881d59e-01 outer:exit 2b-f61731b07ebb0f2dce22c1eb53fba96ebc7fc694-ec129b8420f482e0-01
2021-09-23T17:23:50.789Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:50.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-1876e61a4a585675878c5650ae2c7c5e1338f8bf-a3f568af6a5a8756-01 outer:exit 2b-1876e61a4a585675878c5650ae2c7c5e1338f8bf-1f3c74bff04d223f-01
2021-09-23T17:23:50.792Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:50.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc5f67ce52caeb49d97ee74bc7f8efb2c01930ba-b475abcb1013367c-01 outer:exit 2b-cc5f67ce52caeb49d97ee74bc7f8efb2c01930ba-0621ade650ce54af-01
2021-09-23T17:23:50.796Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:50.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-fec553378dd8dbf94a4b0338c3dd8c65eb4aaf3b-40942292737e991c-01 outer:exit 2b-fec553378dd8dbf94a4b0338c3dd8c65eb4aaf3b-9e23a3816f30cf5d-01
2021-09-23T17:23:50.799Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:50.801Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c1c67befab861e55b768066093ff242e95fd3ec-d273a25480334354-01 outer:exit 2b-1c1c67befab861e55b768066093ff242e95fd3ec-7f4bb411e3a6302b-01
2021-09-23T17:23:50.801Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:50.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e77f23c4eb95c375cb63a44f945b9915cffa6a5-b5aa77eab6735ebc-01 outer:exit 2b-4e77f23c4eb95c375cb63a44f945b9915cffa6a5-8a35a7a1570ad2ae-01
2021-09-23T17:23:50.804Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:50.822Z appoptics:debug span.exit - no last event outer outer:entry 2b-31029aab3ea88e3a190ce32ddee7b06af29e1628-7f426e5d37f72ad4-01 outer:exit 2b-31029aab3ea88e3a190ce32ddee7b06af29e1628-07fadc5773b65ac5-01
2021-09-23T17:23:50.823Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:50.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c17f6229672129802eaaff864701a54a666edd4-03d6716d0ea11574-01 outer:exit 2b-0c17f6229672129802eaaff864701a54a666edd4-0ec3ff2b61dc9d13-01
2021-09-23T17:23:50.832Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:50.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2e52d4b08a7d6897fbf56aebf8a607e6f9c52b0-6c52e41607748da7-01 outer:exit 2b-f2e52d4b08a7d6897fbf56aebf8a607e6f9c52b0-07f3043975ef860a-01
2021-09-23T17:23:50.836Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:50.841Z appoptics:debug span.exit - no last event outer outer:entry 2b-d897e15df5d27cfa91cd3fe2475b95030a6665a0-5943bccdde0d621c-01 outer:exit 2b-d897e15df5d27cfa91cd3fe2475b95030a6665a0-c2f756f1395956aa-01
2021-09-23T17:23:50.841Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:50.844Z appoptics:debug span.exit - no last event outer outer:entry 2b-c27b8884f563a5f25ce8f91363de4c2227e450f8-b8d9943dfe9ee262-01 outer:exit 2b-c27b8884f563a5f25ce8f91363de4c2227e450f8-203159b83d6eb0f2-01
2021-09-23T17:23:50.844Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:50.847Z appoptics:debug span.exit - no last event outer outer:entry 2b-20dd24e57b5afb71445fd4536a2e6b7232bd84fc-c89e6354a40fff44-01 outer:exit 2b-20dd24e57b5afb71445fd4536a2e6b7232bd84fc-fe0add02ea2e8cb0-01
2021-09-23T17:23:50.847Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:50.854Z appoptics:debug span.exit - no last event outer outer:entry 2b-d181e8272125fc39e3e1fccb824fbad6374389b9-aa7e59b821e85fc0-01 outer:exit 2b-d181e8272125fc39e3e1fccb824fbad6374389b9-86e13050ea0d29fb-01
2021-09-23T17:23:50.854Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:50.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-cee2423a3c5b8ac7c757906f91a457bde80556f9-89fba7cce47148e0-01 outer:exit 2b-cee2423a3c5b8ac7c757906f91a457bde80556f9-c7353667f4b34525-01
2021-09-23T17:23:50.860Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:50.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-8016e27dac65f2eb4bf53326f93a76f4c64c2cd9-6d99ba59a1172a3b-01 outer:exit 2b-8016e27dac65f2eb4bf53326f93a76f4c64c2cd9-9743d1ea0bbb7306-01
2021-09-23T17:23:50.870Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:50.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-78e1cfea8058b12690a19e2aeeee3f0f40ac46e0-56ef6ab789b1378f-01 outer:exit 2b-78e1cfea8058b12690a19e2aeeee3f0f40ac46e0-9722f328c999dd2c-01
2021-09-23T17:23:50.879Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:50.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5bffc040e908eae24529b8e80084491b38cea81-d8ab5239c881da0c-01 outer:exit 2b-c5bffc040e908eae24529b8e80084491b38cea81-38b4d91160baab97-01
2021-09-23T17:23:50.882Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:50.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bd0f7410f5ae4e3751859291ad2afb135b7a45d-57853e6656c73764-01 outer:exit 2b-2bd0f7410f5ae4e3751859291ad2afb135b7a45d-9c58e326bbd35567-01
2021-09-23T17:23:50.885Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:50.894Z appoptics:debug span.exit - no last event outer outer:entry 2b-411873fb95bffbd6c555630b14241004d11a85ef-e591324f0059e691-01 outer:exit 2b-411873fb95bffbd6c555630b14241004d11a85ef-6715ed9dc8bd8bf2-01
2021-09-23T17:23:50.894Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:50.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-6691b6303b0f5e0721dcf82bc327e45c4b1d5ed5-0e7ddd9cfa19b84a-01 outer:exit 2b-6691b6303b0f5e0721dcf82bc327e45c4b1d5ed5-94bd2ac488998b61-01
2021-09-23T17:23:50.897Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:50.900Z appoptics:debug span.exit - no last event outer outer:entry 2b-65e0e9edaf54a0c0d42e7425f9e060f95ded86db-121d519949610c15-01 outer:exit 2b-65e0e9edaf54a0c0d42e7425f9e060f95ded86db-8ecea1594a23d034-01
2021-09-23T17:23:50.900Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:50.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-142170efaaa59a08e31c15469a5f0eaf86c9016d-2cc50a241244597b-01 outer:exit 2b-142170efaaa59a08e31c15469a5f0eaf86c9016d-ee2e4211929a8cde-01
2021-09-23T17:23:50.902Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:50.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-44a4c125cb849ce26962eb03d1de2a114c9fcac4-b360218505a92061-01 outer:exit 2b-44a4c125cb849ce26962eb03d1de2a114c9fcac4-72305c5b1b9abab4-01
2021-09-23T17:23:50.905Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:50.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b5e6a4b554efa998cf236a2d769419b4d0b2af-3a5e5fcaa9a126b5-01 outer:exit 2b-91b5e6a4b554efa998cf236a2d769419b4d0b2af-a7cb1433866c320f-01
2021-09-23T17:23:50.907Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:50.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b8c7e665875047c80db1d18bfd69906636364e4-02a5e3ffe08018b5-01 outer:exit 2b-9b8c7e665875047c80db1d18bfd69906636364e4-90f537c4c67b0fdc-01
2021-09-23T17:23:50.920Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:50.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-088b07ba605378ea0a8a83b1ca238c7666cef4a5-c419e9c979e85b36-01 outer:exit 2b-088b07ba605378ea0a8a83b1ca238c7666cef4a5-01cce2ea29d14581-01
2021-09-23T17:23:50.929Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:50.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-0baf71981f978dcb81a9c70750380f6d910ad22f-a1078e1d8976c4b9-01 outer:exit 2b-0baf71981f978dcb81a9c70750380f6d910ad22f-ba5615542c741a48-01
2021-09-23T17:23:50.933Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:50.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc996f76c048e758465208ede8fe67693c72992c-f6c5a78168f08beb-01 outer:exit 2b-dc996f76c048e758465208ede8fe67693c72992c-1e8b1c299751ba7d-01
2021-09-23T17:23:50.936Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:50.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f07d5f8812f7751bbefcecc0a339f63d783b0b9-668dc2ed5a05efc6-01 outer:exit 2b-8f07d5f8812f7751bbefcecc0a339f63d783b0b9-1b93f98b59b85db4-01
2021-09-23T17:23:50.940Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:50.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7c61b0511748fe10dab1e1ea9560973baad0650-04e665a96a69fa3e-01 outer:exit 2b-a7c61b0511748fe10dab1e1ea9560973baad0650-6fec1299887c384d-01
2021-09-23T17:23:50.973Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (410ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.15
updated 1 package and audited 1098 packages in 6.019s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:23:58.291Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:23:58.300Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:23:58.300Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:23:58.301Z appoptics:debug using context provider: ace-context
2021-09-23T17:23:58.439Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:23:58.525Z appoptics:patching patched crypto 
2021-09-23T17:23:58.574Z appoptics:patching patched https 
2021-09-23T17:23:58.574Z appoptics:patching patched http 
2021-09-23T17:23:58.619Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:23:58.620Z appoptics:patching patched fs 
2021-09-23T17:23:58.661Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v14.17.6)
2021-09-23T17:23:58.670Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2021-09-23T17:23:59.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-421ef009b9884c926d2dfb4ee8e1e9b81a901ee4-415d641578513ff5-01 outer:exit 2b-421ef009b9884c926d2dfb4ee8e1e9b81a901ee4-1f276ab6494bc634-01
2021-09-23T17:23:59.061Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:23:59.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0741b8e38839021eec22be8bd6e0c1cfa20bde5-92d17dc5cac233ae-01 outer:exit 2b-d0741b8e38839021eec22be8bd6e0c1cfa20bde5-c7fff0facccfd128-01
2021-09-23T17:23:59.153Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:23:59.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-353566db4fd16f67eddc187236fb15b10435750b-8c0cc1aa5d064e95-01 outer:exit 2b-353566db4fd16f67eddc187236fb15b10435750b-168d0b516df3b8e4-01
2021-09-23T17:23:59.159Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:23:59.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-70f1d723ff79d09e653dfc5dff7d78dc13dace02-81b080c9753741e9-01 outer:exit 2b-70f1d723ff79d09e653dfc5dff7d78dc13dace02-72e8c9a35bdd8119-01
2021-09-23T17:23:59.162Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:23:59.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-8de06dc1233f3ad70a8665563c006acc6fd8be10-1f8e1cfb5f56fa1f-01 outer:exit 2b-8de06dc1233f3ad70a8665563c006acc6fd8be10-c8f5bb9be94e972a-01
2021-09-23T17:23:59.169Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:23:59.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fea05e98ee98e41a37740f2e6b551dd8225481b-09a3f7d8d9fbb06c-01 outer:exit 2b-9fea05e98ee98e41a37740f2e6b551dd8225481b-b8045f1044f6b4cf-01
2021-09-23T17:23:59.173Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:23:59.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-32888250b6ec1d17bdaceaf11549f04053c24c0a-9cce4677e692a66f-01 outer:exit 2b-32888250b6ec1d17bdaceaf11549f04053c24c0a-baeecbfa70195c55-01
2021-09-23T17:23:59.176Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:23:59.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-18fa40f13396cc78264b53e07541fb0e65cc528c-67ae7449d997e92e-01 outer:exit 2b-18fa40f13396cc78264b53e07541fb0e65cc528c-6e59cdc2b5918efc-01
2021-09-23T17:23:59.179Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:23:59.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-30bb876eb1df32a29a885d41f40180f98030b6c0-1ef284d53ac0929a-01 outer:exit 2b-30bb876eb1df32a29a885d41f40180f98030b6c0-9fc59cbe4c70a1b0-01
2021-09-23T17:23:59.182Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:23:59.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-a68fc9cf9d598d0664f63f788b4740616dc479cb-36d85a85337a8932-01 outer:exit 2b-a68fc9cf9d598d0664f63f788b4740616dc479cb-1bdff04032fbc98e-01
2021-09-23T17:23:59.185Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:23:59.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cd00c9ca870f92605a0ce0ff93c71548390ffac-69f2c4a3556f7486-01 outer:exit 2b-2cd00c9ca870f92605a0ce0ff93c71548390ffac-6b3c4cbcc7f50c24-01
2021-09-23T17:23:59.190Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:23:59.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-77fdd08d5e710cb99df5cfe85ba0a4da67102273-2d5bcf5f6f228366-01 outer:exit 2b-77fdd08d5e710cb99df5cfe85ba0a4da67102273-86d041c2804bcccd-01
2021-09-23T17:23:59.198Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:23:59.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-46e5e751442c3ebb5300f2dd2bedadf27fdd5ca1-325fd8c6b62c843b-01 outer:exit 2b-46e5e751442c3ebb5300f2dd2bedadf27fdd5ca1-7397cc9b1820d48b-01
2021-09-23T17:23:59.216Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:23:59.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-0392002430c2069e9db41e3f8d96b15be8434857-67db86013aca14f0-01 outer:exit 2b-0392002430c2069e9db41e3f8d96b15be8434857-5312fca0ec9dad10-01
2021-09-23T17:23:59.251Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:23:59.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-29878a1f51d95b720271fae86c918d8f6aaa004a-9434c2641d9e9eb2-01 outer:exit 2b-29878a1f51d95b720271fae86c918d8f6aaa004a-fc5104c7f207d2a1-01
2021-09-23T17:23:59.254Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:23:59.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-54e065279f31a9f04ea0024328cc3c5ee9b9ae68-be4d5f924c4210e8-01 outer:exit 2b-54e065279f31a9f04ea0024328cc3c5ee9b9ae68-96796cc055e2b6c7-01
2021-09-23T17:23:59.257Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:23:59.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e15826b0cd6e22ea1f3c2ce9748d9e2ff2565d6-0fba5ee7b948ef54-01 outer:exit 2b-9e15826b0cd6e22ea1f3c2ce9748d9e2ff2565d6-0c64bbaba97389ba-01
2021-09-23T17:23:59.262Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:23:59.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-b4a3e63dbe5c51a1a01a2d48d9bc29bf699f1fd1-4977fa1edecd2b8c-01 outer:exit 2b-b4a3e63dbe5c51a1a01a2d48d9bc29bf699f1fd1-07ed73243b64ccf1-01
2021-09-23T17:23:59.265Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:23:59.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-38b3180c8cf37b00a8e9509cfcf629ce61bf3ab8-2090a8a8211ca69f-01 outer:exit 2b-38b3180c8cf37b00a8e9509cfcf629ce61bf3ab8-bb333cfc3b486b38-01
2021-09-23T17:23:59.268Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:23:59.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d3bf4b04634cb5f0dc606b7d44ab6a575be9f14-d6191562457cd727-01 outer:exit 2b-3d3bf4b04634cb5f0dc606b7d44ab6a575be9f14-8fed219947636c6b-01
2021-09-23T17:23:59.270Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:23:59.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0006ea034a6dbc234f7549f63490e1fd53e9501-e822a820855b7d2c-01 outer:exit 2b-e0006ea034a6dbc234f7549f63490e1fd53e9501-dcc54f3940d51961-01
2021-09-23T17:23:59.273Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:23:59.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-46511083bf0d74660704571557516071517fb7ab-dfb2934a61c8bd6c-01 outer:exit 2b-46511083bf0d74660704571557516071517fb7ab-4b2accd8f7c6693c-01
2021-09-23T17:23:59.284Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:23:59.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-f02edb278cd7c73d9daeef16bf70a86a345130c6-abcc50cd56a23337-01 outer:exit 2b-f02edb278cd7c73d9daeef16bf70a86a345130c6-50e860282121156d-01
2021-09-23T17:23:59.289Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:23:59.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-b91337756d8e6c8d8a2aa9f0fc1b3c064590931e-26ef2c251ce05e5f-01 outer:exit 2b-b91337756d8e6c8d8a2aa9f0fc1b3c064590931e-64958988fb64ddf0-01
2021-09-23T17:23:59.295Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:23:59.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-7551270f09633a206095691d9e9e0948ffc477ab-85edc40eaab619aa-01 outer:exit 2b-7551270f09633a206095691d9e9e0948ffc477ab-b1afa8275bb6605e-01
2021-09-23T17:23:59.300Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:23:59.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-972cd0b6765f95717d44e637c9dfd7af100362f5-529d041a36fbe9e5-01 outer:exit 2b-972cd0b6765f95717d44e637c9dfd7af100362f5-998d4e5591c23b58-01
2021-09-23T17:23:59.308Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:23:59.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c5c56b48152e1454db3d64b45039e0596fbb45a-a1a6bc3a3f9099ae-01 outer:exit 2b-6c5c56b48152e1454db3d64b45039e0596fbb45a-c884a8f19584093a-01
2021-09-23T17:23:59.318Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:23:59.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a9b795ed5ab58fa585f93113fa6943185ab8571-6a819faa5fa6ed96-01 outer:exit 2b-4a9b795ed5ab58fa585f93113fa6943185ab8571-5a5ea7a097fcb977-01
2021-09-23T17:23:59.328Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:23:59.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-383a8a09c7dbaf174a09d80dfce39d212a1cc8d4-54293592ff91a069-01 outer:exit 2b-383a8a09c7dbaf174a09d80dfce39d212a1cc8d4-8baf6e64a0a64498-01
2021-09-23T17:23:59.347Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:23:59.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a57afd752a4473936e80c5087046093fb8bbb49-7e1b7f8a0c297bc1-01 outer:exit 2b-6a57afd752a4473936e80c5087046093fb8bbb49-0bb015e895958d18-01
2021-09-23T17:23:59.363Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:23:59.367Z appoptics:debug span.exit - no last event outer outer:entry 2b-35342ab370bd922a181939786ba6da8c45142e23-44ad043f9dfcfb8b-01 outer:exit 2b-35342ab370bd922a181939786ba6da8c45142e23-cfefc644129e465c-01
2021-09-23T17:23:59.367Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:23:59.371Z appoptics:debug span.exit - no last event outer outer:entry 2b-9149064fc1a5b111d8e953e21533a177f0775354-3c4350ee620a6ebb-01 outer:exit 2b-9149064fc1a5b111d8e953e21533a177f0775354-a9ff9847f3e4da53-01
2021-09-23T17:23:59.371Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:23:59.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-04945fdadb7c28528520d962ea5f727af80ffaca-c2b995bfaa3e5a44-01 outer:exit 2b-04945fdadb7c28528520d962ea5f727af80ffaca-5fdbdd7ee167a11b-01
2021-09-23T17:23:59.380Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:23:59.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f07b6c39d9af2bc87556d31593c02c76a399162-d6152c84e0ddfd05-01 outer:exit 2b-5f07b6c39d9af2bc87556d31593c02c76a399162-5086b9f4ce7ad2be-01
2021-09-23T17:23:59.383Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:23:59.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b7a292a91eedffef5673aefa69317c4aa9485b0-df26d6a02f96b201-01 outer:exit 2b-0b7a292a91eedffef5673aefa69317c4aa9485b0-d0b2b6855ba4c1ab-01
2021-09-23T17:23:59.388Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:23:59.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-cee0edbd921daf7f03602cd0d063960116b0a16f-bf3656b5b9af803d-01 outer:exit 2b-cee0edbd921daf7f03602cd0d063960116b0a16f-07bf98bd16f5cfd9-01
2021-09-23T17:23:59.390Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:23:59.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f5cbb553ed7717450e07cc110efbf9fcbb6661e-a80fdad5eee17917-01 outer:exit 2b-9f5cbb553ed7717450e07cc110efbf9fcbb6661e-5622d57805209322-01
2021-09-23T17:23:59.393Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:23:59.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-b228350a0fbbb317c0fda8119bbd05545c7798b5-ce760d5a5c2a3124-01 outer:exit 2b-b228350a0fbbb317c0fda8119bbd05545c7798b5-d35728f83472b60d-01
2021-09-23T17:23:59.397Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:23:59.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5651bd7fa09d7e13acef686878456cc6d4d3872-b765b3abb948629e-01 outer:exit 2b-f5651bd7fa09d7e13acef686878456cc6d4d3872-d1c214442226ac46-01
2021-09-23T17:23:59.414Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:23:59.425Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dbb600d803b5140e3bc0935b9273e9ea46e311c-069b8db7cba0783c-01 outer:exit 2b-8dbb600d803b5140e3bc0935b9273e9ea46e311c-9288ce0d041263a2-01
2021-09-23T17:23:59.425Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:23:59.428Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e3c178e7940b0125247ebcd178cdcd0553a7661-76a5ea4288a1aa99-01 outer:exit 2b-4e3c178e7940b0125247ebcd178cdcd0553a7661-e308756d6a279497-01
2021-09-23T17:23:59.428Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:23:59.432Z appoptics:debug span.exit - no last event outer outer:entry 2b-d12ca999c20301f80cbb81e5510a09b816509106-0b8e28f67ab6b32c-01 outer:exit 2b-d12ca999c20301f80cbb81e5510a09b816509106-1f2d39a49e822860-01
2021-09-23T17:23:59.432Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:23:59.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-4334ee360d94bd136e3816f31f33873f074f5a8c-3cdfe4abe8dc6747-01 outer:exit 2b-4334ee360d94bd136e3816f31f33873f074f5a8c-bfde9d91f229e6e1-01
2021-09-23T17:23:59.435Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:23:59.463Z appoptics:debug span.exit - no last event outer outer:entry 2b-36c00bfaff89ecb711a0c7992ef390911531fae2-73a68a3d666bffbe-01 outer:exit 2b-36c00bfaff89ecb711a0c7992ef390911531fae2-2be6d77e32416ec3-01
2021-09-23T17:23:59.464Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (487ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.16
updated 1 package and audited 1098 packages in 6.291s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:07.139Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:07.139Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:07.139Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:07.140Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:07.207Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:07.256Z appoptics:patching patched crypto 
2021-09-23T17:24:07.278Z appoptics:patching patched https 
2021-09-23T17:24:07.279Z appoptics:patching patched http 
2021-09-23T17:24:07.320Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:07.321Z appoptics:patching patched fs 
2021-09-23T17:24:07.353Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v14.17.6)
2021-09-23T17:24:07.360Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2021-09-23T17:24:07.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-a40155aa9da30da3d333fd2e8a525644b8752be2-e827e0cd02a42299-01 outer:exit 2b-a40155aa9da30da3d333fd2e8a525644b8752be2-ec0093f5bfe9a3d3-01
2021-09-23T17:24:07.578Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:24:07.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-d44f73f1d612daccfbab4b92d505a8b83338e3d5-9c85811f1ee90ed2-01 outer:exit 2b-d44f73f1d612daccfbab4b92d505a8b83338e3d5-e8be9506753e2f00-01
2021-09-23T17:24:07.637Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:24:07.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6dae6596b9d280f7f405b7fca5a5e54df41e134-301c8fe49ab28c59-01 outer:exit 2b-d6dae6596b9d280f7f405b7fca5a5e54df41e134-f1faa3e1fb2d0175-01
2021-09-23T17:24:07.641Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:24:07.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-45ee4c54c88e4fcadaaf817fc2de03f4219c3adf-ec7b9a945937c60f-01 outer:exit 2b-45ee4c54c88e4fcadaaf817fc2de03f4219c3adf-129ab07c46ffa098-01
2021-09-23T17:24:07.644Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:24:07.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-a96a36c28a3a1911ef5fa030fd8f9a244cfc8aeb-072564a74678f09c-01 outer:exit 2b-a96a36c28a3a1911ef5fa030fd8f9a244cfc8aeb-732a4dcfa72f3059-01
2021-09-23T17:24:07.650Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:24:07.653Z appoptics:debug span.exit - no last event outer outer:entry 2b-f421b7953efd26700bd9d6041ce0bc963e343b39-ec92912b652e5bba-01 outer:exit 2b-f421b7953efd26700bd9d6041ce0bc963e343b39-11c0edfe3885ccc3-01
2021-09-23T17:24:07.653Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:24:07.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ec89285e8a8bab35292ba4f78efe9f2183dd85c-99a48a6bb45b7e34-01 outer:exit 2b-1ec89285e8a8bab35292ba4f78efe9f2183dd85c-c66cd75dc05536f9-01
2021-09-23T17:24:07.656Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:24:07.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-009d08b4ebcfb0e5047641d50076dfbc7524dd2b-11038afb10fdab43-01 outer:exit 2b-009d08b4ebcfb0e5047641d50076dfbc7524dd2b-c01a2b7228ebc4d0-01
2021-09-23T17:24:07.659Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:24:07.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-11b944021e969fe3b42cb657ce3b5581e2c769d1-4372f23c3dd59394-01 outer:exit 2b-11b944021e969fe3b42cb657ce3b5581e2c769d1-e597be9ed5553c42-01
2021-09-23T17:24:07.662Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:24:07.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d5b5ad0a7bffc0425e0ee39ddebf96943d2cf7a-f21043b9f153d380-01 outer:exit 2b-2d5b5ad0a7bffc0425e0ee39ddebf96943d2cf7a-11014c42bd7e0d25-01
2021-09-23T17:24:07.665Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:24:07.669Z appoptics:debug span.exit - no last event outer outer:entry 2b-67091df5e2e0eacea70ea0a22ed5ddbe918c10a2-510dd3696b8c5d99-01 outer:exit 2b-67091df5e2e0eacea70ea0a22ed5ddbe918c10a2-0ec39c23a1b8212a-01
2021-09-23T17:24:07.669Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:24:07.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b9014ce42ca3ce635050701df741bd9e450df0a-9e93a3e8dd3cb0c3-01 outer:exit 2b-5b9014ce42ca3ce635050701df741bd9e450df0a-9928cc55bca088f2-01
2021-09-23T17:24:07.676Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:24:07.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3f4600702236a70502a0b76398571fd44668429-dde8fb63db684d13-01 outer:exit 2b-e3f4600702236a70502a0b76398571fd44668429-d48345853b796ae2-01
2021-09-23T17:24:07.692Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:24:07.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb54c04bb94f7c7738dd7336ac1ca4806b062bb8-202b69816f92310a-01 outer:exit 2b-bb54c04bb94f7c7738dd7336ac1ca4806b062bb8-74b226be0b5546b2-01
2021-09-23T17:24:07.735Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:24:07.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-e007da7a25186eb06dd3f7fa5e44e651ee4a02d7-c5a1ace3345f6143-01 outer:exit 2b-e007da7a25186eb06dd3f7fa5e44e651ee4a02d7-0ddbb8704fb94d1f-01
2021-09-23T17:24:07.739Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:24:07.741Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb77a07440621689ca98004cae7d7f36e17b7245-e0610d8f7f8c14ee-01 outer:exit 2b-eb77a07440621689ca98004cae7d7f36e17b7245-f173bd0dc53d99c1-01
2021-09-23T17:24:07.741Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:24:07.744Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bc9e6b8613bc0b283191561d33651dd925470fc-40ec7d59a7ddc8d2-01 outer:exit 2b-0bc9e6b8613bc0b283191561d33651dd925470fc-0fec414a8d9e93bb-01
2021-09-23T17:24:07.744Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:24:07.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-64b33c38aa081c2532eabff9f4f24a57538fc4a8-0c333287a78db3e9-01 outer:exit 2b-64b33c38aa081c2532eabff9f4f24a57538fc4a8-0aca0fdda28aa0db-01
2021-09-23T17:24:07.747Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:24:07.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-19d71f307e5838026d383e183ec93d0746b9196a-d87b3d61c046bb4f-01 outer:exit 2b-19d71f307e5838026d383e183ec93d0746b9196a-b5341319034b7b39-01
2021-09-23T17:24:07.750Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:24:07.752Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f42d0247d07471e6ecccf568b5dbb32dd20ec38-915cc478559fbbe8-01 outer:exit 2b-2f42d0247d07471e6ecccf568b5dbb32dd20ec38-a20c32367c4a89c3-01
2021-09-23T17:24:07.752Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:24:07.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-393890fbc00a1e1d19d9e8ab07b2a90b96581cd2-402117554cf8532a-01 outer:exit 2b-393890fbc00a1e1d19d9e8ab07b2a90b96581cd2-d1a1689928f2d301-01
2021-09-23T17:24:07.760Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:24:07.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-44e0ed35960d917c11b607bfb4e16ae30aae7de0-43fba5c7d4d93e48-01 outer:exit 2b-44e0ed35960d917c11b607bfb4e16ae30aae7de0-71d98b712db1020e-01
2021-09-23T17:24:07.777Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:24:07.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-313ffb2c3d3f2a2be9514df6042cba8c3632115a-982b85a26f92da57-01 outer:exit 2b-313ffb2c3d3f2a2be9514df6042cba8c3632115a-d58ef833ad2d6161-01
2021-09-23T17:24:07.785Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:24:07.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2776a8cf3fa9078f4731d5a03ee7366c898257a-300329c6f101f1a2-01 outer:exit 2b-d2776a8cf3fa9078f4731d5a03ee7366c898257a-a9315c84b6b78509-01
2021-09-23T17:24:07.788Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:24:07.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa8b0fada1652eb3ea3323b23d9cf497eb50f870-125da97ecbea59b8-01 outer:exit 2b-fa8b0fada1652eb3ea3323b23d9cf497eb50f870-00ccc5d638afa0c8-01
2021-09-23T17:24:07.792Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:24:07.795Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd78bd32f7c300dcf70968e3a1b8bb3dfd9137e0-e8cf6b98351d8c26-01 outer:exit 2b-dd78bd32f7c300dcf70968e3a1b8bb3dfd9137e0-e401220ab272bb16-01
2021-09-23T17:24:07.795Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:24:07.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0cc13202faf3fe51cd643f65956af48496aea02-897dd16be199fd24-01 outer:exit 2b-f0cc13202faf3fe51cd643f65956af48496aea02-9550703797289bae-01
2021-09-23T17:24:07.802Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:24:07.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3b966e103965971e104a73cb5c4fabff77f7460-4612cbdb93a0db12-01 outer:exit 2b-b3b966e103965971e104a73cb5c4fabff77f7460-346969b71f19a4ad-01
2021-09-23T17:24:07.807Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:24:07.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ff4973f923c7edbe3139d77075c3bd08ced5d0b-8e04781292608a9e-01 outer:exit 2b-5ff4973f923c7edbe3139d77075c3bd08ced5d0b-c9df4bbfd5abb22d-01
2021-09-23T17:24:07.818Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:24:07.828Z appoptics:debug span.exit - no last event outer outer:entry 2b-9571d5ca23020188089b474fd0cc93fbee5e1710-0823266391bbf355-01 outer:exit 2b-9571d5ca23020188089b474fd0cc93fbee5e1710-b998e1b8657efc61-01
2021-09-23T17:24:07.828Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:24:07.831Z appoptics:debug span.exit - no last event outer outer:entry 2b-13de4e2ce2a3c9f24caf97199222e1db270aea90-76b49f3bd2ad06d9-01 outer:exit 2b-13de4e2ce2a3c9f24caf97199222e1db270aea90-609703f5a88fe7cd-01
2021-09-23T17:24:07.831Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:24:07.835Z appoptics:debug span.exit - no last event outer outer:entry 2b-22541204e45224ca49f6c2f29b381c7dd7dc9e0f-cb06850e541a2c41-01 outer:exit 2b-22541204e45224ca49f6c2f29b381c7dd7dc9e0f-53aeae3342baa2b3-01
2021-09-23T17:24:07.835Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:24:07.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-89e0b99548d8884a04a0f86045067dc87f8f00dd-4eca41c0ac8b7ddd-01 outer:exit 2b-89e0b99548d8884a04a0f86045067dc87f8f00dd-14090d3fc7834dc7-01
2021-09-23T17:24:07.843Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:24:07.845Z appoptics:debug span.exit - no last event outer outer:entry 2b-95bdd3ed82b4d84ba9cd3626274dd70b22978ad4-cba1cb081a0dfeab-01 outer:exit 2b-95bdd3ed82b4d84ba9cd3626274dd70b22978ad4-7469fc5cf473f731-01
2021-09-23T17:24:07.846Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:24:07.848Z appoptics:debug span.exit - no last event outer outer:entry 2b-10c235724ce7de4f59272e36caf0dcd92d54c35c-398952ca256e0da1-01 outer:exit 2b-10c235724ce7de4f59272e36caf0dcd92d54c35c-d744bdf097177c1c-01
2021-09-23T17:24:07.848Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:24:07.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-68a676a955f4c1a257a982217bed8ad1dd88e957-7d85e86b87878c54-01 outer:exit 2b-68a676a955f4c1a257a982217bed8ad1dd88e957-b9dd46e9b0db1fda-01
2021-09-23T17:24:07.851Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:24:07.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbb814f6f0b22ebec13ef5e72e8e64368d6bb093-4a6f33fd4d24aeb9-01 outer:exit 2b-dbb814f6f0b22ebec13ef5e72e8e64368d6bb093-bd0be32764a75610-01
2021-09-23T17:24:07.853Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:24:07.855Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa74d1fa674477b2f17e38d5df0b704c900351de-929ab7148c887cd2-01 outer:exit 2b-fa74d1fa674477b2f17e38d5df0b704c900351de-7d46f5d89e918d6a-01
2021-09-23T17:24:07.856Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:24:07.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-5042b01fd3967e781e344fa8c6b4075e7aa2ad73-2f6904bcaf5654a6-01 outer:exit 2b-5042b01fd3967e781e344fa8c6b4075e7aa2ad73-b54b8c095b4c1b68-01
2021-09-23T17:24:07.866Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:24:07.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c8aad11e6e602b77f00865639a3356e40d8ba3a-88e8cb7884351baf-01 outer:exit 2b-0c8aad11e6e602b77f00865639a3356e40d8ba3a-02818f808e4cbd8b-01
2021-09-23T17:24:07.877Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:24:07.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-899299c343def2429ce60a253ab550b5aac76247-47c54b58021fa8c2-01 outer:exit 2b-899299c343def2429ce60a253ab550b5aac76247-75935e55c3c289a6-01
2021-09-23T17:24:07.880Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:24:07.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-d741b4516f51155181488d62758ec5e6db801e59-a9b546ab7454869e-01 outer:exit 2b-d741b4516f51155181488d62758ec5e6db801e59-24452cc2a9f74558-01
2021-09-23T17:24:07.884Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:24:07.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-03750335ce0edd3760f7f13b3e6bad060117c787-7e2846efbcba553c-01 outer:exit 2b-03750335ce0edd3760f7f13b3e6bad060117c787-691dcdb9f9cafce2-01
2021-09-23T17:24:07.887Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:24:07.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-4da59106ad9356aa5b2d35311bccace6f6f52dc5-d7b4179fba670a9a-01 outer:exit 2b-4da59106ad9356aa5b2d35311bccace6f6f52dc5-16b92f3ff6232335-01
2021-09-23T17:24:07.918Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (382ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.17
updated 1 package and audited 1098 packages in 6.447s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:15.637Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:15.637Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:15.637Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:15.638Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:15.713Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:15.766Z appoptics:patching patched crypto 
2021-09-23T17:24:15.788Z appoptics:patching patched https 
2021-09-23T17:24:15.789Z appoptics:patching patched http 
2021-09-23T17:24:15.832Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:15.832Z appoptics:patching patched fs 
2021-09-23T17:24:15.866Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v14.17.6)
2021-09-23T17:24:15.874Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2021-09-23T17:24:16.089Z appoptics:debug span.exit - no last event outer outer:entry 2b-c88188eeda0996661b0780ea40cbaa3c7c1de79f-b213734a4a3351de-01 outer:exit 2b-c88188eeda0996661b0780ea40cbaa3c7c1de79f-11bb684dc47bc157-01
2021-09-23T17:24:16.090Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:24:16.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-db666301479feacd2a3c2dcc29d7dba3c812eb8c-f24a28d74b791c25-01 outer:exit 2b-db666301479feacd2a3c2dcc29d7dba3c812eb8c-e3a5c6fd50ddcb68-01
2021-09-23T17:24:16.135Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:24:16.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb9b1e7f9e1026b051de053d8e1cb61f37d9c421-8a159fb38a37b52a-01 outer:exit 2b-bb9b1e7f9e1026b051de053d8e1cb61f37d9c421-83ad6dd8539297d2-01
2021-09-23T17:24:16.139Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:24:16.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a52e842fb82606d610e649aabab51f273eda355-b062a47e62c9dfc1-01 outer:exit 2b-3a52e842fb82606d610e649aabab51f273eda355-a1870a217fde6728-01
2021-09-23T17:24:16.143Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:24:16.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef0797360409366cb851e09a64b188f59ad928c7-e713ab47b50f052d-01 outer:exit 2b-ef0797360409366cb851e09a64b188f59ad928c7-6ccaa1a9d33a0dd8-01
2021-09-23T17:24:16.149Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:24:16.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe5a7da0037b4b205a4e851742120eb721e59c2e-f707a86e01bc5668-01 outer:exit 2b-fe5a7da0037b4b205a4e851742120eb721e59c2e-c6d5db2c944c15e2-01
2021-09-23T17:24:16.153Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:24:16.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9383af19027cea417c2d9c62cffc3deadaaa5d1-7bd63622ca80327c-01 outer:exit 2b-e9383af19027cea417c2d9c62cffc3deadaaa5d1-02bd9a38c13cadee-01
2021-09-23T17:24:16.156Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:24:16.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ebfcc02170b7ed0803d6607c8d11c7b0ee9b555-7a0fe110858a7224-01 outer:exit 2b-6ebfcc02170b7ed0803d6607c8d11c7b0ee9b555-73c1f6c1033b1f1a-01
2021-09-23T17:24:16.161Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:24:16.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-286be7352ec051a5c6dd085a4056668fff7c8662-657f649b2675117f-01 outer:exit 2b-286be7352ec051a5c6dd085a4056668fff7c8662-283ea7d5856ed6e0-01
2021-09-23T17:24:16.163Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:24:16.167Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a8eb6f223eb786034902dd0ef8542c46f84620b-9398e79b94cf6fe0-01 outer:exit 2b-4a8eb6f223eb786034902dd0ef8542c46f84620b-4fa3c1037734e149-01
2021-09-23T17:24:16.167Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:24:16.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2ad62d99de7576e5a1d137002888fbf46fa440b-4195bcb3ad2944f9-01 outer:exit 2b-f2ad62d99de7576e5a1d137002888fbf46fa440b-f7529ab91185f06e-01
2021-09-23T17:24:16.171Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:24:16.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-147f4d4a8227406c23086e3423e9d0347645ce84-bd8f7603befa2273-01 outer:exit 2b-147f4d4a8227406c23086e3423e9d0347645ce84-64d642f7d77123d8-01
2021-09-23T17:24:16.178Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:24:16.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cb6703505591866559bed4babce6156ed72c06c-78164cce96ad151b-01 outer:exit 2b-4cb6703505591866559bed4babce6156ed72c06c-4221f9d73ecaae10-01
2021-09-23T17:24:16.195Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:24:16.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6549e9c0c871e7789856c3cb1c823125d828fb2-5da0023cc52603f3-01 outer:exit 2b-f6549e9c0c871e7789856c3cb1c823125d828fb2-79bcdce3b7c4bffa-01
2021-09-23T17:24:16.234Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:24:16.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ba154b3bc3c14f44b196948049ae19613a06a3e-406edb20f5670eb1-01 outer:exit 2b-6ba154b3bc3c14f44b196948049ae19613a06a3e-4d3260f06da8c0e9-01
2021-09-23T17:24:16.238Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:24:16.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-c27f154de8adc4169b4800cbe16896dd49a73cb1-bd0a2a94ceaa6fb5-01 outer:exit 2b-c27f154de8adc4169b4800cbe16896dd49a73cb1-69134ac2d30b66db-01
2021-09-23T17:24:16.240Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:24:16.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1cdcfc18477181668a0d8e3a0f43252c0b38285-a3c8398d69ee4c64-01 outer:exit 2b-c1cdcfc18477181668a0d8e3a0f43252c0b38285-5b26456b6ac31b75-01
2021-09-23T17:24:16.244Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:24:16.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-173b9525f0b409bc1eac22f7839a883ea5b0e8ea-88aa63dcd0b6266e-01 outer:exit 2b-173b9525f0b409bc1eac22f7839a883ea5b0e8ea-1dced30ec31af0ab-01
2021-09-23T17:24:16.246Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:24:16.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a239291ba85c4aec96a81344ce966f224677367-eab7eee5993f1c5a-01 outer:exit 2b-3a239291ba85c4aec96a81344ce966f224677367-ce40e694b26fca59-01
2021-09-23T17:24:16.249Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:24:16.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a5f5d0c6be78278bea7fc117f8d5e86765f692c-9e4052636a9ccc1a-01 outer:exit 2b-6a5f5d0c6be78278bea7fc117f8d5e86765f692c-d23dedf0adf65752-01
2021-09-23T17:24:16.251Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:24:16.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-f387f964f6dd8254f9a26ac08441410c0f1c8b76-c96019a75e8404a4-01 outer:exit 2b-f387f964f6dd8254f9a26ac08441410c0f1c8b76-d537290ccc3fb0fb-01
2021-09-23T17:24:16.259Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:24:16.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-eddd99a5aca3778f76eb9b69651853e097f3e710-63b0b89e3ee14b02-01 outer:exit 2b-eddd99a5aca3778f76eb9b69651853e097f3e710-d505b7d18e39351e-01
2021-09-23T17:24:16.263Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:24:16.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-44503f54fd47c066a1e5559f6b9159d8faee3c7d-900543f69025782c-01 outer:exit 2b-44503f54fd47c066a1e5559f6b9159d8faee3c7d-42be622f4b8ef1ff-01
2021-09-23T17:24:16.269Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:24:16.278Z appoptics:debug span.exit - no last event outer outer:entry 2b-2438d5bc02e6bbf21333e479ab6ee2d01ea78f00-92eec94c649b71d2-01 outer:exit 2b-2438d5bc02e6bbf21333e479ab6ee2d01ea78f00-1985df084e571a5e-01
2021-09-23T17:24:16.278Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:24:16.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-fab80db68a14581303dcaa0ef4fe6e7011a50ad1-7e6271c93aa2c3ec-01 outer:exit 2b-fab80db68a14581303dcaa0ef4fe6e7011a50ad1-70e4089b6affd537-01
2021-09-23T17:24:16.284Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:24:16.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-51c9a56989fe02498726a6b811d5a6b14c8819b2-74e3a44142ffeaf7-01 outer:exit 2b-51c9a56989fe02498726a6b811d5a6b14c8819b2-82437d74c7521bbe-01
2021-09-23T17:24:16.287Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:24:16.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-c84ff82e96533def49948fb6caea87ee75726a08-1ee6e42012c41434-01 outer:exit 2b-c84ff82e96533def49948fb6caea87ee75726a08-baed3d00f103efdf-01
2021-09-23T17:24:16.294Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:24:16.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-695b25112b20e6025ce14f43547f6ec9c4bbfdc8-3c2aa7508ad48017-01 outer:exit 2b-695b25112b20e6025ce14f43547f6ec9c4bbfdc8-af3d983e65f12ae5-01
2021-09-23T17:24:16.299Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:24:16.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-51847fd714baa0c0d3af8cc96a70ec32b16ac6e3-e515b5cf79e1c769-01 outer:exit 2b-51847fd714baa0c0d3af8cc96a70ec32b16ac6e3-0be14b930be0e3b9-01
2021-09-23T17:24:16.316Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:24:16.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c5aede1274a4f60e7b786b3a7ebe7b26b911f2e-492ff129ec5ec296-01 outer:exit 2b-8c5aede1274a4f60e7b786b3a7ebe7b26b911f2e-314cd41167b7d8f8-01
2021-09-23T17:24:16.328Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:24:16.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-b2c48d737691e06c66f7d2dfec08088373f5cbee-39d1509c0b84eef4-01 outer:exit 2b-b2c48d737691e06c66f7d2dfec08088373f5cbee-27dcf4191fb38785-01
2021-09-23T17:24:16.331Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:24:16.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd29165b360c6f24df34f45ecab5ba57020461e2-00acd23f87254000-01 outer:exit 2b-dd29165b360c6f24df34f45ecab5ba57020461e2-7f8a7e6b7bb5e5fe-01
2021-09-23T17:24:16.335Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:24:16.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-61dd40129215c153e5a79cf9365429ea319e6588-a9944f261a2dbcc3-01 outer:exit 2b-61dd40129215c153e5a79cf9365429ea319e6588-debecd1b147379a7-01
2021-09-23T17:24:16.352Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:24:16.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-c84745feccf3abef32ea7946cf5ba99e38045770-5270261f7b4eca9e-01 outer:exit 2b-c84745feccf3abef32ea7946cf5ba99e38045770-e1df1b1c04cdd8b4-01
2021-09-23T17:24:16.357Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:24:16.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-adbc1fae8de6b5a7d47c788b4fc27de952ff3a86-80e7387483dc5bc9-01 outer:exit 2b-adbc1fae8de6b5a7d47c788b4fc27de952ff3a86-8db5c76abc7c7832-01
2021-09-23T17:24:16.360Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:24:16.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd36a0103db9aa2ddf54d4eb62b69742c22e5e02-c9dfd315473c4bf6-01 outer:exit 2b-dd36a0103db9aa2ddf54d4eb62b69742c22e5e02-0b8e55ef1a6cab71-01
2021-09-23T17:24:16.363Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:24:16.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bfd0538cc08bb0a929cf786d2fc141fc66474cf-d7b2f68b49e6c23a-01 outer:exit 2b-4bfd0538cc08bb0a929cf786d2fc141fc66474cf-80d0c86ea8f043e9-01
2021-09-23T17:24:16.366Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:24:16.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3eaed31b7486a42fa9dd5f92ab21fe4d05b9b9c-5456e113634667f5-01 outer:exit 2b-b3eaed31b7486a42fa9dd5f92ab21fe4d05b9b9c-42f3e3ba8e7242d7-01
2021-09-23T17:24:16.369Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:24:16.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-947697f2cb245d5666f0ba98689f20e1f74b822e-c95f8d4097a3aafe-01 outer:exit 2b-947697f2cb245d5666f0ba98689f20e1f74b822e-34c0ac21fd42881f-01
2021-09-23T17:24:16.380Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:24:16.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb2fe57ee14c86073a0df0e712c3fba5dc176942-20307640ec5c46a2-01 outer:exit 2b-fb2fe57ee14c86073a0df0e712c3fba5dc176942-6c29c67e524ec007-01
2021-09-23T17:24:16.393Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:24:16.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c4522dc3faeb7cba8225d4e3e49e2d81d591f45-22c54c978e5c0e59-01 outer:exit 2b-2c4522dc3faeb7cba8225d4e3e49e2d81d591f45-dddb81ab0971855f-01
2021-09-23T17:24:16.397Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:24:16.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-823e2f08aff0a5295009a3064e6679e4023579bd-083de27caf53826d-01 outer:exit 2b-823e2f08aff0a5295009a3064e6679e4023579bd-660abed1923b976d-01
2021-09-23T17:24:16.400Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:24:16.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d904bcd7ba4df1c3276a8e53f4233bd6c0276a5-bf5eae524df5a0d7-01 outer:exit 2b-2d904bcd7ba4df1c3276a8e53f4233bd6c0276a5-7d48c944cfe78748-01
2021-09-23T17:24:16.405Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:24:16.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3ff5405861d878d6c4b05819efb467888a5e1a2-d06d1ce3085ee98f-01 outer:exit 2b-e3ff5405861d878d6c4b05819efb467888a5e1a2-77b0a65341e8ca50-01
2021-09-23T17:24:16.435Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (385ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.18
updated 1 package and audited 1098 packages in 6.144s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:24.563Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:24.564Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:24.564Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:24.565Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:24.635Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:24.685Z appoptics:patching patched crypto 
2021-09-23T17:24:24.708Z appoptics:patching patched https 
2021-09-23T17:24:24.708Z appoptics:patching patched http 
2021-09-23T17:24:24.750Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:24.750Z appoptics:patching patched fs 
2021-09-23T17:24:24.780Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v14.17.6)
2021-09-23T17:24:24.787Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2021-09-23T17:24:25.006Z appoptics:debug span.exit - no last event outer outer:entry 2b-967a6863f9d3fe4dadf04d4c75c66e7cc323ead3-765082eab653d662-01 outer:exit 2b-967a6863f9d3fe4dadf04d4c75c66e7cc323ead3-9df5950304d0a5d0-01
2021-09-23T17:24:25.006Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:24:25.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-373c8e65194ff439c477bbf6dccb5a8908451e5c-45376e4eb0631a5e-01 outer:exit 2b-373c8e65194ff439c477bbf6dccb5a8908451e5c-a525398b10e2eeff-01
2021-09-23T17:24:25.092Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:24:25.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7f52cb50e852abb7c721d98591be0d77f2c4fc4-34c435a5e639a86d-01 outer:exit 2b-b7f52cb50e852abb7c721d98591be0d77f2c4fc4-4b70556f100b5104-01
2021-09-23T17:24:25.096Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:24:25.099Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc27d09fd3ace84029507171660445fe3132c1af-8cfbd1f84fa038c1-01 outer:exit 2b-cc27d09fd3ace84029507171660445fe3132c1af-25958e5fdd36d338-01
2021-09-23T17:24:25.100Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:24:25.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-3314db2013b35eca19123c2ac39be48556d8142a-d05340acac39caa5-01 outer:exit 2b-3314db2013b35eca19123c2ac39be48556d8142a-1db9aeb710a21d54-01
2021-09-23T17:24:25.107Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:24:25.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-eed3c75d20bd945f61814021743b69037180dfc0-d7826f5709ee7577-01 outer:exit 2b-eed3c75d20bd945f61814021743b69037180dfc0-82e4bbfa77bc55dd-01
2021-09-23T17:24:25.111Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:24:25.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-69600bce9bb7acda295ef491df996ba8c17bfba8-d7c0d9eaee55b3a8-01 outer:exit 2b-69600bce9bb7acda295ef491df996ba8c17bfba8-da202d2e31e621c7-01
2021-09-23T17:24:25.115Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:24:25.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-8015107a5b40d15fdff3582a1e2fd0a34653e626-5cec106edf26dbe5-01 outer:exit 2b-8015107a5b40d15fdff3582a1e2fd0a34653e626-9ef916992c04d6db-01
2021-09-23T17:24:25.118Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:24:25.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-17b53ea3c2ad8c5f33d03a72f21fc2c287c3a287-bf07f80dd4040464-01 outer:exit 2b-17b53ea3c2ad8c5f33d03a72f21fc2c287c3a287-81c6625992f2d832-01
2021-09-23T17:24:25.121Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:24:25.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b24b35fa56aa144f77028d7dad70ffd2ddc6efe-9137cb1bcdf07ed5-01 outer:exit 2b-7b24b35fa56aa144f77028d7dad70ffd2ddc6efe-ad5b9d86ff2c5c14-01
2021-09-23T17:24:25.124Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:24:25.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-d06df0d253754479850c9c2e345560e3acce4a09-02a63289980d13fe-01 outer:exit 2b-d06df0d253754479850c9c2e345560e3acce4a09-b3d99e4418b3d226-01
2021-09-23T17:24:25.129Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:24:25.136Z appoptics:debug span.exit - no last event outer outer:entry 2b-654b425105db76432bb658cb8a3ce0252ecbf7ef-7c3ad999e52f8972-01 outer:exit 2b-654b425105db76432bb658cb8a3ce0252ecbf7ef-ac165a7a98e907c6-01
2021-09-23T17:24:25.136Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:24:25.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0e0f90d1fa4c3e7e6f35f41fc2ddfa9917bb0e7-a21fa489405d23f4-01 outer:exit 2b-d0e0f90d1fa4c3e7e6f35f41fc2ddfa9917bb0e7-c7dfcccb044141da-01
2021-09-23T17:24:25.152Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:24:25.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-2810ae153ad44f8058b77d6d5b1e053b655fba3b-f407af3b6bf40384-01 outer:exit 2b-2810ae153ad44f8058b77d6d5b1e053b655fba3b-3492e97dc0216c3f-01
2021-09-23T17:24:25.196Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:24:25.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-100e7a1f203e65e7efce439906a30b60df8fd880-be3260d55ed93214-01 outer:exit 2b-100e7a1f203e65e7efce439906a30b60df8fd880-7b3ef3454164e6e8-01
2021-09-23T17:24:25.199Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:24:25.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1405f24611fbe9758bde6e599f39cbc16ad2256-4483cb7008cf410e-01 outer:exit 2b-c1405f24611fbe9758bde6e599f39cbc16ad2256-d0d0cd78a01a7d49-01
2021-09-23T17:24:25.202Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:24:25.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bf21dbfa35fdc789e2bc6c555aa1a9e3d86c683-d45466404b9e4b67-01 outer:exit 2b-4bf21dbfa35fdc789e2bc6c555aa1a9e3d86c683-fe1d162ebc93d199-01
2021-09-23T17:24:25.206Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:24:25.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4b8dcc6827d66940a58726e060d102bdced902b-e245629e28d623a8-01 outer:exit 2b-d4b8dcc6827d66940a58726e060d102bdced902b-76c29f7f600be139-01
2021-09-23T17:24:25.209Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:24:25.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-160152ed4e041e2258f08ce9c9878fb590390929-1ce35aa6a866eb73-01 outer:exit 2b-160152ed4e041e2258f08ce9c9878fb590390929-f6dac460266ea5df-01
2021-09-23T17:24:25.212Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:24:25.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-37be51310ec35c427b5e381959ab42dbda40b7cb-1d01a05cd01fe813-01 outer:exit 2b-37be51310ec35c427b5e381959ab42dbda40b7cb-0e8d07f4bf9afc9f-01
2021-09-23T17:24:25.214Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:24:25.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b2fd1d21f87dab58d72701ee9e27a9b5d0b9c2a-47baedfba6edea63-01 outer:exit 2b-9b2fd1d21f87dab58d72701ee9e27a9b5d0b9c2a-6b66400e9138315b-01
2021-09-23T17:24:25.230Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:24:25.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcc653112b3a70a69a31b53b4477446985d8f8cc-3098b388792a374a-01 outer:exit 2b-dcc653112b3a70a69a31b53b4477446985d8f8cc-7c41cae077f8e082-01
2021-09-23T17:24:25.235Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:24:25.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3c90e75445293b9a5e8d5fdacfedc25ef2db643-a16c492674cc8b19-01 outer:exit 2b-b3c90e75445293b9a5e8d5fdacfedc25ef2db643-a316ae3a0e889232-01
2021-09-23T17:24:25.243Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:24:25.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-f238e1613d651d90305a6910e45d4701e0e4e52f-d68162ba3363d0bd-01 outer:exit 2b-f238e1613d651d90305a6910e45d4701e0e4e52f-65bce80a7c16f2fd-01
2021-09-23T17:24:25.247Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:24:25.250Z appoptics:debug span.exit - no last event outer outer:entry 2b-04af598805bb2686e7a7e186eeb01281e08c9b2f-0538523d6d4e4434-01 outer:exit 2b-04af598805bb2686e7a7e186eeb01281e08c9b2f-224ff354f6f82ffb-01
2021-09-23T17:24:25.250Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:24:25.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-24fb1a5d1d1258a5896f1a4b9abaa19e7651a7be-b0f91df78b9e25d9-01 outer:exit 2b-24fb1a5d1d1258a5896f1a4b9abaa19e7651a7be-22a8134f6cd8d785-01
2021-09-23T17:24:25.253Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:24:25.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-8863e7ac0bb0459f70d62bf2289aeb1349c923db-ec818375d568637c-01 outer:exit 2b-8863e7ac0bb0459f70d62bf2289aeb1349c923db-b33dd72d2fef5e39-01
2021-09-23T17:24:25.261Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:24:25.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-56e3a517756255c047a645be349536d99be3b110-eb89568dc537b265-01 outer:exit 2b-56e3a517756255c047a645be349536d99be3b110-e1dcfe760b22501a-01
2021-09-23T17:24:25.266Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:24:25.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-4df887f6fc4076fad46496fd953cdefe0484bba9-70dcfb6c35b645b7-01 outer:exit 2b-4df887f6fc4076fad46496fd953cdefe0484bba9-d891d33d804c7855-01
2021-09-23T17:24:25.276Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:24:25.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd67f88755607b8ae511347402209748bb8c2e3d-a8b06c0489d9c299-01 outer:exit 2b-bd67f88755607b8ae511347402209748bb8c2e3d-0ccdff8906f4b7b5-01
2021-09-23T17:24:25.284Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:24:25.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-acb91ad3e8a947fc9768e442455854f42045cdcd-cdd67e841a5566ed-01 outer:exit 2b-acb91ad3e8a947fc9768e442455854f42045cdcd-b9fff27f24b0f375-01
2021-09-23T17:24:25.287Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:24:25.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8d2a66fd94529560154348ed2a238b894f102b1-6f179acf0d85bb1a-01 outer:exit 2b-d8d2a66fd94529560154348ed2a238b894f102b1-b1896de0aaa13a6e-01
2021-09-23T17:24:25.292Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:24:25.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7c0d460e5a54dee95646c873784bd4007dd529e-2a4e2f87343e974a-01 outer:exit 2b-b7c0d460e5a54dee95646c873784bd4007dd529e-6209ccafdeae4689-01
2021-09-23T17:24:25.301Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:24:25.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-d29bb6805306488ffab1f05206e5e6a44a6c5a20-00a80447388db2b3-01 outer:exit 2b-d29bb6805306488ffab1f05206e5e6a44a6c5a20-39ea562987c04c95-01
2021-09-23T17:24:25.304Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:24:25.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-19a75d04f2a4eebf508feae8008a99a895e80cc4-76be7cd898a02755-01 outer:exit 2b-19a75d04f2a4eebf508feae8008a99a895e80cc4-807f984bd3fcb14e-01
2021-09-23T17:24:25.306Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:24:25.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce7d72bf6bd1ffd9b81565bc3f37bd821a43412e-61ecec4c0e7b0ed7-01 outer:exit 2b-ce7d72bf6bd1ffd9b81565bc3f37bd821a43412e-909bb5ef73838f96-01
2021-09-23T17:24:25.309Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:24:25.312Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ed36107b093099af5098e5351dd13e4a840d2f5-a6a21b4c8afd473c-01 outer:exit 2b-6ed36107b093099af5098e5351dd13e4a840d2f5-350e2ccd18fb582c-01
2021-09-23T17:24:25.312Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:24:25.314Z appoptics:debug span.exit - no last event outer outer:entry 2b-01283907f8b934e7b6fda780202c9127c631d398-9c1532f695508a92-01 outer:exit 2b-01283907f8b934e7b6fda780202c9127c631d398-ec868051775eadd5-01
2021-09-23T17:24:25.314Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:24:25.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff676d221ecb9d6121d2b5f91cc69054575b7e27-2a7686c95c3f07fe-01 outer:exit 2b-ff676d221ecb9d6121d2b5f91cc69054575b7e27-d1ac51d72e422fe5-01
2021-09-23T17:24:25.326Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:24:25.340Z appoptics:debug span.exit - no last event outer outer:entry 2b-1721261bd9ca8dca05f705896271482d2b105cdc-91a482effd3dbc92-01 outer:exit 2b-1721261bd9ca8dca05f705896271482d2b105cdc-b1984083a559c441-01
2021-09-23T17:24:25.340Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:24:25.349Z appoptics:debug span.exit - no last event outer outer:entry 2b-0db33c0aad4ed232731af7b2f0f442c1081b381f-700dfd8294e52981-01 outer:exit 2b-0db33c0aad4ed232731af7b2f0f442c1081b381f-8431131b19d1be75-01
2021-09-23T17:24:25.350Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:24:25.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-a248662d3d9f6dfa0e5e0f983c17712651b72174-88b3218142a831ea-01 outer:exit 2b-a248662d3d9f6dfa0e5e0f983c17712651b72174-ff979d99436bcb4a-01
2021-09-23T17:24:25.353Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:24:25.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c0308383daf8cc5ec2951721c1d7e813644c2af-376113f9f709b057-01 outer:exit 2b-2c0308383daf8cc5ec2951721c1d7e813644c2af-c44863b2c06ce426-01
2021-09-23T17:24:25.357Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:24:25.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5bbaabe4776c200da99346a798d9fd1e1fac2ca-fcb7b14251bb33b9-01 outer:exit 2b-c5bbaabe4776c200da99346a798d9fd1e1fac2ca-423c0e18724467a6-01
2021-09-23T17:24:25.403Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (439ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.19
updated 1 package and audited 1098 packages in 7.889s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:34.531Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:34.532Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:34.532Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:34.533Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:34.612Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:34.675Z appoptics:patching patched crypto 
2021-09-23T17:24:34.719Z appoptics:patching patched https 
2021-09-23T17:24:34.719Z appoptics:patching patched http 
2021-09-23T17:24:34.767Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:34.767Z appoptics:patching patched fs 
2021-09-23T17:24:34.802Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v14.17.6)
2021-09-23T17:24:34.812Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2021-09-23T17:24:35.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-332cf0b0cd576cd10d93740e1911785e9eeeae23-1bcc503806e7f972-01 outer:exit 2b-332cf0b0cd576cd10d93740e1911785e9eeeae23-95aaa0882805a6b8-01
2021-09-23T17:24:35.111Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:24:35.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d16e217ba8136d89343826bd864d375e3979af8-fe5aa950430b1fe7-01 outer:exit 2b-7d16e217ba8136d89343826bd864d375e3979af8-32c39d88e502a17e-01
2021-09-23T17:24:35.205Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:24:35.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ce1da1b9e835a0e5bb1e8b6ec59a1aa0dc65a8b-ed7b8ce167008edf-01 outer:exit 2b-2ce1da1b9e835a0e5bb1e8b6ec59a1aa0dc65a8b-bc39b3ae6d470a74-01
2021-09-23T17:24:35.211Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:24:35.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8a627d8393ce237da26d3f5bb4d1a995fae739f-2c3d61e9b7e41205-01 outer:exit 2b-c8a627d8393ce237da26d3f5bb4d1a995fae739f-fd0abb39017175f3-01
2021-09-23T17:24:35.216Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:24:35.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-342befe1ab2ea006dbdbf38f95ae8f9e9df6ba2b-a9d89113691cd21f-01 outer:exit 2b-342befe1ab2ea006dbdbf38f95ae8f9e9df6ba2b-be9a5bdb54c2bd50-01
2021-09-23T17:24:35.226Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:24:35.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-f007f07f2832996d408c7203e675ccb06ae9a605-dbf9348d30ae6611-01 outer:exit 2b-f007f07f2832996d408c7203e675ccb06ae9a605-7b70da08b9624e4a-01
2021-09-23T17:24:35.232Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:24:35.236Z appoptics:debug span.exit - no last event outer outer:entry 2b-038d17a0ecece9b84550fb83cf5d004f3f887773-980807ae7b230788-01 outer:exit 2b-038d17a0ecece9b84550fb83cf5d004f3f887773-33916cb171567167-01
2021-09-23T17:24:35.236Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:24:35.241Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5577ef84d5ca02324fa605cf8d409f0b2d0125a-1142ebd69ea894b7-01 outer:exit 2b-b5577ef84d5ca02324fa605cf8d409f0b2d0125a-60842dafa5e48e7e-01
2021-09-23T17:24:35.241Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:24:35.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-f14aa55e8ded6bb42ed328dd0821b87f605876a2-62fbcb6760ca961b-01 outer:exit 2b-f14aa55e8ded6bb42ed328dd0821b87f605876a2-5b987e9982f469ee-01
2021-09-23T17:24:35.248Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:24:35.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-a80ae7e1884f563a3f806f3525a5824c25b69c4d-2a611b198abd556c-01 outer:exit 2b-a80ae7e1884f563a3f806f3525a5824c25b69c4d-acc09a091e084666-01
2021-09-23T17:24:35.252Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:24:35.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5d9ce1271e412e0e9b162e3a84f4358585ce9ea-7f447cc65671df7d-01 outer:exit 2b-b5d9ce1271e412e0e9b162e3a84f4358585ce9ea-67f60bf26a6a96e3-01
2021-09-23T17:24:35.263Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:24:35.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f6a967d2e02a80de4c35c846295cf5f6dc60629-65ee9586c868639f-01 outer:exit 2b-5f6a967d2e02a80de4c35c846295cf5f6dc60629-4fc0c271d893ee18-01
2021-09-23T17:24:35.273Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:24:35.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-2357532d673665e4bea75c2c7bae1cc4dd14027d-d9d77b17250afb06-01 outer:exit 2b-2357532d673665e4bea75c2c7bae1cc4dd14027d-b3924e835ce50052-01
2021-09-23T17:24:35.299Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:24:35.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f11c7faf0230c87fdb3006db126096470bf52a-2cb239211708eb09-01 outer:exit 2b-c5f11c7faf0230c87fdb3006db126096470bf52a-49cc34d4168ba36a-01
2021-09-23T17:24:35.342Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:24:35.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ac9057b79160aa998d9b5b3baae076ee82d350e-8c021a5ba9a1abb0-01 outer:exit 2b-5ac9057b79160aa998d9b5b3baae076ee82d350e-2b118ad381407e94-01
2021-09-23T17:24:35.347Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:24:35.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cbe324ddecee0ee233629cdaba2139cddec4818-035a13d1f97b6404-01 outer:exit 2b-6cbe324ddecee0ee233629cdaba2139cddec4818-04cdccfe81a82b5e-01
2021-09-23T17:24:35.351Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:24:35.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-28dcf6cdac42ea452afcbbec07fb38e6d7e9ae60-84e0e1688df0624d-01 outer:exit 2b-28dcf6cdac42ea452afcbbec07fb38e6d7e9ae60-19581f2579335f53-01
2021-09-23T17:24:35.355Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:24:35.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-c3037fb3d57c886bf6d504fec0f8bcb77fdf8959-5828075dc9fac7e4-01 outer:exit 2b-c3037fb3d57c886bf6d504fec0f8bcb77fdf8959-79b1bbcf9d23eb44-01
2021-09-23T17:24:35.359Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:24:35.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2447a2fcd1ddc6c58c1a08bddbbbc0df0bcd404-c6e87b28ab911d61-01 outer:exit 2b-c2447a2fcd1ddc6c58c1a08bddbbbc0df0bcd404-7c50ff84200d5ff8-01
2021-09-23T17:24:35.362Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:24:35.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-dacb4a47b9fb1bd05ab59f0ee45abb2cf0f28051-d27e1e5862d83327-01 outer:exit 2b-dacb4a47b9fb1bd05ab59f0ee45abb2cf0f28051-2f9e085cf9c9bf71-01
2021-09-23T17:24:35.366Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:24:35.409Z appoptics:debug span.exit - no last event outer outer:entry 2b-a62952b74cb04e3ce42de4980a3a85d2f760583d-7b82f0eef962ad78-01 outer:exit 2b-a62952b74cb04e3ce42de4980a3a85d2f760583d-8ff5488b3da8cdbb-01
2021-09-23T17:24:35.409Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:24:35.422Z appoptics:debug span.exit - no last event outer outer:entry 2b-af5fb8e303954b78eb5962de4e3f721e27842799-eb9ddd16cf92cefb-01 outer:exit 2b-af5fb8e303954b78eb5962de4e3f721e27842799-9c827d7884974f77-01
2021-09-23T17:24:35.422Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:24:35.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-737c22dd81ac6d32d562eef26843ed845eec6e04-9bce4116d9b5d82c-01 outer:exit 2b-737c22dd81ac6d32d562eef26843ed845eec6e04-bd19f0a1fc21264a-01
2021-09-23T17:24:35.426Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:24:35.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-2888419fba1a34dccdfd15d8d548d69f2672fe82-0644d607840b4d83-01 outer:exit 2b-2888419fba1a34dccdfd15d8d548d69f2672fe82-d273909d4652c46d-01
2021-09-23T17:24:35.430Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:24:35.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-6db10667a907add3f948bd775d9d953f738604a9-c0acea490a44d5ae-01 outer:exit 2b-6db10667a907add3f948bd775d9d953f738604a9-e4876b67491eb8bb-01
2021-09-23T17:24:35.434Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:24:35.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bb704b47068279a9661baea2459b9ea17b1a75d-54df29ff20acad58-01 outer:exit 2b-1bb704b47068279a9661baea2459b9ea17b1a75d-ca17950650449d88-01
2021-09-23T17:24:35.438Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:24:35.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-232975cccde2b0a89c3e82942379f306629e051f-02d38af1b673e331-01 outer:exit 2b-232975cccde2b0a89c3e82942379f306629e051f-ad8d5f6c9ff0331a-01
2021-09-23T17:24:35.452Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:24:35.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-01bfc60b19498fbf9be7aa1039c93a8c16cf79fb-030985e2f99e9a39-01 outer:exit 2b-01bfc60b19498fbf9be7aa1039c93a8c16cf79fb-c52b51aedaa0b5cf-01
2021-09-23T17:24:35.459Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:24:35.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-b501f5d35fb8c2119841ff779c00b3e0aa5eecd9-90a4f230bd661e24-01 outer:exit 2b-b501f5d35fb8c2119841ff779c00b3e0aa5eecd9-ae12ce62615ffd7f-01
2021-09-23T17:24:35.471Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:24:35.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e7ac09df75cd4cdbf3831d52aecab828e852c99-41eccf9bb1c678d9-01 outer:exit 2b-0e7ac09df75cd4cdbf3831d52aecab828e852c99-c430f33383775efa-01
2021-09-23T17:24:35.486Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:24:35.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-1561e8d1e823e6d81d7d67824e461c4462d6a765-5367e36de4b6d958-01 outer:exit 2b-1561e8d1e823e6d81d7d67824e461c4462d6a765-4a1fded5ae780ea9-01
2021-09-23T17:24:35.491Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:24:35.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d293429772d386db12ccf4f7c6ddefb8705531e-b14ced383828a5f0-01 outer:exit 2b-2d293429772d386db12ccf4f7c6ddefb8705531e-4e280f07c71015e3-01
2021-09-23T17:24:35.501Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:24:35.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5316c72fdb609fd713c68a65ef393b040a881ba-79cfcf47d384359c-01 outer:exit 2b-d5316c72fdb609fd713c68a65ef393b040a881ba-3acc16ffe7a3797a-01
2021-09-23T17:24:35.522Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:24:35.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-466a9f4af6681827d9fedf4e42037391e4a6cde4-368aa707e258ba48-01 outer:exit 2b-466a9f4af6681827d9fedf4e42037391e4a6cde4-0ed352f0abefc65c-01
2021-09-23T17:24:35.525Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:24:35.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-218430689874f900cc12a1254dc9292f7d37ebd5-4c43c87b4db9bfcb-01 outer:exit 2b-218430689874f900cc12a1254dc9292f7d37ebd5-fdf63f815812dd89-01
2021-09-23T17:24:35.529Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:24:35.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-da044f1b21d8aa5ee566adb829b9a4c9abc8ab80-0049a6db74ea528f-01 outer:exit 2b-da044f1b21d8aa5ee566adb829b9a4c9abc8ab80-fef5772b250a2f37-01
2021-09-23T17:24:35.539Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:24:35.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-1397ff22cf337f8b8d1ef4de5648c6525199755e-b85828a5c49ca930-01 outer:exit 2b-1397ff22cf337f8b8d1ef4de5648c6525199755e-92a404037d976f37-01
2021-09-23T17:24:35.542Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:24:35.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-29cd76ba74d696c168776fbbf0f37338d95d69cb-2af72e392068da3c-01 outer:exit 2b-29cd76ba74d696c168776fbbf0f37338d95d69cb-3b3fccd6156ea808-01
2021-09-23T17:24:35.547Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:24:35.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c984ea8a189eb8bcc3e64c3fd5f99175283c77e-892e4e5463a70c56-01 outer:exit 2b-0c984ea8a189eb8bcc3e64c3fd5f99175283c77e-6afe7cda6f35b1ea-01
2021-09-23T17:24:35.569Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:24:35.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-e987721a19aff046d67064dddb1f24b61434d060-466a06d17878ab25-01 outer:exit 2b-e987721a19aff046d67064dddb1f24b61434d060-206a6450959d23f6-01
2021-09-23T17:24:35.591Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:24:35.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-f191755aca4c650fbd2c30b9e8584fe0b493d540-d457180af8d82712-01 outer:exit 2b-f191755aca4c650fbd2c30b9e8584fe0b493d540-7d3fc35b6eeee6fb-01
2021-09-23T17:24:35.595Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:24:35.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a4e1b69c5e5a753c8d898fe1a0b6dac8124bf82-e9dedb0d24f85471-01 outer:exit 2b-8a4e1b69c5e5a753c8d898fe1a0b6dac8124bf82-337d2e4f8865a1c4-01
2021-09-23T17:24:35.601Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:24:35.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-585025ff4ab6fe34b6c5ff3d9b6746a1908e2128-1bf7bef80ad1fc15-01 outer:exit 2b-585025ff4ab6fe34b6c5ff3d9b6746a1908e2128-342ae1c230c8255d-01
2021-09-23T17:24:35.608Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:24:35.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d820e9168532a251d9400bcb03960ebc33d1d26-7c8f1cb2a64a05b8-01 outer:exit 2b-1d820e9168532a251d9400bcb03960ebc33d1d26-bbafa2b5aa569488-01
2021-09-23T17:24:35.659Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (645ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@2.1.20
updated 1 package and audited 1098 packages in 6.711s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:43.838Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:43.839Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:43.839Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:43.839Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:43.939Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:44.007Z appoptics:patching patched crypto 
2021-09-23T17:24:44.030Z appoptics:patching patched https 
2021-09-23T17:24:44.031Z appoptics:patching patched http 
2021-09-23T17:24:44.073Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:44.074Z appoptics:patching patched fs 
2021-09-23T17:24:44.107Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v14.17.6)
2021-09-23T17:24:44.114Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2021-09-23T17:24:44.342Z appoptics:debug span.exit - no last event outer outer:entry 2b-856ba1384a69885f05222bcdccb2ac5edbcb5dd4-742f07ca35b51d22-01 outer:exit 2b-856ba1384a69885f05222bcdccb2ac5edbcb5dd4-ba9ff0703f513470-01
2021-09-23T17:24:44.342Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2021-09-23T17:24:44.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a9d223420a49455935ce6e1b53bd9458719e281-cb8450e577d5451d-01 outer:exit 2b-0a9d223420a49455935ce6e1b53bd9458719e281-08727999addfdc9b-01
2021-09-23T17:24:44.400Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2021-09-23T17:24:44.404Z appoptics:debug span.exit - no last event outer outer:entry 2b-e24bbec399c92c9287d1643bea6c570008ba2856-3fc8c07dba2c4bd0-01 outer:exit 2b-e24bbec399c92c9287d1643bea6c570008ba2856-e2e22ed8bc0f2f3f-01
2021-09-23T17:24:44.405Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2021-09-23T17:24:44.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-94dc76c3ce4e5c76fc6fc651c6ebf76d45f4fac3-02fc7bf25f769a3d-01 outer:exit 2b-94dc76c3ce4e5c76fc6fc651c6ebf76d45f4fac3-6d84b196d12c3602-01
2021-09-23T17:24:44.408Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2021-09-23T17:24:44.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-aec20f06e64da69366119b29e6f830309caad5c8-668f41dcf58b1b1a-01 outer:exit 2b-aec20f06e64da69366119b29e6f830309caad5c8-cfa0fe206a310237-01
2021-09-23T17:24:44.416Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2021-09-23T17:24:44.420Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a50380c0105a8e4a1a928a5953cc5609fc3743a-da80924a4b502b95-01 outer:exit 2b-6a50380c0105a8e4a1a928a5953cc5609fc3743a-f494d317b6bc2844-01
2021-09-23T17:24:44.420Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2021-09-23T17:24:44.423Z appoptics:debug span.exit - no last event outer outer:entry 2b-fde5a26ab7567c0676f1a333f9b219630fa7a51f-a75a187a99fcf040-01 outer:exit 2b-fde5a26ab7567c0676f1a333f9b219630fa7a51f-a48b72b882d79942-01
2021-09-23T17:24:44.424Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2021-09-23T17:24:44.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba55c371a9daa45575cbf16d9aad61723d57f6da-9745500af4129df0-01 outer:exit 2b-ba55c371a9daa45575cbf16d9aad61723d57f6da-114d9632f2310914-01
2021-09-23T17:24:44.427Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2021-09-23T17:24:44.430Z appoptics:debug span.exit - no last event outer outer:entry 2b-56fdd90594c0f35682ac6c15c2984082f002359d-e718de7ed4663e75-01 outer:exit 2b-56fdd90594c0f35682ac6c15c2984082f002359d-96bae4d70cea96b0-01
2021-09-23T17:24:44.430Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2021-09-23T17:24:44.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-c80235e14a6e8b4fcaac451cbd9594d4afbad9a1-5928cc4ba7bc4ae2-01 outer:exit 2b-c80235e14a6e8b4fcaac451cbd9594d4afbad9a1-04e003b9473ae993-01
2021-09-23T17:24:44.434Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2021-09-23T17:24:44.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bdb4eaffbc289b8f113d5826fc87474c903019a-4d6b1ff4b4f53f11-01 outer:exit 2b-4bdb4eaffbc289b8f113d5826fc87474c903019a-29d0033f29d1daef-01
2021-09-23T17:24:44.439Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2021-09-23T17:24:44.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbf3e096619f760078f39ec0f34790219c42f408-05d5d93237ca1a8e-01 outer:exit 2b-fbf3e096619f760078f39ec0f34790219c42f408-23056d63f235def0-01
2021-09-23T17:24:44.448Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2021-09-23T17:24:44.466Z appoptics:debug span.exit - no last event outer outer:entry 2b-25483ce05f6295060469b8f9b9f041532586fff4-6ec7ec4fa9c8c647-01 outer:exit 2b-25483ce05f6295060469b8f9b9f041532586fff4-3df068fd3ba454ea-01
2021-09-23T17:24:44.467Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2021-09-23T17:24:44.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9c1d84925e3fded89d123ae4294c31aca25f6f7-3fa25efbd70c79cf-01 outer:exit 2b-a9c1d84925e3fded89d123ae4294c31aca25f6f7-fbd9ce99685b0f5e-01
2021-09-23T17:24:44.500Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2021-09-23T17:24:44.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-add4187c472a4beeee1889be4f3705db1d2a703b-5654db85caddff68-01 outer:exit 2b-add4187c472a4beeee1889be4f3705db1d2a703b-310310adfa66d253-01
2021-09-23T17:24:44.504Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2021-09-23T17:24:44.506Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddb96ea81ad28bc92ba3e91ace62f960fe006017-7d2982ab90f8d30f-01 outer:exit 2b-ddb96ea81ad28bc92ba3e91ace62f960fe006017-8c967d31748a45ab-01
2021-09-23T17:24:44.506Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2021-09-23T17:24:44.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0fdac67f512d0c52001a89f307d5495da050fde-2f39dce8e7e1ebc4-01 outer:exit 2b-c0fdac67f512d0c52001a89f307d5495da050fde-1f206b71980464b3-01
2021-09-23T17:24:44.510Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2021-09-23T17:24:44.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-6267ff2240d5fc38a79d69e7ec7d1c380819cb02-1d6a81af9438de3a-01 outer:exit 2b-6267ff2240d5fc38a79d69e7ec7d1c380819cb02-6c84ea4ec691f5f9-01
2021-09-23T17:24:44.513Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2021-09-23T17:24:44.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b63980b8d807aace691e4faa131ccc90c321ef0-6ab49b92ad9760d6-01 outer:exit 2b-3b63980b8d807aace691e4faa131ccc90c321ef0-b9d3f4140dc74d6f-01
2021-09-23T17:24:44.515Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2021-09-23T17:24:44.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d3f4cc59ea66da7a4ebf0af0fe634e5a5f9df1c-f16c3b5a7c23c8e2-01 outer:exit 2b-1d3f4cc59ea66da7a4ebf0af0fe634e5a5f9df1c-00e4b40c85563cde-01
2021-09-23T17:24:44.523Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2021-09-23T17:24:44.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-f150cf331100b3c3fbdb467ac4bbb740d6841b3f-5ca77923a1e874d1-01 outer:exit 2b-f150cf331100b3c3fbdb467ac4bbb740d6841b3f-5001fa23c05383a3-01
2021-09-23T17:24:44.527Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2021-09-23T17:24:44.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-30be36e739c0cee8cdb65cacc897b635722f9a03-073a7feb44409e12-01 outer:exit 2b-30be36e739c0cee8cdb65cacc897b635722f9a03-8e765a73cd346707-01
2021-09-23T17:24:44.532Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2021-09-23T17:24:44.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f702a98b1696e9d7264f920c83d9048d729b667-6e380505f0c26e50-01 outer:exit 2b-0f702a98b1696e9d7264f920c83d9048d729b667-2fcd620d93432f79-01
2021-09-23T17:24:44.540Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2021-09-23T17:24:44.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-c07a4f0b902649409ec8ea779603db005f492d37-cfdeab23637471af-01 outer:exit 2b-c07a4f0b902649409ec8ea779603db005f492d37-6e101881dcc67514-01
2021-09-23T17:24:44.548Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2021-09-23T17:24:44.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-c42a5ae202c4f0cef210ab1baf949f77d85c4f1c-40fb5da30e01febf-01 outer:exit 2b-c42a5ae202c4f0cef210ab1baf949f77d85c4f1c-f38ce5417f3ea202-01
2021-09-23T17:24:44.551Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2021-09-23T17:24:44.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-52dbfd910304faac8eecad7f7c3037e7dad32a88-f9732693976819b6-01 outer:exit 2b-52dbfd910304faac8eecad7f7c3037e7dad32a88-7c0d11d7ebac82aa-01
2021-09-23T17:24:44.554Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2021-09-23T17:24:44.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-79b35b01bba7171d440939a4c951bbef7738cafd-b1284516ef0b3c3d-01 outer:exit 2b-79b35b01bba7171d440939a4c951bbef7738cafd-068536dd15232bba-01
2021-09-23T17:24:44.566Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2021-09-23T17:24:44.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-7eb9b3ed35f7ac6877942b80ef5ca669ad614abd-baf2e873c2689feb-01 outer:exit 2b-7eb9b3ed35f7ac6877942b80ef5ca669ad614abd-0b961fd1c7db26e1-01
2021-09-23T17:24:44.572Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2021-09-23T17:24:44.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9d9542841bf06600d02af9e0cfa098bc2b14dc0-ba87ef844e66aa96-01 outer:exit 2b-c9d9542841bf06600d02af9e0cfa098bc2b14dc0-aebe30995d12b4d8-01
2021-09-23T17:24:44.582Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2021-09-23T17:24:44.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b10806b7455718dd6f9b27a85ff5a749bc336c2-b03f56bc896a7683-01 outer:exit 2b-3b10806b7455718dd6f9b27a85ff5a749bc336c2-e51d9886012c496c-01
2021-09-23T17:24:44.589Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2021-09-23T17:24:44.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c3d0b7e7c8910ad82f1ae5a5852609a70f08e4c-eb58d3616cc4109d-01 outer:exit 2b-1c3d0b7e7c8910ad82f1ae5a5852609a70f08e4c-618d4289d28ac65a-01
2021-09-23T17:24:44.592Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2021-09-23T17:24:44.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb7be7b2ddc49565f107ce24cbafb4fa7a2a04d1-15f2185ed7f89911-01 outer:exit 2b-cb7be7b2ddc49565f107ce24cbafb4fa7a2a04d1-f5137721803775bc-01
2021-09-23T17:24:44.595Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2021-09-23T17:24:44.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5a0c17dfb2e277d954b4457e2ed51266a839b56-d00f48a2a82db789-01 outer:exit 2b-b5a0c17dfb2e277d954b4457e2ed51266a839b56-726ff82a66d44b6a-01
2021-09-23T17:24:44.603Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2021-09-23T17:24:44.606Z appoptics:debug span.exit - no last event outer outer:entry 2b-c19a99b514528dc41ce964ce6b886e624e3e5a85-ec26789519e0caed-01 outer:exit 2b-c19a99b514528dc41ce964ce6b886e624e3e5a85-635efb896a03ffaa-01
2021-09-23T17:24:44.606Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2021-09-23T17:24:44.608Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4516d40e95c71df773fd745903107d72f8fdc55-bd81088545c0d002-01 outer:exit 2b-a4516d40e95c71df773fd745903107d72f8fdc55-68cb0bb542d84f9a-01
2021-09-23T17:24:44.608Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2021-09-23T17:24:44.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1c139a3ed2b8134aa809ac4512291daccbee45e-b05befdf456724c3-01 outer:exit 2b-e1c139a3ed2b8134aa809ac4512291daccbee45e-5b11a264adb65c46-01
2021-09-23T17:24:44.611Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2021-09-23T17:24:44.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bbf180fd02d4dd2c87b49af9ce074ec46e5fe13-4df52374d1ed4d51-01 outer:exit 2b-3bbf180fd02d4dd2c87b49af9ce074ec46e5fe13-be9b83f54646589b-01
2021-09-23T17:24:44.613Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2021-09-23T17:24:44.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d62ea2ad2565882169da3b23e148fd08fa0fd72-b7d394093d135a5f-01 outer:exit 2b-4d62ea2ad2565882169da3b23e148fd08fa0fd72-12a11133435b07c2-01
2021-09-23T17:24:44.615Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2021-09-23T17:24:44.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa992eb52d420edd15f16e67ba6dcf8c54af1bec-c4e7f18b91562a38-01 outer:exit 2b-fa992eb52d420edd15f16e67ba6dcf8c54af1bec-bbeac159b494b15a-01
2021-09-23T17:24:44.625Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2021-09-23T17:24:44.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbde29ecab7658b482704e0c1dcd342f5a29f2aa-e44a00dcfbf64b9c-01 outer:exit 2b-dbde29ecab7658b482704e0c1dcd342f5a29f2aa-396dff3abeba90a5-01
2021-09-23T17:24:44.635Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2021-09-23T17:24:44.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-2846a04c07158893ea4289eca7273b5ada0d42e1-7c708e9fd45ddad9-01 outer:exit 2b-2846a04c07158893ea4289eca7273b5ada0d42e1-f3bb6202a40613f0-01
2021-09-23T17:24:44.639Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2021-09-23T17:24:44.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-5785377f3622fa8a07613329a4e8ebfed23b5554-f0123b24b2cc9345-01 outer:exit 2b-5785377f3622fa8a07613329a4e8ebfed23b5554-1e96047ca7bf2fc4-01
2021-09-23T17:24:44.642Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2021-09-23T17:24:44.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffd66e53303faf7b8e3e7a132415cfe3ab0b4dc2-6fbfdd2b18c035d0-01 outer:exit 2b-ffd66e53303faf7b8e3e7a132415cfe3ab0b4dc2-43350aee699098b3-01
2021-09-23T17:24:44.646Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2021-09-23T17:24:44.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ee9ec4ed4509b229891538b681cee2e425238f8-3dd0d1a1d480902c-01 outer:exit 2b-5ee9ec4ed4509b229891538b681cee2e425238f8-8222c9f458f0f7a9-01
2021-09-23T17:24:44.676Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (384ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at Socket.<anonymous> (test/helper.js:112:13)
      at UDP.onMessage [as onmessage] (dgram.js:941:8)
      at UDP.callbackTrampoline (internal/async_hooks.js:131:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.0
updated 1 package and audited 1098 packages in 7.039s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:24:52.967Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:24:52.968Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:24:52.968Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:24:52.968Z appoptics:debug using context provider: ace-context
2021-09-23T17:24:53.038Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:24:53.092Z appoptics:patching patched crypto 
2021-09-23T17:24:53.115Z appoptics:patching patched https 
2021-09-23T17:24:53.116Z appoptics:patching patched http 
2021-09-23T17:24:53.158Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:24:53.158Z appoptics:patching patched fs 
2021-09-23T17:24:53.177Z appoptics:patching patched zlib 
2021-09-23T17:24:53.205Z appoptics:patching patched mongodb-core 3.0.0
2021-09-23T17:24:53.212Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (69ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (51ms)


  33 passing (425ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.1
updated 1 package and audited 1098 packages in 6.429s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:02.219Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:02.221Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:02.221Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:02.221Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:02.304Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:02.372Z appoptics:patching patched crypto 
2021-09-23T17:25:02.410Z appoptics:patching patched https 
2021-09-23T17:25:02.413Z appoptics:patching patched http 
2021-09-23T17:25:02.456Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:02.456Z appoptics:patching patched fs 
2021-09-23T17:25:02.467Z appoptics:patching patched zlib 
2021-09-23T17:25:02.491Z appoptics:patching patched mongodb-core 3.0.1
2021-09-23T17:25:02.498Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (438ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.2
updated 1 package and audited 1098 packages in 6.182s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:10.576Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:10.576Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:10.577Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:10.577Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:10.644Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:10.696Z appoptics:patching patched crypto 
2021-09-23T17:25:10.718Z appoptics:patching patched https 
2021-09-23T17:25:10.719Z appoptics:patching patched http 
2021-09-23T17:25:10.762Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:10.763Z appoptics:patching patched fs 
2021-09-23T17:25:10.775Z appoptics:patching patched zlib 
2021-09-23T17:25:10.804Z appoptics:patching patched mongodb-core 3.0.2
2021-09-23T17:25:10.812Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (417ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.3
updated 1 package and audited 1098 packages in 6.738s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:19.405Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:19.406Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:19.406Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:19.407Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:19.487Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:19.556Z appoptics:patching patched crypto 
2021-09-23T17:25:19.601Z appoptics:patching patched https 
2021-09-23T17:25:19.610Z appoptics:patching patched http 
2021-09-23T17:25:19.660Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:19.660Z appoptics:patching patched fs 
2021-09-23T17:25:19.673Z appoptics:patching patched zlib 
2021-09-23T17:25:19.703Z appoptics:patching patched mongodb-core 3.0.3
2021-09-23T17:25:19.710Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (365ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.4
updated 1 package and audited 1098 packages in 6.518s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:27.997Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:27.998Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:27.998Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:27.999Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:28.098Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:28.151Z appoptics:patching patched crypto 
2021-09-23T17:25:28.184Z appoptics:patching patched https 
2021-09-23T17:25:28.184Z appoptics:patching patched http 
2021-09-23T17:25:28.222Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:28.223Z appoptics:patching patched fs 
2021-09-23T17:25:28.234Z appoptics:patching patched zlib 
2021-09-23T17:25:28.260Z appoptics:patching patched mongodb-core 3.0.4
2021-09-23T17:25:28.267Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (55ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (391ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.5
updated 1 package and audited 1098 packages in 5.907s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:35.938Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:35.939Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:35.939Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:35.940Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:36.006Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:36.057Z appoptics:patching patched crypto 
2021-09-23T17:25:36.080Z appoptics:patching patched https 
2021-09-23T17:25:36.080Z appoptics:patching patched http 
2021-09-23T17:25:36.122Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:36.123Z appoptics:patching patched fs 
2021-09-23T17:25:36.135Z appoptics:patching patched zlib 
2021-09-23T17:25:36.165Z appoptics:patching patched mongodb-core 3.0.5
2021-09-23T17:25:36.172Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (366ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.6
updated 1 package and audited 1098 packages in 6.486s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:44.472Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:44.473Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:44.473Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:44.473Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:44.561Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:44.623Z appoptics:patching patched crypto 
2021-09-23T17:25:44.685Z appoptics:patching patched https 
2021-09-23T17:25:44.686Z appoptics:patching patched http 
2021-09-23T17:25:44.731Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:44.731Z appoptics:patching patched fs 
2021-09-23T17:25:44.744Z appoptics:patching patched zlib 
2021-09-23T17:25:44.776Z appoptics:patching patched mongodb-core 3.0.6
2021-09-23T17:25:44.786Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (51ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (387ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.7
updated 1 package and audited 1098 packages in 5.913s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:25:52.872Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:25:52.873Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:25:52.873Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:25:52.874Z appoptics:debug using context provider: ace-context
2021-09-23T17:25:52.945Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:25:52.995Z appoptics:patching patched crypto 
2021-09-23T17:25:53.017Z appoptics:patching patched https 
2021-09-23T17:25:53.017Z appoptics:patching patched http 
2021-09-23T17:25:53.058Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:25:53.058Z appoptics:patching patched fs 
2021-09-23T17:25:53.069Z appoptics:patching patched zlib 
2021-09-23T17:25:53.097Z appoptics:patching patched mongodb-core 3.0.7
2021-09-23T17:25:53.103Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (82ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (431ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.8
updated 1 package and audited 1098 packages in 5.927s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:00.840Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:00.841Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:00.841Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:00.841Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:00.912Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:00.963Z appoptics:patching patched crypto 
2021-09-23T17:26:00.985Z appoptics:patching patched https 
2021-09-23T17:26:00.985Z appoptics:patching patched http 
2021-09-23T17:26:01.026Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:01.027Z appoptics:patching patched fs 
2021-09-23T17:26:01.038Z appoptics:patching patched zlib 
2021-09-23T17:26:01.067Z appoptics:patching patched mongodb-core 3.0.8
2021-09-23T17:26:01.073Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (52ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (424ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.9
updated 1 package and audited 1098 packages in 6.442s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:09.357Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:09.358Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:09.358Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:09.358Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:09.440Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:09.490Z appoptics:patching patched crypto 
2021-09-23T17:26:09.512Z appoptics:patching patched https 
2021-09-23T17:26:09.512Z appoptics:patching patched http 
2021-09-23T17:26:09.552Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:09.552Z appoptics:patching patched fs 
2021-09-23T17:26:09.564Z appoptics:patching patched zlib 
2021-09-23T17:26:09.593Z appoptics:patching patched mongodb-core 3.0.9
2021-09-23T17:26:09.600Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (59ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (320ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.0.11
updated 1 package and audited 1098 packages in 5.555s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:16.909Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:16.910Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:16.910Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:16.911Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:16.980Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:17.053Z appoptics:patching patched crypto 
2021-09-23T17:26:17.098Z appoptics:patching patched https 
2021-09-23T17:26:17.099Z appoptics:patching patched http 
2021-09-23T17:26:17.180Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:17.181Z appoptics:patching patched fs 
2021-09-23T17:26:17.195Z appoptics:patching patched zlib 
2021-09-23T17:26:17.234Z appoptics:patching patched mongodb-core 3.0.11
2021-09-23T17:26:17.243Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (46ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (392ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.0
updated 1 package and audited 1098 packages in 5.635s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:24.867Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:24.868Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:24.868Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:24.868Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:24.943Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:25.023Z appoptics:patching patched crypto 
2021-09-23T17:26:25.079Z appoptics:patching patched https 
2021-09-23T17:26:25.079Z appoptics:patching patched http 
2021-09-23T17:26:25.131Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:25.131Z appoptics:patching patched fs 
2021-09-23T17:26:25.144Z appoptics:patching patched zlib 
2021-09-23T17:26:25.179Z appoptics:patching patched mongodb-core 3.1.0
2021-09-23T17:26:25.188Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (376ms)

npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details
npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.1
updated 1 package and audited 1098 packages in 7.366s

72 packages are looking for funding
  run `npm fund` for details

found 24 vulnerabilities (5 low, 4 moderate, 13 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:34.377Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:34.377Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:34.378Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:34.378Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:34.458Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:34.514Z appoptics:patching patched crypto 
2021-09-23T17:26:34.538Z appoptics:patching patched https 
2021-09-23T17:26:34.538Z appoptics:patching patched http 
2021-09-23T17:26:34.583Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:34.583Z appoptics:patching patched fs 
2021-09-23T17:26:34.596Z appoptics:patching patched zlib 
2021-09-23T17:26:34.630Z appoptics:patching patched mongodb-core 3.1.1
2021-09-23T17:26:34.637Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (53ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (474ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.2
updated 2 packages and audited 1098 packages in 7.107s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:43.624Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:43.625Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:43.625Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:43.626Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:43.700Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:43.752Z appoptics:patching patched crypto 
2021-09-23T17:26:43.777Z appoptics:patching patched https 
2021-09-23T17:26:43.777Z appoptics:patching patched http 
2021-09-23T17:26:43.822Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:43.822Z appoptics:patching patched fs 
2021-09-23T17:26:43.834Z appoptics:patching patched zlib 
2021-09-23T17:26:43.871Z appoptics:patching patched mongodb-core 3.1.2
2021-09-23T17:26:43.879Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (49ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (38ms)


  33 passing (365ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.3
updated 1 package and audited 1098 packages in 5.94s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:26:51.739Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:26:51.739Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:26:51.739Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:26:51.740Z appoptics:debug using context provider: ace-context
2021-09-23T17:26:51.813Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:26:51.871Z appoptics:patching patched crypto 
2021-09-23T17:26:51.918Z appoptics:patching patched https 
2021-09-23T17:26:51.919Z appoptics:patching patched http 
2021-09-23T17:26:51.963Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:26:51.963Z appoptics:patching patched fs 
2021-09-23T17:26:51.977Z appoptics:patching patched zlib 
2021-09-23T17:26:52.012Z appoptics:patching patched mongodb-core 3.1.3
2021-09-23T17:26:52.020Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (342ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.4
updated 1 package and audited 1098 packages in 7.151s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:01.045Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:01.046Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:01.046Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:01.047Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:01.117Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:01.167Z appoptics:patching patched crypto 
2021-09-23T17:27:01.189Z appoptics:patching patched https 
2021-09-23T17:27:01.190Z appoptics:patching patched http 
2021-09-23T17:27:01.228Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:01.228Z appoptics:patching patched fs 
2021-09-23T17:27:01.241Z appoptics:patching patched zlib 
2021-09-23T17:27:01.271Z appoptics:patching patched mongodb-core 3.1.4
2021-09-23T17:27:01.278Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (77ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (838ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.5
updated 1 package and audited 1098 packages in 6.155s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:09.806Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:09.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:09.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:09.808Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:09.886Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:09.937Z appoptics:patching patched crypto 
2021-09-23T17:27:09.960Z appoptics:patching patched https 
2021-09-23T17:27:09.961Z appoptics:patching patched http 
2021-09-23T17:27:09.998Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:09.998Z appoptics:patching patched fs 
2021-09-23T17:27:10.011Z appoptics:patching patched zlib 
2021-09-23T17:27:10.041Z appoptics:patching patched mongodb-core 3.1.5
2021-09-23T17:27:10.048Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (78ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (375ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.6
updated 1 package and audited 1098 packages in 6.346s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:18.348Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:18.349Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:18.349Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:18.349Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:18.447Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:18.506Z appoptics:patching patched crypto 
2021-09-23T17:27:18.540Z appoptics:patching patched https 
2021-09-23T17:27:18.541Z appoptics:patching patched http 
2021-09-23T17:27:18.589Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:18.590Z appoptics:patching patched fs 
2021-09-23T17:27:18.603Z appoptics:patching patched zlib 
2021-09-23T17:27:18.637Z appoptics:patching patched mongodb-core 3.1.6
2021-09-23T17:27:18.643Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (40ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (392ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.7
updated 1 package and audited 1098 packages in 6.232s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:26.830Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:26.831Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:26.831Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:26.832Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:26.909Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:26.961Z appoptics:patching patched crypto 
2021-09-23T17:27:26.985Z appoptics:patching patched https 
2021-09-23T17:27:26.986Z appoptics:patching patched http 
2021-09-23T17:27:27.027Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:27.028Z appoptics:patching patched fs 
2021-09-23T17:27:27.041Z appoptics:patching patched zlib 
2021-09-23T17:27:27.081Z appoptics:patching patched mongodb-core 3.1.7
2021-09-23T17:27:27.089Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (82ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (408ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.8
updated 1 package and audited 1098 packages in 6.322s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:35.333Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:35.334Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:35.334Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:35.334Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:35.419Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:35.473Z appoptics:patching patched crypto 
2021-09-23T17:27:35.512Z appoptics:patching patched https 
2021-09-23T17:27:35.512Z appoptics:patching patched http 
2021-09-23T17:27:35.560Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:35.561Z appoptics:patching patched fs 
2021-09-23T17:27:35.573Z appoptics:patching patched zlib 
2021-09-23T17:27:35.605Z appoptics:patching patched mongodb-core 3.1.8
2021-09-23T17:27:35.612Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (45ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (347ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.9
updated 1 package and audited 1098 packages in 5.685s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:43.089Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:43.091Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:43.091Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:43.092Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:43.180Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:43.253Z appoptics:patching patched crypto 
2021-09-23T17:27:43.289Z appoptics:patching patched https 
2021-09-23T17:27:43.289Z appoptics:patching patched http 
2021-09-23T17:27:43.329Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:43.329Z appoptics:patching patched fs 
2021-09-23T17:27:43.343Z appoptics:patching patched zlib 
2021-09-23T17:27:43.379Z appoptics:patching patched mongodb-core 3.1.9
2021-09-23T17:27:43.387Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (60ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (441ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.10
updated 1 package and audited 1098 packages in 6.777s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:27:52.098Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:27:52.099Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:27:52.099Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:27:52.100Z appoptics:debug using context provider: ace-context
2021-09-23T17:27:52.180Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:27:52.230Z appoptics:patching patched crypto 
2021-09-23T17:27:52.254Z appoptics:patching patched https 
2021-09-23T17:27:52.255Z appoptics:patching patched http 
2021-09-23T17:27:52.297Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:27:52.298Z appoptics:patching patched fs 
2021-09-23T17:27:52.311Z appoptics:patching patched zlib 
2021-09-23T17:27:52.345Z appoptics:patching patched mongodb-core 3.1.10
2021-09-23T17:27:52.353Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (86ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (435ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.1.11
updated 1 package and audited 1098 packages in 6.624s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:00.760Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:00.761Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:00.761Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:00.762Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:00.830Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:00.883Z appoptics:patching patched crypto 
2021-09-23T17:28:00.906Z appoptics:patching patched https 
2021-09-23T17:28:00.906Z appoptics:patching patched http 
2021-09-23T17:28:00.944Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:00.944Z appoptics:patching patched fs 
2021-09-23T17:28:00.956Z appoptics:patching patched zlib 
2021-09-23T17:28:00.987Z appoptics:patching patched mongodb-core 3.1.11
2021-09-23T17:28:00.993Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (75ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (389ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.0
updated 1 package and audited 1098 packages in 5.93s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:09.126Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:09.129Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:09.129Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:09.130Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:09.301Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:09.416Z appoptics:patching patched crypto 
2021-09-23T17:28:09.485Z appoptics:patching patched https 
2021-09-23T17:28:09.485Z appoptics:patching patched http 
2021-09-23T17:28:09.590Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:09.591Z appoptics:patching patched fs 
2021-09-23T17:28:09.625Z appoptics:patching patched zlib 
2021-09-23T17:28:09.710Z appoptics:patching patched mongodb-core 3.2.0
2021-09-23T17:28:09.726Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (39ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (59ms)


  33 passing (564ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.1
updated 1 package and audited 1098 packages in 6.006s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:17.889Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:17.889Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:17.889Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:17.890Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:17.958Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:18.005Z appoptics:patching patched crypto 
2021-09-23T17:28:18.028Z appoptics:patching patched https 
2021-09-23T17:28:18.029Z appoptics:patching patched http 
2021-09-23T17:28:18.068Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:18.068Z appoptics:patching patched fs 
2021-09-23T17:28:18.082Z appoptics:patching patched zlib 
2021-09-23T17:28:18.121Z appoptics:patching patched mongodb-core 3.2.1
2021-09-23T17:28:18.128Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (63ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (474ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.2
updated 1 package and audited 1098 packages in 6.791s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:26.806Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:26.807Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:26.807Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:26.808Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:26.890Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:26.939Z appoptics:patching patched crypto 
2021-09-23T17:28:26.963Z appoptics:patching patched https 
2021-09-23T17:28:26.964Z appoptics:patching patched http 
2021-09-23T17:28:27.003Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:27.003Z appoptics:patching patched fs 
2021-09-23T17:28:27.017Z appoptics:patching patched zlib 
2021-09-23T17:28:27.062Z appoptics:patching patched mongodb-core 3.2.2
2021-09-23T17:28:27.069Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (367ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.3
updated 1 package and audited 1098 packages in 6.012s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:34.839Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:34.840Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:34.840Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:34.841Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:34.908Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:34.962Z appoptics:patching patched crypto 
2021-09-23T17:28:34.994Z appoptics:patching patched https 
2021-09-23T17:28:34.995Z appoptics:patching patched http 
2021-09-23T17:28:35.035Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:35.035Z appoptics:patching patched fs 
2021-09-23T17:28:35.048Z appoptics:patching patched zlib 
2021-09-23T17:28:35.092Z appoptics:patching patched mongodb-core 3.2.3
2021-09-23T17:28:35.099Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (373ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.4
updated 1 package and audited 1098 packages in 6.818s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:43.770Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:43.770Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:43.770Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:43.771Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:43.839Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:43.892Z appoptics:patching patched crypto 
2021-09-23T17:28:43.916Z appoptics:patching patched https 
2021-09-23T17:28:43.916Z appoptics:patching patched http 
2021-09-23T17:28:43.956Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:43.956Z appoptics:patching patched fs 
2021-09-23T17:28:43.971Z appoptics:patching patched zlib 
2021-09-23T17:28:44.014Z appoptics:patching patched mongodb-core 3.2.4
2021-09-23T17:28:44.021Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (54ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (40ms)


  33 passing (397ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.5
updated 1 package and audited 1098 packages in 6.728s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:28:52.541Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:28:52.541Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:28:52.541Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:28:52.542Z appoptics:debug using context provider: ace-context
2021-09-23T17:28:52.616Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:28:52.671Z appoptics:patching patched crypto 
2021-09-23T17:28:52.696Z appoptics:patching patched https 
2021-09-23T17:28:52.696Z appoptics:patching patched http 
2021-09-23T17:28:52.740Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:28:52.740Z appoptics:patching patched fs 
2021-09-23T17:28:52.757Z appoptics:patching patched zlib 
2021-09-23T17:28:52.803Z appoptics:patching patched mongodb-core 3.2.5
2021-09-23T17:28:52.812Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (83ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (448ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.6
updated 1 package and audited 1098 packages in 6.37s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:29:01.124Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:01.125Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:01.125Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:01.125Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:01.192Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:01.247Z appoptics:patching patched crypto 
2021-09-23T17:29:01.270Z appoptics:patching patched https 
2021-09-23T17:29:01.271Z appoptics:patching patched http 
2021-09-23T17:29:01.309Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:01.310Z appoptics:patching patched fs 
2021-09-23T17:29:01.323Z appoptics:patching patched zlib 
2021-09-23T17:29:01.364Z appoptics:patching patched mongodb-core 3.2.6
2021-09-23T17:29:01.371Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (56ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (380ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 1098 packages in 5.887s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
2021-09-23T17:29:09.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2021-09-23T17:29:09.048Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2021-09-23T17:29:09.048Z appoptics:debug serviceKey dIOz...wWK0:ao-node-test
2021-09-23T17:29:09.049Z appoptics:debug using context provider: ace-context
2021-09-23T17:29:09.123Z appoptics:debug apm 10.1.0, bindings 11.1.0, oboe 10.1.1
2021-09-23T17:29:09.174Z appoptics:patching patched crypto 
2021-09-23T17:29:09.205Z appoptics:patching patched https 
2021-09-23T17:29:09.206Z appoptics:patching patched http 
2021-09-23T17:29:09.263Z appoptics:patching fs.realpath - adding native method
2021-09-23T17:29:09.263Z appoptics:patching patched fs 
2021-09-23T17:29:09.278Z appoptics:patching patched zlib 
2021-09-23T17:29:09.317Z appoptics:patching patched mongodb-core 3.2.7
2021-09-23T17:29:09.324Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (78ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (373ms)

npm WARN optional SKIPPING OPTIONAL DEPENDENCY: fsevents@~2.3.1 (node_modules/chokidar/node_modules/fsevents):
npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fsevents@2.3.2: wanted {"os":"darwin","arch":"any"} (current: {"os":"linux","arch":"x64"})

+ mongodb-core@3.2.7
updated 1 package and audited 1098 packages in 6.295s

72 packages are looking for funding
  run `npm fund` for details

found 23 vulnerabilities (5 low, 4 moderate, 12 high, 2 critical)
  run `npm audit fix` to fix them, or `npm audit` for details
