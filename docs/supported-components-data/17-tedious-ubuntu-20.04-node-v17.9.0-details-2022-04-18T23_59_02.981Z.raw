npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.1.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }
npm WARN deprecated sprintf@0.1.1: The sprintf package is deprecated in favor of sprintf-js.

added 2 packages, removed 73 packages, changed 3 packages, and audited 861 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-18T23:59:12.055Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:12.055Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:12.055Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:12.055Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:12.130Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:12.381Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:12.413Z solarwinds-apm:patching patched https 
2022-04-18T23:59:12.414Z solarwinds-apm:patching patched http 
2022-04-18T23:59:12.510Z solarwinds-apm:patching patched tedious 0.1.5
2022-04-18T23:59:12.514Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.1.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 0.1.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.1.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:467:13)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:486:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.1.5
       "before each" hook for "should sanitize query with a database name":
     Uncaught TypeError: Cannot create property 'error@context' on string 'Login failed; one or more errorMessage events should have been emitted'
      at Connection.clsBind (node_modules/ace-context/context.js:266:33)
      at Connection.emit (node:events:527:28)
      at Connection.emitted (node_modules/emitter-listener/listener.js:134:21)
      at Connection.processLogin7Response (node_modules/tedious/lib/connection.js:592:12)
      at Connection.message (node_modules/tedious/lib/connection.js:153:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:465:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:419:20)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:59:21)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 2 packages, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-18T23:59:20.840Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:20.840Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:20.840Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:20.840Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:20.925Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:21.070Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:21.108Z solarwinds-apm:patching patched https 
2022-04-18T23:59:21.109Z solarwinds-apm:patching patched http 
2022-04-18T23:59:21.289Z solarwinds-apm:patching patched tedious 0.2.1
2022-04-18T23:59:21.299Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 0.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.2.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:574:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:593:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.2.1
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:674:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:572:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

2 high severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-18T23:59:31.017Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:31.018Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:31.018Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:31.018Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:31.087Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:31.217Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:31.238Z solarwinds-apm:patching patched https 
2022-04-18T23:59:31.239Z solarwinds-apm:patching patched http 
2022-04-18T23:59:31.321Z solarwinds-apm:patching patched tedious 0.2.2
2022-04-18T23:59:31.325Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 0.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.2.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.2.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.2.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 0.2.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 0.2.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 0.2.2
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:325:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:675:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:573:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:523:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

removed 1 package, changed 2 packages, and audited 860 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:41.535Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:41.535Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:41.536Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:41.536Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:41.643Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:41.814Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:41.835Z solarwinds-apm:patching patched https 
2022-04-18T23:59:41.836Z solarwinds-apm:patching patched http 
2022-04-18T23:59:41.917Z solarwinds-apm:patching patched tedious 0.2.3
2022-04-18T23:59:41.921Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 0.2.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.2.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.2.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.2.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.2.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.2.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 0.2.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 0.2.3
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 0.2.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 0.2.3
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:575:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:594:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.2.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 2 packages, and audited 860 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-18T23:59:52.909Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-18T23:59:52.910Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-18T23:59:52.910Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-18T23:59:52.910Z solarwinds-apm:debug using context provider: ace-context
2022-04-18T23:59:52.978Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-18T23:59:53.107Z solarwinds-apm:patching patched crypto 
2022-04-18T23:59:53.128Z solarwinds-apm:patching patched https 
2022-04-18T23:59:53.128Z solarwinds-apm:patching patched http 
2022-04-18T23:59:53.178Z solarwinds-apm:patching patched tedious 0.2.4
2022-04-18T23:59:53.182Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.2.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 0.2.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.2.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:607:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:626:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.2.4
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:339:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:707:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:605:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:537:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@0.3.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 860 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:02.241Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:02.242Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:02.242Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:02.242Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:02.311Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:02.440Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:02.461Z solarwinds-apm:patching patched https 
2022-04-19T00:00:02.462Z solarwinds-apm:patching patched http 
2022-04-19T00:00:02.513Z solarwinds-apm:patching patched tedious 0.3.0
2022-04-19T00:00:02.517Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 0.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 0.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 0.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 0.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 0.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 0.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 0.3.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 0.3.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 0.3.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 0.3.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 0.3.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 0.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 0.3.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.0.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 860 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:13.501Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:13.502Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:13.502Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:13.502Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:13.570Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:13.697Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:13.718Z solarwinds-apm:patching patched https 
2022-04-19T00:00:13.718Z solarwinds-apm:patching patched http 
2022-04-19T00:00:13.770Z solarwinds-apm:patching patched tedious 1.0.0
2022-04-19T00:00:13.775Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:608:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:627:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:340:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:89:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:66:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:708:35)
      at Connection.data (node_modules/tedious/lib/connection.js:146:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:606:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:538:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.1.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

added 1 package, changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:22.244Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:22.245Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:22.245Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:22.245Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:22.344Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:22.509Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:22.530Z solarwinds-apm:patching patched https 
2022-04-19T00:00:22.531Z solarwinds-apm:patching patched http 
2022-04-19T00:00:22.583Z solarwinds-apm:patching patched tedious 1.1.0
2022-04-19T00:00:22.587Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) "before each" hook for "should sanitize query with no database name"


  3 passing (3s)
  9 failing

  1) probes.tedious 1.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.1.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.1.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.1.0
       "before each" hook for "should sanitize query with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:790:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:32.836Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:32.836Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:32.836Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:32.836Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:32.927Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:33.091Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:33.145Z solarwinds-apm:patching patched https 
2022-04-19T00:00:33.146Z solarwinds-apm:patching patched http 
2022-04-19T00:00:33.188Z solarwinds-apm:patching patched tedious 1.2.0
2022-04-19T00:00:33.196Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 1.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.2.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.2.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.2.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.2.0
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:44.336Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:44.336Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:44.336Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:44.336Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:44.421Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:44.562Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:44.582Z solarwinds-apm:patching patched https 
2022-04-19T00:00:44.583Z solarwinds-apm:patching patched http 
2022-04-19T00:00:44.660Z solarwinds-apm:patching patched tedious 1.2.1
2022-04-19T00:00:44.664Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.2.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.2.1
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:401:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:791:35)
      at Connection.data (node_modules/tedious/lib/connection.js:152:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:667:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:599:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.2.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:00:54.447Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:00:54.448Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:00:54.448Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:00:54.448Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:00:54.517Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:00:54.644Z solarwinds-apm:patching patched crypto 
2022-04-19T00:00:54.664Z solarwinds-apm:patching patched https 
2022-04-19T00:00:54.665Z solarwinds-apm:patching patched http 
2022-04-19T00:00:54.718Z solarwinds-apm:patching patched tedious 1.2.2
2022-04-19T00:00:54.722Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.2.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.2.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.2.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.2.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.2.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.2.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.2.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.2.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.2.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.2.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.2.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:688:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:05.554Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:05.555Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:05.555Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:05.555Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:05.624Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:05.752Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:05.796Z solarwinds-apm:patching patched https 
2022-04-19T00:01:05.797Z solarwinds-apm:patching patched http 
2022-04-19T00:01:05.855Z solarwinds-apm:patching patched tedious 1.3.0
2022-04-19T00:01:05.863Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:17.010Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:17.011Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:17.011Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:17.011Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:17.080Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:17.207Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:17.228Z solarwinds-apm:patching patched https 
2022-04-19T00:01:17.229Z solarwinds-apm:patching patched http 
2022-04-19T00:01:17.280Z solarwinds-apm:patching patched tedious 1.3.1
2022-04-19T00:01:17.285Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) "before each" hook for "should do nothing when disabled with no database name"


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.1
       "before each" hook for "should do nothing when disabled with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:28.581Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:28.582Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:28.582Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:28.582Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:28.652Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:28.792Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:28.814Z solarwinds-apm:patching patched https 
2022-04-19T00:01:28.814Z solarwinds-apm:patching patched http 
2022-04-19T00:01:28.919Z solarwinds-apm:patching patched tedious 1.3.2
2022-04-19T00:01:28.924Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:39.760Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:39.761Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:39.761Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:39.761Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:39.829Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:39.987Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:40.009Z solarwinds-apm:patching patched https 
2022-04-19T00:01:40.010Z solarwinds-apm:patching patched http 
2022-04-19T00:01:40.063Z solarwinds-apm:patching patched tedious 1.3.3
2022-04-19T00:01:40.067Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) "before each" hook for "should do nothing when disabled with no database name"


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.3
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.3
       "before each" hook for "should do nothing when disabled with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:50.820Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:50.821Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:50.821Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:50.821Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:01:50.891Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:01:51.017Z solarwinds-apm:patching patched crypto 
2022-04-19T00:01:51.038Z solarwinds-apm:patching patched https 
2022-04-19T00:01:51.038Z solarwinds-apm:patching patched http 
2022-04-19T00:01:51.091Z solarwinds-apm:patching patched tedious 1.3.4
2022-04-19T00:01:51.095Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.3.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.3.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:01:59.937Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:01:59.938Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:01:59.938Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:01:59.938Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:00.006Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:00.167Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:00.208Z solarwinds-apm:patching patched https 
2022-04-19T00:02:00.208Z solarwinds-apm:patching patched http 
2022-04-19T00:02:00.250Z solarwinds-apm:patching patched tedious 1.3.5
2022-04-19T00:02:00.254Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.3.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) "before each" hook for "should do nothing when disabled with no database name"


  3 passing (4s)
  12 failing

  1) probes.tedious 1.3.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.3.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.3.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.3.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.3.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.3.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.3.5
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.3.5
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.3.5
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.3.5
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.3.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.3.5
       "before each" hook for "should do nothing when disabled with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:11.739Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:11.740Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:11.740Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:11.740Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:11.808Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:11.939Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:11.959Z solarwinds-apm:patching patched https 
2022-04-19T00:02:11.960Z solarwinds-apm:patching patched http 
2022-04-19T00:02:12.013Z solarwinds-apm:patching patched tedious 1.4.0
2022-04-19T00:02:12.018Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) "before each" hook for "should support basic queries with no database name"


  3 passing (2s)
  7 failing

  1) probes.tedious 1.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.4.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.4.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.4.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:671:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:690:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.4.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:793:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:669:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:601:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:22.773Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:22.774Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:22.774Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:22.774Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:22.844Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:22.973Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:22.994Z solarwinds-apm:patching patched https 
2022-04-19T00:02:22.995Z solarwinds-apm:patching patched http 
2022-04-19T00:02:23.048Z solarwinds-apm:patching patched tedious 1.4.1
2022-04-19T00:02:23.052Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.4.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.4.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:32.450Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:32.451Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:32.451Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:32.451Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:32.526Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:32.658Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:32.679Z solarwinds-apm:patching patched https 
2022-04-19T00:02:32.679Z solarwinds-apm:patching patched http 
2022-04-19T00:02:32.732Z solarwinds-apm:patching patched tedious 1.4.2
2022-04-19T00:02:32.736Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.4.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.4.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.4.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.4.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.4.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.4.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.4.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.4.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.4.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.4.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.4.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.4.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.4.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 14s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:02:51.270Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:02:51.270Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:02:51.270Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:02:51.270Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:02:51.339Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:02:51.474Z solarwinds-apm:patching patched crypto 
2022-04-19T00:02:51.500Z solarwinds-apm:patching patched https 
2022-04-19T00:02:51.500Z solarwinds-apm:patching patched http 
2022-04-19T00:02:51.575Z solarwinds-apm:patching patched tedious 1.4.3
2022-04-19T00:02:51.579Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.4.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.4.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:693:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.4.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:403:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:796:35)
      at Connection.data (node_modules/tedious/lib/connection.js:154:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:672:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:604:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:00.411Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:00.411Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:00.411Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:00.412Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:00.479Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:00.681Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:00.754Z solarwinds-apm:patching patched https 
2022-04-19T00:03:00.755Z solarwinds-apm:patching patched http 
2022-04-19T00:03:00.818Z solarwinds-apm:patching patched tedious 1.5.1
2022-04-19T00:03:00.822Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:714:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:734:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:848:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:712:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:640:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.2',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:10.028Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:10.029Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:10.029Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:10.029Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:10.098Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:10.222Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:10.243Z solarwinds-apm:patching patched https 
2022-04-19T00:03:10.244Z solarwinds-apm:patching patched http 
2022-04-19T00:03:10.295Z solarwinds-apm:patching patched tedious 1.5.2
2022-04-19T00:03:10.300Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.5.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:722:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.2
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:720:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:648:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.3',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:18.829Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:18.830Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:18.830Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:18.830Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:18.899Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:19.028Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:19.049Z solarwinds-apm:patching patched https 
2022-04-19T00:03:19.050Z solarwinds-apm:patching patched http 
2022-04-19T00:03:19.134Z solarwinds-apm:patching patched tedious 1.5.3
2022-04-19T00:03:19.138Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 1.5.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.3
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:433:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:856:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:719:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:647:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.4',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:29.551Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:29.552Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:29.552Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:29.552Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:29.632Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:29.760Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:29.781Z solarwinds-apm:patching patched https 
2022-04-19T00:03:29.781Z solarwinds-apm:patching patched http 
2022-04-19T00:03:29.835Z solarwinds-apm:patching patched tedious 1.5.4
2022-04-19T00:03:29.839Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.5.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.4
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.4
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.4
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.5.4
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:721:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:742:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.5',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:40.636Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:40.637Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:40.637Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:40.637Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:40.704Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:40.829Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:40.850Z solarwinds-apm:patching patched https 
2022-04-19T00:03:40.851Z solarwinds-apm:patching patched http 
2022-04-19T00:03:40.903Z solarwinds-apm:patching patched tedious 1.5.5
2022-04-19T00:03:40.907Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.5.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.5
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.5
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.5
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.5
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.5.5
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:724:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:745:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.6',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:03:51.852Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:03:51.853Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:03:51.853Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:03:51.853Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:03:51.923Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:03:52.056Z solarwinds-apm:patching patched crypto 
2022-04-19T00:03:52.086Z solarwinds-apm:patching patched https 
2022-04-19T00:03:52.087Z solarwinds-apm:patching patched http 
2022-04-19T00:03:52.138Z solarwinds-apm:patching patched tedious 1.5.6
2022-04-19T00:03:52.142Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.5.6
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.6
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.6
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.6
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.6
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.6
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.6
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.6
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.6
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.6
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.6
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.5.6
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:727:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:748:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.7',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:03.108Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:03.109Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:03.109Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:03.109Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:03.179Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:03.310Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:03.332Z solarwinds-apm:patching patched https 
2022-04-19T00:04:03.332Z solarwinds-apm:patching patched http 
2022-04-19T00:04:03.385Z solarwinds-apm:patching patched tedious 1.5.7
2022-04-19T00:04:03.389Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.7
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.5.7
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.7
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.7
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.7
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.7
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.7
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.7
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.7
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.7
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.7
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.7
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.5.7
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:731:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:752:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.5.8',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:14.461Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:14.462Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:14.462Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:14.462Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:14.533Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:14.663Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:14.684Z solarwinds-apm:patching patched https 
2022-04-19T00:04:14.684Z solarwinds-apm:patching patched http 
2022-04-19T00:04:14.739Z solarwinds-apm:patching patched tedious 1.5.8
2022-04-19T00:04:14.744Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.5.8
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.5.8
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.5.8
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.5.8
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.5.8
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.5.8
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.5.8
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.5.8
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.5.8
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.5.8
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.5.8
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.5.8
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.5.8
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.6.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:25.597Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:25.597Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:25.597Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:25.598Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:25.667Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:25.795Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:25.826Z solarwinds-apm:patching patched https 
2022-04-19T00:04:25.827Z solarwinds-apm:patching patched http 
2022-04-19T00:04:25.880Z solarwinds-apm:patching patched tedious 1.6.0
2022-04-19T00:04:25.884Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.6.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.7.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:34.684Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:34.685Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:34.685Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:34.685Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:34.754Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:34.881Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:34.902Z solarwinds-apm:patching patched https 
2022-04-19T00:04:34.902Z solarwinds-apm:patching patched http 
2022-04-19T00:04:34.955Z solarwinds-apm:patching patched tedious 1.7.0
2022-04-19T00:04:34.959Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 1.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.7.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.7.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.7.0
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:440:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:869:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:732:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:660:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.8.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:44.690Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:44.691Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:44.691Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:44.691Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:44.765Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:44.894Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:44.915Z solarwinds-apm:patching patched https 
2022-04-19T00:04:44.916Z solarwinds-apm:patching patched http 
2022-04-19T00:04:44.971Z solarwinds-apm:patching patched tedious 1.8.0
2022-04-19T00:04:44.975Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.8.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.8.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.8.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.8.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.8.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.8.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.8.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.8.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.8.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.8.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.8.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.8.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.8.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:734:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:755:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.8.1',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:04:57.148Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:04:57.149Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:04:57.149Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:04:57.149Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:04:57.218Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:04:57.346Z solarwinds-apm:patching patched crypto 
2022-04-19T00:04:57.367Z solarwinds-apm:patching patched https 
2022-04-19T00:04:57.368Z solarwinds-apm:patching patched http 
2022-04-19T00:04:57.421Z solarwinds-apm:patching patched tedious 1.8.1
2022-04-19T00:04:57.425Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.8.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.8.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:741:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:762:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.8.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:447:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:876:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:739:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:667:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'tedious@1.9.0',
npm WARN EBADENGINE   required: { node: '0.6 || 0.7 || 0.8 || 0.9 || 0.10 || 0.11' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:05.685Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:05.686Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:05.686Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:05.686Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:05.769Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:05.917Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:05.960Z solarwinds-apm:patching patched https 
2022-04-19T00:05:05.961Z solarwinds-apm:patching patched http 
2022-04-19T00:05:06.018Z solarwinds-apm:patching patched tedious 1.9.0
2022-04-19T00:05:06.022Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.9.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.9.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.9.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.9.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.9.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.9.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.9.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.9.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.9.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.9.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.9.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.9.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.9.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:744:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:765:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated sprintf@0.1.5: The sprintf package is deprecated in favor of sprintf-js.

changed 4 packages, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:17.238Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:17.239Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:17.239Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:17.239Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:17.322Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:17.468Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:17.503Z solarwinds-apm:patching patched https 
2022-04-19T00:05:17.503Z solarwinds-apm:patching patched http 
2022-04-19T00:05:17.562Z solarwinds-apm:patching patched tedious 1.10.0
2022-04-19T00:05:17.567Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.10.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.10.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.10.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.10.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.10.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.10.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.10.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.10.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.10.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.10.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.10.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:751:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:774:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.10.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:453:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:888:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:749:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:677:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:27.992Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:27.993Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:27.993Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:27.993Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:28.074Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:28.215Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:28.249Z solarwinds-apm:patching patched https 
2022-04-19T00:05:28.249Z solarwinds-apm:patching patched http 
2022-04-19T00:05:28.298Z solarwinds-apm:patching patched tedious 1.11.0
2022-04-19T00:05:28.302Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.11.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.11.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.11.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.11.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.11.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.11.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.11.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:38.959Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:38.959Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:38.959Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:38.960Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:39.036Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:39.165Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:39.186Z solarwinds-apm:patching patched https 
2022-04-19T00:05:39.187Z solarwinds-apm:patching patched http 
2022-04-19T00:05:39.240Z solarwinds-apm:patching patched tedious 1.11.1
2022-04-19T00:05:39.245Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.11.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:48.699Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:48.700Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:48.700Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:48.700Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:48.784Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:48.981Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:49.001Z solarwinds-apm:patching patched https 
2022-04-19T00:05:49.002Z solarwinds-apm:patching patched http 
2022-04-19T00:05:49.130Z solarwinds-apm:patching patched tedious 1.11.2
2022-04-19T00:05:49.134Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 1.11.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.2
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:05:58.559Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:05:58.560Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:05:58.560Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:05:58.560Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:05:58.629Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:05:58.760Z solarwinds-apm:patching patched crypto 
2022-04-19T00:05:58.782Z solarwinds-apm:patching patched https 
2022-04-19T00:05:58.783Z solarwinds-apm:patching patched http 
2022-04-19T00:05:58.842Z solarwinds-apm:patching patched tedious 1.11.4
2022-04-19T00:05:58.847Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.11.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.11.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.11.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:754:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:777:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:59)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.11.4
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:456:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:891:35)
      at Connection.data (node_modules/tedious/lib/connection.js:176:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:680:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:59)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 861 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:09.197Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:09.198Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:09.198Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:09.198Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:09.265Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:09.399Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:09.429Z solarwinds-apm:patching patched https 
2022-04-19T00:06:09.430Z solarwinds-apm:patching patched http 
2022-04-19T00:06:09.502Z solarwinds-apm:patching patched tedious 1.11.5
2022-04-19T00:06:09.507Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.11.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  5 failing

  1) probes.tedious 1.11.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.11.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.11.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.11.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:752:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:775:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:3:57)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.11.5
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:454:37)
      at Parser.emit (node:events:527:28)
      at Parser.nextToken (node_modules/tedious/lib/token/token-stream-parser.js:91:18)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:68:17)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:890:35)
      at Connection.data (node_modules/tedious/lib/connection.js:174:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:750:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:678:22)
      at MessageIO.emit (node:events:527:28)
      at MessageIO.eventData (node_modules/tedious/lib/message-io.js:56:12)
      at Socket.<anonymous> (node_modules/tedious/lib/message-io.js:3:57)
      at Socket.emit (node:events:527:28)
      at addChunk (node:internal/streams/readable:324:12)
      at readableAddChunk (node:internal/streams/readable:297:9)
      at Socket.Readable.push (node:internal/streams/readable:234:10)
      at TCP.onStreamRead (node:internal/stream_base_commons:190:23)
      at TCP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated core-js@1.2.7: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

added 6 packages, removed 1 package, changed 1 package, and audited 866 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:18.975Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:18.976Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:18.976Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:18.976Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:19.068Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:19.268Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:19.343Z solarwinds-apm:patching patched https 
2022-04-19T00:06:19.344Z solarwinds-apm:patching patched http 
2022-04-19T00:06:19.465Z solarwinds-apm:patching patched tedious 1.12.0
2022-04-19T00:06:19.475Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.12.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.12.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.12.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.12.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.12.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.12.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.12.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.12.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.12.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:791:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:814:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:34:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.12.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:493:37)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:928:35)
      at Connection.data (node_modules/tedious/lib/connection.js:213:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:789:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:717:22)
      at MessageIO.emit (node:events:527:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:131:15)




changed 1 package, and audited 866 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:30.054Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:30.054Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:30.054Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:30.054Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:30.137Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:30.280Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:30.334Z solarwinds-apm:patching patched https 
2022-04-19T00:06:30.335Z solarwinds-apm:patching patched http 
2022-04-19T00:06:30.462Z solarwinds-apm:patching patched tedious 1.12.1
2022-04-19T00:06:30.467Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.12.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) "before each" hook for "should support parameters with no database name"


  3 passing (3s)
  8 failing

  1) probes.tedious 1.12.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.12.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.12.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.12.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.12.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.12.1
       "before each" hook for "should support parameters with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at MessageIO.emit (node:events:527:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)




changed 1 package, and audited 866 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:40.183Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:40.184Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:40.184Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:40.184Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:40.253Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:40.382Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:40.403Z solarwinds-apm:patching patched https 
2022-04-19T00:06:40.403Z solarwinds-apm:patching patched http 
2022-04-19T00:06:40.490Z solarwinds-apm:patching patched tedious 1.12.2
2022-04-19T00:06:40.494Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.12.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.12.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:783:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:806:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.2
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:484:37)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:898:35)
      at Connection.data (node_modules/tedious/lib/connection.js:204:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:708:22)
      at MessageIO.emit (node:events:527:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)




changed 1 package, and audited 866 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:06:49.297Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:06:49.297Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:06:49.297Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:06:49.297Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:06:49.366Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:06:49.500Z solarwinds-apm:patching patched crypto 
2022-04-19T00:06:49.558Z solarwinds-apm:patching patched https 
2022-04-19T00:06:49.559Z solarwinds-apm:patching patched http 
2022-04-19T00:06:49.637Z solarwinds-apm:patching patched tedious 1.12.3
2022-04-19T00:06:49.642Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.12.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) "before each" hook for "should tag queries when feature is enabled"


  3 passing (3s)
  11 failing

  1) probes.tedious 1.12.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.12.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.12.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.12.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.12.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.12.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.12.3
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.12.3
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.12.3
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.12.3
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:781:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:804:17)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:33:15)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.12.3
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Login failed for user ''.
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:482:37)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:40:24)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at Parser.callee$1$0$ (node_modules/tedious/lib/token/stream-parser.js:92:18)
      at tryCatch (node_modules/babel-runtime/regenerator/runtime.js:72:40)
      at Generator.invoke [as _invoke] (node_modules/babel-runtime/regenerator/runtime.js:334:22)
      at Generator.prototype.<computed> [as next] (node_modules/babel-runtime/regenerator/runtime.js:105:21)
      at Parser.StreamParser._transform (node_modules/tedious/lib/stream-parser.js:128:41)
      at Parser.Transform._read (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:184:10)
      at Parser.Transform._write (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:172:83)
      at doWrite (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:428:64)
      at writeOrBuffer (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:417:5)
      at Parser.Writable.write (node_modules/tedious/node_modules/readable-stream/lib/_stream_writable.js:334:11)
      at Parser.addBuffer (node_modules/tedious/lib/token/token-stream-parser.js:47:24)
      at Connection.sendDataToTokenStreamParser (node_modules/tedious/lib/connection.js:897:35)
      at Connection.data (node_modules/tedious/lib/connection.js:202:23)
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:779:59)
      at MessageIO.<anonymous> (node_modules/tedious/lib/connection.js:706:22)
      at MessageIO.emit (node:events:527:28)
      at ReadablePacketStream.<anonymous> (node_modules/tedious/lib/message-io.js:137:15)




changed 1 package, and audited 866 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:01.063Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:01.064Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:01.064Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:01.064Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:01.133Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:01.262Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:01.291Z solarwinds-apm:patching patched https 
2022-04-19T00:07:01.291Z solarwinds-apm:patching patched http 
2022-04-19T00:07:01.363Z solarwinds-apm:patching patched tedious 1.13.0
2022-04-19T00:07:01.367Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.13.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) "before each" hook for "should truncate long queries with no database name"


  3 passing (3s)
  10 failing

  1) probes.tedious 1.13.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.13.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.13.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.13.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.13.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.13.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.13.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.13.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.13.0
       "before each" hook for "should truncate long queries with no database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)




changed 1 package, and audited 866 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:12.567Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:12.568Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:12.568Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:12.568Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:12.637Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:12.766Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:12.786Z solarwinds-apm:patching patched https 
2022-04-19T00:07:12.787Z solarwinds-apm:patching patched http 
2022-04-19T00:07:12.863Z solarwinds-apm:patching patched tedious 1.13.1
2022-04-19T00:07:12.868Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.13.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 1.13.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.13.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)




changed 1 package, and audited 866 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:21.699Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:21.700Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:21.700Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:21.700Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:21.770Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:21.899Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:21.919Z solarwinds-apm:patching patched https 
2022-04-19T00:07:21.920Z solarwinds-apm:patching patched http 
2022-04-19T00:07:21.994Z solarwinds-apm:patching patched tedious 1.13.2
2022-04-19T00:07:21.998Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.13.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.13.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:561:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:585:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.13.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:21:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:256:66)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:51:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:82:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:49:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:18:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:175:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:172:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:17:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:417:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:405:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:402:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:416:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:142:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:116:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:139:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:415:12)




added 1 package, changed 1 package, and audited 867 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:30.697Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:30.701Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:30.701Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:30.702Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:30.795Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:30.942Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:30.993Z solarwinds-apm:patching patched https 
2022-04-19T00:07:30.993Z solarwinds-apm:patching patched http 
2022-04-19T00:07:31.066Z solarwinds-apm:patching patched tedious 1.14.0
2022-04-19T00:07:31.072Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.14.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 1.14.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.14.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 1.14.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 1.14.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 1.14.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 1.14.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 1.14.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 1.14.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 1.14.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 1.14.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 1.14.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 1.14.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:521:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:545:19)
      at Socket.emit (node:events:539:35)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated core-js@2.6.12: core-js@<3.4 is no longer maintained and not recommended for usage due to the number of issues. Because of the V8 engine whims, feature detection in old core-js versions could cause a slowdown up to 100x even if nothing is polyfilled. Please, upgrade your dependencies to the actual version of core-js.

added 3 packages, removed 1 package, changed 3 packages, and audited 869 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:07:42.759Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:07:42.759Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:07:42.759Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:07:42.759Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:07:42.843Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:07:42.989Z solarwinds-apm:patching patched crypto 
2022-04-19T00:07:43.047Z solarwinds-apm:patching patched https 
2022-04-19T00:07:43.048Z solarwinds-apm:patching patched http 
2022-04-19T00:07:43.117Z solarwinds-apm:patching patched dns 
2022-04-19T00:07:43.163Z solarwinds-apm:patching patched tedious 1.15.0
2022-04-19T00:07:43.167Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 1.15.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 1.15.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:674:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:698:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:591:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 1.15.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:358:38)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




removed 2 packages, changed 1 package, and audited 867 packages in 17s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:02.017Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:02.018Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:02.018Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:02.018Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:02.086Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:02.214Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:02.234Z solarwinds-apm:patching patched https 
2022-04-19T00:08:02.235Z solarwinds-apm:patching patched http 
2022-04-19T00:08:02.298Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:02.326Z solarwinds-apm:patching patched tedious 2.0.0
2022-04-19T00:08:02.331Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:689:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:713:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:606:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




changed 1 package, and audited 867 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:11.284Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:11.285Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:11.285Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:11.285Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:11.356Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:11.512Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:11.533Z solarwinds-apm:patching patched https 
2022-04-19T00:08:11.534Z solarwinds-apm:patching patched http 
2022-04-19T00:08:11.601Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:11.629Z solarwinds-apm:patching patched tedious 2.0.1
2022-04-19T00:08:11.634Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:689:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:713:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:606:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.0.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:373:38)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:102:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:195:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:192:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:438:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:425:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:422:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:437:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:162:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:136:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:159:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:436:12)




added 2 packages, changed 1 package, and audited 869 packages in 9s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:22.084Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:22.085Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:22.085Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:22.085Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:22.154Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:22.284Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:22.305Z solarwinds-apm:patching patched https 
2022-04-19T00:08:22.306Z solarwinds-apm:patching patched http 
2022-04-19T00:08:22.376Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:22.408Z solarwinds-apm:patching patched tedious 2.1.0
2022-04-19T00:08:22.413Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:872:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:896:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:768:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:519:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




removed 2 packages, changed 1 package, and audited 867 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:30.144Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:30.144Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:30.145Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:30.145Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:30.214Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:30.343Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:30.364Z solarwinds-apm:patching patched https 
2022-04-19T00:08:30.365Z solarwinds-apm:patching patched http 
2022-04-19T00:08:30.434Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:30.467Z solarwinds-apm:patching patched tedious 2.1.1
2022-04-19T00:08:30.471Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:40.262Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:40.263Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:40.263Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:40.263Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:40.332Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:40.461Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:40.481Z solarwinds-apm:patching patched https 
2022-04-19T00:08:40.482Z solarwinds-apm:patching patched http 
2022-04-19T00:08:40.547Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:40.577Z solarwinds-apm:patching patched tedious 2.1.2
2022-04-19T00:08:40.581Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:08:49.717Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:08:49.717Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:08:49.717Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:08:49.717Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:08:49.787Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:08:49.917Z solarwinds-apm:patching patched crypto 
2022-04-19T00:08:49.938Z solarwinds-apm:patching patched https 
2022-04-19T00:08:49.938Z solarwinds-apm:patching patched http 
2022-04-19T00:08:50.003Z solarwinds-apm:patching patched dns 
2022-04-19T00:08:50.033Z solarwinds-apm:patching patched tedious 2.1.3
2022-04-19T00:08:50.037Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 9s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:00.282Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:00.282Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:00.282Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:00.282Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:00.350Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:00.478Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:00.498Z solarwinds-apm:patching patched https 
2022-04-19T00:09:00.499Z solarwinds-apm:patching patched http 
2022-04-19T00:09:00.566Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:00.596Z solarwinds-apm:patching patched tedious 2.1.4
2022-04-19T00:09:00.600Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:10.082Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:10.083Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:10.083Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:10.083Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:10.150Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:10.278Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:10.299Z solarwinds-apm:patching patched https 
2022-04-19T00:09:10.300Z solarwinds-apm:patching patched http 
2022-04-19T00:09:10.365Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:10.394Z solarwinds-apm:patching patched tedious 2.1.5
2022-04-19T00:09:10.398Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.1.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.1.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.1.5
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:19.535Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:19.536Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:19.536Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:19.536Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:19.603Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:19.730Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:19.750Z solarwinds-apm:patching patched https 
2022-04-19T00:09:19.751Z solarwinds-apm:patching patched http 
2022-04-19T00:09:19.823Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:19.864Z solarwinds-apm:patching patched tedious 2.2.0
2022-04-19T00:09:19.868Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.2.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:29.346Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:29.347Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:29.347Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:29.347Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:29.415Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:29.568Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:29.590Z solarwinds-apm:patching patched https 
2022-04-19T00:09:29.590Z solarwinds-apm:patching patched http 
2022-04-19T00:09:29.655Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:29.685Z solarwinds-apm:patching patched tedious 2.2.1
2022-04-19T00:09:29.689Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.2.1
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:39.357Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:39.358Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:39.358Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:39.358Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:39.430Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:39.561Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:39.590Z solarwinds-apm:patching patched https 
2022-04-19T00:09:39.591Z solarwinds-apm:patching patched http 
2022-04-19T00:09:39.683Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:39.712Z solarwinds-apm:patching patched tedious 2.2.2
2022-04-19T00:09:39.717Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:49.032Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:49.033Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:49.033Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:49.033Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:49.102Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:49.231Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:49.252Z solarwinds-apm:patching patched https 
2022-04-19T00:09:49.252Z solarwinds-apm:patching patched http 
2022-04-19T00:09:49.316Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:49.345Z solarwinds-apm:patching patched tedious 2.2.3
2022-04-19T00:09:49.350Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.2.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:859:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:883:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:755:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:506:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 867 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:09:58.628Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:09:58.629Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:09:58.629Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:09:58.629Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:09:58.698Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:09:58.828Z solarwinds-apm:patching patched crypto 
2022-04-19T00:09:58.849Z solarwinds-apm:patching patched https 
2022-04-19T00:09:58.850Z solarwinds-apm:patching patched http 
2022-04-19T00:09:58.915Z solarwinds-apm:patching patched dns 
2022-04-19T00:09:58.954Z solarwinds-apm:patching patched tedious 2.2.4
2022-04-19T00:09:58.959Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.2.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.2.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.2.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.2.4
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




added 1 package, changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:07.558Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:07.559Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:07.559Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:07.559Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:07.627Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:07.757Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:07.778Z solarwinds-apm:patching patched https 
2022-04-19T00:10:07.778Z solarwinds-apm:patching patched http 
2022-04-19T00:10:07.847Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:07.892Z solarwinds-apm:patching patched tedious 2.3.0
2022-04-19T00:10:07.896Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.3.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:16.604Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:16.604Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:16.604Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:16.604Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:16.674Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:16.806Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:16.826Z solarwinds-apm:patching patched https 
2022-04-19T00:10:16.827Z solarwinds-apm:patching patched http 
2022-04-19T00:10:16.894Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:16.938Z solarwinds-apm:patching patched tedious 2.3.1
2022-04-19T00:10:16.942Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.3.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:865:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:889:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:761:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.3.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:507:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




added 1 package, removed 1 package, changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:25.951Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:25.952Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:25.952Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:25.952Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:26.042Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:26.189Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:26.210Z solarwinds-apm:patching patched https 
2022-04-19T00:10:26.211Z solarwinds-apm:patching patched http 
2022-04-19T00:10:26.278Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:26.320Z solarwinds-apm:patching patched tedious 2.4.0
2022-04-19T00:10:26.324Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:176:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.4.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:36.281Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:36.282Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:36.282Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:36.282Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:36.350Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:36.479Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:36.499Z solarwinds-apm:patching patched https 
2022-04-19T00:10:36.500Z solarwinds-apm:patching patched http 
2022-04-19T00:10:36.565Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:36.610Z solarwinds-apm:patching patched tedious 2.5.0
2022-04-19T00:10:36.614Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.5.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.5.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:44.962Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:44.963Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:44.963Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:44.963Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:45.057Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:45.206Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:45.227Z solarwinds-apm:patching patched https 
2022-04-19T00:10:45.227Z solarwinds-apm:patching patched http 
2022-04-19T00:10:45.336Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:45.395Z solarwinds-apm:patching patched tedious 2.5.1
2022-04-19T00:10:45.400Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.5.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  4 failing

  1) probes.tedious 2.5.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.5.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.5.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:992:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1016:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:888:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 2.5.1
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:634:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:10:53.770Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:10:53.771Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:10:53.771Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:10:53.771Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:10:53.839Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:10:53.967Z solarwinds-apm:patching patched crypto 
2022-04-19T00:10:53.988Z solarwinds-apm:patching patched https 
2022-04-19T00:10:53.989Z solarwinds-apm:patching patched http 
2022-04-19T00:10:54.056Z solarwinds-apm:patching patched dns 
2022-04-19T00:10:54.099Z solarwinds-apm:patching patched tedious 2.6.0
2022-04-19T00:10:54.103Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) "before each" hook for "should sanitize query with a database name"


  3 passing (1s)
  3 failing

  1) probes.tedious 2.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 2.6.0
       "before each" hook for "should sanitize query with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:03.107Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:03.107Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:03.107Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:03.107Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:03.183Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:03.311Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:03.332Z solarwinds-apm:patching patched https 
2022-04-19T00:11:03.333Z solarwinds-apm:patching patched http 
2022-04-19T00:11:03.401Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:03.443Z solarwinds-apm:patching patched tedious 2.6.1
2022-04-19T00:11:03.448Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:12.259Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:12.260Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:12.260Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:12.260Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:12.329Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:12.464Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:12.490Z solarwinds-apm:patching patched https 
2022-04-19T00:11:12.491Z solarwinds-apm:patching patched http 
2022-04-19T00:11:12.577Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:12.621Z solarwinds-apm:patching patched tedious 2.6.2
2022-04-19T00:11:12.625Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:994:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1018:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.2
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:636:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 868 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:20.682Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:20.683Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:20.683Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:20.683Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:20.752Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:20.881Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:20.902Z solarwinds-apm:patching patched https 
2022-04-19T00:11:20.902Z solarwinds-apm:patching patched http 
2022-04-19T00:11:20.999Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:21.060Z solarwinds-apm:patching patched tedious 2.6.3
2022-04-19T00:11:21.064Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




added 1 package, changed 1 package, and audited 869 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:30.323Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:30.324Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:30.324Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:30.324Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:30.393Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:30.520Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:30.541Z solarwinds-apm:patching patched https 
2022-04-19T00:11:30.542Z solarwinds-apm:patching patched http 
2022-04-19T00:11:30.608Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:30.651Z solarwinds-apm:patching patched tedious 2.6.4
2022-04-19T00:11:30.655Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.6.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.6.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1006:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1030:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:890:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.6.4
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:628:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 869 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:39.568Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:39.569Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:39.569Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:39.569Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:39.648Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:39.836Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:39.920Z solarwinds-apm:patching patched https 
2022-04-19T00:11:39.921Z solarwinds-apm:patching patched http 
2022-04-19T00:11:40.012Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:40.077Z solarwinds-apm:patching patched tedious 2.7.0
2022-04-19T00:11:40.081Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1014:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1038:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:897:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.7.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 869 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:48.910Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:48.911Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:48.911Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:48.911Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:48.982Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:49.113Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:49.134Z solarwinds-apm:patching patched https 
2022-04-19T00:11:49.135Z solarwinds-apm:patching patched http 
2022-04-19T00:11:49.201Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:49.247Z solarwinds-apm:patching patched tedious 2.7.1
2022-04-19T00:11:49.251Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 2.7.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 2.7.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1014:28)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1038:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:897:16
      at Socket.onConnect (node_modules/tedious/lib/connector.js:177:9)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 2.7.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:635:33)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:54:15)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:110:18)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:203:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:200:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:446:11
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:433:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:430:12)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:445:17
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:170:9
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:144:9)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:167:12)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:444:12)




changed 1 package, and audited 869 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:11:58.423Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:11:58.424Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:11:58.424Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:11:58.424Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:11:58.505Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:11:58.655Z solarwinds-apm:patching patched crypto 
2022-04-19T00:11:58.675Z solarwinds-apm:patching patched https 
2022-04-19T00:11:58.676Z solarwinds-apm:patching patched http 
2022-04-19T00:11:58.754Z solarwinds-apm:patching patched dns 
2022-04-19T00:11:58.822Z solarwinds-apm:patching patched tedious 3.0.0
2022-04-19T00:11:58.827Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 3.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 3.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:952:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:974:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:857:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:147:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 3.0.0
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:12:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:601:29)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:291:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:278:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:245:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:148:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:78:14)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:46:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:152:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:149:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:332:9
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:324:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:321:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:331:12
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:128:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:108:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:125:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:330:10)




removed 5 packages, changed 4 packages, and audited 864 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:12:07.411Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:07.412Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:07.412Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:07.412Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:07.482Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:07.615Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:07.648Z solarwinds-apm:patching patched https 
2022-04-19T00:12:07.649Z solarwinds-apm:patching patched http 
2022-04-19T00:12:07.682Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:07.730Z solarwinds-apm:patching patched tedious 3.0.1
2022-04-19T00:12:07.734Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 3.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 3.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:999:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1022:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:902:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 3.0.1
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Login failed for user ''.
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Parser.<anonymous> (node_modules/tedious/lib/connection.js:654:29)
      at Parser.emit (node:events:527:28)
      at Parser.<anonymous> (node_modules/tedious/lib/token/token-stream-parser.js:27:14)
      at Parser.emit (node:events:527:28)
      at addChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:298:12)
      at readableAddChunk (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:280:11)
      at Parser.Readable.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:241:10)
      at Parser.Transform.push (node_modules/tedious/node_modules/readable-stream/lib/_stream_transform.js:139:32)
      at doneParsing (node_modules/tedious/lib/token/stream-parser.js:80:14)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:48:5
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:13:19
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:153:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt16LE (node_modules/tedious/lib/token/stream-parser.js:150:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/infoerror-token-parser.js:12:90
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:322:9
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:314:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readBuffer (node_modules/tedious/lib/token/stream-parser.js:311:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:321:12
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/token/stream-parser.js:129:7
      at Parser.awaitData (node_modules/tedious/lib/token/stream-parser.js:109:7)
      at Parser.readUInt8 (node_modules/tedious/lib/token/stream-parser.js:126:10)
      at Parser.readBVarChar (node_modules/tedious/lib/token/stream-parser.js:320:10)




changed 1 package, and audited 864 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:12:17.054Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:17.055Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:17.055Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:17.055Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:17.145Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:17.299Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:17.320Z solarwinds-apm:patching patched https 
2022-04-19T00:12:17.320Z solarwinds-apm:patching patched http 
2022-04-19T00:12:17.359Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:17.405Z solarwinds-apm:patching patched tedious 4.0.0
2022-04-19T00:12:17.409Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should sanitize query with a database name
    4) should truncate long queries with a database name
    5) should tag queries when feature is enabled
    6) should do nothing when disabled with a database name
    7) should support basic queries with no database name
    8) should support parameters with no database name
    9) should sanitize query with no database name
    10) should truncate long queries with no database name
    11) should tag queries when feature is enabled
    12) should do nothing when disabled with no database name


  3 passing (4s)
  12 failing

  1) probes.tedious 4.0.0
       should support basic queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:99:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:98:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  2) probes.tedious 4.0.0
       should support parameters with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:121:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:120:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  3) probes.tedious 4.0.0
       should sanitize query with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:154:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:152:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  4) probes.tedious 4.0.0
       should truncate long queries with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:187:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_truncate (test/probes/tedious.test.js:186:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  5) probes.tedious 4.0.0
       should tag queries when feature is enabled:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:214:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_tag (test/probes/tedious.test.js:213:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  6) probes.tedious 4.0.0
       should do nothing when disabled with a database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:239:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_disabled (test/probes/tedious.test.js:238:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  7) probes.tedious 4.0.0
       should support basic queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:99:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_basic (test/probes/tedious.test.js:98:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  8) probes.tedious 4.0.0
       should support parameters with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:121:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_parameters (test/probes/tedious.test.js:120:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  9) probes.tedious 4.0.0
       should sanitize query with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:154:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_sanitization (test/probes/tedious.test.js:152:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  10) probes.tedious 4.0.0
       should truncate long queries with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:187:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_truncate (test/probes/tedious.test.js:186:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  11) probes.tedious 4.0.0
       should tag queries when feature is enabled:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:214:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_tag (test/probes/tedious.test.js:213:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)

  12) probes.tedious 4.0.0
       should do nothing when disabled with no database name:
     TypeError: The "config.authentication.type" property must be of type string.
      at new Connection (node_modules/tedious/lib/connection.js:93:15)
      at query (test/probes/tedious.test.js:278:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:239:7
      at ao.requestStore.run.newContext (test/helper.js:296:5)
      at Namespace.run (node_modules/ace-context/context.js:187:5)
      at Object.exports.test (test/helper.js:288:19)
      at Context.test_disabled (test/probes/tedious.test.js:238:12)
      at Timeout._onTimeout (test/probes/tedious.test.js:26:7)
      at listOnTimeout (node:internal/timers:559:17)
      at processTimers (node:internal/timers:502:7)




changed 1 package, and audited 864 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:12:29.137Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:29.138Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:29.138Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:29.138Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:29.206Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:29.335Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:29.361Z solarwinds-apm:patching patched https 
2022-04-19T00:12:29.364Z solarwinds-apm:patching patched http 
2022-04-19T00:12:29.415Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:29.470Z solarwinds-apm:patching patched tedious 4.0.1
2022-04-19T00:12:29.476Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:34:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '9EB75B3AAD96DE29',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6328,
  Timestamp_u: 1650327151838507,
  'X-Trace': '2B45ED0783035BF9D959C0B111099BC349000000008ED05FD04AF80C7401',
  _V: '1',
  'sw.parent_span_id': '9eb75b3aad96de29',
  'sw.trace_context': '00-45ed0783035bf9d959c0b111099bc349-8ed05fd04af80c74-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 864 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:12:39.847Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:39.848Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:39.848Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:39.848Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:39.917Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:40.046Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:40.067Z solarwinds-apm:patching patched https 
2022-04-19T00:12:40.067Z solarwinds-apm:patching patched http 
2022-04-19T00:12:40.106Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:40.152Z solarwinds-apm:patching patched tedious 4.0.2
2022-04-19T00:12:40.156Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:34:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '1D98E45D1BD3631E',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6393,
  Timestamp_u: 1650327162519910,
  'X-Trace': '2B374A02B331CE5DACDE16D25532CDC96E00000000DB5E21596711EA8901',
  _V: '1',
  'sw.parent_span_id': '1d98e45d1bd3631e',
  'sw.trace_context': '00-374a02b331ce5dacde16d25532cdc96e-db5e21596711ea89-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 864 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:12:50.379Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:12:50.380Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:12:50.380Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:12:50.380Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:12:50.449Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:12:50.581Z solarwinds-apm:patching patched crypto 
2022-04-19T00:12:50.602Z solarwinds-apm:patching patched https 
2022-04-19T00:12:50.603Z solarwinds-apm:patching patched http 
2022-04-19T00:12:50.641Z solarwinds-apm:patching patched dns 
2022-04-19T00:12:50.686Z solarwinds-apm:patching patched tedious 4.0.3
2022-04-19T00:12:50.690Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1891:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '94E721205E4927DE',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6458,
  Timestamp_u: 1650327173048947,
  'X-Trace': '2B83DAABDA999243FA636B26752320EB6500000000D4DAF7A3C31B14A601',
  _V: '1',
  'sw.parent_span_id': '94e721205e4927de',
  'sw.trace_context': '00-83daabda999243fa636b26752320eb65-d4daf7a3c31b14a6-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 864 packages in 18s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:13:11.407Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:11.408Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:11.409Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:11.409Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:11.488Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:11.644Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:11.676Z solarwinds-apm:patching patched https 
2022-04-19T00:13:11.676Z solarwinds-apm:patching patched http 
2022-04-19T00:13:11.759Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:11.859Z solarwinds-apm:patching patched tedious 4.0.4
2022-04-19T00:13:11.864Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 4.0.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.0.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.0.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.0.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.0.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.0.4
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.0.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.0.4
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.0.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.0.4
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.0.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1053:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1076:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:956:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.0.4
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1386:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1326:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1895:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1051:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:951:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '0A75F37B8F5212B7',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6523,
  Timestamp_u: 1650327194218436,
  'X-Trace': '2B78E97C61E3D0FEA67CE58CEE8BD1CF8D00000000F1DF515A38CD350101',
  _V: '1',
  'sw.parent_span_id': '0a75f37b8f5212b7',
  'sw.trace_context': '00-78e97c61e3d0fea67ce58cee8bd1cf8d-f1df515a38cd3501-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.0.4
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.0.4 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 28 packages, changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:13:23.071Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:23.072Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:23.072Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:23.072Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:23.159Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:23.314Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:23.335Z solarwinds-apm:patching patched https 
2022-04-19T00:13:23.336Z solarwinds-apm:patching patched http 
2022-04-19T00:13:23.434Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:23.500Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:23.500Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:23.501Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:23.598Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:23.667Z solarwinds-apm:patching patched tedious 4.1.0
2022-04-19T00:13:23.671Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support parameters with a database name
    3) should support parameters with a database name
    4) should sanitize query with a database name
    5) should sanitize query with a database name
    6) should truncate long queries with a database name
    7) should truncate long queries with a database name
    8) should tag queries when feature is enabled
    9) should tag queries when feature is enabled
    10) should do nothing when disabled with a database name
    11) "before each" hook for "should support basic queries with no database name"
    12) should do nothing when disabled with a database name


  3 passing (2s)
  12 failing

  1) probes.tedious 4.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1064:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1087:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:967:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1427:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1367:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2004:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1062:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:962:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '5A5023654F24AE93',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6588,
  Timestamp_u: 1650327206036713,
  'X-Trace': '2B1AFAEC31E4C161F4A5C33D40A7DAFC2E00000000999D82CBE05BEE8601',
  _V: '1',
  'sw.parent_span_id': '5a5023654f24ae93',
  'sw.trace_context': '00-1afaec31e4c161f4a5c33d40a7dafc2e-999d82cbe05bee86-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:13:34.522Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:34.523Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:34.523Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:34.523Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:34.594Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:34.740Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:34.790Z solarwinds-apm:patching patched https 
2022-04-19T00:13:34.791Z solarwinds-apm:patching patched http 
2022-04-19T00:13:34.840Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:34.902Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:34.903Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:34.903Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:34.980Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:35.044Z solarwinds-apm:patching patched tedious 4.1.1
2022-04-19T00:13:35.048Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 4.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.1
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1118:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:977:14)
      at Socket.emit (node:events:539:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:13:45.049Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:45.049Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:45.049Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:45.049Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:45.120Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:45.251Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:45.273Z solarwinds-apm:patching patched https 
2022-04-19T00:13:45.273Z solarwinds-apm:patching patched http 
2022-04-19T00:13:45.331Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:45.375Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:45.376Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:45.376Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:45.454Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:45.521Z solarwinds-apm:patching patched tedious 4.1.2
2022-04-19T00:13:45.526Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (3s)
  13 failing

  1) probes.tedious 4.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.1.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 4.1.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 4.1.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 4.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 4.1.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 4.1.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 4.1.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1449:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1389:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2029:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:984:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '8FB81C4416D00FA3',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6718,
  Timestamp_u: 1650327228054191,
  'X-Trace': '2B291706D362BB2512B0A193B1D47A640000000000E6C9BD857BB56CEF01',
  _V: '1',
  'sw.parent_span_id': '8fb81c4416d00fa3',
  'sw.trace_context': '00-291706d362bb2512b0a193b1d47a6400-e6c9bd857bb56cef-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 4.1.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 4.1.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:13:56.025Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:13:56.026Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:13:56.026Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:13:56.026Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:13:56.096Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:13:56.226Z solarwinds-apm:patching patched crypto 
2022-04-19T00:13:56.246Z solarwinds-apm:patching patched https 
2022-04-19T00:13:56.246Z solarwinds-apm:patching patched http 
2022-04-19T00:13:56.308Z solarwinds-apm:patching patched zlib 
2022-04-19T00:13:56.351Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:13:56.352Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:13:56.352Z solarwinds-apm:patching patched fs 
2022-04-19T00:13:56.422Z solarwinds-apm:patching patched dns 
2022-04-19T00:13:56.471Z solarwinds-apm:patching patched tedious 4.1.3
2022-04-19T00:13:56.475Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.1.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 4.1.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.1.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1118:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:977:14)
      at Socket.emit (node:events:539:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:14:06.164Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:06.164Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:06.164Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:06.165Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:06.233Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:06.365Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:06.387Z solarwinds-apm:patching patched https 
2022-04-19T00:14:06.387Z solarwinds-apm:patching patched http 
2022-04-19T00:14:06.456Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:06.501Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:06.501Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:06.501Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:06.572Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:06.625Z solarwinds-apm:patching patched tedious 4.2.0
2022-04-19T00:14:06.629Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 4.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) "before each" hook for "should truncate long queries with a database name"


  3 passing (2s)
  6 failing

  1) probes.tedious 4.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 4.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 4.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 4.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 4.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 4.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1086:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1109:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:989:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 4.2.0
       "before each" hook for "should truncate long queries with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1099:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1118:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:977:14)
      at Socket.emit (node:events:539:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:14:16.359Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:16.359Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:16.359Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:16.360Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:16.429Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:16.561Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:16.583Z solarwinds-apm:patching patched https 
2022-04-19T00:14:16.583Z solarwinds-apm:patching patched http 
2022-04-19T00:14:16.650Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:16.695Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:16.695Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:16.696Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:16.766Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:16.817Z solarwinds-apm:patching patched tedious 5.0.0
2022-04-19T00:14:16.822Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 5.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1136:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1159:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1014:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1410:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1392:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2044:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1009:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'C3E902AEBC2B18AF',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6913,
  Timestamp_u: 1650327259289027,
  'X-Trace': '2BAF967EE7C5580573288B476C538DDBFF00000000CEB29CC0D12A03B601',
  _V: '1',
  'sw.parent_span_id': 'c3e902aebc2b18af',
  'sw.trace_context': '00-af967ee7c5580573288b476c538ddbff-ceb29cc0d12a03b6-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:14:27.454Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:27.455Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:27.455Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:27.455Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:27.554Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:27.703Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:27.724Z solarwinds-apm:patching patched https 
2022-04-19T00:14:27.724Z solarwinds-apm:patching patched http 
2022-04-19T00:14:27.790Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:27.835Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:27.835Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:27.835Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:27.904Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:27.954Z solarwinds-apm:patching patched tedious 5.0.1
2022-04-19T00:14:27.958Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 5.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2061:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '1179750E863E046A',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 6978,
  Timestamp_u: 1650327270424859,
  'X-Trace': '2BA2BC4AA7E16AB96BB705EE409B4CE8C400000000AC7E70048598D6E301',
  _V: '1',
  'sw.parent_span_id': '1179750e863e046a',
  'sw.trace_context': '00-a2bc4aa7e16ab96bb705ee409b4ce8c4-ac7e70048598d6e3-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 9s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:14:39.959Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:39.960Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:39.960Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:39.960Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:40.028Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:40.160Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:40.180Z solarwinds-apm:patching patched https 
2022-04-19T00:14:40.181Z solarwinds-apm:patching patched http 
2022-04-19T00:14:40.246Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:40.291Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:40.291Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:40.292Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:40.361Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:40.412Z solarwinds-apm:patching patched tedious 5.0.2
2022-04-19T00:14:40.416Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 5.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 5.0.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 5.0.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 5.0.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 5.0.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 5.0.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 5.0.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 5.0.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 5.0.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 5.0.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 5.0.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1412:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1394:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2062:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1136:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1011:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'AD7CA575A6FDB9FC',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7043,
  Timestamp_u: 1650327282890709,
  'X-Trace': '2B43ED87523C6EAFAC93100982ADFCEFFE00000000AB34F8B6B3E0F52C01',
  _V: '1',
  'sw.parent_span_id': 'ad7ca575a6fdb9fc',
  'sw.trace_context': '00-43ed87523c6eafac93100982adfceffe-ab34f8b6b3e0f52c-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 5.0.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 5.0.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:14:51.766Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:14:51.767Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:14:51.767Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:14:51.767Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:14:51.836Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:14:51.966Z solarwinds-apm:patching patched crypto 
2022-04-19T00:14:51.986Z solarwinds-apm:patching patched https 
2022-04-19T00:14:51.987Z solarwinds-apm:patching patched http 
2022-04-19T00:14:52.052Z solarwinds-apm:patching patched zlib 
2022-04-19T00:14:52.096Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:14:52.097Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:14:52.097Z solarwinds-apm:patching patched fs 
2022-04-19T00:14:52.166Z solarwinds-apm:patching patched dns 
2022-04-19T00:14:52.215Z solarwinds-apm:patching patched tedious 5.0.3
2022-04-19T00:14:52.219Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 5.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) "before each" hook for "should support parameters with a database name"


  3 passing (1s)
  2 failing

  1) probes.tedious 5.0.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1138:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1161:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1016:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 5.0.3
       "before each" hook for "should support parameters with a database name":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1151:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1170:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1004:14)
      at Socket.emit (node:events:539:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:15:00.643Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:00.644Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:00.644Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:00.644Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:00.730Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:00.886Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:00.908Z solarwinds-apm:patching patched https 
2022-04-19T00:15:00.908Z solarwinds-apm:patching patched http 
2022-04-19T00:15:01.001Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:01.052Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:01.052Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:01.053Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:01.138Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:01.188Z solarwinds-apm:patching patched tedious 6.0.0
2022-04-19T00:15:01.192Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) "before each" hook for "should tag queries when feature is enabled"


  3 passing (2s)
  8 failing

  1) probes.tedious 6.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:142:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.0.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1176:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1195:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1027:14)
      at Socket.emit (node:events:539:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:15:10.423Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:10.424Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:10.424Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:10.424Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:10.493Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:10.625Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:10.646Z solarwinds-apm:patching patched https 
2022-04-19T00:15:10.647Z solarwinds-apm:patching patched http 
2022-04-19T00:15:10.710Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:10.755Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:10.755Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:10.756Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:10.825Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:10.874Z solarwinds-apm:patching patched tedious 6.0.1
2022-04-19T00:15:10.880Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.0.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.0.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.0.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1163:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1186:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1039:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.0.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1419:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2076:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1161:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1034:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '43870F1173CD4CCB',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7238,
  Timestamp_u: 1650327313372416,
  'X-Trace': '2B4F0A1AE62B7B4C1D0171B0D868F171BB000000005E35CFEF3AA7E07D01',
  _V: '1',
  'sw.parent_span_id': '43870f1173cd4ccb',
  'sw.trace_context': '00-4f0a1ae62b7b4c1d0171b0d868f171bb-5e35cfef3aa7e07d-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.0.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.0.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:15:21.526Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:21.527Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:21.527Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:21.527Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:21.596Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:21.726Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:21.747Z solarwinds-apm:patching patched https 
2022-04-19T00:15:21.748Z solarwinds-apm:patching patched http 
2022-04-19T00:15:21.815Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:21.859Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:21.859Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:21.859Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:21.953Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:22.013Z solarwinds-apm:patching patched tedious 6.1.0
2022-04-19T00:15:22.018Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) "before each" hook for "should tag queries when feature is enabled"


  3 passing (4s)
  20 failing

  1) probes.tedious 6.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.1.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 6.1.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 6.1.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 6.1.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 6.1.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 6.1.0
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.0 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 6.1.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 6.1.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1187:26)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1206:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1038:14)
      at Socket.emit (node:events:539:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:15:33.428Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:33.428Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:33.428Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:33.429Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:33.497Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:33.641Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:33.662Z solarwinds-apm:patching patched https 
2022-04-19T00:15:33.663Z solarwinds-apm:patching patched http 
2022-04-19T00:15:33.750Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:33.796Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:33.796Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:33.797Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:33.867Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:33.913Z solarwinds-apm:patching patched tedious 6.1.1
2022-04-19T00:15:33.917Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.1.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1457:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1438:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2095:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '5530CAD93613ED82',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7368,
  Timestamp_u: 1650327336415923,
  'X-Trace': '2B93159EC1CC2944E1590CDCE9C81F6EDE00000000958661A024AEA93F01',
  _V: '1',
  'sw.parent_span_id': '5530cad93613ed82',
  'sw.trace_context': '00-93159ec1cc2944e1590cdce9c81f6ede-958661a024aea93f-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:15:44.620Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:44.621Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:44.621Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:44.621Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:44.708Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:44.838Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:44.859Z solarwinds-apm:patching patched https 
2022-04-19T00:15:44.859Z solarwinds-apm:patching patched http 
2022-04-19T00:15:44.923Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:44.968Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:44.968Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:44.968Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:45.039Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:45.086Z solarwinds-apm:patching patched tedious 6.1.2
2022-04-19T00:15:45.092Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.1.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.1.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.1.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.1.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.1.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.1.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.1.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.1.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.1.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.1.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.1.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.1.2
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 6.1.2
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 6.1.2
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 6.1.2
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 6.1.2
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 6.1.2
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 6.1.2
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 6.1.2
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 6.1.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.1.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 6.1.2
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:15:56.354Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:15:56.355Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:15:56.355Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:15:56.355Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:15:56.425Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:15:56.556Z solarwinds-apm:patching patched crypto 
2022-04-19T00:15:56.577Z solarwinds-apm:patching patched https 
2022-04-19T00:15:56.578Z solarwinds-apm:patching patched http 
2022-04-19T00:15:56.646Z solarwinds-apm:patching patched zlib 
2022-04-19T00:15:56.691Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:15:56.692Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:15:56.692Z solarwinds-apm:patching patched fs 
2022-04-19T00:15:56.760Z solarwinds-apm:patching patched dns 
2022-04-19T00:15:56.809Z solarwinds-apm:patching patched tedious 6.2.0
2022-04-19T00:15:56.815Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.2.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.2.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1459:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1440:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2120:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '53538E2FA70F9D30',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7498,
  Timestamp_u: 1650327359313015,
  'X-Trace': '2B5A532878257CC6A42FEBD3CCB4253774000000004DBB1C363056C27101',
  _V: '1',
  'sw.parent_span_id': '53538e2fa70f9d30',
  'sw.trace_context': '00-5a532878257cc6a42febd3ccb4253774-4dbb1c363056c271-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.2.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, removed 1 package, changed 1 package, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:16:07.377Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:07.378Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:07.378Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:07.378Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:07.449Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:07.584Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:07.612Z solarwinds-apm:patching patched https 
2022-04-19T00:16:07.613Z solarwinds-apm:patching patched http 
2022-04-19T00:16:07.696Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:07.747Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:07.747Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:07.747Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:07.817Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:07.859Z solarwinds-apm:patching patched tedious 6.2.1
2022-04-19T00:16:07.864Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.2.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.2.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.2.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.2.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.2.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.2.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.2.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.2.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.2.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.2.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.2.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1174:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1197:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1050:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.2.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1459:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1440:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2120:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1172:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1045:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '5C0710496965E855',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7563,
  Timestamp_u: 1650327370364287,
  'X-Trace': '2B5DFF2D4F9BC6029937BC505BB831FAA30000000011B3827ABB9269C801',
  _V: '1',
  'sw.parent_span_id': '5c0710496965e855',
  'sw.trace_context': '00-5dff2d4f9bc6029937bc505bb831faa3-11b3827abb9269c8-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.2.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.2.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 10 packages, changed 1 package, and audited 902 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:16:19.385Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:19.386Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:19.386Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:19.386Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:19.475Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:19.625Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:19.645Z solarwinds-apm:patching patched https 
2022-04-19T00:16:19.645Z solarwinds-apm:patching patched http 
2022-04-19T00:16:19.709Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:19.716Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:19.716Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:19.717Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:19.886Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:19.927Z solarwinds-apm:patching patched tedious 6.3.0
2022-04-19T00:16:19.931Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.3.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.3.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.3.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.3.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.3.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.3.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.3.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'LoggedInSendingInitialSql'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.3.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.3.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.3.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.3.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1213:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1236:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1089:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:90:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.3.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1507:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1488:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2199:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1211:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1084:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:32:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '502F5DD04F8DA76B',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7628,
  Timestamp_u: 1650327382401939,
  'X-Trace': '2B2E3AB9E147F36C702F591D893780848D00000000588B83FBA0D0D91201',
  _V: '1',
  'sw.parent_span_id': '502f5dd04f8da76b',
  'sw.trace_context': '00-2e3ab9e147f36c702f591d893780848d-588b83fba0d0d912-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.3.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.3.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 903 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:16:30.320Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:30.321Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:30.321Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:30.321Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:30.390Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:30.521Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:30.541Z solarwinds-apm:patching patched https 
2022-04-19T00:16:30.542Z solarwinds-apm:patching patched http 
2022-04-19T00:16:30.601Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:30.607Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:30.608Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:30.608Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:30.780Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:30.811Z solarwinds-apm:patching patched tedious 6.4.0
2022-04-19T00:16:30.816Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.4.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.4.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.4.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.4.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.4.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.4.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.4.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.4.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.4.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.4.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.4.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:100:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.4.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1516:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1497:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2208:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1220:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1093:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:33:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '355C5D223E7DC4A1',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7693,
  Timestamp_u: 1650327393302829,
  'X-Trace': '2BBBE641C9A9143306DF2D13B3392A0A0F00000000BFF9978130DF1C4201',
  _V: '1',
  'sw.parent_span_id': '355c5d223e7dc4a1',
  'sw.trace_context': '00-bbe641c9a9143306df2d13b3392a0a0f-bff9978130df1c42-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.4.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.4.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 2 packages, removed 1 package, changed 3 packages, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:16:41.937Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:41.938Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:41.938Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:41.938Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:42.006Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:42.134Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:42.155Z solarwinds-apm:patching patched https 
2022-04-19T00:16:42.156Z solarwinds-apm:patching patched http 
2022-04-19T00:16:42.217Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:42.223Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:42.223Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:42.224Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:42.394Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:42.427Z solarwinds-apm:patching patched tedious 6.5.0
2022-04-19T00:16:42.432Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.5.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.5.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.5.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.5.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.5.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.5.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.5.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.5.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.5.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.5.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1222:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1245:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1098:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.5.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1516:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1497:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2208:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1220:36)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1093:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:35:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'D66A1FE7EB6AC7F3',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7758,
  Timestamp_u: 1650327404923804,
  'X-Trace': '2B7A7B5044410103259DDB895DF198DA710000000037B1394F1B94291901',
  _V: '1',
  'sw.parent_span_id': 'd66a1fe7eb6ac7f3',
  'sw.trace_context': '00-7a7b5044410103259ddb895df198da71-37b1394f1b942919-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.5.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.5.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:16:53.082Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:16:53.082Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:16:53.082Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:16:53.082Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:16:53.151Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:16:53.314Z solarwinds-apm:patching patched crypto 
2022-04-19T00:16:53.334Z solarwinds-apm:patching patched https 
2022-04-19T00:16:53.335Z solarwinds-apm:patching patched http 
2022-04-19T00:16:53.396Z solarwinds-apm:patching patched zlib 
2022-04-19T00:16:53.403Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:16:53.403Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:16:53.403Z solarwinds-apm:patching patched fs 
2022-04-19T00:16:53.573Z solarwinds-apm:patching patched dns 
2022-04-19T00:16:53.607Z solarwinds-apm:patching patched tedious 6.6.0
2022-04-19T00:16:53.611Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.6.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 6.6.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 6.6.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 6.6.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 6.6.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 6.6.0
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 6.6.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 6.6.0
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 6.6.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 6.6.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 6.6.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1244:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1267:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1120:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




added 1 package, changed 1 package, and audited 905 packages in 6s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:04.546Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:04.547Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:04.547Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:04.547Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:04.615Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:04.746Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:04.769Z solarwinds-apm:patching patched https 
2022-04-19T00:17:04.769Z solarwinds-apm:patching patched http 
2022-04-19T00:17:04.829Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:04.835Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:04.836Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:04.836Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:05.008Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:05.044Z solarwinds-apm:patching patched tedious 6.6.1
2022-04-19T00:17:05.048Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.6.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.1
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 6.6.1
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 6.6.1
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 6.6.1
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 6.6.1
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 6.6.1
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 6.6.1
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 6.6.1
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 6.6.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 6.6.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 6.6.1
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:17:17.251Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:17.251Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:17.251Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:17.251Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:17.319Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:17.452Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:17.471Z solarwinds-apm:patching patched https 
2022-04-19T00:17:17.472Z solarwinds-apm:patching patched http 
2022-04-19T00:17:17.537Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:17.543Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:17.543Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:17.544Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:17.717Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:17.755Z solarwinds-apm:patching patched tedious 6.6.2
2022-04-19T00:17:17.759Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (3s)
  13 failing

  1) probes.tedious 6.6.2
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.2
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.2
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.2
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.2
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.2
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.2
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.2
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.2
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.2
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.2
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1249:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1271:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1113:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:102:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.2
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1543:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1524:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2300:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1247:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1107:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:40:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'EC87EF906449385E',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 7953,
  Timestamp_u: 1650327440265095,
  'X-Trace': '2BA912F1697719634CC689446296D85F9300000000EC6E482D1096D86701',
  _V: '1',
  'sw.parent_span_id': 'ec87ef906449385e',
  'sw.trace_context': '00-a912f1697719634cc689446296d85f93-ec6e482d1096d867-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.2
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.2 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:28.657Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:28.658Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:28.658Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:28.658Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:28.738Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:28.877Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:28.899Z solarwinds-apm:patching patched https 
2022-04-19T00:17:28.900Z solarwinds-apm:patching patched http 
2022-04-19T00:17:28.963Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:28.969Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:28.969Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:28.970Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:29.141Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:29.177Z solarwinds-apm:patching patched tedious 6.6.3
2022-04-19T00:17:29.181Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (3s)
  13 failing

  1) probes.tedious 6.6.3
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.3
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.3
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.3
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.3
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'LoggedInSendingInitialSql'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.3
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.3
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.3
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.3
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.3
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.3
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.3
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '1BC80885B8EB5694',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8018,
  Timestamp_u: 1650327451716359,
  'X-Trace': '2B3E94CFF97DFEE797A2957A97BF17021700000000A95028A07D41B80801',
  _V: '1',
  'sw.parent_span_id': '1bc80885b8eb5694',
  'sw.trace_context': '00-3e94cff97dfee797a2957a97bf170217-a95028a07d41b808-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.3
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.3 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:39.322Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:39.322Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:39.322Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:39.322Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:39.390Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:39.520Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:39.541Z solarwinds-apm:patching patched https 
2022-04-19T00:17:39.541Z solarwinds-apm:patching patched http 
2022-04-19T00:17:39.602Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:39.609Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:39.609Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:39.609Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:39.779Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:39.814Z solarwinds-apm:patching patched tedious 6.6.4
2022-04-19T00:17:39.818Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 6.6.4
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.4
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.4
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.4
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.4
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.4
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.4
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.4
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.4
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.4
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.4
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 6.6.4
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 6.6.4
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 6.6.4
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 6.6.4
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 6.6.4
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 6.6.4
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 6.6.4
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 6.6.4
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.4 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 6.6.4
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:17:51.553Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:17:51.554Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:17:51.554Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:17:51.554Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:17:51.625Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:17:51.760Z solarwinds-apm:patching patched crypto 
2022-04-19T00:17:51.780Z solarwinds-apm:patching patched https 
2022-04-19T00:17:51.780Z solarwinds-apm:patching patched http 
2022-04-19T00:17:51.846Z solarwinds-apm:patching patched zlib 
2022-04-19T00:17:51.853Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:17:51.853Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:17:51.853Z solarwinds-apm:patching patched fs 
2022-04-19T00:17:52.014Z solarwinds-apm:patching patched dns 
2022-04-19T00:17:52.059Z solarwinds-apm:patching patched tedious 6.6.5
2022-04-19T00:17:52.064Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (3s)
  13 failing

  1) probes.tedious 6.6.5
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.5
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.5
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.5
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.5
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.5
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.5
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.5
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.5
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.5
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.5
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.5
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '1A51758477FAE043',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8148,
  Timestamp_u: 1650327474578275,
  'X-Trace': '2BC9E79A1D5598F2592290BA56783A59AE000000001D22022727367D4C01',
  _V: '1',
  'sw.parent_span_id': '1a51758477fae043',
  'sw.trace_context': '00-c9e79a1d5598f2592290ba56783a59ae-1d22022727367d4c-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.5
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.5 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 21s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:18:15.971Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:15.971Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:15.972Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:15.972Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:16.045Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:16.196Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:16.223Z solarwinds-apm:patching patched https 
2022-04-19T00:18:16.223Z solarwinds-apm:patching patched http 
2022-04-19T00:18:16.398Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:16.405Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:16.405Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:16.405Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:16.587Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:16.647Z solarwinds-apm:patching patched tedious 6.6.6
2022-04-19T00:18:16.656Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.6.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.6.6
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.6.6
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.6.6
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.6.6
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.6.6
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.6.6
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.6.6
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.6.6
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.6.6
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.6.6
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.6.6
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1276:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1298:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.6.6
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1570:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1551:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2327:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1274:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1134:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '613F94E4A54D6FEF',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8213,
  Timestamp_u: 1650327499161823,
  'X-Trace': '2B36C4142D4576FFA61EB4C6BB6D6ED0F600000000C091EF04954C86B101',
  _V: '1',
  'sw.parent_span_id': '613f94e4a54d6fef',
  'sw.trace_context': '00-36c4142d4576ffa61eb4c6bb6d6ed0f6-c091ef04954c86b1-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.6.6
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.6.6 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 905 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:18:26.546Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:26.547Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:26.547Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:26.547Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:26.622Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:26.753Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:26.775Z solarwinds-apm:patching patched https 
2022-04-19T00:18:26.775Z solarwinds-apm:patching patched http 
2022-04-19T00:18:26.902Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:26.927Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:26.928Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:26.928Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:27.155Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:27.203Z solarwinds-apm:patching patched tedious 6.7.0
2022-04-19T00:18:27.207Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.7.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.7.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.7.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.7.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.7.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.7.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.7.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.7.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.7.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.7.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.7.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.7.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1575:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1556:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2332:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1279:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1139:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '03B5D1C02DF7B689',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8278,
  Timestamp_u: 1650327509692528,
  'X-Trace': '2BD27844B724232380598E9344328D859A000000008F6089B71681980F01',
  _V: '1',
  'sw.parent_span_id': '03b5d1c02df7b689',
  'sw.trace_context': '00-d27844b724232380598e9344328d859a-8f6089b71681980f-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.7.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




added 7 packages, removed 20 packages, changed 7 packages, and audited 892 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:18:38.182Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:38.182Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:38.183Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:38.183Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:38.266Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:38.417Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:38.437Z solarwinds-apm:patching patched https 
2022-04-19T00:18:38.438Z solarwinds-apm:patching patched http 
2022-04-19T00:18:38.552Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:38.556Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:38.556Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:38.556Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:38.664Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:38.714Z solarwinds-apm:patching patched tedious 6.7.1
2022-04-19T00:18:38.718Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 6.7.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 6.7.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 6.7.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 6.7.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 6.7.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 6.7.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 6.7.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 6.7.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 6.7.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 6.7.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 6.7.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 6.7.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1281:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1303:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1145:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 6.7.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1575:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1556:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2332:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1279:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1139:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '1B07A724C74911BE',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8343,
  Timestamp_u: 1650327521199151,
  'X-Trace': '2BAF98BDE4833723AA1C749D7D41211C290000000022221539ACF6F64B01',
  _V: '1',
  'sw.parent_span_id': '1b07a724c74911be',
  'sw.trace_context': '00-af98bde4833723aa1c749d7d41211c29-22221539acf6f64b-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 6.7.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 6.7.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 20 packages, removed 9 packages, changed 7 packages, and audited 903 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:18:49.850Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:18:49.851Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:18:49.851Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:18:49.851Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:18:49.923Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:18:50.058Z solarwinds-apm:patching patched crypto 
2022-04-19T00:18:50.080Z solarwinds-apm:patching patched https 
2022-04-19T00:18:50.080Z solarwinds-apm:patching patched http 
2022-04-19T00:18:50.143Z solarwinds-apm:patching patched zlib 
2022-04-19T00:18:50.149Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:18:50.149Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:18:50.150Z solarwinds-apm:patching patched fs 
2022-04-19T00:18:50.326Z solarwinds-apm:patching patched dns 
2022-04-19T00:18:50.363Z solarwinds-apm:patching patched tedious 7.0.0
2022-04-19T00:18:50.367Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 7.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should sanitize query with no database name
    17) should sanitize query with no database name
    18) should truncate long queries with no database name
    19) "before each" hook for "should tag queries when feature is enabled"


  3 passing (4s)
  19 failing

  1) probes.tedious 7.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 7.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 7.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 7.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 7.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 7.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 7.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 7.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 7.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 7.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 7.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 7.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 7.0.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 7.0.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 7.0.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 7.0.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 7.0.0
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 7.0.0 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 7.0.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 7.0.0
       "before each" hook for "should tag queries when feature is enabled":
     Uncaught ConnectionError: Connection lost - socket hang up
      at ConnectionError (node_modules/tedious/lib/errors.js:13:12)
      at Connection.socketError (node_modules/tedious/lib/connection.js:1292:54)
      at Connection.socketEnd (node_modules/tedious/lib/connection.js:1310:12)
      at Socket.<anonymous> (node_modules/tedious/lib/connection.js:1129:14)
      at Socket.emit (node:events:539:35)
      at endReadableNT (node:internal/streams/readable:1345:12)
      at processTicksAndRejections (node:internal/process/task_queues:83:21)




added 1 package, changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:02.700Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:02.700Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:02.700Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:02.700Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:02.770Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:02.902Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:02.922Z solarwinds-apm:patching patched https 
2022-04-19T00:19:02.922Z solarwinds-apm:patching patched http 
2022-04-19T00:19:02.986Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:02.993Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:02.993Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:02.993Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:03.168Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:03.238Z solarwinds-apm:patching patched tedious 8.0.0
2022-04-19T00:19:03.242Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (3s)
  13 failing

  1) probes.tedious 8.0.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.0.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.0.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.0.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.0.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.0.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.0.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.0.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.0.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.0.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.0.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.0.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1573:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1554:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2330:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1277:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1137:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '606D0761BC88D997',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8473,
  Timestamp_u: 1650327545760708,
  'X-Trace': '2B32B8231445BBC8E5235F16F964D18082000000009AB30EF7C8E1CFA801',
  _V: '1',
  'sw.parent_span_id': '606d0761bc88d997',
  'sw.trace_context': '00-32b8231445bbc8e5235f16f964d18082-9ab30ef7c8e1cfa8-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.0.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:13.749Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:13.750Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:13.750Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:13.750Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:13.820Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:13.959Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:13.979Z solarwinds-apm:patching patched https 
2022-04-19T00:19:13.980Z solarwinds-apm:patching patched http 
2022-04-19T00:19:14.045Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:14.051Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:14.052Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:14.052Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:14.224Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:14.283Z solarwinds-apm:patching patched tedious 8.0.1
2022-04-19T00:19:14.287Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should truncate long queries with a database name
    7) should tag queries when feature is enabled
    8) "before each" hook for "should do nothing when disabled with a database name"
    9) should tag queries when feature is enabled


  3 passing (2s)
  9 failing

  1) probes.tedious 8.0.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.0.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.0.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.0.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.0.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.0.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentLogin7WithStandardLogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1279:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1301:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1143:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.0.1
       "before each" hook for "should do nothing when disabled with a database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1573:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1554:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2328:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1277:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1137:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:46:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'B24F612005D1DF19',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 0, \'?\'',
  QueryTag: '/*traceparent=\'00-08662feff14fecdedcb77608caa26673-333c36270f6b09ce-01\'*/',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8538,
  Timestamp_u: 1650327556585001,
  'X-Trace': '2B08662FEFF14FECDEDCB77608CAA2667300000000333C36270F6B09CE01',
  _V: '1',
  'sw.parent_span_id': 'b24f612005d1df19',
  'sw.trace_context': '00-08662feff14fecdedcb77608caa26673-333c36270f6b09ce-01'
} to have property Query of 'select 42, \'hello world\'' (got 'select 0, \'?\'')
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:164:19)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:224:25
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.0.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.0.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 2 packages, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:25.064Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:25.065Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:25.065Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:25.065Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:25.135Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:25.267Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:25.288Z solarwinds-apm:patching patched https 
2022-04-19T00:19:25.288Z solarwinds-apm:patching patched http 
2022-04-19T00:19:25.349Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:25.355Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:25.355Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:25.355Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:25.523Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:25.593Z solarwinds-apm:patching patched tedious 8.1.0
2022-04-19T00:19:25.598Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (3s)
  13 failing

  1) probes.tedious 8.1.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.1.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.1.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.1.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.1.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.1.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.1.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.1.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.1.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.1.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.1.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.1.0
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1581:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1562:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2328:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1282:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1142:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:47:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: 'CD61EC8817E0DA94',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8603,
  Timestamp_u: 1650327568119427,
  'X-Trace': '2B1EBBE4B1DD2EE81C8EF2A159EE138D0500000000F5C436A76A6704FE01',
  _V: '1',
  'sw.parent_span_id': 'cd61ec8817e0da94',
  'sw.trace_context': '00-1ebbe4b1dd2ee81c8ef2a159ee138d05-f5c436a76a6704fe-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.1.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:35.543Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:35.544Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:35.544Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:35.544Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:35.614Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:35.760Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:35.781Z solarwinds-apm:patching patched https 
2022-04-19T00:19:35.781Z solarwinds-apm:patching patched http 
2022-04-19T00:19:35.856Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:35.863Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:35.863Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:35.863Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:36.033Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:36.092Z solarwinds-apm:patching patched tedious 8.1.1
2022-04-19T00:19:36.097Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) "before each" hook for "should support basic queries with no database name"
    13) should do nothing when disabled with a database name


  3 passing (2s)
  13 failing

  1) probes.tedious 8.1.1
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.1.1
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.1.1
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.1.1
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.1.1
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.1.1
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.1.1
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.1.1
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.1.1
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.1.1
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.1.1
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1282:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1304:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1146:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.1.1
       "before each" hook for "should support basic queries with no database name":
     Uncaught AssertionError: expected Object {
  Async: true,
  Backtrace: 'at Object.backtrace (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:285:15)\nat runSpan (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:922:43)\nat runInstrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:909:10)\nat Object.instrument (/__w/appoptics-apm-node/appoptics-apm-node/lib/api.js:800:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/lib/probes/tedious.js:70:15)\nat Connection.execSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1579:10)\nat Connection.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:284:18)\nat Connection.clsBind (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/ace-context/context.js:263:17)\nat Connection.emit (node:events:527:28)\nat Connection.emitted (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/emitter-listener/listener.js:134:21)\nat Connection.processedInitialSql (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1560:10)\nat Connection.message (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:2331:14)\nat Connection.dispatchEvent (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1280:15)\nat MessageIO.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1140:14)\nat MessageIO.emit (node:events:527:28)\nat Message.<anonymous> (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/message-io.js:47:14)\nat Message.emit (node:events:539:35)\nat endReadableNT (/__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/node_modules/readable-stream/lib/_stream_readable.js:1094:12)\nat processTicksAndRejections (node:internal/process/task_queues:83:21)',
  Database: '',
  Edge: '7152FE9D413E4A6D',
  Flavor: 'mssql',
  Hostname: '8d6d5de4a9d0',
  Label: 'entry',
  Layer: 'mssql',
  Query: 'select 42, \'hello world\'',
  QueryArgs: '{}',
  RemoteHost: 'mssql:1433',
  Spec: 'query',
  TID: 8668,
  Timestamp_u: 1650327578572238,
  'X-Trace': '2B37362FBDF4324A16DC23A498062AEEE5000000005B812150CC97D9C801',
  _V: '1',
  'sw.parent_span_id': '7152fe9d413e4a6d',
  'sw.trace_context': '00-37362fbdf4324a16dc23a498062aeee5-5b812150cc97d9c8-01'
} not to have property Query (false negative fail)
      at Assertion.fail (node_modules/should/lib/assertion.js:92:17)
      at Assertion.value [as property] (node_modules/should/lib/assertion.js:174:17)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:248:29
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.1.1
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.1.1 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:46.691Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:46.691Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:46.692Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:46.692Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:46.761Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:46.896Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:46.917Z solarwinds-apm:patching patched https 
2022-04-19T00:19:46.917Z solarwinds-apm:patching patched http 
2022-04-19T00:19:46.978Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:46.985Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:46.985Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:46.985Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:47.155Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:47.215Z solarwinds-apm:patching patched tedious 8.2.0
2022-04-19T00:19:47.219Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    1) should support basic queries with a database name
    2) should support basic queries with a database name
    3) should support parameters with a database name
    4) should support parameters with a database name
    5) should sanitize query with a database name
    6) should sanitize query with a database name
    7) should truncate long queries with a database name
    8) should truncate long queries with a database name
    9) should tag queries when feature is enabled
    10) should tag queries when feature is enabled
    11) should do nothing when disabled with a database name
    12) should do nothing when disabled with a database name
    13) should support basic queries with no database name
    14) should support basic queries with no database name
    15) should support parameters with no database name
    16) should support parameters with no database name
    17) should sanitize query with no database name
    18) should sanitize query with no database name
    19) should truncate long queries with no database name
    20) should truncate long queries with no database name
    21) should tag queries when feature is enabled
    22) should tag queries when feature is enabled
    23) should do nothing when disabled with no database name


  3 passing (4s)
  23 failing

  1) probes.tedious 8.2.0
       should support basic queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.tedious 8.2.0
       should support basic queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.tedious 8.2.0
       should support parameters with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.tedious 8.2.0
       should support parameters with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.tedious 8.2.0
       should sanitize query with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.tedious 8.2.0
       should sanitize query with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should sanitize query with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.tedious 8.2.0
       should truncate long queries with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.tedious 8.2.0
       should truncate long queries with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should truncate long queries with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.tedious 8.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.tedious 8.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.tedious 8.2.0
       should do nothing when disabled with a database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.tedious 8.2.0
       should do nothing when disabled with a database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should do nothing when disabled with a database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:250:9
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.tedious 8.2.0
       should support basic queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.tedious 8.2.0
       should support basic queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support basic queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.tedious 8.2.0
       should support parameters with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.tedious 8.2.0
       should support parameters with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should support parameters with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.tedious 8.2.0
       should sanitize query with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.tedious 8.2.0
       should sanitize query with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should sanitize query with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:175:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.tedious 8.2.0
       should truncate long queries with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.tedious 8.2.0
       should truncate long queries with no database name:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should truncate long queries with no database name> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:207:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.tedious 8.2.0
       should tag queries when feature is enabled:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.tedious 8.2.0
       should tag queries when feature is enabled:
     Error: done() called multiple times in test <probes.tedious 8.2.0 should tag queries when feature is enabled> of file /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/tedious.test.js:231:7
      at EventEmitter.onMessage (test/helper.js:183:7)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.tedious 8.2.0
       should do nothing when disabled with no database name:
     Uncaught Error: No event 'socketConnect' in state 'SentPrelogin'
      at Connection.dispatchEvent (node_modules/tedious/lib/connection.js:1284:26)
      at Connection.socketConnect (node_modules/tedious/lib/connection.js:1306:10)
      at /__w/appoptics-apm-node/appoptics-apm-node/node_modules/tedious/lib/connection.js:1148:12
      at Socket.onConnect (node_modules/tedious/lib/connector.js:106:7)
      at Socket.emit (node:events:527:28)
      at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1181:10)
      at TCPConnectWrap.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:19:58.484Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:19:58.485Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:19:58.485Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:19:58.485Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:19:58.580Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:19:58.776Z solarwinds-apm:patching patched crypto 
2022-04-19T00:19:58.796Z solarwinds-apm:patching patched https 
2022-04-19T00:19:58.797Z solarwinds-apm:patching patched http 
2022-04-19T00:19:58.868Z solarwinds-apm:patching patched zlib 
2022-04-19T00:19:58.874Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:19:58.874Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:19:58.875Z solarwinds-apm:patching patched fs 
2022-04-19T00:19:59.045Z solarwinds-apm:patching patched dns 
2022-04-19T00:19:59.104Z solarwinds-apm:patching patched tedious 8.3.0
2022-04-19T00:19:59.109Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (129ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:20:10.877Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:10.877Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:10.877Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:10.877Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:10.961Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:11.112Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:11.133Z solarwinds-apm:patching patched https 
2022-04-19T00:20:11.134Z solarwinds-apm:patching patched http 
2022-04-19T00:20:11.194Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:11.201Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:11.201Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:11.201Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:11.368Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:11.426Z solarwinds-apm:patching patched tedious 8.3.1
2022-04-19T00:20:11.430Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 8.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (134ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:20:23.463Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:23.464Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:23.464Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:23.464Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:23.542Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:23.744Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:23.780Z solarwinds-apm:patching patched https 
2022-04-19T00:20:23.781Z solarwinds-apm:patching patched http 
2022-04-19T00:20:23.917Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:23.923Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:23.924Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:23.924Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:24.164Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:24.259Z solarwinds-apm:patching patched tedious 9.0.0
2022-04-19T00:20:24.265Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (121ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:20:35.593Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:35.594Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:35.594Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:35.594Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:35.681Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:35.831Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:35.851Z solarwinds-apm:patching patched https 
2022-04-19T00:20:35.851Z solarwinds-apm:patching patched http 
2022-04-19T00:20:35.932Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:35.938Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:35.939Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:35.939Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:36.134Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:36.195Z solarwinds-apm:patching patched tedious 9.0.1
2022-04-19T00:20:36.199Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (121ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:20:48.961Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:20:48.962Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:20:48.962Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:20:48.962Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:20:49.035Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:20:49.185Z solarwinds-apm:patching patched crypto 
2022-04-19T00:20:49.205Z solarwinds-apm:patching patched https 
2022-04-19T00:20:49.205Z solarwinds-apm:patching patched http 
2022-04-19T00:20:49.292Z solarwinds-apm:patching patched zlib 
2022-04-19T00:20:49.299Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:20:49.299Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:20:49.300Z solarwinds-apm:patching patched fs 
2022-04-19T00:20:49.573Z solarwinds-apm:patching patched dns 
2022-04-19T00:20:49.640Z solarwinds-apm:patching patched tedious 9.1.0
2022-04-19T00:20:49.645Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (122ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 3 packages, and audited 904 packages in 9s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:21:03.140Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:03.140Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:03.140Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:03.140Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:03.208Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:03.337Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:03.357Z solarwinds-apm:patching patched https 
2022-04-19T00:21:03.357Z solarwinds-apm:patching patched http 
2022-04-19T00:21:03.421Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:03.427Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:03.427Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:03.428Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:03.592Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:03.691Z solarwinds-apm:patching patched tedious 9.1.1
2022-04-19T00:21:03.695Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (119ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 9s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:21:16.965Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:16.966Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:16.966Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:16.966Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:17.035Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:17.166Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:17.192Z solarwinds-apm:patching patched https 
2022-04-19T00:21:17.194Z solarwinds-apm:patching patched http 
2022-04-19T00:21:17.277Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:17.283Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:17.284Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:17.284Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:17.455Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:17.515Z solarwinds-apm:patching patched tedious 9.2.0
2022-04-19T00:21:17.519Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (121ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name (47ms)
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 904 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

4 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix

Run `npm audit` for details.
2022-04-19T00:21:29.876Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:29.876Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:29.876Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:29.876Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:29.944Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:30.077Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:30.105Z solarwinds-apm:patching patched https 
2022-04-19T00:21:30.106Z solarwinds-apm:patching patched http 
2022-04-19T00:21:30.171Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:30.178Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:30.178Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:30.178Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:30.358Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:30.423Z solarwinds-apm:patching patched tedious 9.2.1
2022-04-19T00:21:30.428Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.2.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (121ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 7 packages, removed 20 packages, changed 7 packages, and audited 891 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:21:42.476Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:42.476Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:42.476Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:42.476Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:42.545Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:42.701Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:42.722Z solarwinds-apm:patching patched https 
2022-04-19T00:21:42.722Z solarwinds-apm:patching patched http 
2022-04-19T00:21:42.807Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:42.811Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:42.811Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:42.811Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:42.900Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:42.972Z solarwinds-apm:patching patched tedious 9.2.2
2022-04-19T00:21:42.976Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.2.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (212ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN deprecated har-validator@5.1.5: this library is no longer supported
npm WARN deprecated request@2.88.2: request has been deprecated, see https://github.com/request/request/issues/3142

added 23 packages, removed 2 packages, changed 3 packages, and audited 912 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:21:55.281Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:21:55.282Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:21:55.282Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:21:55.282Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:21:55.404Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:21:55.587Z solarwinds-apm:patching patched crypto 
2022-04-19T00:21:55.610Z solarwinds-apm:patching patched https 
2022-04-19T00:21:55.611Z solarwinds-apm:patching patched http 
2022-04-19T00:21:55.697Z solarwinds-apm:patching patched zlib 
2022-04-19T00:21:55.700Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:21:55.701Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:21:55.701Z solarwinds-apm:patching patched fs 
2022-04-19T00:21:55.792Z solarwinds-apm:patching patched dns 
2022-04-19T00:21:55.965Z solarwinds-apm:patching patched tedious 9.2.3
2022-04-19T00:21:55.970Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 9.2.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (124ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 912 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues (including breaking changes), run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:22:08.843Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:08.844Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:08.844Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:08.844Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:08.912Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:09.042Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:09.062Z solarwinds-apm:patching patched https 
2022-04-19T00:22:09.063Z solarwinds-apm:patching patched http 
2022-04-19T00:22:09.144Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:09.147Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:09.148Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:09.148Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:09.236Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:09.404Z solarwinds-apm:patching patched tedious 10.0.0
2022-04-19T00:22:09.408Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 10.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (120ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 912 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

3 moderate severity vulnerabilities

To address all issues, run:
  npm audit fix --force

Run `npm audit` for details.
2022-04-19T00:22:21.446Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:21.446Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:21.446Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:21.447Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:21.514Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:21.646Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:21.666Z solarwinds-apm:patching patched https 
2022-04-19T00:22:21.667Z solarwinds-apm:patching patched http 
2022-04-19T00:22:21.750Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:21.754Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:21.755Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:21.755Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:21.844Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:22.015Z solarwinds-apm:patching patched tedious 11.0.0
2022-04-19T00:22:22.020Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (124ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 3 packages, removed 23 packages, changed 4 packages, and audited 892 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:22:33.735Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:33.736Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:33.736Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:33.736Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:33.805Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:33.932Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:33.953Z solarwinds-apm:patching patched https 
2022-04-19T00:22:33.954Z solarwinds-apm:patching patched http 
2022-04-19T00:22:34.033Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:34.037Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:34.037Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:34.038Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:34.129Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:34.204Z solarwinds-apm:patching patched tedious 11.0.1
2022-04-19T00:22:34.208Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (122ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 1 package, changed 1 package, and audited 893 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:22:46.557Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:46.557Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:46.557Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:46.557Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:46.627Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:46.759Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:46.780Z solarwinds-apm:patching patched https 
2022-04-19T00:22:46.780Z solarwinds-apm:patching patched http 
2022-04-19T00:22:46.862Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:46.866Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:46.866Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:46.866Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:46.955Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:47.028Z solarwinds-apm:patching patched tedious 11.0.2
2022-04-19T00:22:47.032Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (130ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:22:58.642Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:22:58.643Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:22:58.643Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:22:58.643Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:22:58.711Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:22:58.860Z solarwinds-apm:patching patched crypto 
2022-04-19T00:22:58.896Z solarwinds-apm:patching patched https 
2022-04-19T00:22:58.897Z solarwinds-apm:patching patched http 
2022-04-19T00:22:58.978Z solarwinds-apm:patching patched zlib 
2022-04-19T00:22:58.982Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:22:58.982Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:22:58.983Z solarwinds-apm:patching patched fs 
2022-04-19T00:22:59.082Z solarwinds-apm:patching patched dns 
2022-04-19T00:22:59.145Z solarwinds-apm:patching patched tedious 11.0.3
2022-04-19T00:22:59.149Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (292ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 20s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:23:23.586Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:23:23.586Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:23:23.586Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:23:23.587Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:23:23.654Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:23:23.786Z solarwinds-apm:patching patched crypto 
2022-04-19T00:23:23.816Z solarwinds-apm:patching patched https 
2022-04-19T00:23:23.817Z solarwinds-apm:patching patched http 
2022-04-19T00:23:23.919Z solarwinds-apm:patching patched zlib 
2022-04-19T00:23:23.923Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:23:23.932Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:23:23.934Z solarwinds-apm:patching patched fs 
2022-04-19T00:23:24.040Z solarwinds-apm:patching patched dns 
2022-04-19T00:23:24.121Z solarwinds-apm:patching patched tedious 11.0.4
2022-04-19T00:23:24.125Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (139ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:23:37.286Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:23:37.287Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:23:37.287Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:23:37.287Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:23:37.394Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:23:37.528Z solarwinds-apm:patching patched crypto 
2022-04-19T00:23:37.547Z solarwinds-apm:patching patched https 
2022-04-19T00:23:37.548Z solarwinds-apm:patching patched http 
2022-04-19T00:23:37.631Z solarwinds-apm:patching patched zlib 
2022-04-19T00:23:37.635Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:23:37.635Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:23:37.635Z solarwinds-apm:patching patched fs 
2022-04-19T00:23:37.722Z solarwinds-apm:patching patched dns 
2022-04-19T00:23:37.795Z solarwinds-apm:patching patched tedious 11.0.5
2022-04-19T00:23:37.799Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (120ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 7s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:23:49.848Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:23:49.848Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:23:49.849Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:23:49.849Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:23:49.916Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:23:50.043Z solarwinds-apm:patching patched crypto 
2022-04-19T00:23:50.062Z solarwinds-apm:patching patched https 
2022-04-19T00:23:50.062Z solarwinds-apm:patching patched http 
2022-04-19T00:23:50.143Z solarwinds-apm:patching patched zlib 
2022-04-19T00:23:50.147Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:23:50.148Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:23:50.148Z solarwinds-apm:patching patched fs 
2022-04-19T00:23:50.233Z solarwinds-apm:patching patched dns 
2022-04-19T00:23:50.308Z solarwinds-apm:patching patched tedious 11.0.6
2022-04-19T00:23:50.312Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.6
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (123ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:03.360Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:03.361Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:03.361Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:03.361Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:03.430Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:03.563Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:03.584Z solarwinds-apm:patching patched https 
2022-04-19T00:24:03.584Z solarwinds-apm:patching patched http 
2022-04-19T00:24:03.668Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:03.672Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:03.673Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:03.673Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:03.762Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:03.837Z solarwinds-apm:patching patched tedious 11.0.7
2022-04-19T00:24:03.841Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.7
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (126ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name (55ms)
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 893 packages in 8s

88 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:16.415Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:16.415Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:16.415Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:16.415Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:16.501Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:16.642Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:16.695Z solarwinds-apm:patching patched https 
2022-04-19T00:24:16.696Z solarwinds-apm:patching patched http 
2022-04-19T00:24:16.768Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:16.772Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:16.773Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:16.773Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:16.890Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:16.962Z solarwinds-apm:patching patched tedious 11.0.8
2022-04-19T00:24:16.966Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.8
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (127ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 99 packages, removed 2 packages, changed 5 packages, and audited 990 packages in 10s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:32.037Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:32.038Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:32.038Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:32.038Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:32.106Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:32.239Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:32.258Z solarwinds-apm:patching patched https 
2022-04-19T00:24:32.258Z solarwinds-apm:patching patched http 
2022-04-19T00:24:32.342Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:32.346Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:32.347Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:32.347Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:32.467Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:32.549Z solarwinds-apm:patching patched tedious 11.0.9
2022-04-19T00:24:32.553Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.9
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (123ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 990 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:45.853Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:45.854Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:45.854Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:45.854Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:45.925Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:46.061Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:46.081Z solarwinds-apm:patching patched https 
2022-04-19T00:24:46.081Z solarwinds-apm:patching patched http 
2022-04-19T00:24:46.167Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:46.171Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:46.171Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:46.172Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:46.262Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:46.368Z solarwinds-apm:patching patched tedious 11.0.10
2022-04-19T00:24:46.380Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.0.10
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (127ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 990 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:24:59.109Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:24:59.110Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:24:59.110Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:24:59.110Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:24:59.179Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:24:59.317Z solarwinds-apm:patching patched crypto 
2022-04-19T00:24:59.337Z solarwinds-apm:patching patched https 
2022-04-19T00:24:59.338Z solarwinds-apm:patching patched http 
2022-04-19T00:24:59.419Z solarwinds-apm:patching patched zlib 
2022-04-19T00:24:59.422Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:24:59.423Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:24:59.423Z solarwinds-apm:patching patched fs 
2022-04-19T00:24:59.512Z solarwinds-apm:patching patched dns 
2022-04-19T00:24:59.587Z solarwinds-apm:patching patched tedious 11.1.0
2022-04-19T00:24:59.591Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (167ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 990 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:11.508Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:11.509Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:11.509Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:11.510Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:11.608Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:11.807Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:11.848Z solarwinds-apm:patching patched https 
2022-04-19T00:25:11.848Z solarwinds-apm:patching patched http 
2022-04-19T00:25:11.938Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:11.942Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:11.943Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:11.943Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:12.081Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:12.153Z solarwinds-apm:patching patched tedious 11.1.1
2022-04-19T00:25:12.162Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.1.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (131ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 990 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:24.987Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:24.988Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:24.988Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:24.988Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:25.072Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:25.239Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:25.289Z solarwinds-apm:patching patched https 
2022-04-19T00:25:25.290Z solarwinds-apm:patching patched http 
2022-04-19T00:25:25.391Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:25.395Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:25.396Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:25.396Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:25.570Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:25.677Z solarwinds-apm:patching patched tedious 11.2.0
2022-04-19T00:25:25.685Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (138ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


added 1 package, changed 4 packages, and audited 991 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:39.131Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:39.131Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:39.131Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:39.131Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:39.200Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:39.338Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:39.357Z solarwinds-apm:patching patched https 
2022-04-19T00:25:39.358Z solarwinds-apm:patching patched http 
2022-04-19T00:25:39.438Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:39.442Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:39.443Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:39.443Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:39.531Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:39.607Z solarwinds-apm:patching patched tedious 11.3.0
2022-04-19T00:25:39.611Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (124ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:25:53.020Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:25:53.021Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:25:53.021Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:25:53.021Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:25:53.090Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:25:53.224Z solarwinds-apm:patching patched crypto 
2022-04-19T00:25:53.244Z solarwinds-apm:patching patched https 
2022-04-19T00:25:53.245Z solarwinds-apm:patching patched http 
2022-04-19T00:25:53.325Z solarwinds-apm:patching patched zlib 
2022-04-19T00:25:53.329Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:25:53.329Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:25:53.330Z solarwinds-apm:patching patched fs 
2022-04-19T00:25:53.418Z solarwinds-apm:patching patched dns 
2022-04-19T00:25:53.496Z solarwinds-apm:patching patched tedious 11.3.1
2022-04-19T00:25:53.501Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.3.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (127ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:06.848Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:06.849Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:06.849Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:06.849Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:06.916Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:07.052Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:07.072Z solarwinds-apm:patching patched https 
2022-04-19T00:26:07.072Z solarwinds-apm:patching patched http 
2022-04-19T00:26:07.153Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:07.157Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:07.157Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:07.158Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:07.243Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:07.322Z solarwinds-apm:patching patched tedious 11.4.0
2022-04-19T00:26:07.326Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (127ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:20.169Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:20.170Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:20.170Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:20.170Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:20.239Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:20.373Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:20.392Z solarwinds-apm:patching patched https 
2022-04-19T00:26:20.393Z solarwinds-apm:patching patched http 
2022-04-19T00:26:20.484Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:20.488Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:20.488Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:20.488Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:20.587Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:20.653Z solarwinds-apm:patching patched tedious 11.4.1
2022-04-19T00:26:20.658Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.4.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (128ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:34.555Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:34.556Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:34.556Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:34.556Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:34.625Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:34.759Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:34.779Z solarwinds-apm:patching patched https 
2022-04-19T00:26:34.779Z solarwinds-apm:patching patched http 
2022-04-19T00:26:34.860Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:34.863Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:34.863Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:34.864Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:34.949Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:35.028Z solarwinds-apm:patching patched tedious 11.4.2
2022-04-19T00:26:35.032Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.4.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (122ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:46.586Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:46.587Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:46.587Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:46.587Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:46.655Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:46.791Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:46.812Z solarwinds-apm:patching patched https 
2022-04-19T00:26:46.813Z solarwinds-apm:patching patched http 
2022-04-19T00:26:46.918Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:46.922Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:46.922Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:46.923Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:47.017Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:47.104Z solarwinds-apm:patching patched tedious 11.5.0
2022-04-19T00:26:47.108Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.5.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (137ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:26:58.661Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:26:58.662Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:26:58.662Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:26:58.662Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:26:58.732Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:26:58.876Z solarwinds-apm:patching patched crypto 
2022-04-19T00:26:58.895Z solarwinds-apm:patching patched https 
2022-04-19T00:26:58.896Z solarwinds-apm:patching patched http 
2022-04-19T00:26:58.972Z solarwinds-apm:patching patched zlib 
2022-04-19T00:26:58.975Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:26:58.976Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:26:58.976Z solarwinds-apm:patching patched fs 
2022-04-19T00:26:59.063Z solarwinds-apm:patching patched dns 
2022-04-19T00:26:59.148Z solarwinds-apm:patching patched tedious 11.6.0
2022-04-19T00:26:59.153Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.6.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (189ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:11.012Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:11.013Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:11.013Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:11.013Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:11.082Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:11.217Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:11.237Z solarwinds-apm:patching patched https 
2022-04-19T00:27:11.237Z solarwinds-apm:patching patched http 
2022-04-19T00:27:11.337Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:11.341Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:11.341Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:11.342Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:11.456Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:11.544Z solarwinds-apm:patching patched tedious 11.6.1
2022-04-19T00:27:11.548Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.6.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (153ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:23.522Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:23.523Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:23.523Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:23.523Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:23.606Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:23.757Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:23.812Z solarwinds-apm:patching patched https 
2022-04-19T00:27:23.813Z solarwinds-apm:patching patched http 
2022-04-19T00:27:23.879Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:23.883Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:23.884Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:23.884Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:24.007Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:24.092Z solarwinds-apm:patching patched tedious 11.7.0
2022-04-19T00:27:24.097Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.7.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (121ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:36.107Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:36.108Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:36.108Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:36.108Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:36.193Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:36.344Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:36.384Z solarwinds-apm:patching patched https 
2022-04-19T00:27:36.385Z solarwinds-apm:patching patched http 
2022-04-19T00:27:36.510Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:36.521Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:36.522Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:36.522Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:36.727Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:36.828Z solarwinds-apm:patching patched tedious 11.8.0
2022-04-19T00:27:36.833Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 11.8.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (124ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:27:50.017Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:27:50.018Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:27:50.018Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:27:50.018Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:27:50.086Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:27:50.221Z solarwinds-apm:patching patched crypto 
2022-04-19T00:27:50.240Z solarwinds-apm:patching patched https 
2022-04-19T00:27:50.241Z solarwinds-apm:patching patched http 
2022-04-19T00:27:50.316Z solarwinds-apm:patching patched zlib 
2022-04-19T00:27:50.320Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:27:50.320Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:27:50.320Z solarwinds-apm:patching patched fs 
2022-04-19T00:27:50.407Z solarwinds-apm:patching patched dns 
2022-04-19T00:27:50.493Z solarwinds-apm:patching patched tedious 12.0.0
2022-04-19T00:27:50.497Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 12.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (125ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:28:04.158Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:28:04.158Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:28:04.158Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:28:04.158Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:28:04.230Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:28:04.366Z solarwinds-apm:patching patched crypto 
2022-04-19T00:28:04.386Z solarwinds-apm:patching patched https 
2022-04-19T00:28:04.386Z solarwinds-apm:patching patched http 
2022-04-19T00:28:04.468Z solarwinds-apm:patching patched zlib 
2022-04-19T00:28:04.472Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:28:04.472Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:28:04.473Z solarwinds-apm:patching patched fs 
2022-04-19T00:28:04.562Z solarwinds-apm:patching patched dns 
2022-04-19T00:28:04.648Z solarwinds-apm:patching patched tedious 12.1.0
2022-04-19T00:28:04.652Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 12.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (125ms)
    ✔ should support parameters with a database name (39ms)
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 991 packages in 20s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:28:28.870Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:28:28.871Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:28:28.871Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:28:28.871Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:28:28.942Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:28:29.085Z solarwinds-apm:patching patched crypto 
2022-04-19T00:28:29.119Z solarwinds-apm:patching patched https 
2022-04-19T00:28:29.120Z solarwinds-apm:patching patched http 
2022-04-19T00:28:29.254Z solarwinds-apm:patching patched zlib 
2022-04-19T00:28:29.258Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:28:29.259Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:28:29.259Z solarwinds-apm:patching patched fs 
2022-04-19T00:28:29.347Z solarwinds-apm:patching patched dns 
2022-04-19T00:28:29.432Z solarwinds-apm:patching patched tedious 12.2.0
2022-04-19T00:28:29.436Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 12.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (124ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 3 packages, and audited 991 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:28:42.682Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:28:42.683Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:28:42.683Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:28:42.683Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:28:42.753Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:28:42.901Z solarwinds-apm:patching patched crypto 
2022-04-19T00:28:42.921Z solarwinds-apm:patching patched https 
2022-04-19T00:28:42.921Z solarwinds-apm:patching patched http 
2022-04-19T00:28:43.007Z solarwinds-apm:patching patched zlib 
2022-04-19T00:28:43.011Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:28:43.012Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:28:43.012Z solarwinds-apm:patching patched fs 
2022-04-19T00:28:43.102Z solarwinds-apm:patching patched dns 
2022-04-19T00:28:43.193Z solarwinds-apm:patching patched tedious 12.3.0
2022-04-19T00:28:43.197Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 12.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (122ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


removed 17 packages, changed 2 packages, and audited 974 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:28:56.586Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:28:56.587Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:28:56.587Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:28:56.587Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:28:56.655Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:28:56.787Z solarwinds-apm:patching patched crypto 
2022-04-19T00:28:56.807Z solarwinds-apm:patching patched https 
2022-04-19T00:28:56.807Z solarwinds-apm:patching patched http 
2022-04-19T00:28:56.888Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:28:56.889Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:28:56.889Z solarwinds-apm:patching patched fs 
2022-04-19T00:28:56.916Z solarwinds-apm:patching patched zlib 
2022-04-19T00:28:56.999Z solarwinds-apm:patching patched dns 
2022-04-19T00:28:57.079Z solarwinds-apm:patching patched tedious 13.0.0
2022-04-19T00:28:57.083Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (133ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name (38ms)
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:29:09.687Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:29:09.688Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:29:09.688Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:29:09.696Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:29:09.784Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:29:09.918Z solarwinds-apm:patching patched crypto 
2022-04-19T00:29:09.938Z solarwinds-apm:patching patched https 
2022-04-19T00:29:09.938Z solarwinds-apm:patching patched http 
2022-04-19T00:29:10.013Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:29:10.013Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:29:10.014Z solarwinds-apm:patching patched fs 
2022-04-19T00:29:10.038Z solarwinds-apm:patching patched zlib 
2022-04-19T00:29:10.121Z solarwinds-apm:patching patched dns 
2022-04-19T00:29:10.202Z solarwinds-apm:patching patched tedious 13.0.1
2022-04-19T00:29:10.207Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.1
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (128ms)
    ✔ should support parameters with a database name (47ms)
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:29:21.949Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:29:21.950Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:29:21.950Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:29:21.950Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:29:22.019Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:29:22.171Z solarwinds-apm:patching patched crypto 
2022-04-19T00:29:22.217Z solarwinds-apm:patching patched https 
2022-04-19T00:29:22.217Z solarwinds-apm:patching patched http 
2022-04-19T00:29:22.301Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:29:22.301Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:29:22.301Z solarwinds-apm:patching patched fs 
2022-04-19T00:29:22.328Z solarwinds-apm:patching patched zlib 
2022-04-19T00:29:22.434Z solarwinds-apm:patching patched dns 
2022-04-19T00:29:22.594Z solarwinds-apm:patching patched tedious 13.0.2
2022-04-19T00:29:22.599Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.2
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (176ms)
    ✔ should support parameters with a database name (51ms)
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 10s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:29:36.944Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:29:36.945Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:29:36.945Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:29:36.945Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:29:37.013Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:29:37.147Z solarwinds-apm:patching patched crypto 
2022-04-19T00:29:37.167Z solarwinds-apm:patching patched https 
2022-04-19T00:29:37.168Z solarwinds-apm:patching patched http 
2022-04-19T00:29:37.245Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:29:37.245Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:29:37.246Z solarwinds-apm:patching patched fs 
2022-04-19T00:29:37.270Z solarwinds-apm:patching patched zlib 
2022-04-19T00:29:37.355Z solarwinds-apm:patching patched dns 
2022-04-19T00:29:37.439Z solarwinds-apm:patching patched tedious 13.0.3
2022-04-19T00:29:37.443Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.3
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (122ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:29:51.013Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:29:51.014Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:29:51.014Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:29:51.014Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:29:51.084Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:29:51.215Z solarwinds-apm:patching patched crypto 
2022-04-19T00:29:51.234Z solarwinds-apm:patching patched https 
2022-04-19T00:29:51.235Z solarwinds-apm:patching patched http 
2022-04-19T00:29:51.311Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:29:51.311Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:29:51.312Z solarwinds-apm:patching patched fs 
2022-04-19T00:29:51.337Z solarwinds-apm:patching patched zlib 
2022-04-19T00:29:51.422Z solarwinds-apm:patching patched dns 
2022-04-19T00:29:51.507Z solarwinds-apm:patching patched tedious 13.0.4
2022-04-19T00:29:51.521Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.4
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (125ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 9s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:30:04.768Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:30:04.768Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:30:04.768Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:30:04.769Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:30:04.837Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:30:04.970Z solarwinds-apm:patching patched crypto 
2022-04-19T00:30:04.990Z solarwinds-apm:patching patched https 
2022-04-19T00:30:04.990Z solarwinds-apm:patching patched http 
2022-04-19T00:30:05.072Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:30:05.073Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:30:05.073Z solarwinds-apm:patching patched fs 
2022-04-19T00:30:05.098Z solarwinds-apm:patching patched zlib 
2022-04-19T00:30:05.178Z solarwinds-apm:patching patched dns 
2022-04-19T00:30:05.262Z solarwinds-apm:patching patched tedious 13.0.5
2022-04-19T00:30:05.266Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.0.5
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (122ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:30:17.803Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:30:17.804Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:30:17.804Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:30:17.804Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:30:17.871Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:30:18.004Z solarwinds-apm:patching patched crypto 
2022-04-19T00:30:18.025Z solarwinds-apm:patching patched https 
2022-04-19T00:30:18.026Z solarwinds-apm:patching patched http 
2022-04-19T00:30:18.101Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:30:18.101Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:30:18.101Z solarwinds-apm:patching patched fs 
2022-04-19T00:30:18.128Z solarwinds-apm:patching patched zlib 
2022-04-19T00:30:18.211Z solarwinds-apm:patching patched dns 
2022-04-19T00:30:18.303Z solarwinds-apm:patching patched tedious 13.1.0
2022-04-19T00:30:18.307Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (149ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:30:31.096Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:30:31.096Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:30:31.097Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:30:31.097Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:30:31.162Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:30:31.297Z solarwinds-apm:patching patched crypto 
2022-04-19T00:30:31.336Z solarwinds-apm:patching patched https 
2022-04-19T00:30:31.337Z solarwinds-apm:patching patched http 
2022-04-19T00:30:31.400Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:30:31.400Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:30:31.401Z solarwinds-apm:patching patched fs 
2022-04-19T00:30:31.427Z solarwinds-apm:patching patched zlib 
2022-04-19T00:30:31.509Z solarwinds-apm:patching patched dns 
2022-04-19T00:30:31.602Z solarwinds-apm:patching patched tedious 13.2.0
2022-04-19T00:30:31.606Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 13.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (118ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:30:43.964Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:30:43.965Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:30:43.965Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:30:43.965Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:30:44.048Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:30:44.184Z solarwinds-apm:patching patched crypto 
2022-04-19T00:30:44.204Z solarwinds-apm:patching patched https 
2022-04-19T00:30:44.205Z solarwinds-apm:patching patched http 
2022-04-19T00:30:44.283Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:30:44.283Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:30:44.283Z solarwinds-apm:patching patched fs 
2022-04-19T00:30:44.309Z solarwinds-apm:patching patched zlib 
2022-04-19T00:30:44.394Z solarwinds-apm:patching patched dns 
2022-04-19T00:30:44.486Z solarwinds-apm:patching patched tedious 14.0.0
2022-04-19T00:30:44.491Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.0.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (123ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 8s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:30:57.060Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:30:57.060Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:30:57.060Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:30:57.060Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:30:57.129Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:30:57.263Z solarwinds-apm:patching patched crypto 
2022-04-19T00:30:57.282Z solarwinds-apm:patching patched https 
2022-04-19T00:30:57.283Z solarwinds-apm:patching patched http 
2022-04-19T00:30:57.361Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:30:57.362Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:30:57.362Z solarwinds-apm:patching patched fs 
2022-04-19T00:30:57.387Z solarwinds-apm:patching patched zlib 
2022-04-19T00:30:57.469Z solarwinds-apm:patching patched dns 
2022-04-19T00:30:57.568Z solarwinds-apm:patching patched tedious 14.1.0
2022-04-19T00:30:57.572Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.1.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (154ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name (41ms)
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)


changed 1 package, and audited 974 packages in 7s

94 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:31:08.919Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:31:08.919Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:31:08.920Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:31:08.920Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:31:09.012Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:31:09.161Z solarwinds-apm:patching patched crypto 
2022-04-19T00:31:09.184Z solarwinds-apm:patching patched https 
2022-04-19T00:31:09.184Z solarwinds-apm:patching patched http 
2022-04-19T00:31:09.305Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:31:09.305Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:31:09.306Z solarwinds-apm:patching patched fs 
2022-04-19T00:31:09.332Z solarwinds-apm:patching patched zlib 
2022-04-19T00:31:09.436Z solarwinds-apm:patching patched dns 
2022-04-19T00:31:09.535Z solarwinds-apm:patching patched tedious 14.2.0
2022-04-19T00:31:09.547Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.2.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (180ms)
    ✔ should support parameters with a database name (56ms)
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

added 5 packages, removed 47 packages, changed 5 packages, and audited 932 packages in 9s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:31:23.494Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:31:23.495Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:31:23.495Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:31:23.495Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:31:23.564Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:31:23.697Z solarwinds-apm:patching patched crypto 
2022-04-19T00:31:23.717Z solarwinds-apm:patching patched https 
2022-04-19T00:31:23.718Z solarwinds-apm:patching patched http 
2022-04-19T00:31:23.785Z solarwinds-apm:patching patched zlib 
2022-04-19T00:31:23.843Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:31:23.843Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:31:23.844Z solarwinds-apm:patching patched fs 
2022-04-19T00:31:23.890Z solarwinds-apm:patching patched dns 
2022-04-19T00:31:23.976Z solarwinds-apm:patching patched tedious 14.3.0
2022-04-19T00:31:23.980Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.3.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (125ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

changed 1 package, and audited 932 packages in 7s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
2022-04-19T00:31:36.212Z solarwinds-apm:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/solarwinds-apm-config
2022-04-19T00:31:36.213Z solarwinds-apm:debug guc ignoring SW_APM_LOG_SETTINGS
2022-04-19T00:31:36.213Z solarwinds-apm:debug serviceKey 2QGJ...n2tU:node-agent-test
2022-04-19T00:31:36.213Z solarwinds-apm:debug using context provider: ace-context
2022-04-19T00:31:36.282Z solarwinds-apm:debug apm 11.0.0-sw.0, bindings 12.0.0-sw.0, oboe 10.3.2
2022-04-19T00:31:36.414Z solarwinds-apm:patching patched crypto 
2022-04-19T00:31:36.434Z solarwinds-apm:patching patched https 
2022-04-19T00:31:36.434Z solarwinds-apm:patching patched http 
2022-04-19T00:31:36.501Z solarwinds-apm:patching patched zlib 
2022-04-19T00:31:36.558Z solarwinds-apm:patching fs.realpath - adding native method
2022-04-19T00:31:36.558Z solarwinds-apm:patching fsPromises.exists not a function
2022-04-19T00:31:36.559Z solarwinds-apm:patching patched fs 
2022-04-19T00:31:36.605Z solarwinds-apm:patching patched dns 
2022-04-19T00:31:36.691Z solarwinds-apm:patching patched tedious 14.4.0
2022-04-19T00:31:36.695Z solarwinds-apm:debug starting runtimeMetrics


  probes.tedious 14.4.0
    ✔ UDP might lose a message
    ✔ should be configured to sanitize SQL by default
    ✔ should be configured to not tag SQL by default
    ✔ should support basic queries with a database name (125ms)
    ✔ should support parameters with a database name
    ✔ should sanitize query with a database name
    ✔ should truncate long queries with a database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with a database name
    ✔ should support basic queries with no database name
    ✔ should support parameters with no database name
    ✔ should sanitize query with no database name
    ✔ should truncate long queries with no database name
    ✔ should tag queries when feature is enabled
    ✔ should do nothing when disabled with no database name


  15 passing (4s)

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: '@azure/msal-node@1.8.0',
npm WARN EBADENGINE   required: { node: '10 || 12 || 14 || 16' },
npm WARN EBADENGINE   current: { node: 'v17.9.0', npm: '8.5.5' }
npm WARN EBADENGINE }

up to date, audited 932 packages in 8s

90 packages are looking for funding
  run `npm fund` for details

found 0 vulnerabilities
