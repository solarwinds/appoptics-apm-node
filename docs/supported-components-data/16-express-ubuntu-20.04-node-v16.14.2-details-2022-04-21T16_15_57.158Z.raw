npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated mkdirp@0.3.3: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.11: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.6.0: connect 2.x series is deprecated

added 19 packages, removed 26 packages, changed 9 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:04.642Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:04.642Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:04.642Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:04.643Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:04.710Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:04.842Z appoptics:patching patched crypto 
2022-04-21T16:16:04.863Z appoptics:patching patched https 
2022-04-21T16:16:04.863Z appoptics:patching patched http 
2022-04-21T16:16:04.902Z appoptics:patching patched zlib 
2022-04-21T16:16:04.908Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:04.908Z appoptics:patching patched fs 
2022-04-21T16:16:04.952Z appoptics:patching express 3.0.0 does not support render spans
2022-04-21T16:16:04.952Z appoptics:patching patched express 3.0.0
2022-04-21T16:16:04.957Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:04.964Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.0
    ✓ UDP might lose a message
2022-04-21T16:16:05.004Z appoptics:patching patched raw-body 2.5.1
(node:446) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (220ms)
  3 pending

npm WARN deprecated connect@2.6.2: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 2 packages, and audited 919 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:13.712Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:13.713Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:13.713Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:13.714Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:13.781Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:13.948Z appoptics:patching patched crypto 
2022-04-21T16:16:13.972Z appoptics:patching patched https 
2022-04-21T16:16:13.972Z appoptics:patching patched http 
2022-04-21T16:16:14.039Z appoptics:patching patched zlib 
2022-04-21T16:16:14.049Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:14.050Z appoptics:patching patched fs 
2022-04-21T16:16:14.105Z appoptics:patching express 3.0.1 does not support render spans
2022-04-21T16:16:14.105Z appoptics:patching patched express 3.0.1
2022-04-21T16:16:14.115Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:14.122Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.1
    ✓ UDP might lose a message
2022-04-21T16:16:14.205Z appoptics:patching patched raw-body 2.5.1
(node:468) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (121ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (344ms)
  3 pending


changed 1 package, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:22.408Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:22.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:22.409Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:22.410Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:22.478Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:22.607Z appoptics:patching patched crypto 
2022-04-21T16:16:22.628Z appoptics:patching patched https 
2022-04-21T16:16:22.628Z appoptics:patching patched http 
2022-04-21T16:16:22.668Z appoptics:patching patched zlib 
2022-04-21T16:16:22.677Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:22.678Z appoptics:patching patched fs 
2022-04-21T16:16:22.712Z appoptics:patching express 3.0.2 does not support render spans
2022-04-21T16:16:22.712Z appoptics:patching patched express 3.0.2
2022-04-21T16:16:22.717Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:22.724Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.2
    ✓ UDP might lose a message
2022-04-21T16:16:22.764Z appoptics:patching patched raw-body 2.5.1
(node:490) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (221ms)
  3 pending

npm WARN deprecated connect@2.7.0: connect 2.x series is deprecated

changed 3 packages, and audited 919 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:29.696Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:29.697Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:29.697Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:29.698Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:29.763Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:29.897Z appoptics:patching patched crypto 
2022-04-21T16:16:29.928Z appoptics:patching patched https 
2022-04-21T16:16:29.928Z appoptics:patching patched http 
2022-04-21T16:16:29.963Z appoptics:patching patched zlib 
2022-04-21T16:16:29.972Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:29.973Z appoptics:patching patched fs 
2022-04-21T16:16:30.007Z appoptics:patching express 3.0.3 does not support render spans
2022-04-21T16:16:30.007Z appoptics:patching patched express 3.0.3
2022-04-21T16:16:30.012Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:30.019Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.3
    ✓ UDP might lose a message
2022-04-21T16:16:30.058Z appoptics:patching patched raw-body 2.5.1
(node:512) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (220ms)
  3 pending

npm WARN deprecated connect@2.7.1: connect 2.x series is deprecated

added 1 package, changed 2 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:37.518Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:37.519Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:37.519Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:37.519Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:37.586Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:37.722Z appoptics:patching patched crypto 
2022-04-21T16:16:37.743Z appoptics:patching patched https 
2022-04-21T16:16:37.743Z appoptics:patching patched http 
2022-04-21T16:16:37.782Z appoptics:patching patched zlib 
2022-04-21T16:16:37.791Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:37.791Z appoptics:patching patched fs 
2022-04-21T16:16:37.827Z appoptics:patching express 3.0.4 does not support render spans
2022-04-21T16:16:37.827Z appoptics:patching patched express 3.0.4
2022-04-21T16:16:37.832Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:37.839Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.4
    ✓ UDP might lose a message
2022-04-21T16:16:37.878Z appoptics:patching patched raw-body 2.5.1
(node:534) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (222ms)
  3 pending


changed 1 package, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:44.902Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:44.903Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:44.903Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:44.904Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:44.990Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:45.171Z appoptics:patching patched crypto 
2022-04-21T16:16:45.214Z appoptics:patching patched https 
2022-04-21T16:16:45.227Z appoptics:patching patched http 
2022-04-21T16:16:45.257Z appoptics:patching patched zlib 
2022-04-21T16:16:45.267Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:45.267Z appoptics:patching patched fs 
2022-04-21T16:16:45.308Z appoptics:patching express 3.0.5 does not support render spans
2022-04-21T16:16:45.308Z appoptics:patching patched express 3.0.5
2022-04-21T16:16:45.313Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:45.320Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.5
    ✓ UDP might lose a message
2022-04-21T16:16:45.362Z appoptics:patching patched raw-body 2.5.1
(node:556) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (266ms)
  3 pending

npm WARN deprecated connect@2.7.2: connect 2.x series is deprecated

removed 1 package, changed 2 packages, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:52.647Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:52.648Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:52.648Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:52.649Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:52.714Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:52.841Z appoptics:patching patched crypto 
2022-04-21T16:16:52.860Z appoptics:patching patched https 
2022-04-21T16:16:52.861Z appoptics:patching patched http 
2022-04-21T16:16:52.899Z appoptics:patching patched zlib 
2022-04-21T16:16:52.908Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:52.908Z appoptics:patching patched fs 
2022-04-21T16:16:52.942Z appoptics:patching express 3.0.6 does not support render spans
2022-04-21T16:16:52.942Z appoptics:patching patched express 3.0.6
2022-04-21T16:16:52.946Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:16:52.953Z appoptics:debug starting runtimeMetrics


  probes.express 3.0.6
    ✓ UDP might lose a message
2022-04-21T16:16:52.991Z appoptics:patching patched raw-body 2.5.1
(node:578) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (213ms)
  3 pending


changed 1 package, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:00.474Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:00.475Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:00.475Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:00.476Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:00.543Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:00.670Z appoptics:patching patched crypto 
2022-04-21T16:17:00.690Z appoptics:patching patched https 
2022-04-21T16:17:00.691Z appoptics:patching patched http 
2022-04-21T16:17:00.729Z appoptics:patching patched zlib 
2022-04-21T16:17:00.738Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:00.738Z appoptics:patching patched fs 
2022-04-21T16:17:00.773Z appoptics:patching express 3.1.0 does not support render spans
2022-04-21T16:17:00.773Z appoptics:patching patched express 3.1.0
2022-04-21T16:17:00.778Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:00.784Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.0
    ✓ UDP might lose a message
2022-04-21T16:17:00.821Z appoptics:patching patched raw-body 2.5.1
(node:600) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (213ms)
  3 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.7.4: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:07.340Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:07.341Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:07.341Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:07.342Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:07.408Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:07.535Z appoptics:patching patched crypto 
2022-04-21T16:17:07.555Z appoptics:patching patched https 
2022-04-21T16:17:07.555Z appoptics:patching patched http 
2022-04-21T16:17:07.593Z appoptics:patching patched zlib 
2022-04-21T16:17:07.602Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:07.603Z appoptics:patching patched fs 
2022-04-21T16:17:07.636Z appoptics:patching express 3.1.1 does not support render spans
2022-04-21T16:17:07.636Z appoptics:patching patched express 3.1.1
2022-04-21T16:17:07.641Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:07.647Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.1
    ✓ UDP might lose a message
2022-04-21T16:17:07.683Z appoptics:patching patched raw-body 2.5.1
(node:622) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (213ms)
  3 pending

npm WARN deprecated connect@2.7.5: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:15.334Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:15.334Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:15.334Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:15.335Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:15.403Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:15.530Z appoptics:patching patched crypto 
2022-04-21T16:17:15.560Z appoptics:patching patched https 
2022-04-21T16:17:15.561Z appoptics:patching patched http 
2022-04-21T16:17:15.594Z appoptics:patching patched zlib 
2022-04-21T16:17:15.603Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:15.603Z appoptics:patching patched fs 
2022-04-21T16:17:15.638Z appoptics:patching express 3.1.2 does not support render spans
2022-04-21T16:17:15.638Z appoptics:patching patched express 3.1.2
2022-04-21T16:17:15.643Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:15.649Z appoptics:debug starting runtimeMetrics


  probes.express 3.1.2
    ✓ UDP might lose a message
2022-04-21T16:17:15.688Z appoptics:patching patched raw-body 2.5.1
(node:644) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    - should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  16 passing (220ms)
  3 pending

npm WARN deprecated connect@2.7.6: connect 2.x series is deprecated

changed 3 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:23.182Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:23.183Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:23.184Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:23.184Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:23.267Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:23.431Z appoptics:patching patched crypto 
2022-04-21T16:17:23.478Z appoptics:patching patched https 
2022-04-21T16:17:23.493Z appoptics:patching patched http 
2022-04-21T16:17:23.537Z appoptics:patching patched zlib 
2022-04-21T16:17:23.552Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:23.553Z appoptics:patching patched fs 
2022-04-21T16:17:23.608Z appoptics:patching patched express 3.2.0
2022-04-21T16:17:23.616Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:23.626Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.0
    ✓ UDP might lose a message
2022-04-21T16:17:23.695Z appoptics:patching patched raw-body 2.5.1
(node:666) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (88ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (268ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated mkdirp@0.3.4: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated formidable@1.0.13: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.7: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 6 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:30.372Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:30.373Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:30.373Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:30.374Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:30.441Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:30.583Z appoptics:patching patched crypto 
2022-04-21T16:17:30.603Z appoptics:patching patched https 
2022-04-21T16:17:30.604Z appoptics:patching patched http 
2022-04-21T16:17:30.687Z appoptics:patching patched zlib 
2022-04-21T16:17:30.697Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:30.697Z appoptics:patching patched fs 
2022-04-21T16:17:30.743Z appoptics:patching patched express 3.2.1
2022-04-21T16:17:30.748Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:30.759Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.1
    ✓ UDP might lose a message
2022-04-21T16:17:30.797Z appoptics:patching patched raw-body 2.5.1
(node:688) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (220ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.8: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:38.265Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:38.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:38.265Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:38.266Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:38.335Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:38.471Z appoptics:patching patched crypto 
2022-04-21T16:17:38.500Z appoptics:patching patched https 
2022-04-21T16:17:38.501Z appoptics:patching patched http 
2022-04-21T16:17:38.537Z appoptics:patching patched zlib 
2022-04-21T16:17:38.546Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:38.546Z appoptics:patching patched fs 
2022-04-21T16:17:38.581Z appoptics:patching patched express 3.2.2
2022-04-21T16:17:38.586Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:38.593Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.2
    ✓ UDP might lose a message
2022-04-21T16:17:38.630Z appoptics:patching patched raw-body 2.5.1
(node:710) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }
npm WARN deprecated connect@2.7.9: connect 2.x series is deprecated

changed 4 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:45.406Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:45.406Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:45.407Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:45.407Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:45.475Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:45.600Z appoptics:patching patched crypto 
2022-04-21T16:17:45.619Z appoptics:patching patched https 
2022-04-21T16:17:45.620Z appoptics:patching patched http 
2022-04-21T16:17:45.657Z appoptics:patching patched zlib 
2022-04-21T16:17:45.666Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:45.666Z appoptics:patching patched fs 
2022-04-21T16:17:45.699Z appoptics:patching patched express 3.2.3
2022-04-21T16:17:45.704Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:45.710Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.3
    ✓ UDP might lose a message
2022-04-21T16:17:45.747Z appoptics:patching patched raw-body 2.5.1
(node:732) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN EBADENGINE Unsupported engine {
npm WARN EBADENGINE   package: 'formidable@1.0.13',
npm WARN EBADENGINE   required: { node: '<0.9.0' },
npm WARN EBADENGINE   current: { node: 'v16.14.2', npm: '8.5.0' }
npm WARN EBADENGINE }

removed 1 package, changed 1 package, and audited 919 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:52.939Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:52.940Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:52.940Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:52.941Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:53.008Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:53.134Z appoptics:patching patched crypto 
2022-04-21T16:17:53.153Z appoptics:patching patched https 
2022-04-21T16:17:53.154Z appoptics:patching patched http 
2022-04-21T16:17:53.191Z appoptics:patching patched zlib 
2022-04-21T16:17:53.200Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:53.201Z appoptics:patching patched fs 
2022-04-21T16:17:53.234Z appoptics:patching patched express 3.2.4
2022-04-21T16:17:53.239Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:17:53.245Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.4
    ✓ UDP might lose a message
2022-04-21T16:17:53.283Z appoptics:patching patched raw-body 2.5.1
(node:754) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (218ms)
  2 pending

npm WARN deprecated formidable@1.0.14: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.7.10: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 920 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:00.511Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:00.512Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:00.512Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:00.513Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:00.612Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:00.748Z appoptics:patching patched crypto 
2022-04-21T16:18:00.778Z appoptics:patching patched https 
2022-04-21T16:18:00.779Z appoptics:patching patched http 
2022-04-21T16:18:00.812Z appoptics:patching patched zlib 
2022-04-21T16:18:00.821Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:00.822Z appoptics:patching patched fs 
2022-04-21T16:18:00.857Z appoptics:patching patched express 3.2.5
2022-04-21T16:18:00.862Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:00.869Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.5
    ✓ UDP might lose a message
2022-04-21T16:18:00.907Z appoptics:patching patched raw-body 2.5.1
(node:776) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (240ms)
  2 pending

npm WARN deprecated connect@2.7.11: connect 2.x series is deprecated

added 2 packages, changed 2 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:07.698Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:07.699Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:07.699Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:07.699Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:07.767Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:07.899Z appoptics:patching patched crypto 
2022-04-21T16:18:07.919Z appoptics:patching patched https 
2022-04-21T16:18:07.920Z appoptics:patching patched http 
2022-04-21T16:18:07.958Z appoptics:patching patched zlib 
2022-04-21T16:18:07.967Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:07.968Z appoptics:patching patched fs 
2022-04-21T16:18:08.009Z appoptics:patching patched express 3.2.6
2022-04-21T16:18:08.014Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:08.020Z appoptics:debug starting runtimeMetrics


  probes.express 3.2.6
    ✓ UDP might lose a message
2022-04-21T16:18:08.059Z appoptics:patching patched raw-body 2.5.1
(node:798) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (223ms)
  2 pending

npm WARN deprecated connect@2.8.0: connect 2.x series is deprecated

added 1 package, removed 2 packages, changed 4 packages, and audited 921 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:15.784Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:15.785Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:15.785Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:15.786Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:15.861Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:15.994Z appoptics:patching patched crypto 
2022-04-21T16:18:16.016Z appoptics:patching patched https 
2022-04-21T16:18:16.016Z appoptics:patching patched http 
2022-04-21T16:18:16.068Z appoptics:patching patched zlib 
2022-04-21T16:18:16.077Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:16.078Z appoptics:patching patched fs 
2022-04-21T16:18:16.121Z appoptics:patching patched express 3.3.0
2022-04-21T16:18:16.126Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:16.133Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.0
    ✓ UDP might lose a message
2022-04-21T16:18:16.174Z appoptics:patching patched raw-body 2.5.1
(node:820) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (86ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated connect@2.8.1: connect 2.x series is deprecated

changed 2 packages, and audited 921 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:23.291Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:23.292Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:23.292Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:23.293Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:23.372Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:23.525Z appoptics:patching patched crypto 
2022-04-21T16:18:23.566Z appoptics:patching patched https 
2022-04-21T16:18:23.567Z appoptics:patching patched http 
2022-04-21T16:18:23.607Z appoptics:patching patched zlib 
2022-04-21T16:18:23.617Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:23.617Z appoptics:patching patched fs 
2022-04-21T16:18:23.660Z appoptics:patching patched express 3.3.1
2022-04-21T16:18:23.666Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:23.673Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.1
    ✓ UDP might lose a message
2022-04-21T16:18:23.720Z appoptics:patching patched raw-body 2.5.1
(node:842) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (254ms)
  2 pending

npm WARN deprecated connect@2.8.2: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 3 packages, and audited 921 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:31.024Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:31.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:31.026Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:31.027Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:31.099Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:31.235Z appoptics:patching patched crypto 
2022-04-21T16:18:31.256Z appoptics:patching patched https 
2022-04-21T16:18:31.256Z appoptics:patching patched http 
2022-04-21T16:18:31.297Z appoptics:patching patched zlib 
2022-04-21T16:18:31.306Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:31.306Z appoptics:patching patched fs 
2022-04-21T16:18:31.343Z appoptics:patching patched express 3.3.2
2022-04-21T16:18:31.348Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:31.355Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.2
    ✓ UDP might lose a message
2022-04-21T16:18:31.395Z appoptics:patching patched raw-body 2.5.1
(node:864) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (231ms)
  2 pending

npm WARN deprecated mkdirp@0.3.5: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.8.3: connect 2.x series is deprecated

added 1 package, changed 4 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:39.099Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:39.100Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:39.100Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:39.101Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:39.170Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:39.300Z appoptics:patching patched crypto 
2022-04-21T16:18:39.321Z appoptics:patching patched https 
2022-04-21T16:18:39.321Z appoptics:patching patched http 
2022-04-21T16:18:39.362Z appoptics:patching patched zlib 
2022-04-21T16:18:39.372Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:39.372Z appoptics:patching patched fs 
2022-04-21T16:18:39.409Z appoptics:patching patched express 3.3.3
2022-04-21T16:18:39.414Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:39.421Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.3
    ✓ UDP might lose a message
2022-04-21T16:18:39.460Z appoptics:patching patched raw-body 2.5.1
(node:886) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated connect@2.8.4: connect 2.x series is deprecated

changed 3 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:46.425Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:46.426Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:46.426Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:46.427Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:46.496Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:46.628Z appoptics:patching patched crypto 
2022-04-21T16:18:46.648Z appoptics:patching patched https 
2022-04-21T16:18:46.648Z appoptics:patching patched http 
2022-04-21T16:18:46.686Z appoptics:patching patched zlib 
2022-04-21T16:18:46.695Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:46.696Z appoptics:patching patched fs 
2022-04-21T16:18:46.731Z appoptics:patching patched express 3.3.4
2022-04-21T16:18:46.736Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:46.743Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.4
    ✓ UDP might lose a message
2022-04-21T16:18:46.780Z appoptics:patching patched raw-body 2.5.1
(node:908) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (226ms)
  2 pending

npm WARN deprecated connect@2.8.5: connect 2.x series is deprecated

changed 4 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:54.839Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:54.839Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:54.839Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:54.840Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:54.910Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:55.043Z appoptics:patching patched crypto 
2022-04-21T16:18:55.064Z appoptics:patching patched https 
2022-04-21T16:18:55.064Z appoptics:patching patched http 
2022-04-21T16:18:55.102Z appoptics:patching patched zlib 
2022-04-21T16:18:55.111Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:55.112Z appoptics:patching patched fs 
2022-04-21T16:18:55.149Z appoptics:patching patched express 3.3.5
2022-04-21T16:18:55.154Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:18:55.161Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.5
    ✓ UDP might lose a message
2022-04-21T16:18:55.200Z appoptics:patching patched raw-body 2.5.1
(node:930) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (224ms)
  2 pending


changed 1 package, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:03.007Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:03.008Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:03.008Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:03.008Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:03.077Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:03.241Z appoptics:patching patched crypto 
2022-04-21T16:19:03.286Z appoptics:patching patched https 
2022-04-21T16:19:03.293Z appoptics:patching patched http 
2022-04-21T16:19:03.325Z appoptics:patching patched zlib 
2022-04-21T16:19:03.335Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:03.335Z appoptics:patching patched fs 
2022-04-21T16:19:03.374Z appoptics:patching patched express 3.3.6
2022-04-21T16:19:03.379Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:03.386Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.6
    ✓ UDP might lose a message
2022-04-21T16:19:03.425Z appoptics:patching patched raw-body 2.5.1
(node:952) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (221ms)
  2 pending

npm WARN deprecated connect@2.8.7: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:09.905Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:09.906Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:09.906Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:09.907Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:09.989Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:10.125Z appoptics:patching patched crypto 
2022-04-21T16:19:10.145Z appoptics:patching patched https 
2022-04-21T16:19:10.146Z appoptics:patching patched http 
2022-04-21T16:19:10.186Z appoptics:patching patched zlib 
2022-04-21T16:19:10.195Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:10.196Z appoptics:patching patched fs 
2022-04-21T16:19:10.234Z appoptics:patching patched express 3.3.7
2022-04-21T16:19:10.239Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:10.246Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.7
    ✓ UDP might lose a message
2022-04-21T16:19:10.285Z appoptics:patching patched raw-body 2.5.1
(node:974) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (252ms)
  2 pending

npm WARN deprecated connect@2.8.8: connect 2.x series is deprecated

changed 2 packages, and audited 922 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:17.911Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:17.912Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:17.912Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:17.913Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:17.982Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:18.115Z appoptics:patching patched crypto 
2022-04-21T16:19:18.134Z appoptics:patching patched https 
2022-04-21T16:19:18.135Z appoptics:patching patched http 
2022-04-21T16:19:18.178Z appoptics:patching patched zlib 
2022-04-21T16:19:18.187Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:18.188Z appoptics:patching patched fs 
2022-04-21T16:19:18.224Z appoptics:patching patched express 3.3.8
2022-04-21T16:19:18.229Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:18.235Z appoptics:debug starting runtimeMetrics


  probes.express 3.3.8
    ✓ UDP might lose a message
2022-04-21T16:19:18.273Z appoptics:patching patched raw-body 2.5.1
(node:996) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (228ms)
  2 pending

npm WARN deprecated formidable@1.2.6: Please upgrade to latest, formidable@v2 or formidable@v3! Check these notes: https://bit.ly/2ZEqIau
npm WARN deprecated connect@2.9.0: connect 2.x series is deprecated

added 6 packages, removed 2 packages, changed 3 packages, and audited 926 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:25.651Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:25.652Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:25.652Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:25.653Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:25.736Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:25.908Z appoptics:patching patched crypto 
2022-04-21T16:19:25.957Z appoptics:patching patched https 
2022-04-21T16:19:25.958Z appoptics:patching patched http 
2022-04-21T16:19:26.001Z appoptics:patching patched zlib 
2022-04-21T16:19:26.010Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:26.011Z appoptics:patching patched fs 
2022-04-21T16:19:26.075Z appoptics:patching patched express 3.4.0
2022-04-21T16:19:26.081Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:26.088Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.0
    ✓ UDP might lose a message
2022-04-21T16:19:26.135Z appoptics:patching patched raw-body 2.5.1
(node:1018) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN deprecated connect@2.9.1: connect 2.x series is deprecated

removed 5 packages, changed 5 packages, and audited 921 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (8 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:33.502Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:33.502Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:33.502Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:33.505Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:33.590Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:33.728Z appoptics:patching patched crypto 
2022-04-21T16:19:33.754Z appoptics:patching patched https 
2022-04-21T16:19:33.755Z appoptics:patching patched http 
2022-04-21T16:19:33.829Z appoptics:patching patched zlib 
2022-04-21T16:19:33.843Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:33.844Z appoptics:patching patched fs 
2022-04-21T16:19:33.898Z appoptics:patching patched express 3.4.1
2022-04-21T16:19:33.904Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:33.911Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.1
    ✓ UDP might lose a message
2022-04-21T16:19:33.957Z appoptics:patching patched raw-body 2.5.1
(node:1040) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN deprecated connect@2.9.2: connect 2.x series is deprecated

added 4 packages, changed 4 packages, and audited 925 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:41.494Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:41.494Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:41.494Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:41.495Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:41.563Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:41.693Z appoptics:patching patched crypto 
2022-04-21T16:19:41.712Z appoptics:patching patched https 
2022-04-21T16:19:41.713Z appoptics:patching patched http 
2022-04-21T16:19:41.752Z appoptics:patching patched zlib 
2022-04-21T16:19:41.761Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:41.761Z appoptics:patching patched fs 
2022-04-21T16:19:41.790Z appoptics:patching patched raw-body 0.0.3
2022-04-21T16:19:41.802Z appoptics:patching patched express 3.4.2
2022-04-21T16:19:41.808Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:41.814Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.2
    ✓ UDP might lose a message
2022-04-21T16:19:41.857Z appoptics:patching patched raw-body 2.5.1
(node:1062) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (92ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (269ms)
  2 pending

npm WARN deprecated connect@2.10.1: connect 2.x series is deprecated

changed 2 packages, and audited 925 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:48.633Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:48.634Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:48.634Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:48.635Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:48.701Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:48.828Z appoptics:patching patched crypto 
2022-04-21T16:19:48.848Z appoptics:patching patched https 
2022-04-21T16:19:48.849Z appoptics:patching patched http 
2022-04-21T16:19:48.888Z appoptics:patching patched zlib 
2022-04-21T16:19:48.897Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:48.897Z appoptics:patching patched fs 
2022-04-21T16:19:48.926Z appoptics:patching patched raw-body 0.0.3
2022-04-21T16:19:48.939Z appoptics:patching patched express 3.4.3
2022-04-21T16:19:48.944Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:48.951Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.3
    ✓ UDP might lose a message
2022-04-21T16:19:48.991Z appoptics:patching patched raw-body 2.5.1
(node:1084) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (226ms)
  2 pending

npm WARN deprecated connect@2.11.0: connect 2.x series is deprecated

changed 6 packages, and audited 925 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:56.638Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:56.639Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:56.639Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:56.639Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:56.706Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:56.835Z appoptics:patching patched crypto 
2022-04-21T16:19:56.855Z appoptics:patching patched https 
2022-04-21T16:19:56.856Z appoptics:patching patched http 
2022-04-21T16:19:56.895Z appoptics:patching patched zlib 
2022-04-21T16:19:56.905Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:56.905Z appoptics:patching patched fs 
2022-04-21T16:19:56.935Z appoptics:patching patched raw-body 0.0.3
2022-04-21T16:19:56.947Z appoptics:patching patched express 3.4.4
2022-04-21T16:19:56.952Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:19:56.959Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.4
    ✓ UDP might lose a message
2022-04-21T16:19:56.998Z appoptics:patching patched raw-body 2.5.1
(node:1106) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (225ms)
  2 pending

npm WARN deprecated connect@2.11.1: connect 2.x series is deprecated

added 2 packages, changed 4 packages, and audited 927 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:04.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:04.307Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:04.307Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:04.308Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:04.452Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:04.634Z appoptics:patching patched crypto 
2022-04-21T16:20:04.682Z appoptics:patching patched https 
2022-04-21T16:20:04.683Z appoptics:patching patched http 
2022-04-21T16:20:04.730Z appoptics:patching patched zlib 
2022-04-21T16:20:04.740Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:04.740Z appoptics:patching patched fs 
2022-04-21T16:20:04.785Z appoptics:patching patched raw-body 1.1.1
2022-04-21T16:20:04.800Z appoptics:patching patched express 3.4.5
2022-04-21T16:20:04.805Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:04.812Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.5
    ✓ UDP might lose a message
2022-04-21T16:20:04.857Z appoptics:patching patched raw-body 2.5.1
(node:1128) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (87ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN deprecated connect@2.11.2: connect 2.x series is deprecated

changed 3 packages, and audited 927 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:11.761Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:11.761Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:11.761Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:11.762Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:11.830Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:11.961Z appoptics:patching patched crypto 
2022-04-21T16:20:11.981Z appoptics:patching patched https 
2022-04-21T16:20:11.982Z appoptics:patching patched http 
2022-04-21T16:20:12.020Z appoptics:patching patched zlib 
2022-04-21T16:20:12.028Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:12.028Z appoptics:patching patched fs 
2022-04-21T16:20:12.059Z appoptics:patching patched raw-body 1.1.2
2022-04-21T16:20:12.072Z appoptics:patching patched express 3.4.6
2022-04-21T16:20:12.076Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:12.083Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.6
    ✓ UDP might lose a message
2022-04-21T16:20:12.122Z appoptics:patching patched raw-body 2.5.1
(node:1150) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (220ms)
  2 pending

npm WARN deprecated connect@2.12.0: connect 2.x series is deprecated

added 2 packages, changed 3 packages, and audited 929 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:19.761Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:19.762Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:19.762Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:19.763Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:19.831Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:19.965Z appoptics:patching patched crypto 
2022-04-21T16:20:19.985Z appoptics:patching patched https 
2022-04-21T16:20:19.986Z appoptics:patching patched http 
2022-04-21T16:20:20.024Z appoptics:patching patched zlib 
2022-04-21T16:20:20.032Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:20.032Z appoptics:patching patched fs 
2022-04-21T16:20:20.065Z appoptics:patching patched raw-body 1.1.2
2022-04-21T16:20:20.079Z appoptics:patching patched express 3.4.7
2022-04-21T16:20:20.083Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:20.090Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.7
    ✓ UDP might lose a message
2022-04-21T16:20:20.130Z appoptics:patching patched raw-body 2.5.1
(node:1172) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (227ms)
  2 pending


changed 1 package, and audited 929 packages in 14s

85 packages are looking for funding
  run `npm fund` for details

18 vulnerabilities (1 low, 8 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:34.753Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:34.753Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:34.753Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:34.754Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:34.846Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:34.977Z appoptics:patching patched crypto 
2022-04-21T16:20:34.998Z appoptics:patching patched https 
2022-04-21T16:20:34.999Z appoptics:patching patched http 
2022-04-21T16:20:35.038Z appoptics:patching patched zlib 
2022-04-21T16:20:35.046Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:35.047Z appoptics:patching patched fs 
2022-04-21T16:20:35.079Z appoptics:patching patched raw-body 1.1.2
2022-04-21T16:20:35.092Z appoptics:patching patched express 3.4.8
2022-04-21T16:20:35.096Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:35.103Z appoptics:debug starting runtimeMetrics


  probes.express 3.4.8
    ✓ UDP might lose a message
2022-04-21T16:20:35.140Z appoptics:patching patched raw-body 2.5.1
(node:1194) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (225ms)
  2 pending

npm WARN deprecated static-favicon@1.0.0: use serve-favicon module
npm WARN deprecated connect@2.14.1: connect 2.x series is deprecated

added 22 packages, removed 1 package, changed 10 packages, and audited 950 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:43.770Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:43.770Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:43.770Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:43.771Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:43.838Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:43.992Z appoptics:patching patched crypto 
2022-04-21T16:20:44.013Z appoptics:patching patched https 
2022-04-21T16:20:44.013Z appoptics:patching patched http 
2022-04-21T16:20:44.053Z appoptics:patching patched zlib 
2022-04-21T16:20:44.063Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:44.064Z appoptics:patching patched fs 
2022-04-21T16:20:44.099Z appoptics:patching patched raw-body 1.1.3
2022-04-21T16:20:44.115Z appoptics:patching patched morgan 1.0.0
2022-04-21T16:20:44.123Z appoptics:patching patched express 3.5.0
2022-04-21T16:20:44.127Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:44.134Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.0
    ✓ UDP might lose a message
2022-04-21T16:20:44.183Z appoptics:patching patched raw-body 2.5.1
(node:1216) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (242ms)
  2 pending


changed 1 package, and audited 950 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:50.705Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:50.705Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:50.706Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:50.706Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:50.773Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:50.918Z appoptics:patching patched crypto 
2022-04-21T16:20:50.938Z appoptics:patching patched https 
2022-04-21T16:20:50.939Z appoptics:patching patched http 
2022-04-21T16:20:50.993Z appoptics:patching patched zlib 
2022-04-21T16:20:51.003Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:51.003Z appoptics:patching patched fs 
2022-04-21T16:20:51.058Z appoptics:patching patched raw-body 1.1.3
2022-04-21T16:20:51.091Z appoptics:patching patched morgan 1.0.0
2022-04-21T16:20:51.114Z appoptics:patching patched express 3.5.1
2022-04-21T16:20:51.126Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:51.133Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.1
    ✓ UDP might lose a message
2022-04-21T16:20:51.198Z appoptics:patching patched raw-body 2.5.1
(node:1238) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated static-favicon@1.0.2: use serve-favicon module
npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.14.5: connect 2.x series is deprecated
npm WARN deprecated scmp@0.0.3: scmp v2 uses improved core crypto comparison since Node v6.6.0

added 5 packages, changed 10 packages, and audited 955 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:58.952Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:58.952Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:58.952Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:58.953Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:59.023Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:59.152Z appoptics:patching patched crypto 
2022-04-21T16:20:59.172Z appoptics:patching patched https 
2022-04-21T16:20:59.172Z appoptics:patching patched http 
2022-04-21T16:20:59.211Z appoptics:patching patched zlib 
2022-04-21T16:20:59.219Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:59.219Z appoptics:patching patched fs 
2022-04-21T16:20:59.250Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:20:59.268Z appoptics:patching patched morgan 1.0.0
2022-04-21T16:20:59.279Z appoptics:patching patched express 3.5.2
2022-04-21T16:20:59.284Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:20:59.291Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.2
    ✓ UDP might lose a message
2022-04-21T16:20:59.330Z appoptics:patching patched raw-body 2.5.1
(node:1260) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (226ms)
  2 pending

npm WARN deprecated mkdirp@0.4.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 955 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

24 vulnerabilities (2 low, 11 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:06.875Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:06.876Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:06.876Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:06.877Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:06.945Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:07.077Z appoptics:patching patched crypto 
2022-04-21T16:21:07.097Z appoptics:patching patched https 
2022-04-21T16:21:07.098Z appoptics:patching patched http 
2022-04-21T16:21:07.136Z appoptics:patching patched zlib 
2022-04-21T16:21:07.144Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:07.144Z appoptics:patching patched fs 
2022-04-21T16:21:07.176Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:21:07.192Z appoptics:patching patched morgan 1.0.0
2022-04-21T16:21:07.207Z appoptics:patching patched express 3.5.3
2022-04-21T16:21:07.212Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:07.219Z appoptics:debug starting runtimeMetrics


  probes.express 3.5.3
    ✓ UDP might lose a message
2022-04-21T16:21:07.258Z appoptics:patching patched raw-body 2.5.1
(node:1282) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (225ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.15.0: connect 2.x series is deprecated

added 3 packages, removed 5 packages, changed 14 packages, and audited 953 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

28 vulnerabilities (3 low, 11 moderate, 11 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:14.743Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:14.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:14.744Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:14.745Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:14.814Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:14.950Z appoptics:patching patched crypto 
2022-04-21T16:21:14.984Z appoptics:patching patched https 
2022-04-21T16:21:14.984Z appoptics:patching patched http 
2022-04-21T16:21:15.011Z appoptics:patching patched zlib 
2022-04-21T16:21:15.019Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:15.019Z appoptics:patching patched fs 
2022-04-21T16:21:15.052Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:21:15.068Z appoptics:patching patched morgan 1.0.1
2022-04-21T16:21:15.074Z appoptics:patching patched express 3.6.0
2022-04-21T16:21:15.083Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:15.090Z appoptics:debug starting runtimeMetrics


  probes.express 3.6.0
    ✓ UDP might lose a message
2022-04-21T16:21:15.126Z appoptics:patching patched raw-body 2.5.1
(node:1304) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (224ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.16.2: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 10 packages, and audited 962 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:22.772Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:22.772Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:22.772Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:22.773Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:22.842Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:22.977Z appoptics:patching patched crypto 
2022-04-21T16:21:22.996Z appoptics:patching patched https 
2022-04-21T16:21:22.997Z appoptics:patching patched http 
2022-04-21T16:21:23.036Z appoptics:patching patched zlib 
2022-04-21T16:21:23.045Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:23.045Z appoptics:patching patched fs 
2022-04-21T16:21:23.087Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:21:23.103Z appoptics:patching patched morgan 1.0.1
2022-04-21T16:21:23.112Z appoptics:patching patched express 3.7.0
2022-04-21T16:21:23.119Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:23.126Z appoptics:debug starting runtimeMetrics


  probes.express 3.7.0
    ✓ UDP might lose a message
2022-04-21T16:21:23.166Z appoptics:patching patched raw-body 2.5.1
(node:1326) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (225ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.1: connect 2.x series is deprecated

removed 1 package, changed 6 packages, and audited 961 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

30 vulnerabilities (3 low, 12 moderate, 12 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:30.559Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:30.560Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:30.560Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:30.561Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:30.632Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:30.785Z appoptics:patching patched crypto 
2022-04-21T16:21:30.833Z appoptics:patching patched https 
2022-04-21T16:21:30.833Z appoptics:patching patched http 
2022-04-21T16:21:30.880Z appoptics:patching patched zlib 
2022-04-21T16:21:30.888Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:30.889Z appoptics:patching patched fs 
2022-04-21T16:21:30.953Z appoptics:patching patched raw-body 1.1.4
2022-04-21T16:21:30.973Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:30.981Z appoptics:patching patched express 3.8.0
2022-04-21T16:21:30.989Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:30.998Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.0
    ✓ UDP might lose a message
2022-04-21T16:21:31.047Z appoptics:patching patched raw-body 2.5.1
(node:1348) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (253ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.17.3: connect 2.x series is deprecated

removed 1 package, changed 7 packages, and audited 960 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 12 moderate, 13 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:38.066Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:38.066Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:38.066Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:38.067Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:38.133Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:38.263Z appoptics:patching patched crypto 
2022-04-21T16:21:38.284Z appoptics:patching patched https 
2022-04-21T16:21:38.284Z appoptics:patching patched http 
2022-04-21T16:21:38.321Z appoptics:patching patched zlib 
2022-04-21T16:21:38.329Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:38.330Z appoptics:patching patched fs 
2022-04-21T16:21:38.372Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:38.388Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:38.397Z appoptics:patching patched express 3.8.1
2022-04-21T16:21:38.404Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:38.410Z appoptics:debug starting runtimeMetrics


  probes.express 3.8.1
    ✓ UDP might lose a message
2022-04-21T16:21:38.450Z appoptics:patching patched raw-body 2.5.1
(node:1370) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (225ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.18.0: connect 2.x series is deprecated

added 4 packages, removed 3 packages, changed 12 packages, and audited 961 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:46.210Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:46.211Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:46.211Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:46.211Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:46.279Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:46.421Z appoptics:patching patched crypto 
2022-04-21T16:21:46.462Z appoptics:patching patched https 
2022-04-21T16:21:46.472Z appoptics:patching patched http 
2022-04-21T16:21:46.500Z appoptics:patching patched zlib 
2022-04-21T16:21:46.509Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:46.509Z appoptics:patching patched fs 
2022-04-21T16:21:46.551Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:46.567Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:46.576Z appoptics:patching patched express 3.9.0
2022-04-21T16:21:46.584Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:46.591Z appoptics:debug starting runtimeMetrics


  probes.express 3.9.0
    ✓ UDP might lose a message
2022-04-21T16:21:46.634Z appoptics:patching patched raw-body 2.5.1
(node:1392) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (256ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.1: connect 2.x series is deprecated

added 2 packages, changed 12 packages, and audited 963 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:53.716Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:53.716Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:53.716Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:53.717Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:53.805Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:53.993Z appoptics:patching patched crypto 
2022-04-21T16:21:54.052Z appoptics:patching patched https 
2022-04-21T16:21:54.053Z appoptics:patching patched http 
2022-04-21T16:21:54.097Z appoptics:patching patched zlib 
2022-04-21T16:21:54.106Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:54.107Z appoptics:patching patched fs 
2022-04-21T16:21:54.150Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:21:54.179Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:21:54.187Z appoptics:patching patched express 3.10.0
2022-04-21T16:21:54.193Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:21:54.201Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.0
    ✓ UDP might lose a message
2022-04-21T16:21:54.242Z appoptics:patching patched raw-body 2.5.1
(node:1414) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (244ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.2: connect 2.x series is deprecated

changed 5 packages, and audited 963 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:02.026Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:02.027Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:02.027Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:02.028Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:02.095Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:02.225Z appoptics:patching patched crypto 
2022-04-21T16:22:02.244Z appoptics:patching patched https 
2022-04-21T16:22:02.245Z appoptics:patching patched http 
2022-04-21T16:22:02.282Z appoptics:patching patched zlib 
2022-04-21T16:22:02.291Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:02.291Z appoptics:patching patched fs 
2022-04-21T16:22:02.326Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:22:02.342Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:02.350Z appoptics:patching patched express 3.10.1
2022-04-21T16:22:02.357Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:02.364Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.1
    ✓ UDP might lose a message
2022-04-21T16:22:02.401Z appoptics:patching patched raw-body 2.5.1
(node:1436) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (219ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.3: connect 2.x series is deprecated

changed 4 packages, and audited 963 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (3 low, 12 moderate, 14 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:10.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:10.214Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:10.214Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:10.215Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:10.285Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:10.421Z appoptics:patching patched crypto 
2022-04-21T16:22:10.451Z appoptics:patching patched https 
2022-04-21T16:22:10.452Z appoptics:patching patched http 
2022-04-21T16:22:10.480Z appoptics:patching patched zlib 
2022-04-21T16:22:10.489Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:10.490Z appoptics:patching patched fs 
2022-04-21T16:22:10.528Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:22:10.544Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:10.554Z appoptics:patching patched express 3.10.2
2022-04-21T16:22:10.561Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:10.568Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.2
    ✓ UDP might lose a message
2022-04-21T16:22:10.655Z appoptics:patching patched raw-body 2.5.1
(node:1458) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (263ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.4: connect 2.x series is deprecated

added 3 packages, changed 8 packages, and audited 966 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:17.552Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:17.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:17.553Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:17.553Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:17.621Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:17.761Z appoptics:patching patched crypto 
2022-04-21T16:22:17.781Z appoptics:patching patched https 
2022-04-21T16:22:17.782Z appoptics:patching patched http 
2022-04-21T16:22:17.822Z appoptics:patching patched zlib 
2022-04-21T16:22:17.831Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:17.832Z appoptics:patching patched fs 
2022-04-21T16:22:17.869Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:22:17.885Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:17.894Z appoptics:patching patched express 3.10.3
2022-04-21T16:22:17.901Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:17.907Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.3
    ✓ UDP might lose a message
2022-04-21T16:22:17.947Z appoptics:patching patched raw-body 2.5.1
(node:1480) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (250ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.5: connect 2.x series is deprecated

added 6 packages, changed 11 packages, and audited 972 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

33 vulnerabilities (2 low, 12 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:26.684Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:26.685Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:26.685Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:26.686Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:26.753Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:26.885Z appoptics:patching patched crypto 
2022-04-21T16:22:26.905Z appoptics:patching patched https 
2022-04-21T16:22:26.906Z appoptics:patching patched http 
2022-04-21T16:22:26.947Z appoptics:patching patched zlib 
2022-04-21T16:22:26.961Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:26.961Z appoptics:patching patched fs 
2022-04-21T16:22:27.001Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:22:27.018Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:27.026Z appoptics:patching patched express 3.10.4
2022-04-21T16:22:27.032Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:27.039Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.4
    ✓ UDP might lose a message
2022-04-21T16:22:27.079Z appoptics:patching patched raw-body 2.5.1
(node:1502) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (224ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.19.6: connect 2.x series is deprecated

added 1 package, removed 1 package, changed 15 packages, and audited 972 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

32 vulnerabilities (2 low, 11 moderate, 16 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:35.321Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:35.321Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:35.321Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:35.322Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:35.394Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:35.595Z appoptics:patching patched crypto 
2022-04-21T16:22:35.615Z appoptics:patching patched https 
2022-04-21T16:22:35.616Z appoptics:patching patched http 
2022-04-21T16:22:35.656Z appoptics:patching patched zlib 
2022-04-21T16:22:35.670Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:35.670Z appoptics:patching patched fs 
2022-04-21T16:22:35.711Z appoptics:patching patched raw-body 1.1.6
2022-04-21T16:22:35.729Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:35.737Z appoptics:patching patched express 3.10.5
2022-04-21T16:22:35.743Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:35.750Z appoptics:debug starting runtimeMetrics


  probes.express 3.10.5
    ✓ UDP might lose a message
2022-04-21T16:22:35.791Z appoptics:patching patched raw-body 2.5.1
(node:1524) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (267ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated native-or-bluebird@1.1.2: 'native-or-bluebird' is deprecated. Please use 'any-promise' instead.
npm WARN deprecated connect@2.20.2: connect 2.x series is deprecated

added 14 packages, removed 2 packages, changed 20 packages, and audited 984 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 11 moderate, 21 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:44.271Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:44.272Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:44.272Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:44.273Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:44.355Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:44.520Z appoptics:patching patched crypto 
2022-04-21T16:22:44.592Z appoptics:patching patched https 
2022-04-21T16:22:44.593Z appoptics:patching patched http 
2022-04-21T16:22:44.641Z appoptics:patching patched zlib 
2022-04-21T16:22:44.663Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:44.663Z appoptics:patching patched fs 
2022-04-21T16:22:44.725Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:44.750Z appoptics:patching patched express 3.11.0
2022-04-21T16:22:44.761Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:44.768Z appoptics:debug starting runtimeMetrics


  probes.express 3.11.0
    ✓ UDP might lose a message
2022-04-21T16:22:44.807Z appoptics:patching patched raw-body 2.5.1
(node:1546) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.0: connect 2.x series is deprecated

added 15 packages, removed 2 packages, changed 12 packages, and audited 997 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

38 vulnerabilities (3 low, 10 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:52.492Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:52.492Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:52.493Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:52.493Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:52.564Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:52.702Z appoptics:patching patched crypto 
2022-04-21T16:22:52.721Z appoptics:patching patched https 
2022-04-21T16:22:52.722Z appoptics:patching patched http 
2022-04-21T16:22:52.760Z appoptics:patching patched zlib 
2022-04-21T16:22:52.780Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:52.780Z appoptics:patching patched fs 
2022-04-21T16:22:52.841Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:22:52.855Z appoptics:patching patched express 3.12.0
2022-04-21T16:22:52.860Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:22:52.867Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.0
    ✓ UDP might lose a message
2022-04-21T16:22:52.902Z appoptics:patching patched raw-body 2.5.1
(node:1568) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.21.1: connect 2.x series is deprecated

added 2 packages, removed 2 packages, changed 6 packages, and audited 997 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:00.979Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:00.980Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:00.980Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:00.981Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:01.050Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:01.188Z appoptics:patching patched crypto 
2022-04-21T16:23:01.209Z appoptics:patching patched https 
2022-04-21T16:23:01.210Z appoptics:patching patched http 
2022-04-21T16:23:01.251Z appoptics:patching patched zlib 
2022-04-21T16:23:01.271Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:01.272Z appoptics:patching patched fs 
2022-04-21T16:23:01.330Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:23:01.342Z appoptics:patching patched express 3.12.1
2022-04-21T16:23:01.348Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:01.355Z appoptics:debug starting runtimeMetrics


  probes.express 3.12.1
    ✓ UDP might lose a message
2022-04-21T16:23:01.393Z appoptics:patching patched raw-body 2.5.1
(node:1590) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (229ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.22.0: connect 2.x series is deprecated

added 8 packages, removed 1 package, changed 10 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:09.462Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:09.463Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:09.463Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:09.464Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:09.573Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:09.730Z appoptics:patching patched crypto 
2022-04-21T16:23:09.751Z appoptics:patching patched https 
2022-04-21T16:23:09.752Z appoptics:patching patched http 
2022-04-21T16:23:09.813Z appoptics:patching patched zlib 
2022-04-21T16:23:09.838Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:09.839Z appoptics:patching patched fs 
2022-04-21T16:23:09.925Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:23:09.937Z appoptics:patching patched express 3.13.0
2022-04-21T16:23:09.948Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:09.955Z appoptics:debug starting runtimeMetrics


  probes.express 3.13.0
    ✓ UDP might lose a message
2022-04-21T16:23:09.993Z appoptics:patching patched raw-body 2.5.1
(node:1612) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (62ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (343ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.23.0: connect 2.x series is deprecated

added 3 packages, removed 1 package, changed 10 packages, and audited 1006 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (3 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:18.108Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:18.109Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:18.109Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:18.110Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:18.180Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:18.323Z appoptics:patching patched crypto 
2022-04-21T16:23:18.344Z appoptics:patching patched https 
2022-04-21T16:23:18.345Z appoptics:patching patched http 
2022-04-21T16:23:18.387Z appoptics:patching patched zlib 
2022-04-21T16:23:18.408Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:18.408Z appoptics:patching patched fs 
2022-04-21T16:23:18.484Z appoptics:patching patched morgan 1.1.1
2022-04-21T16:23:18.497Z appoptics:patching patched express 3.14.0
2022-04-21T16:23:18.503Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:18.510Z appoptics:debug starting runtimeMetrics


  probes.express 3.14.0
    ✓ UDP might lose a message
2022-04-21T16:23:18.548Z appoptics:patching patched raw-body 2.5.1
(node:1634) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (243ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.0: connect 2.x series is deprecated

added 8 packages, removed 3 packages, changed 26 packages, and audited 1011 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:27.334Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:27.335Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:27.335Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:27.336Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:27.407Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:27.564Z appoptics:patching patched crypto 
2022-04-21T16:23:27.585Z appoptics:patching patched https 
2022-04-21T16:23:27.586Z appoptics:patching patched http 
2022-04-21T16:23:27.626Z appoptics:patching patched zlib 
2022-04-21T16:23:27.647Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:27.647Z appoptics:patching patched fs 
2022-04-21T16:23:27.727Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:27.739Z appoptics:patching patched express 3.15.0
2022-04-21T16:23:27.745Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:27.752Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.0
    ✓ UDP might lose a message
2022-04-21T16:23:27.790Z appoptics:patching patched raw-body 2.5.1
(node:1656) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (68ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (244ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.1: connect 2.x series is deprecated

changed 7 packages, and audited 1011 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:35.675Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:35.676Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:35.676Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:35.677Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:35.745Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:35.892Z appoptics:patching patched crypto 
2022-04-21T16:23:35.922Z appoptics:patching patched https 
2022-04-21T16:23:35.923Z appoptics:patching patched http 
2022-04-21T16:23:35.951Z appoptics:patching patched zlib 
2022-04-21T16:23:35.972Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:35.972Z appoptics:patching patched fs 
2022-04-21T16:23:36.054Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:36.066Z appoptics:patching patched express 3.15.1
2022-04-21T16:23:36.072Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:36.079Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.1
    ✓ UDP might lose a message
2022-04-21T16:23:36.117Z appoptics:patching patched raw-body 2.5.1
(node:1678) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (272ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.2: connect 2.x series is deprecated

removed 2 packages, changed 7 packages, and audited 1009 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:43.631Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:43.631Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:43.632Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:43.632Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:43.704Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:43.844Z appoptics:patching patched crypto 
2022-04-21T16:23:43.865Z appoptics:patching patched https 
2022-04-21T16:23:43.866Z appoptics:patching patched http 
2022-04-21T16:23:43.905Z appoptics:patching patched zlib 
2022-04-21T16:23:43.926Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:43.927Z appoptics:patching patched fs 
2022-04-21T16:23:44.006Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:44.018Z appoptics:patching patched express 3.15.2
2022-04-21T16:23:44.025Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:44.031Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.2
    ✓ UDP might lose a message
2022-04-21T16:23:44.069Z appoptics:patching patched raw-body 2.5.1
(node:1700) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (240ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.24.3: connect 2.x series is deprecated

removed 5 packages, changed 4 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (2 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:53.045Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:53.045Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:53.045Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:53.046Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:53.143Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:53.287Z appoptics:patching patched crypto 
2022-04-21T16:23:53.308Z appoptics:patching patched https 
2022-04-21T16:23:53.309Z appoptics:patching patched http 
2022-04-21T16:23:53.351Z appoptics:patching patched zlib 
2022-04-21T16:23:53.371Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:53.372Z appoptics:patching patched fs 
2022-04-21T16:23:53.437Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:23:53.450Z appoptics:patching patched express 3.15.3
2022-04-21T16:23:53.459Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:23:53.466Z appoptics:debug starting runtimeMetrics


  probes.express 3.15.3
    ✓ UDP might lose a message
2022-04-21T16:23:53.503Z appoptics:patching patched raw-body 2.5.1
(node:1722) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated scmp@1.0.0: scmp v2 uses improved core crypto comparison since Node v6.6.0
npm WARN deprecated connect@2.25.0: connect 2.x series is deprecated

added 11 packages, removed 2 packages, changed 11 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:01.893Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:01.894Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:01.894Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:01.895Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:01.964Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:02.100Z appoptics:patching patched crypto 
2022-04-21T16:24:02.121Z appoptics:patching patched https 
2022-04-21T16:24:02.121Z appoptics:patching patched http 
2022-04-21T16:24:02.159Z appoptics:patching patched zlib 
2022-04-21T16:24:02.180Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:02.180Z appoptics:patching patched fs 
2022-04-21T16:24:02.259Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:24:02.271Z appoptics:patching patched express 3.16.0
2022-04-21T16:24:02.277Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:02.284Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.0
    ✓ UDP might lose a message
2022-04-21T16:24:02.321Z appoptics:patching patched raw-body 2.5.1
(node:1744) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (234ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.1: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:09.433Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:09.434Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:09.434Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:09.434Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:09.503Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:09.639Z appoptics:patching patched crypto 
2022-04-21T16:24:09.660Z appoptics:patching patched https 
2022-04-21T16:24:09.660Z appoptics:patching patched http 
2022-04-21T16:24:09.697Z appoptics:patching patched zlib 
2022-04-21T16:24:09.718Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:09.718Z appoptics:patching patched fs 
2022-04-21T16:24:09.797Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:24:09.809Z appoptics:patching patched express 3.16.1
2022-04-21T16:24:09.816Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:09.822Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.1
    ✓ UDP might lose a message
2022-04-21T16:24:09.859Z appoptics:patching patched raw-body 2.5.1
(node:1766) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (65ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (238ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:18.441Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:18.441Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:18.441Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:18.442Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:18.513Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:18.654Z appoptics:patching patched crypto 
2022-04-21T16:24:18.675Z appoptics:patching patched https 
2022-04-21T16:24:18.676Z appoptics:patching patched http 
2022-04-21T16:24:18.717Z appoptics:patching patched zlib 
2022-04-21T16:24:18.737Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:18.738Z appoptics:patching patched fs 
2022-04-21T16:24:18.818Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:24:18.831Z appoptics:patching patched express 3.16.2
2022-04-21T16:24:18.837Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:18.843Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.2
    ✓ UDP might lose a message
2022-04-21T16:24:18.880Z appoptics:patching patched raw-body 2.5.1
(node:1788) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.3: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:27.063Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:27.063Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:27.063Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:27.064Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:27.135Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:27.292Z appoptics:patching patched crypto 
2022-04-21T16:24:27.321Z appoptics:patching patched https 
2022-04-21T16:24:27.324Z appoptics:patching patched http 
2022-04-21T16:24:27.368Z appoptics:patching patched zlib 
2022-04-21T16:24:27.388Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:27.389Z appoptics:patching patched fs 
2022-04-21T16:24:27.467Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:24:27.480Z appoptics:patching patched express 3.16.3
2022-04-21T16:24:27.485Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:27.492Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.3
    ✓ UDP might lose a message
2022-04-21T16:24:27.528Z appoptics:patching patched raw-body 2.5.1
(node:1810) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (240ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.4: connect 2.x series is deprecated

removed 10 packages, changed 7 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:35.024Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:35.024Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:35.025Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:35.025Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:35.095Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:35.233Z appoptics:patching patched crypto 
2022-04-21T16:24:35.256Z appoptics:patching patched https 
2022-04-21T16:24:35.256Z appoptics:patching patched http 
2022-04-21T16:24:35.296Z appoptics:patching patched zlib 
2022-04-21T16:24:35.316Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:35.317Z appoptics:patching patched fs 
2022-04-21T16:24:35.395Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:24:35.406Z appoptics:patching patched express 3.16.4
2022-04-21T16:24:35.412Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:35.419Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.4
    ✓ UDP might lose a message
2022-04-21T16:24:35.456Z appoptics:patching patched raw-body 2.5.1
(node:1832) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (256ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.5: connect 2.x series is deprecated

changed 3 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:43.351Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:43.352Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:43.352Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:43.352Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:43.423Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:43.559Z appoptics:patching patched crypto 
2022-04-21T16:24:43.580Z appoptics:patching patched https 
2022-04-21T16:24:43.581Z appoptics:patching patched http 
2022-04-21T16:24:43.631Z appoptics:patching patched zlib 
2022-04-21T16:24:43.653Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:43.653Z appoptics:patching patched fs 
2022-04-21T16:24:43.740Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:24:43.752Z appoptics:patching patched express 3.16.5
2022-04-21T16:24:43.758Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:43.764Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.5
    ✓ UDP might lose a message
2022-04-21T16:24:43.801Z appoptics:patching patched raw-body 2.5.1
(node:1854) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (239ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.6: connect 2.x series is deprecated

added 1 package, changed 5 packages, and audited 1004 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:52.025Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:52.026Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:52.026Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:52.027Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:52.096Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:52.232Z appoptics:patching patched crypto 
2022-04-21T16:24:52.254Z appoptics:patching patched https 
2022-04-21T16:24:52.255Z appoptics:patching patched http 
2022-04-21T16:24:52.289Z appoptics:patching patched zlib 
2022-04-21T16:24:52.310Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:52.310Z appoptics:patching patched fs 
2022-04-21T16:24:52.387Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:24:52.399Z appoptics:patching patched express 3.16.6
2022-04-21T16:24:52.405Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:24:52.411Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.6
    ✓ UDP might lose a message
2022-04-21T16:24:52.450Z appoptics:patching patched raw-body 2.5.1
(node:1876) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (265ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.7: connect 2.x series is deprecated

added 3 packages, removed 3 packages, changed 4 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:00.111Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:00.112Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:00.112Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:00.113Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:00.183Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:00.338Z appoptics:patching patched crypto 
2022-04-21T16:25:00.372Z appoptics:patching patched https 
2022-04-21T16:25:00.373Z appoptics:patching patched http 
2022-04-21T16:25:00.414Z appoptics:patching patched zlib 
2022-04-21T16:25:00.436Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:00.436Z appoptics:patching patched fs 
2022-04-21T16:25:00.521Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:25:00.533Z appoptics:patching patched express 3.16.7
2022-04-21T16:25:00.540Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:00.546Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.7
    ✓ UDP might lose a message
2022-04-21T16:25:00.591Z appoptics:patching patched raw-body 2.5.1
(node:1898) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (262ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.8: connect 2.x series is deprecated

changed 4 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:08.433Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:08.434Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:08.434Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:08.435Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:08.505Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:08.643Z appoptics:patching patched crypto 
2022-04-21T16:25:08.663Z appoptics:patching patched https 
2022-04-21T16:25:08.664Z appoptics:patching patched http 
2022-04-21T16:25:08.705Z appoptics:patching patched zlib 
2022-04-21T16:25:08.726Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:08.727Z appoptics:patching patched fs 
2022-04-21T16:25:08.821Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:25:08.834Z appoptics:patching patched express 3.16.8
2022-04-21T16:25:08.840Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:08.846Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.8
    ✓ UDP might lose a message
2022-04-21T16:25:08.914Z appoptics:patching patched raw-body 2.5.1
(node:1920) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (96ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (287ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.9: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1003 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:17.002Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:17.002Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:17.002Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:17.003Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:17.089Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:17.228Z appoptics:patching patched crypto 
2022-04-21T16:25:17.250Z appoptics:patching patched https 
2022-04-21T16:25:17.251Z appoptics:patching patched http 
2022-04-21T16:25:17.290Z appoptics:patching patched zlib 
2022-04-21T16:25:17.311Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:17.312Z appoptics:patching patched fs 
2022-04-21T16:25:17.399Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:25:17.412Z appoptics:patching patched express 3.16.9
2022-04-21T16:25:17.418Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:17.426Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.9
    ✓ UDP might lose a message
2022-04-21T16:25:17.472Z appoptics:patching patched raw-body 2.5.1
(node:1942) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (82ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (280ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.25.10: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 995 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:24.858Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:24.859Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:24.859Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:24.860Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:24.929Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:25.064Z appoptics:patching patched crypto 
2022-04-21T16:25:25.085Z appoptics:patching patched https 
2022-04-21T16:25:25.085Z appoptics:patching patched http 
2022-04-21T16:25:25.132Z appoptics:patching patched zlib 
2022-04-21T16:25:25.158Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:25.158Z appoptics:patching patched fs 
2022-04-21T16:25:25.246Z appoptics:patching patched morgan 1.2.3
2022-04-21T16:25:25.259Z appoptics:patching patched express 3.16.10
2022-04-21T16:25:25.268Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:25.274Z appoptics:debug starting runtimeMetrics


  probes.express 3.16.10
    ✓ UDP might lose a message
2022-04-21T16:25:25.313Z appoptics:patching patched raw-body 2.5.1
(node:1964) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (255ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.0: connect 2.x series is deprecated

added 24 packages, removed 3 packages, changed 38 packages, and audited 1016 packages in 16s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:41.577Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:41.578Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:41.578Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:41.579Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:41.649Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:41.787Z appoptics:patching patched crypto 
2022-04-21T16:25:41.808Z appoptics:patching patched https 
2022-04-21T16:25:41.808Z appoptics:patching patched http 
2022-04-21T16:25:41.850Z appoptics:patching patched zlib 
2022-04-21T16:25:41.872Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:41.872Z appoptics:patching patched fs 
2022-04-21T16:25:41.972Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:25:41.984Z appoptics:patching patched express 3.17.0
2022-04-21T16:25:41.989Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:41.996Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.0
    ✓ UDP might lose a message
2022-04-21T16:25:42.052Z appoptics:patching patched raw-body 2.5.1
(node:1986) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1016 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:50.048Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:50.049Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:50.049Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:50.050Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:50.134Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:50.303Z appoptics:patching patched crypto 
2022-04-21T16:25:50.371Z appoptics:patching patched https 
2022-04-21T16:25:50.371Z appoptics:patching patched http 
2022-04-21T16:25:50.446Z appoptics:patching patched zlib 
2022-04-21T16:25:50.484Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:50.484Z appoptics:patching patched fs 
2022-04-21T16:25:50.673Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:25:50.692Z appoptics:patching patched express 3.17.1
2022-04-21T16:25:50.702Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:50.716Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.1
    ✓ UDP might lose a message
2022-04-21T16:25:50.822Z appoptics:patching patched raw-body 2.5.1
(node:2008) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (108ms)
    ✓ should forward controller/action for POST (59ms)
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (46ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (416ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.1: connect 2.x series is deprecated

removed 3 packages, changed 7 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:25:58.677Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:25:58.680Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:25:58.680Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:25:58.681Z appoptics:debug using context provider: ace-context
2022-04-21T16:25:58.751Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:25:58.890Z appoptics:patching patched crypto 
2022-04-21T16:25:58.910Z appoptics:patching patched https 
2022-04-21T16:25:58.911Z appoptics:patching patched http 
2022-04-21T16:25:58.950Z appoptics:patching patched zlib 
2022-04-21T16:25:58.973Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:25:58.973Z appoptics:patching patched fs 
2022-04-21T16:25:59.071Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:25:59.082Z appoptics:patching patched express 3.17.2
2022-04-21T16:25:59.088Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:25:59.094Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.2
    ✓ UDP might lose a message
2022-04-21T16:25:59.133Z appoptics:patching patched raw-body 2.5.1
(node:2030) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (241ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

added 1 package, changed 4 packages, and audited 1014 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:07.501Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:07.502Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:07.502Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:07.502Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:07.576Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:07.728Z appoptics:patching patched crypto 
2022-04-21T16:26:07.765Z appoptics:patching patched https 
2022-04-21T16:26:07.765Z appoptics:patching patched http 
2022-04-21T16:26:07.802Z appoptics:patching patched zlib 
2022-04-21T16:26:07.824Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:07.825Z appoptics:patching patched fs 
2022-04-21T16:26:07.936Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:26:07.952Z appoptics:patching patched express 3.17.3
2022-04-21T16:26:07.959Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:07.966Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.3
    ✓ UDP might lose a message
2022-04-21T16:26:08.013Z appoptics:patching patched raw-body 2.5.1
(node:2052) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.2: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:16.006Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:16.007Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:16.007Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:16.008Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:16.086Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:16.271Z appoptics:patching patched crypto 
2022-04-21T16:26:16.301Z appoptics:patching patched https 
2022-04-21T16:26:16.302Z appoptics:patching patched http 
2022-04-21T16:26:16.331Z appoptics:patching patched zlib 
2022-04-21T16:26:16.356Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:16.356Z appoptics:patching patched fs 
2022-04-21T16:26:16.473Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:26:16.485Z appoptics:patching patched express 3.17.4
2022-04-21T16:26:16.492Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:16.499Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.4
    ✓ UDP might lose a message
2022-04-21T16:26:16.547Z appoptics:patching patched raw-body 2.5.1
(node:2074) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (285ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.3: connect 2.x series is deprecated

removed 9 packages, changed 5 packages, and audited 1004 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:23.830Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:23.831Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:23.831Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:23.832Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:23.902Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:24.042Z appoptics:patching patched crypto 
2022-04-21T16:26:24.071Z appoptics:patching patched https 
2022-04-21T16:26:24.072Z appoptics:patching patched http 
2022-04-21T16:26:24.100Z appoptics:patching patched zlib 
2022-04-21T16:26:24.122Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:24.123Z appoptics:patching patched fs 
2022-04-21T16:26:24.209Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:26:24.221Z appoptics:patching patched express 3.17.5
2022-04-21T16:26:24.226Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:24.232Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.5
    ✓ UDP might lose a message
2022-04-21T16:26:24.274Z appoptics:patching patched raw-body 2.5.1
(node:2096) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (78ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (281ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.4: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:32.417Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:32.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:32.418Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:32.419Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:32.489Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:32.640Z appoptics:patching patched crypto 
2022-04-21T16:26:32.675Z appoptics:patching patched https 
2022-04-21T16:26:32.676Z appoptics:patching patched http 
2022-04-21T16:26:32.715Z appoptics:patching patched zlib 
2022-04-21T16:26:32.737Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:32.737Z appoptics:patching patched fs 
2022-04-21T16:26:32.825Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:26:32.836Z appoptics:patching patched express 3.17.6
2022-04-21T16:26:32.842Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:32.849Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.6
    ✓ UDP might lose a message
2022-04-21T16:26:32.887Z appoptics:patching patched raw-body 2.5.1
(node:2118) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (237ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.5: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:40.722Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:40.723Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:40.723Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:40.724Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:40.800Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:40.957Z appoptics:patching patched crypto 
2022-04-21T16:26:40.999Z appoptics:patching patched https 
2022-04-21T16:26:41.000Z appoptics:patching patched http 
2022-04-21T16:26:41.058Z appoptics:patching patched zlib 
2022-04-21T16:26:41.082Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:41.082Z appoptics:patching patched fs 
2022-04-21T16:26:41.194Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:26:41.208Z appoptics:patching patched express 3.17.7
2022-04-21T16:26:41.214Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:41.221Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.7
    ✓ UDP might lose a message
2022-04-21T16:26:41.261Z appoptics:patching patched raw-body 2.5.1
(node:2140) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (48ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (278ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.26.6: connect 2.x series is deprecated

changed 3 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

36 vulnerabilities (1 low, 9 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:48.781Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:48.782Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:48.782Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:48.783Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:48.852Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:48.990Z appoptics:patching patched crypto 
2022-04-21T16:26:49.021Z appoptics:patching patched https 
2022-04-21T16:26:49.021Z appoptics:patching patched http 
2022-04-21T16:26:49.050Z appoptics:patching patched zlib 
2022-04-21T16:26:49.072Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:49.072Z appoptics:patching patched fs 
2022-04-21T16:26:49.158Z appoptics:patching patched morgan 1.3.2
2022-04-21T16:26:49.170Z appoptics:patching patched express 3.17.8
2022-04-21T16:26:49.176Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:49.182Z appoptics:debug starting runtimeMetrics


  probes.express 3.17.8
    ✓ UDP might lose a message
2022-04-21T16:26:49.220Z appoptics:patching patched raw-body 2.5.1
(node:2162) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (46ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (255ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.0: connect 2.x series is deprecated

added 22 packages, removed 4 packages, changed 38 packages, and audited 1022 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:26:58.628Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:26:58.629Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:26:58.629Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:26:58.630Z appoptics:debug using context provider: ace-context
2022-04-21T16:26:58.708Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:26:58.847Z appoptics:patching patched crypto 
2022-04-21T16:26:58.869Z appoptics:patching patched https 
2022-04-21T16:26:58.870Z appoptics:patching patched http 
2022-04-21T16:26:58.905Z appoptics:patching patched zlib 
2022-04-21T16:26:58.930Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:26:58.931Z appoptics:patching patched fs 
2022-04-21T16:26:59.027Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:26:59.044Z appoptics:patching patched express 3.18.0
2022-04-21T16:26:59.048Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:26:59.054Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.0
    ✓ UDP might lose a message
Thu, 21 Apr 2022 16:26:59 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/express.js:36:9
2022-04-21T16:26:59.098Z appoptics:patching patched raw-body 2.5.1
(node:2184) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
Thu, 21 Apr 2022 16:26:59 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:487:9
Thu, 21 Apr 2022 16:26:59 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:490:30
Thu, 21 Apr 2022 16:26:59 GMT connect deprecated utils.merge: use utils-merge npm module instead at node_modules/express/lib/application.js:493:9
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (227ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.1: connect 2.x series is deprecated

removed 9 packages, changed 8 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:06.997Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:06.998Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:06.998Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:06.999Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:07.068Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:07.205Z appoptics:patching patched crypto 
2022-04-21T16:27:07.225Z appoptics:patching patched https 
2022-04-21T16:27:07.226Z appoptics:patching patched http 
2022-04-21T16:27:07.264Z appoptics:patching patched zlib 
2022-04-21T16:27:07.290Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:07.290Z appoptics:patching patched fs 
2022-04-21T16:27:07.375Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:27:07.392Z appoptics:patching patched express 3.18.1
2022-04-21T16:27:07.396Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:07.401Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.1
    ✓ UDP might lose a message
2022-04-21T16:27:07.439Z appoptics:patching patched raw-body 2.5.1
(node:2206) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (229ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.2: connect 2.x series is deprecated

changed 4 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:14.949Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:14.950Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:14.950Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:14.951Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:15.020Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:15.157Z appoptics:patching patched crypto 
2022-04-21T16:27:15.178Z appoptics:patching patched https 
2022-04-21T16:27:15.179Z appoptics:patching patched http 
2022-04-21T16:27:15.221Z appoptics:patching patched zlib 
2022-04-21T16:27:15.247Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:15.247Z appoptics:patching patched fs 
2022-04-21T16:27:15.354Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:27:15.377Z appoptics:patching patched express 3.18.2
2022-04-21T16:27:15.385Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:15.394Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.2
    ✓ UDP might lose a message
2022-04-21T16:27:15.468Z appoptics:patching patched raw-body 2.5.1
(node:2228) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (266ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.3: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:23.672Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:23.673Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:23.673Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:23.674Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:23.745Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:23.884Z appoptics:patching patched crypto 
2022-04-21T16:27:23.905Z appoptics:patching patched https 
2022-04-21T16:27:23.906Z appoptics:patching patched http 
2022-04-21T16:27:23.948Z appoptics:patching patched zlib 
2022-04-21T16:27:23.973Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:23.974Z appoptics:patching patched fs 
2022-04-21T16:27:24.057Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:27:24.077Z appoptics:patching patched express 3.18.3
2022-04-21T16:27:24.081Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:24.086Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.3
    ✓ UDP might lose a message
2022-04-21T16:27:24.123Z appoptics:patching patched raw-body 2.5.1
(node:2250) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.4: connect 2.x series is deprecated

removed 1 package, changed 4 packages, and audited 1012 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:32.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:32.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:32.675Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:32.676Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:32.745Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:32.882Z appoptics:patching patched crypto 
2022-04-21T16:27:32.903Z appoptics:patching patched https 
2022-04-21T16:27:32.904Z appoptics:patching patched http 
2022-04-21T16:27:32.943Z appoptics:patching patched zlib 
2022-04-21T16:27:32.968Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:32.969Z appoptics:patching patched fs 
2022-04-21T16:27:33.055Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:27:33.072Z appoptics:patching patched express 3.18.4
2022-04-21T16:27:33.076Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:33.081Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.4
    ✓ UDP might lose a message
2022-04-21T16:27:33.119Z appoptics:patching patched raw-body 2.5.1
(node:2272) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (46ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (257ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.27.6: connect 2.x series is deprecated

changed 3 packages, and audited 1012 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:40.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:40.194Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:40.194Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:40.195Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:40.265Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:40.416Z appoptics:patching patched crypto 
2022-04-21T16:27:40.439Z appoptics:patching patched https 
2022-04-21T16:27:40.439Z appoptics:patching patched http 
2022-04-21T16:27:40.483Z appoptics:patching patched zlib 
2022-04-21T16:27:40.514Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:40.515Z appoptics:patching patched fs 
2022-04-21T16:27:40.591Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:27:40.612Z appoptics:patching patched express 3.18.5
2022-04-21T16:27:40.616Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:40.622Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.5
    ✓ UDP might lose a message
2022-04-21T16:27:40.660Z appoptics:patching patched raw-body 2.5.1
(node:2294) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (232ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1012 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 9 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:49.240Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:49.241Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:49.241Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:49.242Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:49.312Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:49.464Z appoptics:patching patched crypto 
2022-04-21T16:27:49.485Z appoptics:patching patched https 
2022-04-21T16:27:49.486Z appoptics:patching patched http 
2022-04-21T16:27:49.527Z appoptics:patching patched zlib 
2022-04-21T16:27:49.552Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:49.552Z appoptics:patching patched fs 
2022-04-21T16:27:49.635Z appoptics:patching patched morgan 1.4.1
2022-04-21T16:27:49.652Z appoptics:patching patched express 3.18.6
2022-04-21T16:27:49.655Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:49.661Z appoptics:debug starting runtimeMetrics


  probes.express 3.18.6
    ✓ UDP might lose a message
2022-04-21T16:27:49.698Z appoptics:patching patched raw-body 2.5.1
(node:2316) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (235ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.1: connect 2.x series is deprecated

added 17 packages, removed 12 packages, changed 30 packages, and audited 1017 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:27:58.786Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:27:58.786Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:27:58.786Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:27:58.787Z appoptics:debug using context provider: ace-context
2022-04-21T16:27:58.857Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:27:58.994Z appoptics:patching patched crypto 
2022-04-21T16:27:59.015Z appoptics:patching patched https 
2022-04-21T16:27:59.016Z appoptics:patching patched http 
2022-04-21T16:27:59.054Z appoptics:patching patched zlib 
2022-04-21T16:27:59.081Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:27:59.081Z appoptics:patching patched fs 
2022-04-21T16:27:59.188Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:27:59.209Z appoptics:patching patched express 3.19.0
2022-04-21T16:27:59.213Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:27:59.219Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.0
    ✓ UDP might lose a message
2022-04-21T16:27:59.272Z appoptics:patching patched raw-body 2.5.1
(node:2338) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (229ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.2: connect 2.x series is deprecated

removed 8 packages, changed 4 packages, and audited 1009 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:06.552Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:06.553Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:06.553Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:06.554Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:06.623Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:06.763Z appoptics:patching patched crypto 
2022-04-21T16:28:06.796Z appoptics:patching patched https 
2022-04-21T16:28:06.797Z appoptics:patching patched http 
2022-04-21T16:28:06.831Z appoptics:patching patched zlib 
2022-04-21T16:28:06.856Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:06.857Z appoptics:patching patched fs 
2022-04-21T16:28:06.952Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:28:06.969Z appoptics:patching patched express 3.19.1
2022-04-21T16:28:06.973Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:06.979Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.1
    ✓ UDP might lose a message
2022-04-21T16:28:07.035Z appoptics:patching patched raw-body 2.5.1
(node:2360) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (251ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.28.3: connect 2.x series is deprecated

changed 3 packages, and audited 1009 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (1 low, 8 moderate, 23 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:14.661Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:14.662Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:14.662Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:14.663Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:14.733Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:14.883Z appoptics:patching patched crypto 
2022-04-21T16:28:14.928Z appoptics:patching patched https 
2022-04-21T16:28:14.929Z appoptics:patching patched http 
2022-04-21T16:28:14.958Z appoptics:patching patched zlib 
2022-04-21T16:28:14.986Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:14.987Z appoptics:patching patched fs 
2022-04-21T16:28:15.086Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:28:15.109Z appoptics:patching patched express 3.19.2
2022-04-21T16:28:15.113Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:15.118Z appoptics:debug starting runtimeMetrics


  probes.express 3.19.2
    ✓ UDP might lose a message
2022-04-21T16:28:15.169Z appoptics:patching patched raw-body 2.5.1
(node:2382) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (245ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.0: connect 2.x series is deprecated

added 13 packages, removed 5 packages, changed 22 packages, and audited 1017 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:23.646Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:23.647Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:23.647Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:23.648Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:23.718Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:23.884Z appoptics:patching patched crypto 
2022-04-21T16:28:23.905Z appoptics:patching patched https 
2022-04-21T16:28:23.905Z appoptics:patching patched http 
2022-04-21T16:28:23.948Z appoptics:patching patched zlib 
2022-04-21T16:28:23.975Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:23.976Z appoptics:patching patched fs 
2022-04-21T16:28:24.072Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:28:24.090Z appoptics:patching patched express 3.20.0
2022-04-21T16:28:24.094Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:24.099Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.0
    ✓ UDP might lose a message
2022-04-21T16:28:24.138Z appoptics:patching patched raw-body 2.5.1
(node:2404) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (233ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)

changed 2 packages, and audited 1017 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:31.746Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:31.746Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:31.747Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:31.747Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:31.829Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:31.990Z appoptics:patching patched crypto 
2022-04-21T16:28:32.050Z appoptics:patching patched https 
2022-04-21T16:28:32.051Z appoptics:patching patched http 
2022-04-21T16:28:32.098Z appoptics:patching patched zlib 
2022-04-21T16:28:32.139Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:32.139Z appoptics:patching patched fs 
2022-04-21T16:28:32.276Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:28:32.294Z appoptics:patching patched express 3.20.1
2022-04-21T16:28:32.298Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:32.304Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.1
    ✓ UDP might lose a message
2022-04-21T16:28:32.350Z appoptics:patching patched raw-body 2.5.1
(node:2426) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (236ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.1: connect 2.x series is deprecated

changed 8 packages, and audited 1017 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:40.242Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:40.242Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:40.242Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:40.243Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:40.313Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:40.453Z appoptics:patching patched crypto 
2022-04-21T16:28:40.474Z appoptics:patching patched https 
2022-04-21T16:28:40.475Z appoptics:patching patched http 
2022-04-21T16:28:40.517Z appoptics:patching patched zlib 
2022-04-21T16:28:40.544Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:40.545Z appoptics:patching patched fs 
2022-04-21T16:28:40.642Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:28:40.659Z appoptics:patching patched express 3.20.2
2022-04-21T16:28:40.663Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:40.669Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.2
    ✓ UDP might lose a message
2022-04-21T16:28:40.707Z appoptics:patching patched raw-body 2.5.1
(node:2448) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (234ms)
  2 pending

npm WARN deprecated mkdirp@0.5.0: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.29.2: connect 2.x series is deprecated

added 1 package, removed 14 packages, changed 15 packages, and audited 1004 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

35 vulnerabilities (2 low, 8 moderate, 22 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:48.523Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:48.524Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:48.524Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:48.524Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:48.611Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:48.766Z appoptics:patching patched crypto 
2022-04-21T16:28:48.809Z appoptics:patching patched https 
2022-04-21T16:28:48.809Z appoptics:patching patched http 
2022-04-21T16:28:48.849Z appoptics:patching patched zlib 
2022-04-21T16:28:48.877Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:48.877Z appoptics:patching patched fs 
2022-04-21T16:28:48.984Z appoptics:patching patched morgan 1.5.3
2022-04-21T16:28:49.001Z appoptics:patching patched express 3.20.3
2022-04-21T16:28:49.005Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:49.011Z appoptics:debug starting runtimeMetrics


  probes.express 3.20.3
    ✓ UDP might lose a message
2022-04-21T16:28:49.049Z appoptics:patching patched raw-body 2.5.1
(node:2470) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (231ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.0: connect 2.x series is deprecated

added 21 packages, removed 10 packages, changed 37 packages, and audited 1015 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:28:57.458Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:28:57.459Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:28:57.459Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:28:57.460Z appoptics:debug using context provider: ace-context
2022-04-21T16:28:57.543Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:28:57.699Z appoptics:patching patched crypto 
2022-04-21T16:28:57.744Z appoptics:patching patched https 
2022-04-21T16:28:57.744Z appoptics:patching patched http 
2022-04-21T16:28:57.787Z appoptics:patching patched zlib 
2022-04-21T16:28:57.816Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:28:57.817Z appoptics:patching patched fs 
2022-04-21T16:28:57.931Z appoptics:patching patched morgan 1.6.1
2022-04-21T16:28:57.948Z appoptics:patching patched express 3.21.0
2022-04-21T16:28:57.952Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:28:57.958Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.0
    ✓ UDP might lose a message
2022-04-21T16:28:58.034Z appoptics:patching patched raw-body 2.5.1
(node:2492) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (76ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (311ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.1: connect 2.x series is deprecated

removed 2 packages, changed 6 packages, and audited 1013 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:05.748Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:05.748Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:05.748Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:05.749Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:05.819Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:05.966Z appoptics:patching patched crypto 
2022-04-21T16:29:05.992Z appoptics:patching patched https 
2022-04-21T16:29:05.993Z appoptics:patching patched http 
2022-04-21T16:29:06.020Z appoptics:patching patched zlib 
2022-04-21T16:29:06.048Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:06.048Z appoptics:patching patched fs 
2022-04-21T16:29:06.143Z appoptics:patching patched morgan 1.6.1
2022-04-21T16:29:06.160Z appoptics:patching patched express 3.21.1
2022-04-21T16:29:06.164Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:06.170Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.1
    ✓ UDP might lose a message
2022-04-21T16:29:06.215Z appoptics:patching patched raw-body 2.5.1
(node:2514) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (223ms)
  2 pending

npm WARN deprecated mkdirp@0.5.1: Legacy versions of mkdirp are no longer supported. Please update to mkdirp 1.x. (Note that the API surface has changed to use Promises in 1.x.)
npm WARN deprecated connect@2.30.2: connect 2.x series is deprecated

changed 3 packages, and audited 1013 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

31 vulnerabilities (3 low, 8 moderate, 17 high, 3 critical)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:14.872Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:14.872Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:14.872Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:14.873Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:14.943Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:15.082Z appoptics:patching patched crypto 
2022-04-21T16:29:15.102Z appoptics:patching patched https 
2022-04-21T16:29:15.103Z appoptics:patching patched http 
2022-04-21T16:29:15.143Z appoptics:patching patched zlib 
2022-04-21T16:29:15.170Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:15.170Z appoptics:patching patched fs 
2022-04-21T16:29:15.265Z appoptics:patching patched morgan 1.6.1
2022-04-21T16:29:15.282Z appoptics:patching patched express 3.21.2
2022-04-21T16:29:15.286Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:15.291Z appoptics:debug starting runtimeMetrics


  probes.express 3.21.2
    ✓ UDP might lose a message
2022-04-21T16:29:15.329Z appoptics:patching patched raw-body 2.5.1
(node:2536) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    - should support express.Router()
    - should support app.route(path)


  17 passing (236ms)
  2 pending


added 14 packages, removed 97 packages, changed 21 packages, and audited 930 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:22.665Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:22.666Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:22.666Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:22.667Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:22.817Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:23.078Z appoptics:patching patched crypto 
2022-04-21T16:29:23.133Z appoptics:patching patched https 
2022-04-21T16:29:23.134Z appoptics:patching patched http 
2022-04-21T16:29:23.190Z appoptics:patching patched zlib 
2022-04-21T16:29:23.214Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:23.219Z appoptics:patching patched fs 
2022-04-21T16:29:23.256Z appoptics:patching patched express 4.0.0
2022-04-21T16:29:23.261Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:23.268Z appoptics:debug starting runtimeMetrics


  probes.express 4.0.0
    ✓ UDP might lose a message
2022-04-21T16:29:23.308Z appoptics:patching patched raw-body 2.5.1
(node:2558) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (69ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (299ms)


added 1 package, removed 3 packages, changed 7 packages, and audited 928 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:30.317Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:30.317Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:30.317Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:30.318Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:30.388Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:30.523Z appoptics:patching patched crypto 
2022-04-21T16:29:30.543Z appoptics:patching patched https 
2022-04-21T16:29:30.544Z appoptics:patching patched http 
2022-04-21T16:29:30.583Z appoptics:patching patched zlib 
2022-04-21T16:29:30.594Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:30.595Z appoptics:patching patched fs 
2022-04-21T16:29:30.616Z appoptics:patching patched express 4.1.0
2022-04-21T16:29:30.624Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:30.630Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.0
    ✓ UDP might lose a message
2022-04-21T16:29:30.667Z appoptics:patching patched raw-body 2.5.1
(node:2580) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (41ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (268ms)


changed 1 package, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:38.273Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:38.274Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:38.274Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:38.274Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:38.344Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:38.486Z appoptics:patching patched crypto 
2022-04-21T16:29:38.509Z appoptics:patching patched https 
2022-04-21T16:29:38.510Z appoptics:patching patched http 
2022-04-21T16:29:38.546Z appoptics:patching patched zlib 
2022-04-21T16:29:38.557Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:38.558Z appoptics:patching patched fs 
2022-04-21T16:29:38.580Z appoptics:patching patched express 4.1.1
2022-04-21T16:29:38.588Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:38.595Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.1
    ✓ UDP might lose a message
2022-04-21T16:29:38.638Z appoptics:patching patched raw-body 2.5.1
(node:2602) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (67ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (244ms)


changed 1 package, and audited 928 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:45.568Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:45.568Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:45.568Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:45.569Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:45.639Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:45.773Z appoptics:patching patched crypto 
2022-04-21T16:29:45.793Z appoptics:patching patched https 
2022-04-21T16:29:45.794Z appoptics:patching patched http 
2022-04-21T16:29:45.834Z appoptics:patching patched zlib 
2022-04-21T16:29:45.845Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:45.845Z appoptics:patching patched fs 
2022-04-21T16:29:45.867Z appoptics:patching patched express 4.1.2
2022-04-21T16:29:45.874Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:45.881Z appoptics:debug starting runtimeMetrics


  probes.express 4.1.2
    ✓ UDP might lose a message
2022-04-21T16:29:45.919Z appoptics:patching patched raw-body 2.5.1
(node:2624) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


changed 2 packages, and audited 928 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:29:53.368Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:29:53.369Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:29:53.369Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:29:53.370Z appoptics:debug using context provider: ace-context
2022-04-21T16:29:53.453Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:29:53.588Z appoptics:patching patched crypto 
2022-04-21T16:29:53.610Z appoptics:patching patched https 
2022-04-21T16:29:53.610Z appoptics:patching patched http 
2022-04-21T16:29:53.647Z appoptics:patching patched zlib 
2022-04-21T16:29:53.658Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:29:53.658Z appoptics:patching patched fs 
2022-04-21T16:29:53.681Z appoptics:patching patched express 4.2.0
2022-04-21T16:29:53.688Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:29:53.695Z appoptics:debug starting runtimeMetrics


  probes.express 4.2.0
    ✓ UDP might lose a message
2022-04-21T16:29:53.733Z appoptics:patching patched raw-body 2.5.1
(node:2646) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (244ms)


added 2 packages, changed 2 packages, and audited 930 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:01.447Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:01.448Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:01.448Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:01.449Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:01.519Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:01.657Z appoptics:patching patched crypto 
2022-04-21T16:30:01.679Z appoptics:patching patched https 
2022-04-21T16:30:01.680Z appoptics:patching patched http 
2022-04-21T16:30:01.721Z appoptics:patching patched zlib 
2022-04-21T16:30:01.732Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:01.732Z appoptics:patching patched fs 
2022-04-21T16:30:01.757Z appoptics:patching patched express 4.3.0
2022-04-21T16:30:01.764Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:01.772Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.0
    ✓ UDP might lose a message
2022-04-21T16:30:01.810Z appoptics:patching patched raw-body 2.5.1
(node:2668) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (254ms)


changed 1 package, and audited 930 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:08.852Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:08.853Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:08.853Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:08.854Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:08.924Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:09.062Z appoptics:patching patched crypto 
2022-04-21T16:30:09.083Z appoptics:patching patched https 
2022-04-21T16:30:09.083Z appoptics:patching patched http 
2022-04-21T16:30:09.122Z appoptics:patching patched zlib 
2022-04-21T16:30:09.133Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:09.133Z appoptics:patching patched fs 
2022-04-21T16:30:09.168Z appoptics:patching patched express 4.3.1
2022-04-21T16:30:09.175Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:09.182Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.1
    ✓ UDP might lose a message
2022-04-21T16:30:09.221Z appoptics:patching patched raw-body 2.5.1
(node:2690) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


changed 1 package, and audited 930 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:17.173Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:17.174Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:17.174Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:17.175Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:17.261Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:17.419Z appoptics:patching patched crypto 
2022-04-21T16:30:17.487Z appoptics:patching patched https 
2022-04-21T16:30:17.517Z appoptics:patching patched http 
2022-04-21T16:30:17.558Z appoptics:patching patched zlib 
2022-04-21T16:30:17.570Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:17.570Z appoptics:patching patched fs 
2022-04-21T16:30:17.600Z appoptics:patching patched express 4.3.2
2022-04-21T16:30:17.608Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:17.615Z appoptics:debug starting runtimeMetrics


  probes.express 4.3.2
    ✓ UDP might lose a message
2022-04-21T16:30:17.656Z appoptics:patching patched raw-body 2.5.1
(node:2712) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (70ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (44ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (283ms)


added 1 package, changed 6 packages, and audited 931 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:25.203Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:25.203Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:25.203Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:25.204Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:25.323Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:25.504Z appoptics:patching patched crypto 
2022-04-21T16:30:25.562Z appoptics:patching patched https 
2022-04-21T16:30:25.563Z appoptics:patching patched http 
2022-04-21T16:30:25.612Z appoptics:patching patched zlib 
2022-04-21T16:30:25.626Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:25.626Z appoptics:patching patched fs 
2022-04-21T16:30:25.655Z appoptics:patching patched express 4.4.0
2022-04-21T16:30:25.663Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:25.670Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.0
    ✓ UDP might lose a message
2022-04-21T16:30:25.711Z appoptics:patching patched raw-body 2.5.1
(node:2734) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (295ms)


changed 4 packages, and audited 931 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 9 moderate, 9 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:35.619Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:35.620Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:35.620Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:35.621Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:35.690Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:35.826Z appoptics:patching patched crypto 
2022-04-21T16:30:35.846Z appoptics:patching patched https 
2022-04-21T16:30:35.847Z appoptics:patching patched http 
2022-04-21T16:30:35.888Z appoptics:patching patched zlib 
2022-04-21T16:30:35.899Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:35.899Z appoptics:patching patched fs 
2022-04-21T16:30:35.925Z appoptics:patching patched express 4.4.1
2022-04-21T16:30:35.932Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:35.939Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.1
    ✓ UDP might lose a message
2022-04-21T16:30:35.977Z appoptics:patching patched raw-body 2.5.1
(node:2756) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)


added 5 packages, changed 9 packages, and audited 936 packages in 12s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:48.562Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:48.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:48.563Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:48.564Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:48.653Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:48.807Z appoptics:patching patched crypto 
2022-04-21T16:30:48.830Z appoptics:patching patched https 
2022-04-21T16:30:48.830Z appoptics:patching patched http 
2022-04-21T16:30:48.879Z appoptics:patching patched zlib 
2022-04-21T16:30:48.892Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:48.892Z appoptics:patching patched fs 
2022-04-21T16:30:48.927Z appoptics:patching patched express 4.4.2
2022-04-21T16:30:48.934Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:48.941Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.2
    ✓ UDP might lose a message
2022-04-21T16:30:48.983Z appoptics:patching patched raw-body 2.5.1
(node:2778) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (83ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (375ms)


added 1 package, changed 8 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:30:57.157Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:30:57.157Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:30:57.157Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:30:57.158Z appoptics:debug using context provider: ace-context
2022-04-21T16:30:57.228Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:30:57.363Z appoptics:patching patched crypto 
2022-04-21T16:30:57.383Z appoptics:patching patched https 
2022-04-21T16:30:57.384Z appoptics:patching patched http 
2022-04-21T16:30:57.423Z appoptics:patching patched zlib 
2022-04-21T16:30:57.435Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:30:57.436Z appoptics:patching patched fs 
2022-04-21T16:30:57.466Z appoptics:patching patched express 4.4.3
2022-04-21T16:30:57.473Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:30:57.480Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.3
    ✓ UDP might lose a message
2022-04-21T16:30:57.519Z appoptics:patching patched raw-body 2.5.1
(node:2800) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


added 6 packages, removed 1 package, changed 6 packages, and audited 942 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:05.886Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:05.886Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:05.887Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:05.887Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:05.957Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:06.090Z appoptics:patching patched crypto 
2022-04-21T16:31:06.111Z appoptics:patching patched https 
2022-04-21T16:31:06.111Z appoptics:patching patched http 
2022-04-21T16:31:06.151Z appoptics:patching patched zlib 
2022-04-21T16:31:06.163Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:06.164Z appoptics:patching patched fs 
2022-04-21T16:31:06.198Z appoptics:patching patched express 4.4.4
2022-04-21T16:31:06.205Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:06.212Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.4
    ✓ UDP might lose a message
2022-04-21T16:31:06.253Z appoptics:patching patched raw-body 2.5.1
(node:2822) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (247ms)


changed 2 packages, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (1 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:13.265Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:13.265Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:13.265Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:13.266Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:13.350Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:13.501Z appoptics:patching patched crypto 
2022-04-21T16:31:13.544Z appoptics:patching patched https 
2022-04-21T16:31:13.545Z appoptics:patching patched http 
2022-04-21T16:31:13.585Z appoptics:patching patched zlib 
2022-04-21T16:31:13.598Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:13.599Z appoptics:patching patched fs 
2022-04-21T16:31:13.637Z appoptics:patching patched express 4.4.5
2022-04-21T16:31:13.644Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:13.652Z appoptics:debug starting runtimeMetrics


  probes.express 4.4.5
    ✓ UDP might lose a message
2022-04-21T16:31:13.710Z appoptics:patching patched raw-body 2.5.1
(node:2844) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (275ms)


added 11 packages, removed 1 package, changed 5 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:21.061Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:21.062Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:21.062Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:21.063Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:21.133Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:21.271Z appoptics:patching patched crypto 
2022-04-21T16:31:21.292Z appoptics:patching patched https 
2022-04-21T16:31:21.293Z appoptics:patching patched http 
2022-04-21T16:31:21.342Z appoptics:patching patched zlib 
2022-04-21T16:31:21.361Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:21.362Z appoptics:patching patched fs 
2022-04-21T16:31:21.411Z appoptics:patching patched express 4.5.0
2022-04-21T16:31:21.419Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:21.426Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.0
    ✓ UDP might lose a message
2022-04-21T16:31:21.467Z appoptics:patching patched raw-body 2.5.1
(node:2866) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (252ms)


changed 1 package, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:29.337Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:29.338Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:29.338Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:29.339Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:29.417Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:29.552Z appoptics:patching patched crypto 
2022-04-21T16:31:29.574Z appoptics:patching patched https 
2022-04-21T16:31:29.574Z appoptics:patching patched http 
2022-04-21T16:31:29.615Z appoptics:patching patched zlib 
2022-04-21T16:31:29.629Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:29.630Z appoptics:patching patched fs 
2022-04-21T16:31:29.672Z appoptics:patching patched express 4.5.1
2022-04-21T16:31:29.682Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:29.689Z appoptics:debug starting runtimeMetrics


  probes.express 4.5.1
    ✓ UDP might lose a message
2022-04-21T16:31:29.730Z appoptics:patching patched raw-body 2.5.1
(node:2888) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (42ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (260ms)


added 1 package, removed 6 packages, changed 9 packages, and audited 947 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:36.881Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:36.882Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:36.882Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:36.883Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:36.952Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:37.087Z appoptics:patching patched crypto 
2022-04-21T16:31:37.108Z appoptics:patching patched https 
2022-04-21T16:31:37.108Z appoptics:patching patched http 
2022-04-21T16:31:37.147Z appoptics:patching patched zlib 
2022-04-21T16:31:37.163Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:37.163Z appoptics:patching patched fs 
2022-04-21T16:31:37.196Z appoptics:patching patched express 4.6.0
2022-04-21T16:31:37.203Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:37.210Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.0
    ✓ UDP might lose a message
2022-04-21T16:31:37.251Z appoptics:patching patched raw-body 2.5.1
(node:2910) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (249ms)


changed 1 package, and audited 947 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:44.714Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:44.714Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:44.714Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:44.715Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:44.786Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:44.924Z appoptics:patching patched crypto 
2022-04-21T16:31:44.944Z appoptics:patching patched https 
2022-04-21T16:31:44.945Z appoptics:patching patched http 
2022-04-21T16:31:44.987Z appoptics:patching patched zlib 
2022-04-21T16:31:45.003Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:45.004Z appoptics:patching patched fs 
2022-04-21T16:31:45.037Z appoptics:patching patched express 4.6.1
2022-04-21T16:31:45.044Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:45.051Z appoptics:debug starting runtimeMetrics


  probes.express 4.6.1
    ✓ UDP might lose a message
2022-04-21T16:31:45.094Z appoptics:patching patched raw-body 2.5.1
(node:2932) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (72ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (274ms)


added 5 packages, changed 10 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:31:52.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:31:52.675Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:31:52.675Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:31:52.677Z appoptics:debug using context provider: ace-context
2022-04-21T16:31:52.820Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:31:53.097Z appoptics:patching patched crypto 
2022-04-21T16:31:53.133Z appoptics:patching patched https 
2022-04-21T16:31:53.133Z appoptics:patching patched http 
2022-04-21T16:31:53.198Z appoptics:patching patched zlib 
2022-04-21T16:31:53.226Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:31:53.226Z appoptics:patching patched fs 
2022-04-21T16:31:53.282Z appoptics:patching patched express 4.7.0
2022-04-21T16:31:53.290Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:31:53.298Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.0
    ✓ UDP might lose a message
2022-04-21T16:31:53.345Z appoptics:patching patched raw-body 2.5.1
(node:2954) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (249ms)


changed 4 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:00.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:00.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:00.409Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:00.410Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:00.500Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:00.651Z appoptics:patching patched crypto 
2022-04-21T16:32:00.671Z appoptics:patching patched https 
2022-04-21T16:32:00.672Z appoptics:patching patched http 
2022-04-21T16:32:00.712Z appoptics:patching patched zlib 
2022-04-21T16:32:00.728Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:00.729Z appoptics:patching patched fs 
2022-04-21T16:32:00.771Z appoptics:patching patched express 4.7.1
2022-04-21T16:32:00.778Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:00.785Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.1
    ✓ UDP might lose a message
2022-04-21T16:32:00.829Z appoptics:patching patched raw-body 2.5.1
(node:2976) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)


changed 4 packages, and audited 952 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:08.584Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:08.585Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:08.585Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:08.585Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:08.704Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:08.864Z appoptics:patching patched crypto 
2022-04-21T16:32:08.891Z appoptics:patching patched https 
2022-04-21T16:32:08.892Z appoptics:patching patched http 
2022-04-21T16:32:08.943Z appoptics:patching patched zlib 
2022-04-21T16:32:08.959Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:08.959Z appoptics:patching patched fs 
2022-04-21T16:32:09.002Z appoptics:patching patched express 4.7.2
2022-04-21T16:32:09.009Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:09.016Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.2
    ✓ UDP might lose a message
2022-04-21T16:32:09.057Z appoptics:patching patched raw-body 2.5.1
(node:2998) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


changed 2 packages, and audited 952 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:16.056Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:16.057Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:16.057Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:16.058Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:16.142Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:16.300Z appoptics:patching patched crypto 
2022-04-21T16:32:16.344Z appoptics:patching patched https 
2022-04-21T16:32:16.345Z appoptics:patching patched http 
2022-04-21T16:32:16.397Z appoptics:patching patched zlib 
2022-04-21T16:32:16.431Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:16.432Z appoptics:patching patched fs 
2022-04-21T16:32:16.513Z appoptics:patching patched express 4.7.3
2022-04-21T16:32:16.523Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:16.536Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.3
    ✓ UDP might lose a message
2022-04-21T16:32:16.625Z appoptics:patching patched raw-body 2.5.1
(node:3020) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (135ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (396ms)


removed 5 packages, changed 2 packages, and audited 947 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (2 low, 7 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:24.100Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:24.100Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:24.100Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:24.101Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:24.170Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:24.304Z appoptics:patching patched crypto 
2022-04-21T16:32:24.324Z appoptics:patching patched https 
2022-04-21T16:32:24.325Z appoptics:patching patched http 
2022-04-21T16:32:24.363Z appoptics:patching patched zlib 
2022-04-21T16:32:24.378Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:24.379Z appoptics:patching patched fs 
2022-04-21T16:32:24.412Z appoptics:patching patched express 4.7.4
2022-04-21T16:32:24.419Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:24.426Z appoptics:debug starting runtimeMetrics


  probes.express 4.7.4
    ✓ UDP might lose a message
2022-04-21T16:32:24.466Z appoptics:patching patched raw-body 2.5.1
(node:3042) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (249ms)


added 9 packages, changed 4 packages, and audited 956 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:32.383Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:32.384Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:32.384Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:32.385Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:32.456Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:32.591Z appoptics:patching patched crypto 
2022-04-21T16:32:32.612Z appoptics:patching patched https 
2022-04-21T16:32:32.613Z appoptics:patching patched http 
2022-04-21T16:32:32.656Z appoptics:patching patched zlib 
2022-04-21T16:32:32.669Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:32.669Z appoptics:patching patched fs 
2022-04-21T16:32:32.719Z appoptics:patching patched express 4.8.0
2022-04-21T16:32:32.726Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:32.733Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.0
    ✓ UDP might lose a message
2022-04-21T16:32:32.776Z appoptics:patching patched raw-body 2.5.1
(node:3064) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (252ms)


changed 2 packages, and audited 956 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:39.573Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:39.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:39.574Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:39.574Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:39.649Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:39.783Z appoptics:patching patched crypto 
2022-04-21T16:32:39.804Z appoptics:patching patched https 
2022-04-21T16:32:39.804Z appoptics:patching patched http 
2022-04-21T16:32:39.846Z appoptics:patching patched zlib 
2022-04-21T16:32:39.859Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:39.859Z appoptics:patching patched fs 
2022-04-21T16:32:39.908Z appoptics:patching patched express 4.8.1
2022-04-21T16:32:39.915Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:39.922Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.1
    ✓ UDP might lose a message
2022-04-21T16:32:39.965Z appoptics:patching patched raw-body 2.5.1
(node:3086) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


changed 2 packages, and audited 956 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:48.049Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:48.050Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:48.050Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:48.051Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:48.121Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:48.254Z appoptics:patching patched crypto 
2022-04-21T16:32:48.275Z appoptics:patching patched https 
2022-04-21T16:32:48.276Z appoptics:patching patched http 
2022-04-21T16:32:48.316Z appoptics:patching patched zlib 
2022-04-21T16:32:48.329Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:48.329Z appoptics:patching patched fs 
2022-04-21T16:32:48.378Z appoptics:patching patched express 4.8.2
2022-04-21T16:32:48.384Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:48.391Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.2
    ✓ UDP might lose a message
2022-04-21T16:32:48.432Z appoptics:patching patched raw-body 2.5.1
(node:3108) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (251ms)


removed 3 packages, changed 3 packages, and audited 953 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:32:56.236Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:32:56.237Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:32:56.237Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:32:56.238Z appoptics:debug using context provider: ace-context
2022-04-21T16:32:56.327Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:32:56.476Z appoptics:patching patched crypto 
2022-04-21T16:32:56.497Z appoptics:patching patched https 
2022-04-21T16:32:56.497Z appoptics:patching patched http 
2022-04-21T16:32:56.536Z appoptics:patching patched zlib 
2022-04-21T16:32:56.549Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:32:56.549Z appoptics:patching patched fs 
2022-04-21T16:32:56.598Z appoptics:patching patched express 4.8.3
2022-04-21T16:32:56.605Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:32:56.611Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.3
    ✓ UDP might lose a message
2022-04-21T16:32:56.652Z appoptics:patching patched raw-body 2.5.1
(node:3130) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (40ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (270ms)


added 1 package, changed 3 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:04.110Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:04.110Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:04.110Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:04.111Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:04.200Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:04.359Z appoptics:patching patched crypto 
2022-04-21T16:33:04.403Z appoptics:patching patched https 
2022-04-21T16:33:04.416Z appoptics:patching patched http 
2022-04-21T16:33:04.446Z appoptics:patching patched zlib 
2022-04-21T16:33:04.459Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:04.459Z appoptics:patching patched fs 
2022-04-21T16:33:04.517Z appoptics:patching patched express 4.8.4
2022-04-21T16:33:04.524Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:04.532Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.4
    ✓ UDP might lose a message
2022-04-21T16:33:04.577Z appoptics:patching patched raw-body 2.5.1
(node:3152) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (284ms)


added 3 packages, removed 3 packages, changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:12.191Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:12.192Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:12.192Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:12.193Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:12.263Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:12.397Z appoptics:patching patched crypto 
2022-04-21T16:33:12.417Z appoptics:patching patched https 
2022-04-21T16:33:12.418Z appoptics:patching patched http 
2022-04-21T16:33:12.457Z appoptics:patching patched zlib 
2022-04-21T16:33:12.469Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:12.470Z appoptics:patching patched fs 
2022-04-21T16:33:12.520Z appoptics:patching patched express 4.8.5
2022-04-21T16:33:12.526Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:12.533Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.5
    ✓ UDP might lose a message
2022-04-21T16:33:12.576Z appoptics:patching patched raw-body 2.5.1
(node:3174) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (64ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (267ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:20.146Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:20.147Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:20.147Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:20.148Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:20.230Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:20.382Z appoptics:patching patched crypto 
2022-04-21T16:33:20.426Z appoptics:patching patched https 
2022-04-21T16:33:20.428Z appoptics:patching patched http 
2022-04-21T16:33:20.478Z appoptics:patching patched zlib 
2022-04-21T16:33:20.498Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:20.499Z appoptics:patching patched fs 
2022-04-21T16:33:20.576Z appoptics:patching patched express 4.8.6
2022-04-21T16:33:20.585Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:20.592Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.6
    ✓ UDP might lose a message
2022-04-21T16:33:20.659Z appoptics:patching patched raw-body 2.5.1
(node:3196) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (84ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (284ms)


changed 2 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:27.833Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:27.834Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:27.834Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:27.835Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:27.925Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:28.061Z appoptics:patching patched crypto 
2022-04-21T16:33:28.084Z appoptics:patching patched https 
2022-04-21T16:33:28.085Z appoptics:patching patched http 
2022-04-21T16:33:28.120Z appoptics:patching patched zlib 
2022-04-21T16:33:28.132Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:28.132Z appoptics:patching patched fs 
2022-04-21T16:33:28.189Z appoptics:patching patched express 4.8.7
2022-04-21T16:33:28.197Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:28.203Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.7
    ✓ UDP might lose a message
2022-04-21T16:33:28.246Z appoptics:patching patched raw-body 2.5.1
(node:3218) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (252ms)


removed 8 packages, changed 2 packages, and audited 946 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:35.703Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:35.703Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:35.703Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:35.704Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:35.772Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:35.910Z appoptics:patching patched crypto 
2022-04-21T16:33:35.932Z appoptics:patching patched https 
2022-04-21T16:33:35.933Z appoptics:patching patched http 
2022-04-21T16:33:35.984Z appoptics:patching patched zlib 
2022-04-21T16:33:35.997Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:35.997Z appoptics:patching patched fs 
2022-04-21T16:33:36.044Z appoptics:patching patched express 4.8.8
2022-04-21T16:33:36.051Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:36.060Z appoptics:debug starting runtimeMetrics


  probes.express 4.8.8
    ✓ UDP might lose a message
2022-04-21T16:33:36.102Z appoptics:patching patched raw-body 2.5.1
(node:3240) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (251ms)


added 14 packages, removed 1 package, changed 18 packages, and audited 959 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:43.433Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:43.434Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:43.434Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:43.435Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:43.531Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:43.677Z appoptics:patching patched crypto 
2022-04-21T16:33:43.719Z appoptics:patching patched https 
2022-04-21T16:33:43.720Z appoptics:patching patched http 
2022-04-21T16:33:43.774Z appoptics:patching patched zlib 
2022-04-21T16:33:43.787Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:43.788Z appoptics:patching patched fs 
2022-04-21T16:33:43.859Z appoptics:patching patched express 4.9.0
2022-04-21T16:33:43.871Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:43.882Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.0
    ✓ UDP might lose a message
2022-04-21T16:33:43.965Z appoptics:patching patched raw-body 2.5.1
(node:3262) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (81ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (297ms)


removed 1 package, changed 4 packages, and audited 958 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:33:51.751Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:33:51.751Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:33:51.751Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:33:51.752Z appoptics:debug using context provider: ace-context
2022-04-21T16:33:51.820Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:33:51.953Z appoptics:patching patched crypto 
2022-04-21T16:33:51.974Z appoptics:patching patched https 
2022-04-21T16:33:51.975Z appoptics:patching patched http 
2022-04-21T16:33:52.014Z appoptics:patching patched zlib 
2022-04-21T16:33:52.026Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:33:52.027Z appoptics:patching patched fs 
2022-04-21T16:33:52.084Z appoptics:patching patched express 4.9.1
2022-04-21T16:33:52.091Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:33:52.098Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.1
    ✓ UDP might lose a message
2022-04-21T16:33:52.142Z appoptics:patching patched raw-body 2.5.1
(node:3284) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


changed 1 package, and audited 958 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:00.263Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:00.264Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:00.264Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:00.264Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:00.334Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:00.468Z appoptics:patching patched crypto 
2022-04-21T16:34:00.488Z appoptics:patching patched https 
2022-04-21T16:34:00.489Z appoptics:patching patched http 
2022-04-21T16:34:00.530Z appoptics:patching patched zlib 
2022-04-21T16:34:00.542Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:00.542Z appoptics:patching patched fs 
2022-04-21T16:34:00.599Z appoptics:patching patched express 4.9.2
2022-04-21T16:34:00.606Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:00.613Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.2
    ✓ UDP might lose a message
2022-04-21T16:34:00.657Z appoptics:patching patched raw-body 2.5.1
(node:3306) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


added 1 package, changed 3 packages, and audited 959 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:07.665Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:07.666Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:07.666Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:07.666Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:07.736Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:07.873Z appoptics:patching patched crypto 
2022-04-21T16:34:07.893Z appoptics:patching patched https 
2022-04-21T16:34:07.894Z appoptics:patching patched http 
2022-04-21T16:34:07.934Z appoptics:patching patched zlib 
2022-04-21T16:34:07.946Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:07.947Z appoptics:patching patched fs 
2022-04-21T16:34:08.004Z appoptics:patching patched express 4.9.3
2022-04-21T16:34:08.011Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:08.017Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.3
    ✓ UDP might lose a message
2022-04-21T16:34:08.060Z appoptics:patching patched raw-body 2.5.1
(node:3328) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (280ms)


changed 2 packages, and audited 959 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:15.821Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:15.821Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:15.821Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:15.822Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:15.892Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:16.026Z appoptics:patching patched crypto 
2022-04-21T16:34:16.047Z appoptics:patching patched https 
2022-04-21T16:34:16.047Z appoptics:patching patched http 
2022-04-21T16:34:16.089Z appoptics:patching patched zlib 
2022-04-21T16:34:16.102Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:16.102Z appoptics:patching patched fs 
2022-04-21T16:34:16.160Z appoptics:patching patched express 4.9.4
2022-04-21T16:34:16.168Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:16.174Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.4
    ✓ UDP might lose a message
2022-04-21T16:34:16.221Z appoptics:patching patched raw-body 2.5.1
(node:3350) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)


removed 9 packages, changed 3 packages, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:24.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:24.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:24.225Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:24.225Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:24.294Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:24.430Z appoptics:patching patched crypto 
2022-04-21T16:34:24.451Z appoptics:patching patched https 
2022-04-21T16:34:24.451Z appoptics:patching patched http 
2022-04-21T16:34:24.492Z appoptics:patching patched zlib 
2022-04-21T16:34:24.504Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:24.504Z appoptics:patching patched fs 
2022-04-21T16:34:24.551Z appoptics:patching patched express 4.9.5
2022-04-21T16:34:24.560Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:24.567Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.5
    ✓ UDP might lose a message
2022-04-21T16:34:24.607Z appoptics:patching patched raw-body 2.5.1
(node:3372) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


changed 1 package, and audited 950 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:31.279Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:31.280Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:31.280Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:31.281Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:31.351Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:31.485Z appoptics:patching patched crypto 
2022-04-21T16:34:31.505Z appoptics:patching patched https 
2022-04-21T16:34:31.506Z appoptics:patching patched http 
2022-04-21T16:34:31.546Z appoptics:patching patched zlib 
2022-04-21T16:34:31.558Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:31.559Z appoptics:patching patched fs 
2022-04-21T16:34:31.605Z appoptics:patching patched express 4.9.6
2022-04-21T16:34:31.612Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:31.619Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.6
    ✓ UDP might lose a message
2022-04-21T16:34:31.660Z appoptics:patching patched raw-body 2.5.1
(node:3394) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


changed 1 package, and audited 950 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:39.221Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:39.222Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:39.222Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:39.222Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:39.292Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:39.427Z appoptics:patching patched crypto 
2022-04-21T16:34:39.448Z appoptics:patching patched https 
2022-04-21T16:34:39.449Z appoptics:patching patched http 
2022-04-21T16:34:39.488Z appoptics:patching patched zlib 
2022-04-21T16:34:39.500Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:39.501Z appoptics:patching patched fs 
2022-04-21T16:34:39.547Z appoptics:patching patched express 4.9.7
2022-04-21T16:34:39.554Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:39.560Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.7
    ✓ UDP might lose a message
2022-04-21T16:34:39.604Z appoptics:patching patched raw-body 2.5.1
(node:3416) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (249ms)


changed 1 package, and audited 950 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:46.774Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:46.775Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:46.775Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:46.776Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:46.861Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:47.043Z appoptics:patching patched crypto 
2022-04-21T16:34:47.090Z appoptics:patching patched https 
2022-04-21T16:34:47.091Z appoptics:patching patched http 
2022-04-21T16:34:47.134Z appoptics:patching patched zlib 
2022-04-21T16:34:47.147Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:47.148Z appoptics:patching patched fs 
2022-04-21T16:34:47.207Z appoptics:patching patched express 4.9.8
2022-04-21T16:34:47.214Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:47.221Z appoptics:debug starting runtimeMetrics


  probes.express 4.9.8
    ✓ UDP might lose a message
2022-04-21T16:34:47.269Z appoptics:patching patched raw-body 2.5.1
(node:3438) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (74ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (282ms)


added 4 packages, changed 17 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:34:54.389Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:34:54.390Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:34:54.390Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:34:54.391Z appoptics:debug using context provider: ace-context
2022-04-21T16:34:54.460Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:34:54.619Z appoptics:patching patched crypto 
2022-04-21T16:34:54.664Z appoptics:patching patched https 
2022-04-21T16:34:54.686Z appoptics:patching patched http 
2022-04-21T16:34:54.714Z appoptics:patching patched zlib 
2022-04-21T16:34:54.730Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:34:54.731Z appoptics:patching patched fs 
2022-04-21T16:34:54.780Z appoptics:patching patched express 4.10.0
2022-04-21T16:34:54.787Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:34:54.794Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.0
    ✓ UDP might lose a message
2022-04-21T16:34:54.852Z appoptics:patching patched raw-body 2.5.1
(node:3460) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (77ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (291ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:35:02.742Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:35:02.742Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:35:02.742Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:35:02.743Z appoptics:debug using context provider: ace-context
2022-04-21T16:35:02.813Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:35:02.947Z appoptics:patching patched crypto 
2022-04-21T16:35:02.967Z appoptics:patching patched https 
2022-04-21T16:35:02.968Z appoptics:patching patched http 
2022-04-21T16:35:03.009Z appoptics:patching patched zlib 
2022-04-21T16:35:03.024Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:35:03.024Z appoptics:patching patched fs 
2022-04-21T16:35:03.070Z appoptics:patching patched express 4.10.1
2022-04-21T16:35:03.077Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:35:03.084Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.1
    ✓ UDP might lose a message
2022-04-21T16:35:03.127Z appoptics:patching patched raw-body 2.5.1
(node:3482) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:35:10.188Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:35:10.189Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:35:10.189Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:35:10.190Z appoptics:debug using context provider: ace-context
2022-04-21T16:35:10.261Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:35:10.398Z appoptics:patching patched crypto 
2022-04-21T16:35:10.418Z appoptics:patching patched https 
2022-04-21T16:35:10.419Z appoptics:patching patched http 
2022-04-21T16:35:10.474Z appoptics:patching patched zlib 
2022-04-21T16:35:10.491Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:35:10.492Z appoptics:patching patched fs 
2022-04-21T16:35:10.545Z appoptics:patching patched express 4.10.2
2022-04-21T16:35:10.552Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:35:10.559Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.2
    ✓ UDP might lose a message
2022-04-21T16:35:10.607Z appoptics:patching patched raw-body 2.5.1
(node:3504) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (73ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (69ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (364ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:35:18.214Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:35:18.215Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:35:18.215Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:35:18.216Z appoptics:debug using context provider: ace-context
2022-04-21T16:35:18.285Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:35:18.431Z appoptics:patching patched crypto 
2022-04-21T16:35:18.471Z appoptics:patching patched https 
2022-04-21T16:35:18.472Z appoptics:patching patched http 
2022-04-21T16:35:18.510Z appoptics:patching patched zlib 
2022-04-21T16:35:18.537Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:35:18.538Z appoptics:patching patched fs 
2022-04-21T16:35:18.591Z appoptics:patching patched express 4.10.3
2022-04-21T16:35:18.599Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:35:18.606Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.3
    ✓ UDP might lose a message
2022-04-21T16:35:18.656Z appoptics:patching patched raw-body 2.5.1
(node:3526) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (63ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (256ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:35:26.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:35:26.194Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:35:26.194Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:35:26.195Z appoptics:debug using context provider: ace-context
2022-04-21T16:35:26.265Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:35:26.400Z appoptics:patching patched crypto 
2022-04-21T16:35:26.421Z appoptics:patching patched https 
2022-04-21T16:35:26.421Z appoptics:patching patched http 
2022-04-21T16:35:26.460Z appoptics:patching patched zlib 
2022-04-21T16:35:26.475Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:35:26.475Z appoptics:patching patched fs 
2022-04-21T16:35:26.521Z appoptics:patching patched express 4.10.4
2022-04-21T16:35:26.528Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:35:26.535Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.4
    ✓ UDP might lose a message
2022-04-21T16:35:26.578Z appoptics:patching patched raw-body 2.5.1
(node:3548) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (247ms)


changed 1 package, and audited 954 packages in 9s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:35:36.176Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:35:36.177Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:35:36.177Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:35:36.178Z appoptics:debug using context provider: ace-context
2022-04-21T16:35:36.262Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:35:36.417Z appoptics:patching patched crypto 
2022-04-21T16:35:36.461Z appoptics:patching patched https 
2022-04-21T16:35:36.461Z appoptics:patching patched http 
2022-04-21T16:35:36.503Z appoptics:patching patched zlib 
2022-04-21T16:35:36.519Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:35:36.519Z appoptics:patching patched fs 
2022-04-21T16:35:36.570Z appoptics:patching patched express 4.10.5
2022-04-21T16:35:36.577Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:35:36.585Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.5
    ✓ UDP might lose a message
2022-04-21T16:35:36.629Z appoptics:patching patched raw-body 2.5.1
(node:3570) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (75ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (281ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:35:43.792Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:35:43.792Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:35:43.793Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:35:43.793Z appoptics:debug using context provider: ace-context
2022-04-21T16:35:43.862Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:35:43.996Z appoptics:patching patched crypto 
2022-04-21T16:35:44.018Z appoptics:patching patched https 
2022-04-21T16:35:44.019Z appoptics:patching patched http 
2022-04-21T16:35:44.060Z appoptics:patching patched zlib 
2022-04-21T16:35:44.075Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:35:44.076Z appoptics:patching patched fs 
2022-04-21T16:35:44.122Z appoptics:patching patched express 4.10.6
2022-04-21T16:35:44.129Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:35:44.136Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.6
    ✓ UDP might lose a message
2022-04-21T16:35:44.179Z appoptics:patching patched raw-body 2.5.1
(node:3592) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (61ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (39ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (276ms)


changed 5 packages, and audited 954 packages in 12s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:35:56.572Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:35:56.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:35:56.573Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:35:56.574Z appoptics:debug using context provider: ace-context
2022-04-21T16:35:56.643Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:35:56.775Z appoptics:patching patched crypto 
2022-04-21T16:35:56.795Z appoptics:patching patched https 
2022-04-21T16:35:56.796Z appoptics:patching patched http 
2022-04-21T16:35:56.849Z appoptics:patching patched zlib 
2022-04-21T16:35:56.866Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:35:56.866Z appoptics:patching patched fs 
2022-04-21T16:35:56.919Z appoptics:patching patched express 4.10.7
2022-04-21T16:35:56.926Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:35:56.933Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.7
    ✓ UDP might lose a message
2022-04-21T16:35:56.987Z appoptics:patching patched raw-body 2.5.1
(node:3614) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (80ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (270ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 8 moderate, 11 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:36:05.054Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:36:05.055Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:36:05.055Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:36:05.056Z appoptics:debug using context provider: ace-context
2022-04-21T16:36:05.124Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:36:05.258Z appoptics:patching patched crypto 
2022-04-21T16:36:05.279Z appoptics:patching patched https 
2022-04-21T16:36:05.280Z appoptics:patching patched http 
2022-04-21T16:36:05.317Z appoptics:patching patched zlib 
2022-04-21T16:36:05.334Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:36:05.334Z appoptics:patching patched fs 
2022-04-21T16:36:05.380Z appoptics:patching patched express 4.10.8
2022-04-21T16:36:05.387Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:36:05.394Z appoptics:debug starting runtimeMetrics


  probes.express 4.10.8
    ✓ UDP might lose a message
2022-04-21T16:36:05.436Z appoptics:patching patched raw-body 2.5.1
(node:3636) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (60ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


added 10 packages, removed 8 packages, changed 8 packages, and audited 956 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:36:12.429Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:36:12.430Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:36:12.430Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:36:12.430Z appoptics:debug using context provider: ace-context
2022-04-21T16:36:12.515Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:36:12.719Z appoptics:patching patched crypto 
2022-04-21T16:36:12.783Z appoptics:patching patched https 
2022-04-21T16:36:12.784Z appoptics:patching patched http 
2022-04-21T16:36:12.845Z appoptics:patching patched zlib 
2022-04-21T16:36:12.866Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:36:12.867Z appoptics:patching patched fs 
2022-04-21T16:36:12.954Z appoptics:patching patched express 4.11.0
2022-04-21T16:36:12.976Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:36:12.982Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.0
    ✓ UDP might lose a message
2022-04-21T16:36:13.088Z appoptics:patching patched raw-body 2.5.1
(node:3658) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (136ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest (38ms)
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (429ms)


removed 8 packages, changed 2 packages, and audited 948 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:36:20.674Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:36:20.674Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:36:20.674Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:36:20.675Z appoptics:debug using context provider: ace-context
2022-04-21T16:36:20.749Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:36:20.908Z appoptics:patching patched crypto 
2022-04-21T16:36:20.953Z appoptics:patching patched https 
2022-04-21T16:36:20.956Z appoptics:patching patched http 
2022-04-21T16:36:20.992Z appoptics:patching patched zlib 
2022-04-21T16:36:21.007Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:36:21.008Z appoptics:patching patched fs 
2022-04-21T16:36:21.060Z appoptics:patching patched express 4.11.1
2022-04-21T16:36:21.066Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:36:21.073Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.1
    ✓ UDP might lose a message
2022-04-21T16:36:21.118Z appoptics:patching patched raw-body 2.5.1
(node:3680) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (240ms)


changed 1 package, and audited 948 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:36:28.829Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:36:28.830Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:36:28.830Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:36:28.831Z appoptics:debug using context provider: ace-context
2022-04-21T16:36:28.901Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:36:29.034Z appoptics:patching patched crypto 
2022-04-21T16:36:29.054Z appoptics:patching patched https 
2022-04-21T16:36:29.055Z appoptics:patching patched http 
2022-04-21T16:36:29.095Z appoptics:patching patched zlib 
2022-04-21T16:36:29.114Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:36:29.114Z appoptics:patching patched fs 
2022-04-21T16:36:29.181Z appoptics:patching patched express 4.11.2
2022-04-21T16:36:29.188Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:36:29.195Z appoptics:debug starting runtimeMetrics


  probes.express 4.11.2
    ✓ UDP might lose a message
2022-04-21T16:36:29.238Z appoptics:patching patched raw-body 2.5.1
(node:3702) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


added 9 packages, removed 3 packages, changed 5 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:36:36.304Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:36:36.305Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:36:36.305Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:36:36.306Z appoptics:debug using context provider: ace-context
2022-04-21T16:36:36.375Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:36:36.507Z appoptics:patching patched crypto 
2022-04-21T16:36:36.528Z appoptics:patching patched https 
2022-04-21T16:36:36.529Z appoptics:patching patched http 
2022-04-21T16:36:36.568Z appoptics:patching patched zlib 
2022-04-21T16:36:36.583Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:36:36.584Z appoptics:patching patched fs 
2022-04-21T16:36:36.637Z appoptics:patching patched express 4.12.0
2022-04-21T16:36:36.643Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:36:36.652Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.0
    ✓ UDP might lose a message
2022-04-21T16:36:36.693Z appoptics:patching patched raw-body 2.5.1
(node:3724) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (53ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (240ms)


changed 2 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:36:44.224Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:36:44.224Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:36:44.224Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:36:44.225Z appoptics:debug using context provider: ace-context
2022-04-21T16:36:44.295Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:36:44.430Z appoptics:patching patched crypto 
2022-04-21T16:36:44.451Z appoptics:patching patched https 
2022-04-21T16:36:44.452Z appoptics:patching patched http 
2022-04-21T16:36:44.491Z appoptics:patching patched zlib 
2022-04-21T16:36:44.507Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:36:44.507Z appoptics:patching patched fs 
2022-04-21T16:36:44.561Z appoptics:patching patched express 4.12.1
2022-04-21T16:36:44.567Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:36:44.576Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.1
    ✓ UDP might lose a message
2022-04-21T16:36:44.618Z appoptics:patching patched raw-body 2.5.1
(node:3746) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (238ms)


changed 1 package, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:36:52.609Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:36:52.609Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:36:52.609Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:36:52.610Z appoptics:debug using context provider: ace-context
2022-04-21T16:36:52.682Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:36:52.818Z appoptics:patching patched crypto 
2022-04-21T16:36:52.839Z appoptics:patching patched https 
2022-04-21T16:36:52.839Z appoptics:patching patched http 
2022-04-21T16:36:52.878Z appoptics:patching patched zlib 
2022-04-21T16:36:52.894Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:36:52.894Z appoptics:patching patched fs 
2022-04-21T16:36:52.947Z appoptics:patching patched express 4.12.2
2022-04-21T16:36:52.954Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:36:52.963Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.2
    ✓ UDP might lose a message
2022-04-21T16:36:53.005Z appoptics:patching patched raw-body 2.5.1
(node:3768) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


changed 5 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

20 vulnerabilities (1 low, 7 moderate, 12 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:37:00.042Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:37:00.043Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:37:00.043Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:37:00.044Z appoptics:debug using context provider: ace-context
2022-04-21T16:37:00.126Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:37:00.260Z appoptics:patching patched crypto 
2022-04-21T16:37:00.284Z appoptics:patching patched https 
2022-04-21T16:37:00.285Z appoptics:patching patched http 
2022-04-21T16:37:00.332Z appoptics:patching patched zlib 
2022-04-21T16:37:00.348Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:37:00.349Z appoptics:patching patched fs 
2022-04-21T16:37:00.402Z appoptics:patching patched express 4.12.3
2022-04-21T16:37:00.412Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:37:00.418Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.3
    ✓ UDP might lose a message
2022-04-21T16:37:00.460Z appoptics:patching patched raw-body 2.5.1
(node:3790) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (240ms)


removed 9 packages, changed 12 packages, and audited 945 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:37:07.954Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:37:07.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:37:07.954Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:37:07.955Z appoptics:debug using context provider: ace-context
2022-04-21T16:37:08.038Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:37:08.189Z appoptics:patching patched crypto 
2022-04-21T16:37:08.232Z appoptics:patching patched https 
2022-04-21T16:37:08.233Z appoptics:patching patched http 
2022-04-21T16:37:08.274Z appoptics:patching patched zlib 
2022-04-21T16:37:08.292Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:37:08.293Z appoptics:patching patched fs 
2022-04-21T16:37:08.337Z appoptics:patching patched express 4.12.4
2022-04-21T16:37:08.344Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:37:08.351Z appoptics:debug starting runtimeMetrics


  probes.express 4.12.4
    ✓ UDP might lose a message
2022-04-21T16:37:08.394Z appoptics:patching patched raw-body 2.5.1
(node:3812) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


added 13 packages, removed 4 packages, changed 13 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:37:15.733Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:37:15.734Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:37:15.734Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:37:15.735Z appoptics:debug using context provider: ace-context
2022-04-21T16:37:15.827Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:37:15.980Z appoptics:patching patched crypto 
2022-04-21T16:37:16.025Z appoptics:patching patched https 
2022-04-21T16:37:16.026Z appoptics:patching patched http 
2022-04-21T16:37:16.067Z appoptics:patching patched zlib 
2022-04-21T16:37:16.086Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:37:16.086Z appoptics:patching patched fs 
2022-04-21T16:37:16.173Z appoptics:patching patched express 4.13.0
2022-04-21T16:37:16.181Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:37:16.188Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.0
    ✓ UDP might lose a message
2022-04-21T16:37:16.235Z appoptics:patching patched raw-body 2.5.1
(node:3834) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (96ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (336ms)


changed 2 packages, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:37:23.471Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:37:23.472Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:37:23.472Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:37:23.473Z appoptics:debug using context provider: ace-context
2022-04-21T16:37:23.544Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:37:23.680Z appoptics:patching patched crypto 
2022-04-21T16:37:23.701Z appoptics:patching patched https 
2022-04-21T16:37:23.701Z appoptics:patching patched http 
2022-04-21T16:37:23.740Z appoptics:patching patched zlib 
2022-04-21T16:37:23.759Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:37:23.759Z appoptics:patching patched fs 
2022-04-21T16:37:23.809Z appoptics:patching patched express 4.13.1
2022-04-21T16:37:23.817Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:37:23.823Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.1
    ✓ UDP might lose a message
2022-04-21T16:37:23.867Z appoptics:patching patched raw-body 2.5.1
(node:3856) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (246ms)


changed 3 packages, and audited 954 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:37:31.692Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:37:31.693Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:37:31.693Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:37:31.694Z appoptics:debug using context provider: ace-context
2022-04-21T16:37:31.763Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:37:31.901Z appoptics:patching patched crypto 
2022-04-21T16:37:31.933Z appoptics:patching patched https 
2022-04-21T16:37:31.934Z appoptics:patching patched http 
2022-04-21T16:37:31.971Z appoptics:patching patched zlib 
2022-04-21T16:37:31.990Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:37:31.990Z appoptics:patching patched fs 
2022-04-21T16:37:32.042Z appoptics:patching patched express 4.13.2
2022-04-21T16:37:32.049Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:37:32.055Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.2
    ✓ UDP might lose a message
2022-04-21T16:37:32.120Z appoptics:patching patched raw-body 2.5.1
(node:3878) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (71ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (265ms)


changed 1 package, and audited 954 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:37:38.724Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:37:38.725Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:37:38.725Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:37:38.726Z appoptics:debug using context provider: ace-context
2022-04-21T16:37:38.796Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:37:38.931Z appoptics:patching patched crypto 
2022-04-21T16:37:38.952Z appoptics:patching patched https 
2022-04-21T16:37:38.953Z appoptics:patching patched http 
2022-04-21T16:37:38.992Z appoptics:patching patched zlib 
2022-04-21T16:37:39.010Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:37:39.011Z appoptics:patching patched fs 
2022-04-21T16:37:39.060Z appoptics:patching patched express 4.13.3
2022-04-21T16:37:39.067Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:37:39.073Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.3
    ✓ UDP might lose a message
2022-04-21T16:37:39.116Z appoptics:patching patched raw-body 2.5.1
(node:3900) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (257ms)


removed 3 packages, changed 11 packages, and audited 951 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

19 vulnerabilities (2 low, 7 moderate, 10 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:37:46.949Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:37:46.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:37:46.950Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:37:46.950Z appoptics:debug using context provider: ace-context
2022-04-21T16:37:47.020Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:37:47.156Z appoptics:patching patched crypto 
2022-04-21T16:37:47.176Z appoptics:patching patched https 
2022-04-21T16:37:47.177Z appoptics:patching patched http 
2022-04-21T16:37:47.216Z appoptics:patching patched zlib 
2022-04-21T16:37:47.235Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:37:47.235Z appoptics:patching patched fs 
2022-04-21T16:37:47.285Z appoptics:patching patched express 4.13.4
2022-04-21T16:37:47.292Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:37:47.298Z appoptics:debug starting runtimeMetrics


  probes.express 4.13.4
    ✓ UDP might lose a message
2022-04-21T16:37:47.341Z appoptics:patching patched raw-body 2.5.1
(node:3922) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (242ms)


added 6 packages, removed 8 packages, changed 19 packages, and audited 949 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:37:55.572Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:37:55.573Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:37:55.573Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:37:55.574Z appoptics:debug using context provider: ace-context
2022-04-21T16:37:55.644Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:37:55.782Z appoptics:patching patched crypto 
2022-04-21T16:37:55.812Z appoptics:patching patched https 
2022-04-21T16:37:55.812Z appoptics:patching patched http 
2022-04-21T16:37:55.848Z appoptics:patching patched zlib 
2022-04-21T16:37:55.868Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:37:55.868Z appoptics:patching patched fs 
2022-04-21T16:37:55.945Z appoptics:patching patched express 4.14.0
2022-04-21T16:37:55.952Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:37:55.958Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.0
    ✓ UDP might lose a message
2022-04-21T16:37:56.010Z appoptics:patching patched raw-body 2.5.1
(node:3944) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (57ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


added 1 package, removed 12 packages, changed 6 packages, and audited 938 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

17 vulnerabilities (2 low, 7 moderate, 8 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:38:02.866Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:38:02.868Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:38:02.868Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:38:02.869Z appoptics:debug using context provider: ace-context
2022-04-21T16:38:02.938Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:38:03.071Z appoptics:patching patched crypto 
2022-04-21T16:38:03.092Z appoptics:patching patched https 
2022-04-21T16:38:03.092Z appoptics:patching patched http 
2022-04-21T16:38:03.131Z appoptics:patching patched zlib 
2022-04-21T16:38:03.150Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:38:03.151Z appoptics:patching patched fs 
2022-04-21T16:38:03.191Z appoptics:patching patched express 4.14.1
2022-04-21T16:38:03.198Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:38:03.204Z appoptics:debug starting runtimeMetrics


  probes.express 4.14.1
    ✓ UDP might lose a message
2022-04-21T16:38:03.244Z appoptics:patching patched raw-body 2.5.1
(node:3966) [DEP0066] DeprecationWarning: OutgoingMessage.prototype._headers is deprecated
(Use `node --trace-deprecation ...` to show where the warning was created)
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (248ms)


added 5 packages, removed 4 packages, changed 14 packages, and audited 939 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:38:10.994Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:38:10.995Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:38:10.995Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:38:10.995Z appoptics:debug using context provider: ace-context
2022-04-21T16:38:11.063Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:38:11.220Z appoptics:patching patched crypto 
2022-04-21T16:38:11.265Z appoptics:patching patched https 
2022-04-21T16:38:11.265Z appoptics:patching patched http 
2022-04-21T16:38:11.294Z appoptics:patching patched zlib 
2022-04-21T16:38:11.316Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:38:11.316Z appoptics:patching patched fs 
2022-04-21T16:38:11.362Z appoptics:patching patched express 4.15.0
2022-04-21T16:38:11.367Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:38:11.373Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.0
    ✓ UDP might lose a message
2022-04-21T16:38:11.413Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (244ms)


changed 4 packages, and audited 939 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

16 vulnerabilities (1 low, 7 moderate, 8 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:38:19.198Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:38:19.198Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:38:19.198Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:38:19.199Z appoptics:debug using context provider: ace-context
2022-04-21T16:38:19.282Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:38:19.442Z appoptics:patching patched crypto 
2022-04-21T16:38:19.492Z appoptics:patching patched https 
2022-04-21T16:38:19.493Z appoptics:patching patched http 
2022-04-21T16:38:19.542Z appoptics:patching patched zlib 
2022-04-21T16:38:19.572Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:38:19.573Z appoptics:patching patched fs 
2022-04-21T16:38:19.669Z appoptics:patching patched express 4.15.1
2022-04-21T16:38:19.681Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:38:19.698Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.1
    ✓ UDP might lose a message
2022-04-21T16:38:19.773Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (59ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (266ms)


changed 2 packages, and audited 939 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:38:26.666Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:38:26.667Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:38:26.667Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:38:26.668Z appoptics:debug using context provider: ace-context
2022-04-21T16:38:26.743Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:38:26.875Z appoptics:patching patched crypto 
2022-04-21T16:38:26.895Z appoptics:patching patched https 
2022-04-21T16:38:26.895Z appoptics:patching patched http 
2022-04-21T16:38:26.937Z appoptics:patching patched zlib 
2022-04-21T16:38:26.959Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:38:26.959Z appoptics:patching patched fs 
2022-04-21T16:38:27.000Z appoptics:patching patched express 4.15.2
2022-04-21T16:38:27.005Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:38:27.011Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.2
    ✓ UDP might lose a message
2022-04-21T16:38:27.052Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (55ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (238ms)


removed 2 packages, changed 6 packages, and audited 937 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:38:34.635Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:38:34.636Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:38:34.636Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:38:34.637Z appoptics:debug using context provider: ace-context
2022-04-21T16:38:34.705Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:38:34.839Z appoptics:patching patched crypto 
2022-04-21T16:38:34.859Z appoptics:patching patched https 
2022-04-21T16:38:34.860Z appoptics:patching patched http 
2022-04-21T16:38:34.900Z appoptics:patching patched zlib 
2022-04-21T16:38:34.921Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:38:34.922Z appoptics:patching patched fs 
2022-04-21T16:38:34.963Z appoptics:patching patched express 4.15.3
2022-04-21T16:38:34.968Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:38:34.974Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.3
    ✓ UDP might lose a message
2022-04-21T16:38:35.014Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (56ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (245ms)


changed 7 packages, and audited 937 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

15 vulnerabilities (1 low, 7 moderate, 7 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:38:42.118Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:38:42.119Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:38:42.119Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:38:42.120Z appoptics:debug using context provider: ace-context
2022-04-21T16:38:42.190Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:38:42.331Z appoptics:patching patched crypto 
2022-04-21T16:38:42.374Z appoptics:patching patched https 
2022-04-21T16:38:42.375Z appoptics:patching patched http 
2022-04-21T16:38:42.416Z appoptics:patching patched zlib 
2022-04-21T16:38:42.438Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:38:42.438Z appoptics:patching patched fs 
2022-04-21T16:38:42.484Z appoptics:patching patched express 4.15.4
2022-04-21T16:38:42.489Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:38:42.495Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.4
    ✓ UDP might lose a message
2022-04-21T16:38:42.539Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (83ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (307ms)


removed 4 packages, changed 5 packages, and audited 933 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

13 vulnerabilities (10 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:38:50.107Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:38:50.108Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:38:50.108Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:38:50.109Z appoptics:debug using context provider: ace-context
2022-04-21T16:38:50.176Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:38:50.314Z appoptics:patching patched crypto 
2022-04-21T16:38:50.335Z appoptics:patching patched https 
2022-04-21T16:38:50.336Z appoptics:patching patched http 
2022-04-21T16:38:50.376Z appoptics:patching patched zlib 
2022-04-21T16:38:50.396Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:38:50.396Z appoptics:patching patched fs 
2022-04-21T16:38:50.436Z appoptics:patching patched express 4.15.5
2022-04-21T16:38:50.443Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:38:50.450Z appoptics:debug starting runtimeMetrics


  probes.express 4.15.5
    ✓ UDP might lose a message
2022-04-21T16:38:50.490Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (58ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


added 11 packages, removed 2 packages, changed 11 packages, and audited 942 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:38:58.076Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:38:58.077Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:38:58.077Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:38:58.078Z appoptics:debug using context provider: ace-context
2022-04-21T16:38:58.152Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:38:58.310Z appoptics:patching patched crypto 
2022-04-21T16:38:58.331Z appoptics:patching patched https 
2022-04-21T16:38:58.331Z appoptics:patching patched http 
2022-04-21T16:38:58.369Z appoptics:patching patched zlib 
2022-04-21T16:38:58.390Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:38:58.391Z appoptics:patching patched fs 
2022-04-21T16:38:58.441Z appoptics:patching patched raw-body 2.3.2
2022-04-21T16:38:58.446Z appoptics:patching patched express 4.16.0
2022-04-21T16:38:58.451Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:38:58.459Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.0
    ✓ UDP might lose a message
2022-04-21T16:38:58.502Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (62ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (257ms)


changed 4 packages, and audited 942 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:39:05.575Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:39:05.575Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:39:05.575Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:39:05.576Z appoptics:debug using context provider: ace-context
2022-04-21T16:39:05.644Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:39:05.778Z appoptics:patching patched crypto 
2022-04-21T16:39:05.798Z appoptics:patching patched https 
2022-04-21T16:39:05.799Z appoptics:patching patched http 
2022-04-21T16:39:05.841Z appoptics:patching patched zlib 
2022-04-21T16:39:05.863Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:39:05.863Z appoptics:patching patched fs 
2022-04-21T16:39:05.914Z appoptics:patching patched raw-body 2.3.2
2022-04-21T16:39:05.919Z appoptics:patching patched express 4.16.1
2022-04-21T16:39:05.924Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:39:05.932Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.1
    ✓ UDP might lose a message
2022-04-21T16:39:05.973Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (236ms)


changed 1 package, and audited 942 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:39:13.569Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:39:13.569Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:39:13.569Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:39:13.570Z appoptics:debug using context provider: ace-context
2022-04-21T16:39:13.641Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:39:13.776Z appoptics:patching patched crypto 
2022-04-21T16:39:13.797Z appoptics:patching patched https 
2022-04-21T16:39:13.798Z appoptics:patching patched http 
2022-04-21T16:39:13.853Z appoptics:patching patched zlib 
2022-04-21T16:39:13.879Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:39:13.880Z appoptics:patching patched fs 
2022-04-21T16:39:13.938Z appoptics:patching patched raw-body 2.3.2
2022-04-21T16:39:13.946Z appoptics:patching patched express 4.16.2
2022-04-21T16:39:13.953Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:39:13.959Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.2
    ✓ UDP might lose a message
2022-04-21T16:39:14.000Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (236ms)


removed 10 packages, changed 6 packages, and audited 932 packages in 7s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:39:21.905Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:39:21.906Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:39:21.906Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:39:21.907Z appoptics:debug using context provider: ace-context
2022-04-21T16:39:21.996Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:39:22.141Z appoptics:patching patched crypto 
2022-04-21T16:39:22.162Z appoptics:patching patched https 
2022-04-21T16:39:22.163Z appoptics:patching patched http 
2022-04-21T16:39:22.218Z appoptics:patching patched zlib 
2022-04-21T16:39:22.244Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:39:22.245Z appoptics:patching patched fs 
2022-04-21T16:39:22.306Z appoptics:patching patched raw-body 2.3.2
2022-04-21T16:39:22.311Z appoptics:patching patched express 4.16.3
2022-04-21T16:39:22.316Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:39:22.322Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.3
    ✓ UDP might lose a message
2022-04-21T16:39:22.362Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (54ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (238ms)


removed 3 packages, changed 6 packages, and audited 929 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:39:29.071Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:39:29.072Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:39:29.072Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:39:29.073Z appoptics:debug using context provider: ace-context
2022-04-21T16:39:29.140Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:39:29.280Z appoptics:patching patched crypto 
2022-04-21T16:39:29.300Z appoptics:patching patched https 
2022-04-21T16:39:29.301Z appoptics:patching patched http 
2022-04-21T16:39:29.340Z appoptics:patching patched zlib 
2022-04-21T16:39:29.362Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:39:29.362Z appoptics:patching patched fs 
2022-04-21T16:39:29.405Z appoptics:patching patched raw-body 2.3.3
2022-04-21T16:39:29.411Z appoptics:patching patched express 4.16.4
2022-04-21T16:39:29.415Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:39:29.424Z appoptics:debug starting runtimeMetrics


  probes.express 4.16.4
    ✓ UDP might lose a message
2022-04-21T16:39:29.464Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (250ms)


added 13 packages, removed 5 packages, changed 15 packages, and audited 937 packages in 8s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:39:37.744Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:39:37.744Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:39:37.744Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:39:37.745Z appoptics:debug using context provider: ace-context
2022-04-21T16:39:37.816Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:39:37.949Z appoptics:patching patched crypto 
2022-04-21T16:39:37.970Z appoptics:patching patched https 
2022-04-21T16:39:37.970Z appoptics:patching patched http 
2022-04-21T16:39:38.009Z appoptics:patching patched zlib 
2022-04-21T16:39:38.030Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:39:38.031Z appoptics:patching patched fs 
2022-04-21T16:39:38.076Z appoptics:patching patched raw-body 2.4.0
2022-04-21T16:39:38.083Z appoptics:patching patched express 4.17.0
2022-04-21T16:39:38.087Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:39:38.093Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.0
    ✓ UDP might lose a message
2022-04-21T16:39:38.133Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (237ms)


changed 1 package, and audited 937 packages in 6s

85 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:39:45.196Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:39:45.197Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:39:45.197Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:39:45.198Z appoptics:debug using context provider: ace-context
2022-04-21T16:39:45.282Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:39:45.437Z appoptics:patching patched crypto 
2022-04-21T16:39:45.481Z appoptics:patching patched https 
2022-04-21T16:39:45.494Z appoptics:patching patched http 
2022-04-21T16:39:45.523Z appoptics:patching patched zlib 
2022-04-21T16:39:45.545Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:39:45.546Z appoptics:patching patched fs 
2022-04-21T16:39:45.598Z appoptics:patching patched raw-body 2.4.0
2022-04-21T16:39:45.604Z appoptics:patching patched express 4.17.1
2022-04-21T16:39:45.609Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:39:45.615Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.1
    ✓ UDP might lose a message
2022-04-21T16:39:45.658Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (66ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (276ms)


removed 9 packages, changed 14 packages, and audited 928 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:39:52.714Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:39:52.714Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:39:52.714Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:39:52.715Z appoptics:debug using context provider: ace-context
2022-04-21T16:39:52.804Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:39:52.939Z appoptics:patching patched crypto 
2022-04-21T16:39:52.959Z appoptics:patching patched https 
2022-04-21T16:39:52.960Z appoptics:patching patched http 
2022-04-21T16:39:53.001Z appoptics:patching patched zlib 
2022-04-21T16:39:53.024Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:39:53.025Z appoptics:patching patched fs 
2022-04-21T16:39:53.073Z appoptics:patching patched raw-body 2.4.2
2022-04-21T16:39:53.079Z appoptics:patching patched express 4.17.2
2022-04-21T16:39:53.084Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:39:53.090Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.2
    ✓ UDP might lose a message
2022-04-21T16:39:53.128Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (52ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (243ms)


removed 1 package, changed 5 packages, and audited 927 packages in 7s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:40:00.725Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:40:00.726Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:40:00.726Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:40:00.727Z appoptics:debug using context provider: ace-context
2022-04-21T16:40:00.796Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:40:00.937Z appoptics:patching patched crypto 
2022-04-21T16:40:00.964Z appoptics:patching patched https 
2022-04-21T16:40:00.965Z appoptics:patching patched http 
2022-04-21T16:40:01.002Z appoptics:patching patched zlib 
2022-04-21T16:40:01.024Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:40:01.024Z appoptics:patching patched fs 
2022-04-21T16:40:01.069Z appoptics:patching patched raw-body 2.4.3
2022-04-21T16:40:01.075Z appoptics:patching patched express 4.17.3
2022-04-21T16:40:01.080Z appoptics:patching patched morgan 1.10.0
2022-04-21T16:40:01.086Z appoptics:debug starting runtimeMetrics


  probes.express 4.17.3
    ✓ UDP might lose a message
2022-04-21T16:40:01.123Z appoptics:patching patched raw-body 2.5.1
    ✓ should forward controller/action for GET (51ms)
    ✓ should forward controller/action for POST
    ✓ should forward controller/action with domain prefix
    ✓ should allow a custom TransactionName
    ✓ should allow a custom TransactionName with domain prefix
    ✓ should handle an error in the custom name function
    ✓ should handle a falsey return by the custom name function
    ✓ should have a span for each middleware
    ✓ should create spans for multiple middlewares
    ✓ should create spans for middleware specified as array
    ✓ should trace through param() calls
    ✓ should trace render span
    ✓ should work with supertest
    ✓ should skip when disabled
    ✓ should be able to report errors from error handler
    ✓ should nest properly
    ✓ should support express.Router()
    ✓ should support app.route(path)


  19 passing (236ms)


up to date, audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
