npm WARN deprecated bson@0.5.7: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:28.365Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:28.366Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:28.366Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:28.366Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:28.426Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:28.541Z appoptics:patching patched crypto 
2022-04-21T16:16:28.563Z appoptics:patching patched https 
2022-04-21T16:16:28.564Z appoptics:patching patched http 
2022-04-21T16:16:28.613Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:28.614Z appoptics:patching patched fs 
2022-04-21T16:16:28.627Z appoptics:patching patched mongodb-core 2.0.0 (disabled: node v18.0.0)
2022-04-21T16:16:28.633Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.0
    2.4
      databases
2022-04-21T16:16:28.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-f982d45ab2b923fb42f8b33d4233a20d15e3d8a3-1eff61379b44060d-01 outer:exit 2b-f982d45ab2b923fb42f8b33d4233a20d15e3d8a3-e188e08c3fac8637-01
2022-04-21T16:16:28.688Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:28.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7dbf0f7b70681e02555b22c97cf3cb1ca3ee948-eefa2f17e7ec31e5-01 outer:exit 2b-e7dbf0f7b70681e02555b22c97cf3cb1ca3ee948-b581178eacaeb56c-01
2022-04-21T16:16:28.739Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:28.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-19b130655fc5ce3bd1167f623a5e793fde703555-9a1f0c7def54ae14-01 outer:exit 2b-19b130655fc5ce3bd1167f623a5e793fde703555-8e58f601181123ee-01
2022-04-21T16:16:28.746Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:28.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-a725d1297405032d974025e3e54801cf86c97d17-2fc8197e29c7145c-01 outer:exit 2b-a725d1297405032d974025e3e54801cf86c97d17-2a36dc92d4c66888-01
2022-04-21T16:16:28.749Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:28.754Z appoptics:debug span.exit - no last event outer outer:entry 2b-47b2479db1b6cf64115c971892f8a9d855391bdb-2a9f397618509664-01 outer:exit 2b-47b2479db1b6cf64115c971892f8a9d855391bdb-59d2e079dea32cd4-01
2022-04-21T16:16:28.754Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:28.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-03dc4f5de113af93af46737b2c5c55146431e54b-7145521e1f4bdde5-01 outer:exit 2b-03dc4f5de113af93af46737b2c5c55146431e54b-525b9ca1c527959b-01
2022-04-21T16:16:28.758Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:28.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-de4b03d192b09a14b8c6d1453a95a1f12d7e9352-4119eb8d72fa47b0-01 outer:exit 2b-de4b03d192b09a14b8c6d1453a95a1f12d7e9352-e3cbc105fd178906-01
2022-04-21T16:16:28.762Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:28.766Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0620136d12ea74e56e6214e47010adf8ec489ce-a124ff2071a3c612-01 outer:exit 2b-a0620136d12ea74e56e6214e47010adf8ec489ce-b875eee02fb9357d-01
2022-04-21T16:16:28.766Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:28.768Z appoptics:debug span.exit - no last event outer outer:entry 2b-52fb1289d7bbd9a37fe6e51b84bee6140df75010-0e1b2ea19770d290-01 outer:exit 2b-52fb1289d7bbd9a37fe6e51b84bee6140df75010-238fd71694e943ec-01
2022-04-21T16:16:28.768Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:28.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-de59e4cb6ebdea9f32e6503c52bf4189c0bceadd-c09a5065a235c8ad-01 outer:exit 2b-de59e4cb6ebdea9f32e6503c52bf4189c0bceadd-1a1b60e8fa548387-01
2022-04-21T16:16:28.771Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:28.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-88d96147c89c523652b5dff195db7a4f93a317be-f50ddfe23aee1304-01 outer:exit 2b-88d96147c89c523652b5dff195db7a4f93a317be-fd50bcf3acaec32e-01
2022-04-21T16:16:28.774Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:28.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d449780deb16938ea9f8d521977113667a84166-14b4fb8ba90bde0b-01 outer:exit 2b-6d449780deb16938ea9f8d521977113667a84166-e6c746e623cb0f93-01
2022-04-21T16:16:28.811Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:28.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-6df65d38800e3bd7bb193bc339ff7fad400d2a28-5cdf0a0b1b77df79-01 outer:exit 2b-6df65d38800e3bd7bb193bc339ff7fad400d2a28-c4d355b403a54a39-01
2022-04-21T16:16:28.832Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:28.879Z appoptics:debug span.exit - no last event outer outer:entry 2b-fef0649f28100cb38754eafc537abad2feef04d3-360cc6578f2599a3-01 outer:exit 2b-fef0649f28100cb38754eafc537abad2feef04d3-1f7420252faf55dc-01
2022-04-21T16:16:28.880Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:28.884Z appoptics:debug span.exit - no last event outer outer:entry 2b-22cd86a1eb4705f3e13d8ba4ec7732f55f0e799d-f58dfc29b469d516-01 outer:exit 2b-22cd86a1eb4705f3e13d8ba4ec7732f55f0e799d-ac43cba5bfd2d8b2-01
2022-04-21T16:16:28.884Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:28.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-dfdfa5e2c6f621a2596f6b0024c7f72ac8113bb0-b8be9fabe78f9592-01 outer:exit 2b-dfdfa5e2c6f621a2596f6b0024c7f72ac8113bb0-b7148aa1eaf69a32-01
2022-04-21T16:16:28.887Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:28.893Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3bf540e3990d21e6e81d65d6a0b0d03ddb5f62f-45bb8ed6c8274394-01 outer:exit 2b-a3bf540e3990d21e6e81d65d6a0b0d03ddb5f62f-012d380b1bb4ef4a-01
2022-04-21T16:16:28.893Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:28.896Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba3995755bc04e7644256e83d9583de4d95865ea-6a4fa2c6b89e99c3-01 outer:exit 2b-ba3995755bc04e7644256e83d9583de4d95865ea-bd856e8827680309-01
2022-04-21T16:16:28.896Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:28.899Z appoptics:debug span.exit - no last event outer outer:entry 2b-c28b6020e464dc3179fa746fd10f2ce47996626c-aeb36e223cfcd105-01 outer:exit 2b-c28b6020e464dc3179fa746fd10f2ce47996626c-f3e126c6d00bfd64-01
2022-04-21T16:16:28.899Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:28.902Z appoptics:debug span.exit - no last event outer outer:entry 2b-fed3af30fc951927e8c4ae4f8f9a189ad49c1229-c233bfaea21587fa-01 outer:exit 2b-fed3af30fc951927e8c4ae4f8f9a189ad49c1229-964cc689880a7a8e-01
2022-04-21T16:16:28.902Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:28.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-82862c8ef8913c9daeed273b8482fdf9fca691ec-a76e1a7057af59b0-01 outer:exit 2b-82862c8ef8913c9daeed273b8482fdf9fca691ec-249e5f4bc99f9660-01
2022-04-21T16:16:28.904Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:28.906Z appoptics:debug span.exit - no last event outer outer:entry 2b-8df2d599de250ffca107dd26fdcf258060bdddfb-f4d914512f9b4039-01 outer:exit 2b-8df2d599de250ffca107dd26fdcf258060bdddfb-14f91d9deb6892a7-01
2022-04-21T16:16:28.906Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:28.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2c418f545bdfc23a982c42c6e20b7764ee57f59-81ed479441d3048e-01 outer:exit 2b-d2c418f545bdfc23a982c42c6e20b7764ee57f59-cbae44eba1cc328d-01
2022-04-21T16:16:28.911Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:28.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e8e25b4ad4c237af547c450c0295e8f677c50d4-76e986b8f37fc000-01 outer:exit 2b-7e8e25b4ad4c237af547c450c0295e8f677c50d4-c39c4ac6cb35d5e7-01
2022-04-21T16:16:28.914Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:28.916Z appoptics:debug span.exit - no last event outer outer:entry 2b-01e93160bbcd4a00b714e9603740abb0fc7c3c47-87d814fbbee33dc2-01 outer:exit 2b-01e93160bbcd4a00b714e9603740abb0fc7c3c47-cd12da79984536ea-01
2022-04-21T16:16:28.916Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:28.918Z appoptics:debug span.exit - no last event outer outer:entry 2b-da0499ac0772a29d54c7eeb22be9639d05601afa-e41d4862f536db61-01 outer:exit 2b-da0499ac0772a29d54c7eeb22be9639d05601afa-8e835c9aa04e6610-01
2022-04-21T16:16:28.918Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:28.955Z appoptics:debug span.exit - no last event outer outer:entry 2b-c82e732c51a4ffbf2db2a39c43f408ec007173cb-e1a459004c5d47c8-01 outer:exit 2b-c82e732c51a4ffbf2db2a39c43f408ec007173cb-0f5d30eaf51c3264-01
2022-04-21T16:16:28.955Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:28.973Z appoptics:debug span.exit - no last event outer outer:entry 2b-58e485494edb877c25ac2a7bf14896ade515e672-edcfa91755644b0d-01 outer:exit 2b-58e485494edb877c25ac2a7bf14896ade515e672-6fa7e9cbb03c1768-01
2022-04-21T16:16:28.974Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:28.982Z appoptics:debug span.exit - no last event outer outer:entry 2b-26aa123b8ff2aae46fa5a9b0e9fff6b460f3b825-f8833b8f38637d8c-01 outer:exit 2b-26aa123b8ff2aae46fa5a9b0e9fff6b460f3b825-4221183389392e95-01
2022-04-21T16:16:28.982Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:29.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c14a955b050673bf84f27c8f539adf82ce5a640-3b2da638042ec856-01 outer:exit 2b-7c14a955b050673bf84f27c8f539adf82ce5a640-b6d492ccfa9e1775-01
2022-04-21T16:16:29.005Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:29.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-80f05774d314b04a46acb802e00b7c04023284b3-2bf4335f61f36347-01 outer:exit 2b-80f05774d314b04a46acb802e00b7c04023284b3-a473a5119d59ee4b-01
2022-04-21T16:16:29.010Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:29.013Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fb3200eccd1dd76aa386f6466e4cd27ffad2464-f78102b6108de19f-01 outer:exit 2b-3fb3200eccd1dd76aa386f6466e4cd27ffad2464-6db7f9834d786479-01
2022-04-21T16:16:29.013Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:29.021Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ffd4282bce37f34c128806e8aaf72cb1036246-5e3e7cfbea4aec94-01 outer:exit 2b-75ffd4282bce37f34c128806e8aaf72cb1036246-49be8d1da13427a4-01
2022-04-21T16:16:29.021Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:29.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb1066036854102d109e75df87c0d519e4876f9b-866bc176f1de926e-01 outer:exit 2b-eb1066036854102d109e75df87c0d519e4876f9b-006089859d3d30d4-01
2022-04-21T16:16:29.030Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:29.032Z appoptics:debug span.exit - no last event outer outer:entry 2b-67653ca8fa308ff7b8dff12fdc0df7ceef126f34-a1ea9b2f73705e85-01 outer:exit 2b-67653ca8fa308ff7b8dff12fdc0df7ceef126f34-6b74f461f5159734-01
2022-04-21T16:16:29.032Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:29.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-e98cdb0cc5b03f3eec7f8c45ee3e2e7c585f2a5f-a81c6f00ff83db97-01 outer:exit 2b-e98cdb0cc5b03f3eec7f8c45ee3e2e7c585f2a5f-194befc09960e51f-01
2022-04-21T16:16:29.047Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:29.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a3a0a6848f4fead81259841b317e3d26a1bb57c-abfd6a30c9410038-01 outer:exit 2b-1a3a0a6848f4fead81259841b317e3d26a1bb57c-382176a01870cdb5-01
2022-04-21T16:16:29.049Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:29.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-9492cc3dcfb3954535ba35804e8d1a10b330d827-5547b98bedaaade3-01 outer:exit 2b-9492cc3dcfb3954535ba35804e8d1a10b330d827-4adb5870cf0240c7-01
2022-04-21T16:16:29.052Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:29.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-07c880840a74ab58fa6d238d58443fd8183aa771-ca0fbb36f43319d4-01 outer:exit 2b-07c880840a74ab58fa6d238d58443fd8183aa771-966c1eb48961d3c7-01
2022-04-21T16:16:29.060Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:29.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-5174bd46a3f5f44a8c47decb8beb38497de3d5db-aeb8960352ee18ed-01 outer:exit 2b-5174bd46a3f5f44a8c47decb8beb38497de3d5db-98cd16a58bf2a88a-01
2022-04-21T16:16:29.069Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:29.071Z appoptics:debug span.exit - no last event outer outer:entry 2b-6896f5ee090f406434280a066aef037fd93b7c90-4d727486b2e3edd0-01 outer:exit 2b-6896f5ee090f406434280a066aef037fd93b7c90-dbddfcbb554db4ca-01
2022-04-21T16:16:29.071Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:29.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3e77d422d0fd0bba54f32770b0e467dafd6d94a-40ee3d7ec057eb7b-01 outer:exit 2b-a3e77d422d0fd0bba54f32770b0e467dafd6d94a-5fe967dac00d5452-01
2022-04-21T16:16:29.074Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:29.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-950ba07ee615394a42c79b1278efed5dbc659e6e-2fca3ef10520c449-01 outer:exit 2b-950ba07ee615394a42c79b1278efed5dbc659e6e-a875e0542a161f09-01
2022-04-21T16:16:29.122Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:29.152Z appoptics:debug span.exit - no last event outer outer:entry 2b-e158b0e947ede07116958ef3dfa9af3b63641410-3f110798e69693eb-01 outer:exit 2b-e158b0e947ede07116958ef3dfa9af3b63641410-3f61c45be474181f-01
2022-04-21T16:16:29.152Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (513ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:35.302Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:35.302Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:35.302Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:35.303Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:35.361Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:35.472Z appoptics:patching patched crypto 
2022-04-21T16:16:35.490Z appoptics:patching patched https 
2022-04-21T16:16:35.491Z appoptics:patching patched http 
2022-04-21T16:16:35.537Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:35.538Z appoptics:patching patched fs 
2022-04-21T16:16:35.551Z appoptics:patching patched mongodb-core 2.0.1 (disabled: node v18.0.0)
2022-04-21T16:16:35.556Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.1
    2.4
      databases
2022-04-21T16:16:35.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-9552761a38987a31883553b33ef0885d87287fc4-01388aa13dcef6c3-01 outer:exit 2b-9552761a38987a31883553b33ef0885d87287fc4-e0effa0ac8f8c3cd-01
2022-04-21T16:16:35.597Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:35.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-155c3bc825ffb009eacf39288ffc2196fc204729-b8860f756c425136-01 outer:exit 2b-155c3bc825ffb009eacf39288ffc2196fc204729-60139138d85c4e5b-01
2022-04-21T16:16:35.638Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:35.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-eae37af72360676aa55b01a8504230e3cbb23b4a-6f2afb8ae46fdc02-01 outer:exit 2b-eae37af72360676aa55b01a8504230e3cbb23b4a-c59df8d053e76932-01
2022-04-21T16:16:35.641Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:35.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-207ca981795dbdd54aeb43729d1c5ee652045158-bd274ed0904fb023-01 outer:exit 2b-207ca981795dbdd54aeb43729d1c5ee652045158-fd086d936e2117e3-01
2022-04-21T16:16:35.644Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:35.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca96ea10fcc43d6811fad244294545cfd5986ce1-0e8e6016ae7e0e47-01 outer:exit 2b-ca96ea10fcc43d6811fad244294545cfd5986ce1-7288e2768560fda2-01
2022-04-21T16:16:35.648Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:35.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-26e5400b4eba134ef6de83fcf403aa813692fc48-52ed300b95c8903d-01 outer:exit 2b-26e5400b4eba134ef6de83fcf403aa813692fc48-3d5e01fa9db84570-01
2022-04-21T16:16:35.652Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:35.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae3662f7fb1b4b949e9efcbbd217049ac3418fcb-e8922be773eedc71-01 outer:exit 2b-ae3662f7fb1b4b949e9efcbbd217049ac3418fcb-8ffbcb751d607843-01
2022-04-21T16:16:35.654Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:35.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2b67974bcafddce82787665aafc9e98415e9398-504a96d31b5de0b9-01 outer:exit 2b-a2b67974bcafddce82787665aafc9e98415e9398-9986c0f085dd67fb-01
2022-04-21T16:16:35.657Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:35.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-3da7ad5010fdd2626d4be949d7e7477e05acae18-d680cedf0174e144-01 outer:exit 2b-3da7ad5010fdd2626d4be949d7e7477e05acae18-7e7eb8c6aad7ef1d-01
2022-04-21T16:16:35.659Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:35.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-e6067c41a2eeac7f7f3c4dbd83fe6de0084a54b7-3ec897d024151aab-01 outer:exit 2b-e6067c41a2eeac7f7f3c4dbd83fe6de0084a54b7-0d2620859c85ecba-01
2022-04-21T16:16:35.662Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:35.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-67044c668ab21bc33bbb435ef449912e8d61aa67-db22709e83c59f67-01 outer:exit 2b-67044c668ab21bc33bbb435ef449912e8d61aa67-2a53ec0f30713f9f-01
2022-04-21T16:16:35.665Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:35.671Z appoptics:debug span.exit - no last event outer outer:entry 2b-87d847ca2d4c4b045c1875b9d3cf3940774c41d2-fd5e1fbad2aa6efe-01 outer:exit 2b-87d847ca2d4c4b045c1875b9d3cf3940774c41d2-934841a72d889f60-01
2022-04-21T16:16:35.671Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:35.684Z appoptics:debug span.exit - no last event outer outer:entry 2b-1890ed948557c9624d4ef9b15de230fa55fd0d3b-803c0e23c2907dce-01 outer:exit 2b-1890ed948557c9624d4ef9b15de230fa55fd0d3b-a2af7367e88ae3c2-01
2022-04-21T16:16:35.684Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:35.723Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cf042d55c347ecf3fc11a6972b0e65fedc2e2d0-b071923ee5fcbe56-01 outer:exit 2b-9cf042d55c347ecf3fc11a6972b0e65fedc2e2d0-6007463c9d5d1fc6-01
2022-04-21T16:16:35.723Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:35.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-0594a7b2e7b9f26f9ee2727f8bc708e0cd32e3c4-6db8a7f50a4f5a71-01 outer:exit 2b-0594a7b2e7b9f26f9ee2727f8bc708e0cd32e3c4-30997a25adeb2185-01
2022-04-21T16:16:35.726Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:35.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-7be21ee2a73b9ae7bd24bba142b6925b6e1a5190-a74c06bf98a5e400-01 outer:exit 2b-7be21ee2a73b9ae7bd24bba142b6925b6e1a5190-8b0a7f9fb6e6184f-01
2022-04-21T16:16:35.729Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:35.731Z appoptics:debug span.exit - no last event outer outer:entry 2b-c02e42f5f38aa8161905ac76026193d5e11f01c0-9043906186f971b3-01 outer:exit 2b-c02e42f5f38aa8161905ac76026193d5e11f01c0-6c5b03487869f8e4-01
2022-04-21T16:16:35.731Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:35.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-97aa21920f5cf8796d665dde7bf4a07b5882b777-9dffba8da17fb3e2-01 outer:exit 2b-97aa21920f5cf8796d665dde7bf4a07b5882b777-39ae3920f3a0458e-01
2022-04-21T16:16:35.734Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:35.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-551951d35d71c8a139304561495267807c4b2862-83b338b554a89df7-01 outer:exit 2b-551951d35d71c8a139304561495267807c4b2862-3e678ef20ad120ac-01
2022-04-21T16:16:35.735Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:35.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-675aca6244846783ca93a60fa04dd43b4cd7ccf6-6e7f2c419d245e44-01 outer:exit 2b-675aca6244846783ca93a60fa04dd43b4cd7ccf6-f2351640520e5952-01
2022-04-21T16:16:35.737Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:35.739Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a64af72f3f52041a346f337e15d1fa7dd7d27f2-62a5bd30207f7e10-01 outer:exit 2b-0a64af72f3f52041a346f337e15d1fa7dd7d27f2-7a39fb81886ab5f5-01
2022-04-21T16:16:35.739Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:35.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4a15e6cb4a9c7712ebccef1765f98ecee4e9d38-6344cf5bd62e9b17-01 outer:exit 2b-d4a15e6cb4a9c7712ebccef1765f98ecee4e9d38-e00d5df9dc32bec8-01
2022-04-21T16:16:35.743Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:35.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-31ef158a67e94a0ff08d5acea0d424fa429893a5-34034d935ad4aa75-01 outer:exit 2b-31ef158a67e94a0ff08d5acea0d424fa429893a5-0c69e50c96e23a67-01
2022-04-21T16:16:35.746Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:35.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-d245dc7101d6a2ea9e4d5b545f0f0c8041f99d98-35f2268acacb75a5-01 outer:exit 2b-d245dc7101d6a2ea9e4d5b545f0f0c8041f99d98-4281e013b3fbd37d-01
2022-04-21T16:16:35.749Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:35.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-445db41f22789eba937bf8e673b092963045be47-c5fc4f3056bb300c-01 outer:exit 2b-445db41f22789eba937bf8e673b092963045be47-3a9229c99b0db61a-01
2022-04-21T16:16:35.751Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:35.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2eb59e4a30327b1c1b240629bea385bdbe5e64d-547de8e8e8154d30-01 outer:exit 2b-e2eb59e4a30327b1c1b240629bea385bdbe5e64d-8f2ac03bdb6d3e92-01
2022-04-21T16:16:35.753Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:35.758Z appoptics:debug span.exit - no last event outer outer:entry 2b-a43281490a981904a6648b3c7c9d5259d109320c-693cc981b4dd9af1-01 outer:exit 2b-a43281490a981904a6648b3c7c9d5259d109320c-9a32ef1fb06cd427-01
2022-04-21T16:16:35.758Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:35.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-2baf88779f429510552239d610e63ecbea05c50c-8a7dafb1c3885e60-01 outer:exit 2b-2baf88779f429510552239d610e63ecbea05c50c-2045d406d4c8d8d3-01
2022-04-21T16:16:35.763Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:35.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-e516ecb8ac80b95035348ebf34f8bd92c2846187-fe2fb29919a79a93-01 outer:exit 2b-e516ecb8ac80b95035348ebf34f8bd92c2846187-3542d45856dec450-01
2022-04-21T16:16:35.770Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:35.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bd767fb6f3994922917de8330ee28c1f0234244-a1f5af03785a72ab-01 outer:exit 2b-8bd767fb6f3994922917de8330ee28c1f0234244-b825f7410ac71810-01
2022-04-21T16:16:35.777Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:35.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a601715d9c3babd41a3bb05a6ff483de263473c-67ac6d4bd2b8bff7-01 outer:exit 2b-6a601715d9c3babd41a3bb05a6ff483de263473c-4e1c3b8170312fd2-01
2022-04-21T16:16:35.779Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:35.781Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb90992cd270b05b2b3517a88f60cda1b51b2fed-4dcdb38b1f0233ec-01 outer:exit 2b-bb90992cd270b05b2b3517a88f60cda1b51b2fed-c4b1c7760dfada69-01
2022-04-21T16:16:35.781Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:35.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf8046e2ba898f5eea632c4edb5371962ae5e2e0-a18728aabda4f357-01 outer:exit 2b-bf8046e2ba898f5eea632c4edb5371962ae5e2e0-654e6fef8f6f2609-01
2022-04-21T16:16:35.787Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:35.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-6118b96ebf7ebbd56e2e3f1d300f502b78f344a5-120002dc93fd5180-01 outer:exit 2b-6118b96ebf7ebbd56e2e3f1d300f502b78f344a5-971d6ff3cab7ffd8-01
2022-04-21T16:16:35.789Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:35.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9cdc9d94333d15a88a1a97c2e16743fced1208b-36039156ac9c7515-01 outer:exit 2b-c9cdc9d94333d15a88a1a97c2e16743fced1208b-951476dde8314793-01
2022-04-21T16:16:35.790Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:35.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-9079264b47e295857fb78c7d84795d1586f1031a-b8965657231f6667-01 outer:exit 2b-9079264b47e295857fb78c7d84795d1586f1031a-40b2948c5adec1cb-01
2022-04-21T16:16:35.792Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:35.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5dfd831f304c9752bd1a1c2fa773dfc90a5a3f5-ffb2f62b10ec2f3e-01 outer:exit 2b-e5dfd831f304c9752bd1a1c2fa773dfc90a5a3f5-bcad63bed84fbb12-01
2022-04-21T16:16:35.794Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:35.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb6fc7b2e7c680d950f61fa1a5f21430af8598f4-80e08a083ac5ee24-01 outer:exit 2b-eb6fc7b2e7c680d950f61fa1a5f21430af8598f4-eb0b770291d3f2ef-01
2022-04-21T16:16:35.796Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:35.804Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec683545fc89ec1cdfd9cead5e52782ec532c20c-a0fd8de1def9dea7-01 outer:exit 2b-ec683545fc89ec1cdfd9cead5e52782ec532c20c-c68b4e307c1231b4-01
2022-04-21T16:16:35.804Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:35.811Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe0889cec37ca51ddef06722ee4a9c0a6b4b05df-315068bebc25c984-01 outer:exit 2b-fe0889cec37ca51ddef06722ee4a9c0a6b4b05df-74835ae87f9898ac-01
2022-04-21T16:16:35.811Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:35.814Z appoptics:debug span.exit - no last event outer outer:entry 2b-09b3da951ca520b961dbc0c8b1b7655dd8943f79-a1a22e21238b9502-01 outer:exit 2b-09b3da951ca520b961dbc0c8b1b7655dd8943f79-056a622d5227c38a-01
2022-04-21T16:16:35.814Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:35.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fa40622c639292bd801e7cd3c5b53e3bf2a8523-943a2e187c1b8ef6-01 outer:exit 2b-9fa40622c639292bd801e7cd3c5b53e3bf2a8523-73f07812b4d8877c-01
2022-04-21T16:16:35.816Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:35.818Z appoptics:debug span.exit - no last event outer outer:entry 2b-c53b7715d43f4335460b80642973238ca4b73831-0f3cea4029f0a6c1-01 outer:exit 2b-c53b7715d43f4335460b80642973238ca4b73831-4aa61dc96215fa9d-01
2022-04-21T16:16:35.818Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:35.843Z appoptics:debug span.exit - no last event outer outer:entry 2b-40266718af529d29dcac1f407e9d2704bb58cb98-700dfcb1f5d91e21-01 outer:exit 2b-40266718af529d29dcac1f407e9d2704bb58cb98-4f0de36036608594-01
2022-04-21T16:16:35.843Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (282ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:42.844Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:42.845Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:42.845Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:42.846Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:42.904Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:43.016Z appoptics:patching patched crypto 
2022-04-21T16:16:43.034Z appoptics:patching patched https 
2022-04-21T16:16:43.035Z appoptics:patching patched http 
2022-04-21T16:16:43.084Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:43.085Z appoptics:patching patched fs 
2022-04-21T16:16:43.098Z appoptics:patching patched mongodb-core 2.0.2 (disabled: node v18.0.0)
2022-04-21T16:16:43.103Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.2
    2.4
      databases
2022-04-21T16:16:43.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-118a8efe8bf10deee3302803b90c297d7be170d0-6d300bef42208b59-01 outer:exit 2b-118a8efe8bf10deee3302803b90c297d7be170d0-5dff46c2854d9aaf-01
2022-04-21T16:16:43.144Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:43.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7be31566020ce8f9f65d43971b7fd542d2d3312-cff1ad60b3efab17-01 outer:exit 2b-f7be31566020ce8f9f65d43971b7fd542d2d3312-f79d6bdb211d12c4-01
2022-04-21T16:16:43.186Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:43.189Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ac9f35f791642fa34070b508d5cdea44e163525-6fa713d260270946-01 outer:exit 2b-4ac9f35f791642fa34070b508d5cdea44e163525-96486b8abdd5c500-01
2022-04-21T16:16:43.189Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:43.192Z appoptics:debug span.exit - no last event outer outer:entry 2b-442ee60661bc9ba07a20bea7ade7358bdbdfc758-65eddd76a9100dd1-01 outer:exit 2b-442ee60661bc9ba07a20bea7ade7358bdbdfc758-4b7e86eb8686bca7-01
2022-04-21T16:16:43.192Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:43.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-6052cdda064ecf6697e58ba0d81e07848fad0eb0-cefe0acb7321efd6-01 outer:exit 2b-6052cdda064ecf6697e58ba0d81e07848fad0eb0-98fce63dfc33e5fb-01
2022-04-21T16:16:43.197Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:43.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-625c2475a4e2467f106c810917fde6ae37c3b8f1-37c2dd0c137eca38-01 outer:exit 2b-625c2475a4e2467f106c810917fde6ae37c3b8f1-d49231d78056a2de-01
2022-04-21T16:16:43.200Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:43.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec52f7bea81e06ff2d53a49569ddc1c9057d28bf-38be9c8c1591057e-01 outer:exit 2b-ec52f7bea81e06ff2d53a49569ddc1c9057d28bf-83b8c98cfdaf7e93-01
2022-04-21T16:16:43.202Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:43.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-e80c42aaa45e8694b7a747c66f46aab4da630aea-118451114137018b-01 outer:exit 2b-e80c42aaa45e8694b7a747c66f46aab4da630aea-4620653157520833-01
2022-04-21T16:16:43.205Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:43.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-cce6826854fafdb9114a4f950f1ca6b89ff0f2ec-e0c8462e5c53ef57-01 outer:exit 2b-cce6826854fafdb9114a4f950f1ca6b89ff0f2ec-1050e9f50364780f-01
2022-04-21T16:16:43.207Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:43.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-5915286e1a1a27074a1a7aeb2fc7b7a71579680c-2104cdb56c57ee11-01 outer:exit 2b-5915286e1a1a27074a1a7aeb2fc7b7a71579680c-f0f1b2ff130e146a-01
2022-04-21T16:16:43.210Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:43.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-82883ca4c70c7a23d7309a787d8794884713f8d7-48a45810880b89f8-01 outer:exit 2b-82883ca4c70c7a23d7309a787d8794884713f8d7-ffc2d4f2031a737f-01
2022-04-21T16:16:43.214Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:43.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-463b7f382318f4be3dd1e9b8e83faa9d899742bf-0b676d341ca50f81-01 outer:exit 2b-463b7f382318f4be3dd1e9b8e83faa9d899742bf-ccc589c53b2d5da3-01
2022-04-21T16:16:43.220Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:43.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e933a41d4679ffbee4fb8d2b0f0d4e1d12fc418-9b54ffcb23857a27-01 outer:exit 2b-6e933a41d4679ffbee4fb8d2b0f0d4e1d12fc418-234673f37309dd10-01
2022-04-21T16:16:43.234Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:43.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-87b20c5d54f1fcd07d45684a78fce3f89011445a-07a54d5202c89e09-01 outer:exit 2b-87b20c5d54f1fcd07d45684a78fce3f89011445a-f225a7d676c8b939-01
2022-04-21T16:16:43.274Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:43.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-30bfab523c1a63c9cfa415161bcce387a98b086b-89bc0a9431d1fade-01 outer:exit 2b-30bfab523c1a63c9cfa415161bcce387a98b086b-a29abc33e407fce2-01
2022-04-21T16:16:43.276Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:43.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-175886b759420ecf444198ce927851047efc9f2b-887843bf94929441-01 outer:exit 2b-175886b759420ecf444198ce927851047efc9f2b-f1f2c4d0456bbc1f-01
2022-04-21T16:16:43.279Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:43.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-510752ae9ba5b4d9655a274e913abbf2596e4d4c-add090b5d921d003-01 outer:exit 2b-510752ae9ba5b4d9655a274e913abbf2596e4d4c-5a70f0dfeb2ee051-01
2022-04-21T16:16:43.281Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:43.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-43684773390da927fdbec3704fad8ed8c565c9ed-0aedc91414432895-01 outer:exit 2b-43684773390da927fdbec3704fad8ed8c565c9ed-a4503912cbd6453c-01
2022-04-21T16:16:43.284Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:43.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e1d7a9b1a0d44f2b009e7d2c68be91283dfce68-b7973fee5e5866bf-01 outer:exit 2b-0e1d7a9b1a0d44f2b009e7d2c68be91283dfce68-30e4bb34fd584f50-01
2022-04-21T16:16:43.286Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:43.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-3afacbe8b51002d2efaba0d54d573911608c0ffd-f6fd65cd0d07fd8b-01 outer:exit 2b-3afacbe8b51002d2efaba0d54d573911608c0ffd-45295bcaa3ab36df-01
2022-04-21T16:16:43.288Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:43.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-40fd3bea25a1a57a859e543f3ed9e71239f5dad3-04a6f2b7e00b23f4-01 outer:exit 2b-40fd3bea25a1a57a859e543f3ed9e71239f5dad3-7fe278fbd8b2d199-01
2022-04-21T16:16:43.290Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:43.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fce3d77906003ad7b1606d702444708717b34f4-105a1643b5d628d2-01 outer:exit 2b-7fce3d77906003ad7b1606d702444708717b34f4-7b5211bc78de8a40-01
2022-04-21T16:16:43.292Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:43.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ffb4dec50860aa71d8eb657b97ec05c15663dd8-9abb32c0ce867656-01 outer:exit 2b-4ffb4dec50860aa71d8eb657b97ec05c15663dd8-78a241aaebde9a88-01
2022-04-21T16:16:43.295Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:43.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-8694ed57e2e35fe1b8e1ce292d96f56076563e32-bf288f05dd95d1df-01 outer:exit 2b-8694ed57e2e35fe1b8e1ce292d96f56076563e32-ea10afff6567a9c1-01
2022-04-21T16:16:43.297Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:43.299Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f4f8a4075a27c6df90ff152f421e087fbe2a323-f113480f709ed8a8-01 outer:exit 2b-1f4f8a4075a27c6df90ff152f421e087fbe2a323-72e9a06d123d17eb-01
2022-04-21T16:16:43.299Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:43.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bb9388807ca4dd622493e219f6f1f35f3d95a46-a2785390d8de7f98-01 outer:exit 2b-3bb9388807ca4dd622493e219f6f1f35f3d95a46-0adb6320d2cc7065-01
2022-04-21T16:16:43.301Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:43.309Z appoptics:debug span.exit - no last event outer outer:entry 2b-5710008e917754ec5f8279979946987e1cee8414-6c9f64d05d69a4dc-01 outer:exit 2b-5710008e917754ec5f8279979946987e1cee8414-6ceea31302702a0b-01
2022-04-21T16:16:43.309Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:43.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2394db1eaeef9daa6ad4eeee45ef8e16115cc06-1bc71a6ad1bc5b28-01 outer:exit 2b-c2394db1eaeef9daa6ad4eeee45ef8e16115cc06-78b19f3c8f6a841b-01
2022-04-21T16:16:43.313Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:43.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b14c0a0f33c870b825e5696079732b67249f4e5-f6f9fe91a820422e-01 outer:exit 2b-7b14c0a0f33c870b825e5696079732b67249f4e5-abd54e0f05811277-01
2022-04-21T16:16:43.321Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:43.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a7c45d9b02be148df5366d44254526c7ec72012-699d089ca71518cc-01 outer:exit 2b-6a7c45d9b02be148df5366d44254526c7ec72012-e6465abf162bfde0-01
2022-04-21T16:16:43.328Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:43.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5fd2e3d2724f498f1e26b5b04ee4d9713c61001-818464437a1c1c9d-01 outer:exit 2b-b5fd2e3d2724f498f1e26b5b04ee4d9713c61001-58a513bb21d319a8-01
2022-04-21T16:16:43.330Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:43.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5b9af5b3c95822f3145b67e421144f6de85548-eed5065c65d7528a-01 outer:exit 2b-0b5b9af5b3c95822f3145b67e421144f6de85548-4953beda248d98e3-01
2022-04-21T16:16:43.333Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:43.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5f2d7005f26af4eaf393b5c1904b5baa7844e5a-f573b09f00c9d892-01 outer:exit 2b-a5f2d7005f26af4eaf393b5c1904b5baa7844e5a-f2a65094a81d1521-01
2022-04-21T16:16:43.340Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:43.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-81113b1833ed12eedec195fc3e8dc9e391c83136-83beff07a58a269b-01 outer:exit 2b-81113b1833ed12eedec195fc3e8dc9e391c83136-ba4521e60fd0c47a-01
2022-04-21T16:16:43.341Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:43.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-7bdf31e4be927d643d1d48ce9cb0a339e8545eb3-d5bc850de3e3bd0f-01 outer:exit 2b-7bdf31e4be927d643d1d48ce9cb0a339e8545eb3-4d608384a10ae2cd-01
2022-04-21T16:16:43.343Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:43.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-44caf8a4452c024b4c8575ed4d120316989bcbad-d552f8a5b0e78a76-01 outer:exit 2b-44caf8a4452c024b4c8575ed4d120316989bcbad-53e2e7daad208f29-01
2022-04-21T16:16:43.345Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:43.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-8a2b5268695a37a5fe249d9548bbb0c2aac8a6c7-e0ae00aa95b7348d-01 outer:exit 2b-8a2b5268695a37a5fe249d9548bbb0c2aac8a6c7-8d6f53ffe2b4065c-01
2022-04-21T16:16:43.347Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:43.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-59233047bc62d3cefa23b7bbffca40fc91f70a0d-8c38e6a2a66746b5-01 outer:exit 2b-59233047bc62d3cefa23b7bbffca40fc91f70a0d-9ac0dd3a0dad10d0-01
2022-04-21T16:16:43.348Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:43.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-da88c53f2a8d720c96cc6cfe5d0808aa8d948347-89779faf6f96ab1a-01 outer:exit 2b-da88c53f2a8d720c96cc6cfe5d0808aa8d948347-116b5ca09ecb8743-01
2022-04-21T16:16:43.356Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:43.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-831ca35b747abd18ec4c42669787d909619d3d9c-266377080705e945-01 outer:exit 2b-831ca35b747abd18ec4c42669787d909619d3d9c-f61a7e94ac92ecf9-01
2022-04-21T16:16:43.363Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:43.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-41ff903b6c9b6f1467de7b8b4f53638f30cb0f2a-47bce890f3b2f587-01 outer:exit 2b-41ff903b6c9b6f1467de7b8b4f53638f30cb0f2a-39c83775e270bf96-01
2022-04-21T16:16:43.366Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:43.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc430fc77e694c97bb8ab31618bd80ef1b775cc2-ed813a2834025826-01 outer:exit 2b-fc430fc77e694c97bb8ab31618bd80ef1b775cc2-fcdf9125d7ab3a78-01
2022-04-21T16:16:43.368Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:43.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-684093fe9b3273a965d2e9ee91ac34d723d52640-db0ff874a65520bd-01 outer:exit 2b-684093fe9b3273a965d2e9ee91ac34d723d52640-83047f0cfb4a7a7b-01
2022-04-21T16:16:43.370Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:43.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0497f11ab83dae1712141b8cb8a3c06b77818a3-58befe1671d2203f-01 outer:exit 2b-d0497f11ab83dae1712141b8cb8a3c06b77818a3-2b475a6bece5ffa8-01
2022-04-21T16:16:43.395Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (286ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:49.832Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:49.833Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:49.833Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:49.833Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:49.907Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:50.029Z appoptics:patching patched crypto 
2022-04-21T16:16:50.078Z appoptics:patching patched https 
2022-04-21T16:16:50.079Z appoptics:patching patched http 
2022-04-21T16:16:50.154Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:50.154Z appoptics:patching patched fs 
2022-04-21T16:16:50.174Z appoptics:patching patched mongodb-core 2.0.3 (disabled: node v18.0.0)
2022-04-21T16:16:50.181Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.3
    2.4
      databases
2022-04-21T16:16:50.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa4696eceb37b2b3ca5b504785c362e3013c7adb-6c71e613b063d37e-01 outer:exit 2b-fa4696eceb37b2b3ca5b504785c362e3013c7adb-b91586aa2a539288-01
2022-04-21T16:16:50.303Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:50.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-d004701660821b2eb1509e8e446ec4e4d82973ea-aa732dd59cd1b6f5-01 outer:exit 2b-d004701660821b2eb1509e8e446ec4e4d82973ea-3b47fae485a924a8-01
2022-04-21T16:16:50.350Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:50.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6d79631af6615f119671cafec9786c0667707e6-bd6c7ff8aa1eaad5-01 outer:exit 2b-f6d79631af6615f119671cafec9786c0667707e6-a4ca48520f36aed2-01
2022-04-21T16:16:50.354Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:50.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-1758ad5bdefb585407a09a55dba7550143bc0c65-22165274a87fe500-01 outer:exit 2b-1758ad5bdefb585407a09a55dba7550143bc0c65-dd1cef0149ffcbac-01
2022-04-21T16:16:50.358Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:50.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-1388d54a62e8e1f2f77f0d8fc17a746696ea5bfe-38344aaab5e7aa84-01 outer:exit 2b-1388d54a62e8e1f2f77f0d8fc17a746696ea5bfe-57cb922d384e32d7-01
2022-04-21T16:16:50.364Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:50.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-4272e054e732e16249b494f4fbbf9c931dd2368c-a6035d1b92b6fdff-01 outer:exit 2b-4272e054e732e16249b494f4fbbf9c931dd2368c-caf82c64438fe18a-01
2022-04-21T16:16:50.368Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:50.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2d797fe94b3e21533bcf1c22f75e9dad2d18da1-88079bbfec3c3295-01 outer:exit 2b-c2d797fe94b3e21533bcf1c22f75e9dad2d18da1-4126088ca60c6c73-01
2022-04-21T16:16:50.373Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:50.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-caa21b713bff354956dc6239fc253eb2457ce597-1381843009c21663-01 outer:exit 2b-caa21b713bff354956dc6239fc253eb2457ce597-35be7ee109dc8d3c-01
2022-04-21T16:16:50.378Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:50.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-31916631b3867e9c07376be215f874a83e287b70-d014c15aba3026fa-01 outer:exit 2b-31916631b3867e9c07376be215f874a83e287b70-7124c21e4f85ad22-01
2022-04-21T16:16:50.384Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:50.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e14de8ea9954e5cecdd38debdc5880fa77783b9-16aeac27b7a408f0-01 outer:exit 2b-7e14de8ea9954e5cecdd38debdc5880fa77783b9-828fe27d82c33e50-01
2022-04-21T16:16:50.397Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:50.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-e22af2e382d6dd364c93885deb69ad407bc2f332-fff4b9f207c5b30f-01 outer:exit 2b-e22af2e382d6dd364c93885deb69ad407bc2f332-603ae3e030782684-01
2022-04-21T16:16:50.424Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:50.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3646905f96e442d1cba1ab2c2f0ed606efb196c-f0a2ecd2c3d77ffb-01 outer:exit 2b-b3646905f96e442d1cba1ab2c2f0ed606efb196c-757557f0efdeccf0-01
2022-04-21T16:16:50.436Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:50.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb4cdd700789fadb26b726e836f784921bb002a7-864d898aba3b1f63-01 outer:exit 2b-cb4cdd700789fadb26b726e836f784921bb002a7-aed11c9d8d603ba8-01
2022-04-21T16:16:50.465Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:50.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee1f47d9808a627abefb3292a8946388998daad1-f4f0ddaf026336b5-01 outer:exit 2b-ee1f47d9808a627abefb3292a8946388998daad1-2ecfb1add1a37520-01
2022-04-21T16:16:50.508Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:50.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5ba2341b3631bfd11a4f2d37877193b356d43eb-aa4eeb67008ffc19-01 outer:exit 2b-f5ba2341b3631bfd11a4f2d37877193b356d43eb-7eccf1c30939af17-01
2022-04-21T16:16:50.511Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:50.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cf7acc893271d5acfaecc0698802ff91ecaf6cc-c541914b99fbbde1-01 outer:exit 2b-6cf7acc893271d5acfaecc0698802ff91ecaf6cc-c34f3173da0c18d0-01
2022-04-21T16:16:50.513Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:50.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c800866f71bcc4dc6de5ca2fea4ea9d44f13320-cfae0cb7d1f4a049-01 outer:exit 2b-8c800866f71bcc4dc6de5ca2fea4ea9d44f13320-b4252cb497c1a690-01
2022-04-21T16:16:50.515Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:50.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-1bd5b1733292454ba8d05427bb6b3d8c85731bc2-b1b283fbc545a83e-01 outer:exit 2b-1bd5b1733292454ba8d05427bb6b3d8c85731bc2-7682aa653198842a-01
2022-04-21T16:16:50.517Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:50.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-d08aef3903528f1811200f81c042420651195f20-6e47d88689fdd58e-01 outer:exit 2b-d08aef3903528f1811200f81c042420651195f20-a8b1a3eb573bf05d-01
2022-04-21T16:16:50.519Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:50.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd2c86a5dd334821b2ee01c5bb01506801aebfd1-0f48509caa9edbf6-01 outer:exit 2b-bd2c86a5dd334821b2ee01c5bb01506801aebfd1-3978adf3f837543e-01
2022-04-21T16:16:50.521Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:50.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c13704e2fcfe7bdf1d2065ca609a7c4bd470d46-b3c50f053a8303b3-01 outer:exit 2b-9c13704e2fcfe7bdf1d2065ca609a7c4bd470d46-226f34ccc64831a1-01
2022-04-21T16:16:50.523Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:50.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-67465a30b41c959cae7054a89b46511bc36b8e57-94419ac7a85f2aac-01 outer:exit 2b-67465a30b41c959cae7054a89b46511bc36b8e57-e745252efbbabb55-01
2022-04-21T16:16:50.525Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:50.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-f078a2d8f3ea03176ec00eaf659bf19337f037de-5d0ba4b01bb1ca15-01 outer:exit 2b-f078a2d8f3ea03176ec00eaf659bf19337f037de-12e006993315f398-01
2022-04-21T16:16:50.527Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:50.529Z appoptics:debug span.exit - no last event outer outer:entry 2b-44d816786868b81c7e70779e58941c7599618457-151f613b07ca74fb-01 outer:exit 2b-44d816786868b81c7e70779e58941c7599618457-f298f0bf0d8ec1a5-01
2022-04-21T16:16:50.530Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:50.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e69f7e6701af4e87c419ab56a2b8dcf40e373c5-e6e348f171c2dfc3-01 outer:exit 2b-1e69f7e6701af4e87c419ab56a2b8dcf40e373c5-99c4cb29db2ceeb6-01
2022-04-21T16:16:50.531Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:50.533Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f4ea29983c26212eea46867d5761583702954d4-2e99aefdfe6d03ba-01 outer:exit 2b-6f4ea29983c26212eea46867d5761583702954d4-42193445511986c3-01
2022-04-21T16:16:50.533Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:50.539Z appoptics:debug span.exit - no last event outer outer:entry 2b-3bcc26755cd652450d39a28ba942c9c2aea41d98-4e943aaf89e1e681-01 outer:exit 2b-3bcc26755cd652450d39a28ba942c9c2aea41d98-b8ef9dcbc0b56092-01
2022-04-21T16:16:50.539Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:50.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cd447a5a7805bcd6d658fa8e80bde804611221d-ec46aafa470356c0-01 outer:exit 2b-4cd447a5a7805bcd6d658fa8e80bde804611221d-7db607b584d5dbbb-01
2022-04-21T16:16:50.543Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:50.550Z appoptics:debug span.exit - no last event outer outer:entry 2b-5aad89e7553521a1597ba952fe233b3d224a90fc-812ed1dc86236b34-01 outer:exit 2b-5aad89e7553521a1597ba952fe233b3d224a90fc-d68926e1ce5ab774-01
2022-04-21T16:16:50.550Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:50.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-5464168be6c811c9dfcfa5811f53e6faa55324f5-cc1f6ba80535f498-01 outer:exit 2b-5464168be6c811c9dfcfa5811f53e6faa55324f5-4381e09cff7c9595-01
2022-04-21T16:16:50.555Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:50.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-96d16ca0f02198f3cded21cdfd06da86b7ec2ea5-c93d9518f3476624-01 outer:exit 2b-96d16ca0f02198f3cded21cdfd06da86b7ec2ea5-5342618d65584a09-01
2022-04-21T16:16:50.557Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:50.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-fccc12ae7286831679a03d0db172dd73cae71566-d05c445b1eefe90f-01 outer:exit 2b-fccc12ae7286831679a03d0db172dd73cae71566-7693f2273f66da05-01
2022-04-21T16:16:50.560Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:50.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6f069f38082cd765e3b0b092408dae7bb866178-bad500a75434bd3a-01 outer:exit 2b-f6f069f38082cd765e3b0b092408dae7bb866178-bfaf7fef7faf20b9-01
2022-04-21T16:16:50.566Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:50.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-f58662feb6f9270775405df4062d4a7764bbe2ec-c412ac0e38212081-01 outer:exit 2b-f58662feb6f9270775405df4062d4a7764bbe2ec-5856c09141d0e40f-01
2022-04-21T16:16:50.568Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:50.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-9403de49e5c73c733f673152563442867285aa64-37aa4513b502db56-01 outer:exit 2b-9403de49e5c73c733f673152563442867285aa64-3a20fbc51d44d930-01
2022-04-21T16:16:50.569Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:50.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3c1c15894b35cb62cbc14ee3c5c6c6ad1eed253-c1deed30e39c51a2-01 outer:exit 2b-e3c1c15894b35cb62cbc14ee3c5c6c6ad1eed253-ad6461b93ca38a77-01
2022-04-21T16:16:50.571Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:50.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e669c91073e100977b7ede106c9f5ccefc0a750-dfa5b65aaba9d9bc-01 outer:exit 2b-9e669c91073e100977b7ede106c9f5ccefc0a750-275d1fc6f829f0b6-01
2022-04-21T16:16:50.573Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:50.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-2783af2146c32946f3e0b327f33582935667b003-b346788e4a418446-01 outer:exit 2b-2783af2146c32946f3e0b327f33582935667b003-cd38027c04b9e5b2-01
2022-04-21T16:16:50.574Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:50.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1fe914aa803b428e43a1a6f8c89d7ed9a0b2966-04e1df3a5800f3cc-01 outer:exit 2b-f1fe914aa803b428e43a1a6f8c89d7ed9a0b2966-84dd072d87490493-01
2022-04-21T16:16:50.582Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:50.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ee970ce5d26acd9efaa7bc5a5ac8f85a280680f-52c6f67adabc0b5a-01 outer:exit 2b-1ee970ce5d26acd9efaa7bc5a5ac8f85a280680f-55a2457243d0fdec-01
2022-04-21T16:16:50.590Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:50.592Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf1a5d725e9730cfd47116259a15c116ede0f575-64cb84f3607fbba5-01 outer:exit 2b-bf1a5d725e9730cfd47116259a15c116ede0f575-5c6d9a5eb1a395e7-01
2022-04-21T16:16:50.592Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:50.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-91442f5b98fe6cc7f65e01de79ee067c9789235c-6737d7f88127ecad-01 outer:exit 2b-91442f5b98fe6cc7f65e01de79ee067c9789235c-627116d7552c101d-01
2022-04-21T16:16:50.594Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:50.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-139e7004f7e0032d57d95601bb1d7ab1277ab420-5b6642e329d63d2d-01 outer:exit 2b-139e7004f7e0032d57d95601bb1d7ab1277ab420-f7babeb031c5a3fb-01
2022-04-21T16:16:50.597Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:50.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-31f8bbcbbdbb87e76bb9b9e64bd7b0408d3297b2-cc85bdc03dcf1b95-01 outer:exit 2b-31f8bbcbbdbb87e76bb9b9e64bd7b0408d3297b2-8b2324a3a916d145-01
2022-04-21T16:16:50.621Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (421ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:16:56.400Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:16:56.401Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:16:56.401Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:16:56.402Z appoptics:debug using context provider: ace-context
2022-04-21T16:16:56.459Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:16:56.570Z appoptics:patching patched crypto 
2022-04-21T16:16:56.588Z appoptics:patching patched https 
2022-04-21T16:16:56.588Z appoptics:patching patched http 
2022-04-21T16:16:56.635Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:16:56.636Z appoptics:patching patched fs 
2022-04-21T16:16:56.649Z appoptics:patching patched mongodb-core 2.0.4 (disabled: node v18.0.0)
2022-04-21T16:16:56.654Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.4
    2.4
      databases
2022-04-21T16:16:56.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-11591e033f43644b08cbc3f71e0b85801adef32d-e0b26dbf3bab7884-01 outer:exit 2b-11591e033f43644b08cbc3f71e0b85801adef32d-ca16b7dbff230bba-01
2022-04-21T16:16:56.702Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:16:56.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-373999be8c2d4154f0b9f94a5e801b44fcb25218-059ac5730109a623-01 outer:exit 2b-373999be8c2d4154f0b9f94a5e801b44fcb25218-99651d5874c16033-01
2022-04-21T16:16:56.743Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:16:56.747Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b6ac30824b8ec3ffa519727dc9a63f03f6f3d30-ac8fea0fb61ee357-01 outer:exit 2b-6b6ac30824b8ec3ffa519727dc9a63f03f6f3d30-5ef5aa16d5dc59ac-01
2022-04-21T16:16:56.747Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:16:56.750Z appoptics:debug span.exit - no last event outer outer:entry 2b-efcc8ad49ec3c2aa34b16e511132ef4f19ba9137-45308d50427d3f2d-01 outer:exit 2b-efcc8ad49ec3c2aa34b16e511132ef4f19ba9137-e3612fb312349acc-01
2022-04-21T16:16:56.750Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:16:56.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca2dc82be92b209d4605e22d04b996d1cf2dab2d-f1e3830efc0274ea-01 outer:exit 2b-ca2dc82be92b209d4605e22d04b996d1cf2dab2d-e70cb36faeb47030-01
2022-04-21T16:16:56.755Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:16:56.757Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f505adaf066a33f99b0b336f1327ef857b999af-c859c379eef4ebf0-01 outer:exit 2b-7f505adaf066a33f99b0b336f1327ef857b999af-6ea64ac5b310b94f-01
2022-04-21T16:16:56.757Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:16:56.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9821ce1c5ff8390fd6abd273c7e9c41f1f61d3d-a78a5fceacdeff38-01 outer:exit 2b-e9821ce1c5ff8390fd6abd273c7e9c41f1f61d3d-bfa0fe3a611372bc-01
2022-04-21T16:16:56.760Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:16:56.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-caa6423dcc72d0cbb91f9cffae0cbd62c9098d1b-b0b3d547ddad4c1d-01 outer:exit 2b-caa6423dcc72d0cbb91f9cffae0cbd62c9098d1b-20b1587d03ed482b-01
2022-04-21T16:16:56.762Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:16:56.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9124a2af48fa088affbbf6f8d76b6a6fc3ee4c9-c7bbb5f1d90f086e-01 outer:exit 2b-d9124a2af48fa088affbbf6f8d76b6a6fc3ee4c9-2bc044152aa0eeca-01
2022-04-21T16:16:56.764Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:16:56.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d55399c27d68ece18502382cfdea09bb5c7170e-81e2cb8ad6ffd3a7-01 outer:exit 2b-4d55399c27d68ece18502382cfdea09bb5c7170e-0665c8f04736ad76-01
2022-04-21T16:16:56.767Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:16:56.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-df90afa7675edfd53016b306072e3e7ad9c643de-12989da607228127-01 outer:exit 2b-df90afa7675edfd53016b306072e3e7ad9c643de-c6fe34f200825ea7-01
2022-04-21T16:16:56.771Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:16:56.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-5854c5af523b411548d7b838b39796a4562b97b9-d016dfa1ca2c2da5-01 outer:exit 2b-5854c5af523b411548d7b838b39796a4562b97b9-454444dc5d31fd94-01
2022-04-21T16:16:56.778Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:16:56.792Z appoptics:debug span.exit - no last event outer outer:entry 2b-60ce9953a017f26b11871b0f0fd7b47f5821a13e-652450ee1a54dcf0-01 outer:exit 2b-60ce9953a017f26b11871b0f0fd7b47f5821a13e-ae81bc06429c3666-01
2022-04-21T16:16:56.792Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:16:56.829Z appoptics:debug span.exit - no last event outer outer:entry 2b-a35410a7292d0bfedf79fbcf5b969d373a96d8d2-3d1c717d6afd1809-01 outer:exit 2b-a35410a7292d0bfedf79fbcf5b969d373a96d8d2-23e7378e34a67196-01
2022-04-21T16:16:56.829Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:16:56.832Z appoptics:debug span.exit - no last event outer outer:entry 2b-14b90dffbb8e47035e1022b60285f60f42b3ef75-6dc24ec496af2215-01 outer:exit 2b-14b90dffbb8e47035e1022b60285f60f42b3ef75-b67e664d4377e7d8-01
2022-04-21T16:16:56.832Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:16:56.834Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3498ee413e8ffc822e016d9be56b63be307cbc8-d68956386c1fec8d-01 outer:exit 2b-a3498ee413e8ffc822e016d9be56b63be307cbc8-956fefbbb011ff95-01
2022-04-21T16:16:56.834Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:16:56.836Z appoptics:debug span.exit - no last event outer outer:entry 2b-950bf0f980ab183a35b99162c4bc23a4b6f7d3d4-6d37ed0b16bf8e46-01 outer:exit 2b-950bf0f980ab183a35b99162c4bc23a4b6f7d3d4-db7451a33aa2701c-01
2022-04-21T16:16:56.836Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:16:56.838Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ac0fa9b2e7831a700c5b377e19dd7359316740e-50230bfc30d75c8f-01 outer:exit 2b-3ac0fa9b2e7831a700c5b377e19dd7359316740e-86625decf6ed46d2-01
2022-04-21T16:16:56.838Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:16:56.840Z appoptics:debug span.exit - no last event outer outer:entry 2b-b89a85763be3071f90b3422040de8a0041abb2f4-a76ba44d6093ee58-01 outer:exit 2b-b89a85763be3071f90b3422040de8a0041abb2f4-9c661fda9174ec59-01
2022-04-21T16:16:56.840Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:16:56.842Z appoptics:debug span.exit - no last event outer outer:entry 2b-11c68c9c64535943fea89060aa7a7f5f133802eb-63d0ec3a7ba450c4-01 outer:exit 2b-11c68c9c64535943fea89060aa7a7f5f133802eb-dc368aa0aac260a5-01
2022-04-21T16:16:56.842Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:16:56.850Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cb8a5559ac9443ada5f2cd3d0339d7252e56d5b-c05e7cba29661e49-01 outer:exit 2b-1cb8a5559ac9443ada5f2cd3d0339d7252e56d5b-f0d18caf612e58db-01
2022-04-21T16:16:56.850Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:16:56.852Z appoptics:debug span.exit - no last event outer outer:entry 2b-83abcd845628f4ad528d0b5de631bdeef4acee93-1d0d189a77ace395-01 outer:exit 2b-83abcd845628f4ad528d0b5de631bdeef4acee93-e140ef049a4a17c1-01
2022-04-21T16:16:56.852Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:16:56.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-044c30770c518ed1b57d2a577af5e5b67fe4ca79-41f6d41c60eaef41-01 outer:exit 2b-044c30770c518ed1b57d2a577af5e5b67fe4ca79-f611286fcb135dfb-01
2022-04-21T16:16:56.857Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:16:56.860Z appoptics:debug span.exit - no last event outer outer:entry 2b-c08c6b7a4a295de650929e68ec34be90798be4c5-22b4e0f54e1b6404-01 outer:exit 2b-c08c6b7a4a295de650929e68ec34be90798be4c5-38e7a3d3a399ee50-01
2022-04-21T16:16:56.860Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:16:56.862Z appoptics:debug span.exit - no last event outer outer:entry 2b-d367d878e8cf5daae52311e0f17b0c9fda4bcc91-00423af11f62f200-01 outer:exit 2b-d367d878e8cf5daae52311e0f17b0c9fda4bcc91-317f1fa225830b68-01
2022-04-21T16:16:56.862Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:16:56.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ddedc678cc3e9178d79013646322197d33ddee0-587fac314dbdb913-01 outer:exit 2b-3ddedc678cc3e9178d79013646322197d33ddee0-53259675bb1d08ff-01
2022-04-21T16:16:56.867Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:16:56.877Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f576e207c671fac519d7ce60b5401e888c95782-89d8585279894e4f-01 outer:exit 2b-1f576e207c671fac519d7ce60b5401e888c95782-bc1d66e835fa3e57-01
2022-04-21T16:16:56.877Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:16:56.882Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e3d2092bd4521cdaa08cd7c4dfc81fb79238ea4-5c4f92e070fa580a-01 outer:exit 2b-8e3d2092bd4521cdaa08cd7c4dfc81fb79238ea4-ccbd91a0d107ac40-01
2022-04-21T16:16:56.882Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:16:56.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f39455a5bf64a520c68e26abcaaadae0b2c73ca-8b82483a4c6838f8-01 outer:exit 2b-9f39455a5bf64a520c68e26abcaaadae0b2c73ca-5c869df7c7655a0f-01
2022-04-21T16:16:56.917Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:16:56.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-50bf3116161a5024bad024dd77c0b90faf94d0c8-32d3053954fef863-01 outer:exit 2b-50bf3116161a5024bad024dd77c0b90faf94d0c8-49cd5743671ad4f3-01
2022-04-21T16:16:56.924Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:16:56.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-66ee6f79af3d31ff85a4182ad4b8b61fd15aeee2-5600354ce080b3f7-01 outer:exit 2b-66ee6f79af3d31ff85a4182ad4b8b61fd15aeee2-dcab8ac117468185-01
2022-04-21T16:16:56.926Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:16:56.929Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f0de5bb1c75049a846dbdfe144178a8b3d7935c-c352e0348d0d3f8c-01 outer:exit 2b-8f0de5bb1c75049a846dbdfe144178a8b3d7935c-1f51e0642eaf0794-01
2022-04-21T16:16:56.929Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:16:56.934Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4f4a8dfd20969924c1d9c6360a247de815d8262-cbc1bfbbd0fb0e17-01 outer:exit 2b-e4f4a8dfd20969924c1d9c6360a247de815d8262-d2ad5df53063c61c-01
2022-04-21T16:16:56.934Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:16:56.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-f57aa09aef59cc0ea64723b0387a9404e246c78f-780030031273e93b-01 outer:exit 2b-f57aa09aef59cc0ea64723b0387a9404e246c78f-0ebe63116bd7542a-01
2022-04-21T16:16:56.937Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:16:56.938Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1e1b45c98abd147de18c452e9289146a682dc11-75eb5c26d2e0f3a7-01 outer:exit 2b-a1e1b45c98abd147de18c452e9289146a682dc11-65234d3fd7030beb-01
2022-04-21T16:16:56.938Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:16:56.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aa65364e7b4264850881aeec450aee44f9cb379-2cdb602d052bfe86-01 outer:exit 2b-3aa65364e7b4264850881aeec450aee44f9cb379-4b5b748c919cf82f-01
2022-04-21T16:16:56.940Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:16:56.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-27dbf5f98d8c8df66d6ecd56cb05c86fd13f06a0-2e25f387c238eafb-01 outer:exit 2b-27dbf5f98d8c8df66d6ecd56cb05c86fd13f06a0-bc03281b598b050a-01
2022-04-21T16:16:56.942Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:16:56.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-b90513f9df93f7478ccbce93f13df46bd1e7eb5a-793ac46c3658ef4f-01 outer:exit 2b-b90513f9df93f7478ccbce93f13df46bd1e7eb5a-75d8f42cd3871d2e-01
2022-04-21T16:16:56.944Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:16:56.956Z appoptics:debug span.exit - no last event outer outer:entry 2b-299e2a9df07c2320df0c87b9396c39e2b40832b3-b647e73f9d33c902-01 outer:exit 2b-299e2a9df07c2320df0c87b9396c39e2b40832b3-8d347dfbe4ec65ff-01
2022-04-21T16:16:56.956Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:16:56.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac7eadac364676b1a4ab896be486c5a8840b4592-c05db5db5406f19c-01 outer:exit 2b-ac7eadac364676b1a4ab896be486c5a8840b4592-7b83b9ec815c159a-01
2022-04-21T16:16:56.963Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:16:56.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-a82be168e5360198b9fa2d96565f68660bdc84f8-986be7e0317eabff-01 outer:exit 2b-a82be168e5360198b9fa2d96565f68660bdc84f8-b8e1902fdaff54ce-01
2022-04-21T16:16:56.966Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:16:56.968Z appoptics:debug span.exit - no last event outer outer:entry 2b-a619b3645fc38221f1f7baeb71d9499c53f4f35a-a33d842e9a212f17-01 outer:exit 2b-a619b3645fc38221f1f7baeb71d9499c53f4f35a-96d6b306e555624f-01
2022-04-21T16:16:56.969Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:16:56.971Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddf8e8bd751ebd3ebbc78a371a728cd0db9884e9-1187cd56f4967df1-01 outer:exit 2b-ddf8e8bd751ebd3ebbc78a371a728cd0db9884e9-618748bb1288ce7b-01
2022-04-21T16:16:56.971Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:16:56.995Z appoptics:debug span.exit - no last event outer outer:entry 2b-104f6d2d5d3d8c08713e120a5c858a0d3f73d54c-7628710cf63f208f-01 outer:exit 2b-104f6d2d5d3d8c08713e120a5c858a0d3f73d54c-daaa7a8b546e4d28-01
2022-04-21T16:16:56.995Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (336ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:03.822Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:03.823Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:03.823Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:03.823Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:03.881Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:03.991Z appoptics:patching patched crypto 
2022-04-21T16:17:04.008Z appoptics:patching patched https 
2022-04-21T16:17:04.009Z appoptics:patching patched http 
2022-04-21T16:17:04.053Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:04.053Z appoptics:patching patched fs 
2022-04-21T16:17:04.066Z appoptics:patching patched mongodb-core 2.0.5 (disabled: node v18.0.0)
2022-04-21T16:17:04.071Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.5
    2.4
      databases
2022-04-21T16:17:04.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-1e86ca5ae1358f3ef2443fd2629daf8f84efa3e3-87fec5ab5c6e5ec6-01 outer:exit 2b-1e86ca5ae1358f3ef2443fd2629daf8f84efa3e3-88bed3628181538e-01
2022-04-21T16:17:04.113Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:04.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7c8956fc496fff85e1d2ed335abc9ff479dede0-488e31d4ac8c7ca8-01 outer:exit 2b-f7c8956fc496fff85e1d2ed335abc9ff479dede0-b4d7347375781915-01
2022-04-21T16:17:04.154Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:04.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad462199e9fe529177c20aed20f080d01303d534-e704c6a8ee9c0a95-01 outer:exit 2b-ad462199e9fe529177c20aed20f080d01303d534-58cf876c89db175f-01
2022-04-21T16:17:04.158Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:04.161Z appoptics:debug span.exit - no last event outer outer:entry 2b-b388fa0c634c5967d76c62bb4a8852e5c2addd60-1a00d6f419d8c851-01 outer:exit 2b-b388fa0c634c5967d76c62bb4a8852e5c2addd60-d4004236ae67e4c1-01
2022-04-21T16:17:04.161Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:04.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a9f6701d4a8253f496272dcb3c40a81d279a92c-5ef7bbe65c360de7-01 outer:exit 2b-5a9f6701d4a8253f496272dcb3c40a81d279a92c-ea2ade8e9c5b5e9b-01
2022-04-21T16:17:04.165Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:04.168Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f5b57fa031b9c7c36230badd0b90046ac932502-afc9a16320251be0-01 outer:exit 2b-0f5b57fa031b9c7c36230badd0b90046ac932502-90811df3d196439f-01
2022-04-21T16:17:04.168Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:04.171Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b22f6970c12169efed5be8c6ccfbcfe58ecaef-cfae1a154922b441-01 outer:exit 2b-06b22f6970c12169efed5be8c6ccfbcfe58ecaef-02b2435ec85836fd-01
2022-04-21T16:17:04.171Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:04.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fe422ccbba678c785bb91a6b126c3f537b8e3fb-94575a62c154c0a9-01 outer:exit 2b-7fe422ccbba678c785bb91a6b126c3f537b8e3fb-96677c46e3a228e4-01
2022-04-21T16:17:04.173Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:04.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a5cc29364ea9996484af11fa99b77380b35fb1e-37f7b721fbe5288b-01 outer:exit 2b-9a5cc29364ea9996484af11fa99b77380b35fb1e-08c6c11fc7a1f773-01
2022-04-21T16:17:04.176Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:04.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-97686b306148949a11f46cf77a524d7833ea83a4-c1d5edf1ddb38cad-01 outer:exit 2b-97686b306148949a11f46cf77a524d7833ea83a4-fa72feccb06b305a-01
2022-04-21T16:17:04.179Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:04.183Z appoptics:debug span.exit - no last event outer outer:entry 2b-7182a9df06796752d5de0ff8e21c1507575c175b-bd7f6872f0e27004-01 outer:exit 2b-7182a9df06796752d5de0ff8e21c1507575c175b-51f64994f28fff97-01
2022-04-21T16:17:04.183Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:04.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb64a4e97604b30d0bfde8060db1cd9f35b499a8-bb8f17902fa7ea3d-01 outer:exit 2b-eb64a4e97604b30d0bfde8060db1cd9f35b499a8-569f1b1e54a4a409-01
2022-04-21T16:17:04.189Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:04.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-b65ececb0fbdcfa8895df34e103b8f6c04e83c90-92b7b51b45f251e5-01 outer:exit 2b-b65ececb0fbdcfa8895df34e103b8f6c04e83c90-f0b3aa77b6236add-01
2022-04-21T16:17:04.203Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:04.243Z appoptics:debug span.exit - no last event outer outer:entry 2b-08aca98c954c9af03d853628166e412279695d32-74198c04e9b2d0f4-01 outer:exit 2b-08aca98c954c9af03d853628166e412279695d32-4deae265b6c624ba-01
2022-04-21T16:17:04.243Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:04.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b6d2d99d4356691913f603c6f6b95b3a630e805-378cfc02921c2e5e-01 outer:exit 2b-2b6d2d99d4356691913f603c6f6b95b3a630e805-9c707ba1be7e754a-01
2022-04-21T16:17:04.247Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:04.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdb1ee2eb058223ea9d09390f0914e10151a37ed-695276fe6fc6468f-01 outer:exit 2b-fdb1ee2eb058223ea9d09390f0914e10151a37ed-d6968d17c74e9f8e-01
2022-04-21T16:17:04.249Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:04.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-1aa98178e3a0473d4c82248691dc62d20246b317-dcdf1eab766ff80d-01 outer:exit 2b-1aa98178e3a0473d4c82248691dc62d20246b317-108094c191f0278a-01
2022-04-21T16:17:04.252Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:04.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-77cfc74a879d9952d6889775fef0e87eddc7b04c-90ca07ebf277c2af-01 outer:exit 2b-77cfc74a879d9952d6889775fef0e87eddc7b04c-5fd08626feec010b-01
2022-04-21T16:17:04.254Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:04.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac6d2a27dd745365078ab2036e2cec300fe58dbe-59db4917cea2f6cb-01 outer:exit 2b-ac6d2a27dd745365078ab2036e2cec300fe58dbe-77ddfafdb3302b07-01
2022-04-21T16:17:04.256Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:04.258Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1a876bfda018ceebe8680b25f128bd7924a171c-0cf5c210aaff68cf-01 outer:exit 2b-f1a876bfda018ceebe8680b25f128bd7924a171c-5b544d9e28fc5543-01
2022-04-21T16:17:04.258Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:04.260Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5e77bf2626808377a6e5a8726f3774a8bb9d6f3-d910174e7d4ef389-01 outer:exit 2b-b5e77bf2626808377a6e5a8726f3774a8bb9d6f3-982934ebcad056cf-01
2022-04-21T16:17:04.260Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:04.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-1720f3d83ee9bc986bcd47cfd09f2fe3c78ec910-54f03802a02a824c-01 outer:exit 2b-1720f3d83ee9bc986bcd47cfd09f2fe3c78ec910-2120761f7340461a-01
2022-04-21T16:17:04.262Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:04.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-1920bab9a7929fcdcb13d74422521dc6387000b3-820030047d8196ee-01 outer:exit 2b-1920bab9a7929fcdcb13d74422521dc6387000b3-d1d814f241d97205-01
2022-04-21T16:17:04.264Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:04.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd45d821ba08503b5446bbc111713657a2a6b7b7-ddcbf78f5253b4da-01 outer:exit 2b-bd45d821ba08503b5446bbc111713657a2a6b7b7-e8fce2bcd8a31860-01
2022-04-21T16:17:04.267Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:04.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-72d1d6668c92a4c533a43868d4c4f0a2271a2745-d1b2d137b4a7cbf6-01 outer:exit 2b-72d1d6668c92a4c533a43868d4c4f0a2271a2745-8a896dd0fda84dbf-01
2022-04-21T16:17:04.269Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:04.271Z appoptics:debug span.exit - no last event outer outer:entry 2b-4854aab06f530725d4e0c3a9f0cde5dcdc2f6d2e-4cd96069b41fad4c-01 outer:exit 2b-4854aab06f530725d4e0c3a9f0cde5dcdc2f6d2e-890ed3ce0e535323-01
2022-04-21T16:17:04.271Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:04.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc5b8f6adf963ffd0c2e1802f019ea7baa7df1e8-4a17ef47c117e3fd-01 outer:exit 2b-bc5b8f6adf963ffd0c2e1802f019ea7baa7df1e8-a05e17657cb2c184-01
2022-04-21T16:17:04.276Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:04.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e6d1d4da60dae11aeed9dc887967b2dbbca5342-e0c5e8c55860759a-01 outer:exit 2b-8e6d1d4da60dae11aeed9dc887967b2dbbca5342-5d8ab8468c6b8922-01
2022-04-21T16:17:04.280Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:04.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf33163b06b5796fca1d0329959c02a442ebfab6-754d7b7bb7f7abd5-01 outer:exit 2b-cf33163b06b5796fca1d0329959c02a442ebfab6-4f580da55ca46770-01
2022-04-21T16:17:04.287Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:04.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5d349311e586003843de40875b22824ac2ee14c-3f472149f2b02d5e-01 outer:exit 2b-d5d349311e586003843de40875b22824ac2ee14c-fed7c2845be9ec2d-01
2022-04-21T16:17:04.292Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:04.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c1f779b1cb1097b0388c26d0e1be6f1e817713d-bd39d9b491613d15-01 outer:exit 2b-4c1f779b1cb1097b0388c26d0e1be6f1e817713d-e9146d69c1bd1f09-01
2022-04-21T16:17:04.294Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:04.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-311cd315a745ccbdaa9aba8a6aff36a5fab2d4b4-95386af90a5fe2bf-01 outer:exit 2b-311cd315a745ccbdaa9aba8a6aff36a5fab2d4b4-996900bd7caa9387-01
2022-04-21T16:17:04.297Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:04.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5f9bea59967c1afb8ce97ace001f543fbe5b576-b3b372805caeb40b-01 outer:exit 2b-c5f9bea59967c1afb8ce97ace001f543fbe5b576-7f01fd0cc528de31-01
2022-04-21T16:17:04.302Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:04.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-3d6ce37fd1bbb5e004b9a8dbaf99739e75d4af31-ad4cb111ee1666c7-01 outer:exit 2b-3d6ce37fd1bbb5e004b9a8dbaf99739e75d4af31-3301c103e7191cbc-01
2022-04-21T16:17:04.303Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:04.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-49635d4225dbe77d2fe785f380cd2968f7938258-425291c9fb032c99-01 outer:exit 2b-49635d4225dbe77d2fe785f380cd2968f7938258-0d947c91b0c8861e-01
2022-04-21T16:17:04.305Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:04.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-121b7bf7d61f565d6fca479085cf0240f22892c2-aa81683f8e7c83ed-01 outer:exit 2b-121b7bf7d61f565d6fca479085cf0240f22892c2-dc0089851ee0b0e9-01
2022-04-21T16:17:04.307Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:04.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3d1d3ed616f2649cf16835763d1ccd080788b0f-06bd7e4d8d8fc297-01 outer:exit 2b-f3d1d3ed616f2649cf16835763d1ccd080788b0f-e4050a89c6380a40-01
2022-04-21T16:17:04.308Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:04.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9b481d2c89bd4228f97a56e4e05c9a883f9f02c-0f39ea02c988027e-01 outer:exit 2b-b9b481d2c89bd4228f97a56e4e05c9a883f9f02c-d5dd511ca98e8c30-01
2022-04-21T16:17:04.310Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:04.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d9ef9fcffbc39b7044a9c26ecac586188425cc0-d76d5d3c293a99a9-01 outer:exit 2b-5d9ef9fcffbc39b7044a9c26ecac586188425cc0-7d05363abe072244-01
2022-04-21T16:17:04.318Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:04.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac24521af670e62f851d6225b7dfa4546b7e3617-a5f1aec7d358b637-01 outer:exit 2b-ac24521af670e62f851d6225b7dfa4546b7e3617-fc25ec51d40b0137-01
2022-04-21T16:17:04.324Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:04.327Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ad85c99ef9eef3d2a5691b1b7bfdb7e9102b55-c5e52225dffd30d9-01 outer:exit 2b-83ad85c99ef9eef3d2a5691b1b7bfdb7e9102b55-0575e010d91cfef2-01
2022-04-21T16:17:04.327Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:04.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-a97a93cdfc43c7534a3cd0e10e87b2fe1966bc81-7553d407041465f7-01 outer:exit 2b-a97a93cdfc43c7534a3cd0e10e87b2fe1966bc81-ccedbbc5c586ec9d-01
2022-04-21T16:17:04.329Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:04.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-17c58b194d464e0ed0c580432607e5eee9e864b0-8e1c449107e1a95a-01 outer:exit 2b-17c58b194d464e0ed0c580432607e5eee9e864b0-4b94edadcd59c221-01
2022-04-21T16:17:04.331Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:04.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-4973858f7fa6f4666a94465c0e5b5290d767d1d7-bc3d91152ed85188-01 outer:exit 2b-4973858f7fa6f4666a94465c0e5b5290d767d1d7-42281998d4dfcb3c-01
2022-04-21T16:17:04.355Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (278ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:10.046Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:10.046Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:10.046Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:10.047Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:10.122Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:10.244Z appoptics:patching patched crypto 
2022-04-21T16:17:10.283Z appoptics:patching patched https 
2022-04-21T16:17:10.299Z appoptics:patching patched http 
2022-04-21T16:17:10.334Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:10.334Z appoptics:patching patched fs 
2022-04-21T16:17:10.350Z appoptics:patching patched mongodb-core 2.0.6 (disabled: node v18.0.0)
2022-04-21T16:17:10.356Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.6
    2.4
      databases
2022-04-21T16:17:10.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2fb9f37d5ba61673ff88a641df0d84570d25d26-ada892e115699685-01 outer:exit 2b-c2fb9f37d5ba61673ff88a641df0d84570d25d26-ed03105ad930e078-01
2022-04-21T16:17:10.400Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:10.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-99365491833d78fd30723ca3c1be56ad6bb89325-efcb959dd14c902b-01 outer:exit 2b-99365491833d78fd30723ca3c1be56ad6bb89325-cd2e040ffe64890d-01
2022-04-21T16:17:10.446Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:10.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-5cef866efacce7b68f1a2a03d04f35ec3799fa50-5aa158ffd55276f7-01 outer:exit 2b-5cef866efacce7b68f1a2a03d04f35ec3799fa50-30998abfe96e3944-01
2022-04-21T16:17:10.450Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:10.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebc20d238c5940da65776d3dc047465e17e49d97-6fcafe4121678291-01 outer:exit 2b-ebc20d238c5940da65776d3dc047465e17e49d97-7d857ccce276b8ab-01
2022-04-21T16:17:10.457Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:10.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-37c1386a991a8747f66b1b745841f415bb19d69b-984f3970274f2509-01 outer:exit 2b-37c1386a991a8747f66b1b745841f415bb19d69b-6001fa0b20954d32-01
2022-04-21T16:17:10.465Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:10.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-c59d4cd38ca4d0765e8ef9cbdc9e680af88d48b5-25b46902f6b02eee-01 outer:exit 2b-c59d4cd38ca4d0765e8ef9cbdc9e680af88d48b5-2fda6a7a67a62099-01
2022-04-21T16:17:10.468Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:10.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4ff5e6881707eeeab78a338bf185caf49ad5bef-4596821825ae7d18-01 outer:exit 2b-e4ff5e6881707eeeab78a338bf185caf49ad5bef-49ca0a6a7bb3afe4-01
2022-04-21T16:17:10.471Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:10.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc578950201ed1ac8e67a3ae30c2fa0f00139688-966e934c2044257e-01 outer:exit 2b-fc578950201ed1ac8e67a3ae30c2fa0f00139688-1e2ee0c64f9d6d42-01
2022-04-21T16:17:10.473Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:10.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-bae0097c8b63fb556845efc7af2b0974945c8a63-2e95344d0c8f84d5-01 outer:exit 2b-bae0097c8b63fb556845efc7af2b0974945c8a63-0269b94a710338a2-01
2022-04-21T16:17:10.475Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:10.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-f159fb069f3d3ef3f5b56ce57714eb7413b05631-d48ddd47052463f7-01 outer:exit 2b-f159fb069f3d3ef3f5b56ce57714eb7413b05631-adeca06475a77ccc-01
2022-04-21T16:17:10.484Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:10.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-b36e0dc24d0bfa3436c0d9eb199982a298b1dddb-c4a65306016fb730-01 outer:exit 2b-b36e0dc24d0bfa3436c0d9eb199982a298b1dddb-d4c872c9e21295a9-01
2022-04-21T16:17:10.488Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:10.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-b00270b6896ebf8a40347f9075c7284092ccb8cb-65587d2ce2273cd8-01 outer:exit 2b-b00270b6896ebf8a40347f9075c7284092ccb8cb-e3596fc5f4369685-01
2022-04-21T16:17:10.496Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:10.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-a57134e880cf677ceaa6010b9093e597f4c5ae5a-d844c95e11244e8f-01 outer:exit 2b-a57134e880cf677ceaa6010b9093e597f4c5ae5a-fd8e46f383dc9477-01
2022-04-21T16:17:10.515Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:10.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-192459f11c2eb7e38336b6842f2ecd33c8375905-06743a13c5974e63-01 outer:exit 2b-192459f11c2eb7e38336b6842f2ecd33c8375905-9277075e0c352397-01
2022-04-21T16:17:10.566Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:10.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2ec5faba7d03b3aa24af0e21bd805966373e6cf-7c7405c551c71162-01 outer:exit 2b-e2ec5faba7d03b3aa24af0e21bd805966373e6cf-d770182296514480-01
2022-04-21T16:17:10.569Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:10.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0119fc527dcfb90685efb40b6a3eadda33de62a-981e4fec2a423e51-01 outer:exit 2b-f0119fc527dcfb90685efb40b6a3eadda33de62a-5a19c5fab5086b0a-01
2022-04-21T16:17:10.572Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:10.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4121d56ee5664f8fb598c4dc2d54fbc8fe95f87-a5608a836ce7fb71-01 outer:exit 2b-d4121d56ee5664f8fb598c4dc2d54fbc8fe95f87-4181fb2792eccfdf-01
2022-04-21T16:17:10.576Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:10.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-4dc78afd07693ab1cee2d48ef9f67a7e5ffb672d-4ba37859b595914c-01 outer:exit 2b-4dc78afd07693ab1cee2d48ef9f67a7e5ffb672d-9f35e7209ec1dc81-01
2022-04-21T16:17:10.580Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:10.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a8215465637e3e4ebab7dd7d4839e24df4390a5-c5c86b65aa15427c-01 outer:exit 2b-0a8215465637e3e4ebab7dd7d4839e24df4390a5-db231abc34fed55e-01
2022-04-21T16:17:10.582Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:10.588Z appoptics:debug span.exit - no last event outer outer:entry 2b-798e2c65e3a485915b141ad54abbbfc5d8d02a5a-b55881dc45d11753-01 outer:exit 2b-798e2c65e3a485915b141ad54abbbfc5d8d02a5a-7f71f4ba1df70ed1-01
2022-04-21T16:17:10.588Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:10.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-9adca1466519f39ac0ed99de9268537f5edd5eec-62912617a015076c-01 outer:exit 2b-9adca1466519f39ac0ed99de9268537f5edd5eec-b1d3a7b08aaa4e4d-01
2022-04-21T16:17:10.590Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:10.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b1fbca525f7a444241fef6c872108c8e9f47bb2-3eb5fb51ec78a251-01 outer:exit 2b-9b1fbca525f7a444241fef6c872108c8e9f47bb2-84740026c1f7b51d-01
2022-04-21T16:17:10.593Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:10.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-6327b4a3a2fd7d1f872c848a218bb6dd13590f8d-3ac356136f2a42c2-01 outer:exit 2b-6327b4a3a2fd7d1f872c848a218bb6dd13590f8d-ce42b58b04a137ca-01
2022-04-21T16:17:10.596Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:10.599Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb581e971ef8655567e93e82edbe1811386a4c90-ac98c571cdb689fa-01 outer:exit 2b-fb581e971ef8655567e93e82edbe1811386a4c90-dbd659eaf184090a-01
2022-04-21T16:17:10.599Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:10.601Z appoptics:debug span.exit - no last event outer outer:entry 2b-bec81c6bd6023ff0eb6f581b0e4ee5e0a6b1a844-2a8b36046bb0b008-01 outer:exit 2b-bec81c6bd6023ff0eb6f581b0e4ee5e0a6b1a844-e6442dc504fd49a0-01
2022-04-21T16:17:10.601Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:10.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b7a9774569ca2a576e0a4279b5be8a481618365-ed8728536a2bfe8c-01 outer:exit 2b-4b7a9774569ca2a576e0a4279b5be8a481618365-9d66a4ceccbbadf9-01
2022-04-21T16:17:10.603Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:10.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-b243e3376aea631c5e75b72c38c32bc8948f78bd-e60c25525bb282da-01 outer:exit 2b-b243e3376aea631c5e75b72c38c32bc8948f78bd-a4d8d7c249b72d82-01
2022-04-21T16:17:10.609Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:10.615Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28f8f14c29c2485943b8c784be4d81542c01aa5-3db2c441e2e2b367-01 outer:exit 2b-d28f8f14c29c2485943b8c784be4d81542c01aa5-0aeb18eebc88bad3-01
2022-04-21T16:17:10.615Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:10.623Z appoptics:debug span.exit - no last event outer outer:entry 2b-13b833bfc837b5afb99ae6d39e5c358b44608fb0-b703e584cba025d4-01 outer:exit 2b-13b833bfc837b5afb99ae6d39e5c358b44608fb0-ae7f2507fd58ee5d-01
2022-04-21T16:17:10.623Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:10.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8f723b404b4a1be1bae16d7a7581855f0240840-8f8f943c56d27bfc-01 outer:exit 2b-a8f723b404b4a1be1bae16d7a7581855f0240840-7f2ee8de052be3db-01
2022-04-21T16:17:10.630Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:10.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdb3e493aaf83f827df65e605fa52b1fbffda812-69f793ff02009938-01 outer:exit 2b-cdb3e493aaf83f827df65e605fa52b1fbffda812-f3d5b7d354daf5cf-01
2022-04-21T16:17:10.633Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:10.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccfa4193ebe3a7b345d3cc7559523d26f5be5aad-8198d359df9d9299-01 outer:exit 2b-ccfa4193ebe3a7b345d3cc7559523d26f5be5aad-42d0f4170c62dfbc-01
2022-04-21T16:17:10.636Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:10.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdb339fd0993666ca70e9d96b88955b73f858156-02c06714bb08d826-01 outer:exit 2b-bdb339fd0993666ca70e9d96b88955b73f858156-0b27e72b3ff718cb-01
2022-04-21T16:17:10.642Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:10.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f658b0593c43cfe8d222a826f6d47fb69d511dd-43ac1832a607be73-01 outer:exit 2b-0f658b0593c43cfe8d222a826f6d47fb69d511dd-29e8a138c010ba2b-01
2022-04-21T16:17:10.644Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:10.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-2577ff29cd0ea5510e7ad5e8717f78df0645bb27-784cda79347e45ac-01 outer:exit 2b-2577ff29cd0ea5510e7ad5e8717f78df0645bb27-3bc923af6c479f78-01
2022-04-21T16:17:10.646Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:10.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9fbc6ff70dbcf7252d526a8e679d28e88fb87bc-d0c86f07527fd0b0-01 outer:exit 2b-f9fbc6ff70dbcf7252d526a8e679d28e88fb87bc-292f35422c1ea47c-01
2022-04-21T16:17:10.647Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:10.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-59303d97c59b3c8e48ebb5eb35b6483a42ca6f54-67c8251ec8de1468-01 outer:exit 2b-59303d97c59b3c8e48ebb5eb35b6483a42ca6f54-bf4dd745828345d7-01
2022-04-21T16:17:10.649Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:10.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-3fa089783d252909c566f3f760524ba221c5ed5b-1f91883d698684ce-01 outer:exit 2b-3fa089783d252909c566f3f760524ba221c5ed5b-3286a535fc5b378c-01
2022-04-21T16:17:10.656Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:10.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4876e2045a53f4b09af6cb0d84f3c90021e7ca6-687b48c3d398e04d-01 outer:exit 2b-f4876e2045a53f4b09af6cb0d84f3c90021e7ca6-2dd7eff19dce64cc-01
2022-04-21T16:17:10.667Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:10.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-79b1200e7932d18635a246c61e0fde3081e55ac8-4267babd51f17d89-01 outer:exit 2b-79b1200e7932d18635a246c61e0fde3081e55ac8-6d7a8db0645d6ffb-01
2022-04-21T16:17:10.675Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:10.677Z appoptics:debug span.exit - no last event outer outer:entry 2b-412d18141986e5cca57b86fd9b555b2a308464b2-203325f68355dde9-01 outer:exit 2b-412d18141986e5cca57b86fd9b555b2a308464b2-4476f8be22cebb8d-01
2022-04-21T16:17:10.677Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:10.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-bedd99a0631c4dcec3a586d2e6c140af0d44e492-68f8c46b9e0e0825-01 outer:exit 2b-bedd99a0631c4dcec3a586d2e6c140af0d44e492-4ae66c9924f8f6c7-01
2022-04-21T16:17:10.683Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:10.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5aaf0371d9e974d8441e6dd505a9c6c1bd650c6-34023de9dde6d823-01 outer:exit 2b-a5aaf0371d9e974d8441e6dd505a9c6c1bd650c6-63bf6421ab27100f-01
2022-04-21T16:17:10.688Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:10.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddc6497aca52d62e8e0e96fce2c99691a4d653b7-ea15102afbd9507a-01 outer:exit 2b-ddc6497aca52d62e8e0e96fce2c99691a4d653b7-c901098cf706eed3-01
2022-04-21T16:17:10.713Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (350ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:17.106Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:17.106Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:17.107Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:17.107Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:17.184Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:17.297Z appoptics:patching patched crypto 
2022-04-21T16:17:17.315Z appoptics:patching patched https 
2022-04-21T16:17:17.315Z appoptics:patching patched http 
2022-04-21T16:17:17.362Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:17.362Z appoptics:patching patched fs 
2022-04-21T16:17:17.375Z appoptics:patching patched mongodb-core 2.0.7 (disabled: node v18.0.0)
2022-04-21T16:17:17.380Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.7
    2.4
      databases
2022-04-21T16:17:17.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b1dcd6094bf9cf5399d7ba994d5dc0e0161e352-e045ac2f839e67d7-01 outer:exit 2b-7b1dcd6094bf9cf5399d7ba994d5dc0e0161e352-de42189649128a34-01
2022-04-21T16:17:17.421Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:17.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7bc34295872f280ce186607001d7ee437b0aadd-d6d23a6dbf051dee-01 outer:exit 2b-e7bc34295872f280ce186607001d7ee437b0aadd-8ebd1fd05d437bfb-01
2022-04-21T16:17:17.461Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:17.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-b234b984a06fe0fee9b6be24c6ec46fe14738469-b6c8979b97027dc6-01 outer:exit 2b-b234b984a06fe0fee9b6be24c6ec46fe14738469-4a8981c5396a4b60-01
2022-04-21T16:17:17.464Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:17.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-186380d481414645fa6b4d6f542d55b3fc722352-80f396569aa24706-01 outer:exit 2b-186380d481414645fa6b4d6f542d55b3fc722352-d03b9b5d81580083-01
2022-04-21T16:17:17.467Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:17.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ea7a0b5eb1368934568a18f3c84de9451a16217-93e746b540368ffe-01 outer:exit 2b-4ea7a0b5eb1368934568a18f3c84de9451a16217-597499e1435692dc-01
2022-04-21T16:17:17.471Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:17.474Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e31616359ebb3f98094084496d19eb9fed0d106-e0e46f937c4b8cf6-01 outer:exit 2b-8e31616359ebb3f98094084496d19eb9fed0d106-56c24ef18f07df67-01
2022-04-21T16:17:17.475Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:17.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-671dd759a6f364a7046b4f0a4081021df7b8dd0e-3d420d9276991058-01 outer:exit 2b-671dd759a6f364a7046b4f0a4081021df7b8dd0e-49a4171418277f08-01
2022-04-21T16:17:17.477Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:17.479Z appoptics:debug span.exit - no last event outer outer:entry 2b-20890642aa1a6565c00ba2ea3ec2e22c2c3e9265-6126e48e7c813197-01 outer:exit 2b-20890642aa1a6565c00ba2ea3ec2e22c2c3e9265-85443dc74d3847ec-01
2022-04-21T16:17:17.479Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:17.482Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa6ca22a8ba47d32373f8d8d40b01da9404a1719-12f332cf71150248-01 outer:exit 2b-fa6ca22a8ba47d32373f8d8d40b01da9404a1719-e4c5863ff0fba383-01
2022-04-21T16:17:17.482Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:17.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-b76961a095184c82e9c7218565780d9645fee33b-aca757c6f467628b-01 outer:exit 2b-b76961a095184c82e9c7218565780d9645fee33b-1ee8e462aa275a65-01
2022-04-21T16:17:17.485Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:17.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-d77e98a356c6ec0fcebaa13274569e12047f6b6d-d5b0795bcc220533-01 outer:exit 2b-d77e98a356c6ec0fcebaa13274569e12047f6b6d-323702bf98a9cd85-01
2022-04-21T16:17:17.490Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:17.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-62e7a9a3c77081214f7eb40a47a23c5a7572a17c-67f78fed860f3a59-01 outer:exit 2b-62e7a9a3c77081214f7eb40a47a23c5a7572a17c-b1933687589d08f9-01
2022-04-21T16:17:17.496Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:17.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bdbe0601cbefe4cbcc99d2c632388f60b779fc1-f1f130d2394bb187-01 outer:exit 2b-4bdbe0601cbefe4cbcc99d2c632388f60b779fc1-b8aa17866eb6d419-01
2022-04-21T16:17:17.510Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:17.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e9f58a503385ed0f6ffc269965854b4726e4156-df6a4a57e4693dc1-01 outer:exit 2b-4e9f58a503385ed0f6ffc269965854b4726e4156-ac940ad14b2296b4-01
2022-04-21T16:17:17.546Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:17.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-6da67fb73d341db1f8d56a5416aa0abc0bee4122-39fb5572c646e48f-01 outer:exit 2b-6da67fb73d341db1f8d56a5416aa0abc0bee4122-5f3ec4dc4260ccae-01
2022-04-21T16:17:17.549Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:17.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-c241be8286ad28f8cb4db13b9e176b877551a404-9f634ad8960d4bed-01 outer:exit 2b-c241be8286ad28f8cb4db13b9e176b877551a404-b3954a6d5831ae6f-01
2022-04-21T16:17:17.551Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:17.554Z appoptics:debug span.exit - no last event outer outer:entry 2b-59907b4182bf7975ceefe3ecb45ab6332f5b2838-31ce644968262c78-01 outer:exit 2b-59907b4182bf7975ceefe3ecb45ab6332f5b2838-b9393a4f6934ab85-01
2022-04-21T16:17:17.554Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:17.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-a86aaa3325871aa5954ed9ed1cf4d29caf0da866-4c31689e4fe2f56c-01 outer:exit 2b-a86aaa3325871aa5954ed9ed1cf4d29caf0da866-b9631b7a83480cff-01
2022-04-21T16:17:17.556Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:17.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bcb32686186b0ee6849440545755a15b7f9ce7d-83f8009442fd7faa-01 outer:exit 2b-6bcb32686186b0ee6849440545755a15b7f9ce7d-a43c96c54672241b-01
2022-04-21T16:17:17.558Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:17.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-89caf42eb1c4eb1cc99c5b072d8887b7e8b0b825-13092a482c782f43-01 outer:exit 2b-89caf42eb1c4eb1cc99c5b072d8887b7e8b0b825-96fef6a05332ff80-01
2022-04-21T16:17:17.560Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:17.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f713d262d57b22d12e69c7ed014347bae8e55cf-611605710c0fc13a-01 outer:exit 2b-6f713d262d57b22d12e69c7ed014347bae8e55cf-2e636b232c8d5d39-01
2022-04-21T16:17:17.562Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:17.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-a75243b5ca3cac22cba22b41f2cf6ee4458a7583-fd3d8201f71f3cac-01 outer:exit 2b-a75243b5ca3cac22cba22b41f2cf6ee4458a7583-93a257e82af0bcfb-01
2022-04-21T16:17:17.563Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:17.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-05ee5f8c3e07e420f47c94d67ce4edd0e7ee94ff-3cff14c2bc062598-01 outer:exit 2b-05ee5f8c3e07e420f47c94d67ce4edd0e7ee94ff-a400e6230a5af295-01
2022-04-21T16:17:17.566Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:17.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-071b8e14b3f790d7623ffd9163b080c88e0faa2e-b8d2dd578db7d56f-01 outer:exit 2b-071b8e14b3f790d7623ffd9163b080c88e0faa2e-8f1571f9e021ccbf-01
2022-04-21T16:17:17.569Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:17.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-d89538f483ecb7f606ba7a1c75ab887c44ce3da6-73698867536b3aee-01 outer:exit 2b-d89538f483ecb7f606ba7a1c75ab887c44ce3da6-23803482f6ebf927-01
2022-04-21T16:17:17.571Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:17.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb3a94403fffa8cdb6c1f51faa73209c0811d121-224b42720fc04797-01 outer:exit 2b-bb3a94403fffa8cdb6c1f51faa73209c0811d121-98e7c5828a791935-01
2022-04-21T16:17:17.573Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:17.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ad18a100fbd6ee023e4e8628000d5e21bdb9a6d-5f402108589432a4-01 outer:exit 2b-4ad18a100fbd6ee023e4e8628000d5e21bdb9a6d-e6f4733aa26c8d6a-01
2022-04-21T16:17:17.578Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:17.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa00d1ecae2e9be640e71c91526dcb353e4bacbd-4c3e070527b71bed-01 outer:exit 2b-fa00d1ecae2e9be640e71c91526dcb353e4bacbd-60299ab4673884e8-01
2022-04-21T16:17:17.582Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:17.589Z appoptics:debug span.exit - no last event outer outer:entry 2b-c99b45c5d0a40b38dfeb33057ee33099bd29da0c-8a9ae99b8b7a76d4-01 outer:exit 2b-c99b45c5d0a40b38dfeb33057ee33099bd29da0c-c5a2b0c6cdaef214-01
2022-04-21T16:17:17.589Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:17.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f413f1c23a339340d21470c0b2b23e38600a068-cdc3cddda6f7964a-01 outer:exit 2b-0f413f1c23a339340d21470c0b2b23e38600a068-c219c43a287e0631-01
2022-04-21T16:17:17.596Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:17.597Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb2b655677ab909b8bba63a0423de81999f6afcf-3944e8d7e936ba0d-01 outer:exit 2b-bb2b655677ab909b8bba63a0423de81999f6afcf-33d31122a3d71660-01
2022-04-21T16:17:17.597Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:17.600Z appoptics:debug span.exit - no last event outer outer:entry 2b-218ccd7d4c8035090cd767935d52ed4508c25697-3c0ade2b819f3b4e-01 outer:exit 2b-218ccd7d4c8035090cd767935d52ed4508c25697-328714e47d62c7f0-01
2022-04-21T16:17:17.600Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:17.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-68a858f6f891cbf3332393ae10ce118706bcaf10-6aca9d0c1b5a5225-01 outer:exit 2b-68a858f6f891cbf3332393ae10ce118706bcaf10-c0a6a7876cd3ea54-01
2022-04-21T16:17:17.605Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:17.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a92065f048117de7af5b4a714421e8fe70ed405-d328118ad9dd74e9-01 outer:exit 2b-3a92065f048117de7af5b4a714421e8fe70ed405-1b61b56406986588-01
2022-04-21T16:17:17.607Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:17.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-7cbc7e424f2ceb0c58f1dcaa41710f04a00eadde-2eb64336aee7be10-01 outer:exit 2b-7cbc7e424f2ceb0c58f1dcaa41710f04a00eadde-d6fd84984246ae2e-01
2022-04-21T16:17:17.609Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:17.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-bb127049d8b77f2b8b97e6469a70cf00f61d11b0-ce3d62bbc39802ed-01 outer:exit 2b-bb127049d8b77f2b8b97e6469a70cf00f61d11b0-3b2e6fe52b4e30fa-01
2022-04-21T16:17:17.611Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:17.612Z appoptics:debug span.exit - no last event outer outer:entry 2b-459ff846d64cb2c7842aa7d6b01ee0085eb4d76a-13ba3f8ffc2e7351-01 outer:exit 2b-459ff846d64cb2c7842aa7d6b01ee0085eb4d76a-51cdf3910d0f1790-01
2022-04-21T16:17:17.612Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:17.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c80a57ddccc4bd6b2125414d017dec377f8efa0-209131b37aa692fc-01 outer:exit 2b-4c80a57ddccc4bd6b2125414d017dec377f8efa0-c32fa17d97debea4-01
2022-04-21T16:17:17.614Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:17.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3f451261dfdcc279782d82405ac74fd252dcc81-68282bbf5191758e-01 outer:exit 2b-e3f451261dfdcc279782d82405ac74fd252dcc81-4f6d449d0fe74ea5-01
2022-04-21T16:17:17.622Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:17.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-189b7b1d4b798eda85b08ba7cc09f9ec9ed41153-49da8235c3a12a93-01 outer:exit 2b-189b7b1d4b798eda85b08ba7cc09f9ec9ed41153-97431c56bc5b99c1-01
2022-04-21T16:17:17.630Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:17.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-62018bb73ae4e9b7573894e41cc997cf847a7fb4-10392c3e7d5db3af-01 outer:exit 2b-62018bb73ae4e9b7573894e41cc997cf847a7fb4-b3e08c3d3e184c32-01
2022-04-21T16:17:17.632Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:17.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-b05b958571979660cd21e307b9ef9f1a13691ed9-62da11bc4044b487-01 outer:exit 2b-b05b958571979660cd21e307b9ef9f1a13691ed9-19aa17b3fe031115-01
2022-04-21T16:17:17.634Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:17.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-894dd0d71b99f56e8f56c4e68e923caacf3a4a63-980c124b1ae01cc7-01 outer:exit 2b-894dd0d71b99f56e8f56c4e68e923caacf3a4a63-4f2dec504f6dcf62-01
2022-04-21T16:17:17.636Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:17.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-54d3a30b633bfc3f8dd9f43b56efbee4846f3421-dfe9b56be000a0c7-01 outer:exit 2b-54d3a30b633bfc3f8dd9f43b56efbee4846f3421-4adcae7331deaf68-01
2022-04-21T16:17:17.662Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (277ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:23.765Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:23.766Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:23.766Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:23.767Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:23.823Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:23.931Z appoptics:patching patched crypto 
2022-04-21T16:17:23.949Z appoptics:patching patched https 
2022-04-21T16:17:23.949Z appoptics:patching patched http 
2022-04-21T16:17:24.000Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:24.000Z appoptics:patching patched fs 
2022-04-21T16:17:24.013Z appoptics:patching patched mongodb-core 2.0.8 (disabled: node v18.0.0)
2022-04-21T16:17:24.019Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.8
    2.4
      databases
2022-04-21T16:17:24.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c0ac1d5f952bd2023b2640a57cc3b11b73e9067-e43d40a408ec85e2-01 outer:exit 2b-9c0ac1d5f952bd2023b2640a57cc3b11b73e9067-faca3b0cc72b8b3d-01
2022-04-21T16:17:24.060Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:24.100Z appoptics:debug span.exit - no last event outer outer:entry 2b-d47b6beabaaa8cbd18d41ddca884eef550efe56b-a31e46f2a126c3c3-01 outer:exit 2b-d47b6beabaaa8cbd18d41ddca884eef550efe56b-7c13439cc2d53503-01
2022-04-21T16:17:24.100Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:24.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-c964705b2f7c3ffe66e72670e824e24dfe7d488a-727ffcdbc77bd451-01 outer:exit 2b-c964705b2f7c3ffe66e72670e824e24dfe7d488a-ee7ce7fb04029ee8-01
2022-04-21T16:17:24.103Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:24.106Z appoptics:debug span.exit - no last event outer outer:entry 2b-6759c7806bad7080dfd19eaeb067618cb6c64cb0-f9de2e865b0a5e96-01 outer:exit 2b-6759c7806bad7080dfd19eaeb067618cb6c64cb0-a1f7c7bc376f2501-01
2022-04-21T16:17:24.106Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:24.110Z appoptics:debug span.exit - no last event outer outer:entry 2b-17570f4c7037f54cfe12d7f968b77b2a017424f1-bb88ec28d211ed5d-01 outer:exit 2b-17570f4c7037f54cfe12d7f968b77b2a017424f1-50ded7cfcdd042f2-01
2022-04-21T16:17:24.110Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:24.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f1a7a7d919f1a29c44bdd17ff59546dc6ab18ce-6380bee2b4e55b5c-01 outer:exit 2b-0f1a7a7d919f1a29c44bdd17ff59546dc6ab18ce-b5b36590c3a14187-01
2022-04-21T16:17:24.113Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:24.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-028f2b8a1acc663b0519b585bf54a7e77be80632-08fce3e68baa30e8-01 outer:exit 2b-028f2b8a1acc663b0519b585bf54a7e77be80632-292c7dae9849fb31-01
2022-04-21T16:17:24.116Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:24.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-d13eb65f18b11188e725640c46c250655b47fdad-a80e5a6aa29a0d6b-01 outer:exit 2b-d13eb65f18b11188e725640c46c250655b47fdad-fd48287b433a0428-01
2022-04-21T16:17:24.118Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:24.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4b2c88fae858d28b7c584eb88224b56c87372d-41d7c6b63df9c33a-01 outer:exit 2b-5d4b2c88fae858d28b7c584eb88224b56c87372d-153741b1e582aef8-01
2022-04-21T16:17:24.120Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:24.123Z appoptics:debug span.exit - no last event outer outer:entry 2b-a46b78e50f5507aaffd8f653c7cc679d43cdf681-e6b8127fb4876e23-01 outer:exit 2b-a46b78e50f5507aaffd8f653c7cc679d43cdf681-58fdfaaeb3d7c40f-01
2022-04-21T16:17:24.123Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:24.127Z appoptics:debug span.exit - no last event outer outer:entry 2b-a515312c91dac3c5d0e74d3a7380fdc5a87e3e8d-b1eb8e2044da69ed-01 outer:exit 2b-a515312c91dac3c5d0e74d3a7380fdc5a87e3e8d-0fa7ea3384f3cac1-01
2022-04-21T16:17:24.127Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:24.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-539eb7f5f9def002b95554f336a9ff8910713f95-092998c8854d5f71-01 outer:exit 2b-539eb7f5f9def002b95554f336a9ff8910713f95-0f312e78938dd8fa-01
2022-04-21T16:17:24.133Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:24.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-55c67af80fd6119a1a507bcb6669d6103372aa95-80b811761b43da9b-01 outer:exit 2b-55c67af80fd6119a1a507bcb6669d6103372aa95-77cb8573c715635c-01
2022-04-21T16:17:24.148Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:24.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-248c480eb912826da8470f1d271bdbd11446635f-15b79165198465ab-01 outer:exit 2b-248c480eb912826da8470f1d271bdbd11446635f-865d3426713f9b9f-01
2022-04-21T16:17:24.186Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:24.188Z appoptics:debug span.exit - no last event outer outer:entry 2b-a55b90d747703d92f1974f737bc07fce003e2d56-d1fe33fb277ca7fc-01 outer:exit 2b-a55b90d747703d92f1974f737bc07fce003e2d56-5cac2ba8a9da9a73-01
2022-04-21T16:17:24.189Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:24.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ab05622b430ab68d660279bba8bd87589b3184c-eb1d9a945db1df98-01 outer:exit 2b-8ab05622b430ab68d660279bba8bd87589b3184c-b077fbf1117d7afc-01
2022-04-21T16:17:24.191Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:24.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-78fd861113bc37688ed1a80d9a82bb12fc070ed7-d0b303ee4a3ac29d-01 outer:exit 2b-78fd861113bc37688ed1a80d9a82bb12fc070ed7-5d73774ae4027289-01
2022-04-21T16:17:24.193Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:24.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c762cb6c220cd3cf891a444f42e32f5654d0435-64671b244cca6c9c-01 outer:exit 2b-4c762cb6c220cd3cf891a444f42e32f5654d0435-a052ed27cf859573-01
2022-04-21T16:17:24.195Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:24.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac1188034b6d4f1f26068a44e4c2be269d3bdcec-ef09beccba5e3bd2-01 outer:exit 2b-ac1188034b6d4f1f26068a44e4c2be269d3bdcec-f7de7b43e06e210a-01
2022-04-21T16:17:24.197Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:24.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-95b69abaffcf6813590a96ee82fed4b7d01720e6-3bcef51c2f852ffa-01 outer:exit 2b-95b69abaffcf6813590a96ee82fed4b7d01720e6-bd57d17f7aa77e32-01
2022-04-21T16:17:24.199Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:24.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-96e9046736aec248d91d48a48d254571f6d8670f-c12d90d9b0067f07-01 outer:exit 2b-96e9046736aec248d91d48a48d254571f6d8670f-c2147ec26d6b9b43-01
2022-04-21T16:17:24.201Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:24.203Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ebe4f435d52d94bb16f7e42f2b310732fb6f332-eec638678a6f3492-01 outer:exit 2b-5ebe4f435d52d94bb16f7e42f2b310732fb6f332-2d8b7d11040b2f10-01
2022-04-21T16:17:24.203Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:24.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fda95816710762809ccf050f52504047109c895-2e17257ad09fb789-01 outer:exit 2b-7fda95816710762809ccf050f52504047109c895-000f7e3beb942a53-01
2022-04-21T16:17:24.205Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:24.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-e16ed8ada14307e102a1029b4cf1ffefa03c24c6-2622db098f4521c5-01 outer:exit 2b-e16ed8ada14307e102a1029b4cf1ffefa03c24c6-ac683bd4249f5f26-01
2022-04-21T16:17:24.208Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:24.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-b19061d5d1e1d982f038baf9a49fbc51265ccdf6-3cfe2aff8b7203a0-01 outer:exit 2b-b19061d5d1e1d982f038baf9a49fbc51265ccdf6-a836e4ee434ea088-01
2022-04-21T16:17:24.210Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:24.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-77c4439283a608f94683c2fd3547fd42617fea04-fc9de96914f83035-01 outer:exit 2b-77c4439283a608f94683c2fd3547fd42617fea04-c20ef26e19f7afdd-01
2022-04-21T16:17:24.212Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:24.218Z appoptics:debug span.exit - no last event outer outer:entry 2b-f590b47a523ea62bd5ec78a9080f4403b3fac220-94544072a0cad1ca-01 outer:exit 2b-f590b47a523ea62bd5ec78a9080f4403b3fac220-fcad651f986c4cb8-01
2022-04-21T16:17:24.218Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:24.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-55958ac3dc1981aa2ec8bf2a91599e396a2188a2-fc5cb3257c9dc5e7-01 outer:exit 2b-55958ac3dc1981aa2ec8bf2a91599e396a2188a2-ddea17034ed40eb8-01
2022-04-21T16:17:24.221Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:24.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-f34e2a385ad375d671f348147cd40b7926e21b26-0ec114c3afed993e-01 outer:exit 2b-f34e2a385ad375d671f348147cd40b7926e21b26-406db8fc34071c51-01
2022-04-21T16:17:24.230Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:24.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f431794195e544c5209ca77dd08029aba4e7286-fd3425686ab7b5af-01 outer:exit 2b-1f431794195e544c5209ca77dd08029aba4e7286-dc8fcda55f97c24c-01
2022-04-21T16:17:24.235Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:24.237Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9f05ddc8afa941149d43d9b78c74f9b140f6ad5-521d8a5440bcf9f9-01 outer:exit 2b-c9f05ddc8afa941149d43d9b78c74f9b140f6ad5-339e97c075d5b5e4-01
2022-04-21T16:17:24.237Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:24.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e38d38e7094ad31f76f9188bcc1c4cd2995d265-3c51bbf2d7235d4c-01 outer:exit 2b-0e38d38e7094ad31f76f9188bcc1c4cd2995d265-a2b8f1cfacd26fb4-01
2022-04-21T16:17:24.240Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:24.245Z appoptics:debug span.exit - no last event outer outer:entry 2b-19b61f29143c8fd908b7723cd5ae67228bef5148-b316df351261a2da-01 outer:exit 2b-19b61f29143c8fd908b7723cd5ae67228bef5148-f42fdce73673ba5e-01
2022-04-21T16:17:24.246Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:24.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f7c57011b8f38f087c6a97eb011c4417ece66ab-556f6cf8b7b8e7df-01 outer:exit 2b-6f7c57011b8f38f087c6a97eb011c4417ece66ab-c9d4cfe7d95c7364-01
2022-04-21T16:17:24.248Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:24.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-9747907ec23fe1b98414f3ad4f6a2041bfcafa96-598c0ecc01a0427b-01 outer:exit 2b-9747907ec23fe1b98414f3ad4f6a2041bfcafa96-1143bb98d6e574c1-01
2022-04-21T16:17:24.249Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:24.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1031db1cb1a1e50234700a08b467e4560e26012-dd16654564005a98-01 outer:exit 2b-b1031db1cb1a1e50234700a08b467e4560e26012-92b2511d69aca6da-01
2022-04-21T16:17:24.251Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:24.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-5027a236d657dc451fac8bca9d975037cd78c4d2-064d845384ca287c-01 outer:exit 2b-5027a236d657dc451fac8bca9d975037cd78c4d2-58f386de6d14f5f0-01
2022-04-21T16:17:24.253Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:24.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb55b024e852dd369808dab28302bab2e9b0ecf4-4c46e4ccd4050dc6-01 outer:exit 2b-cb55b024e852dd369808dab28302bab2e9b0ecf4-c563d4f9a66f21a4-01
2022-04-21T16:17:24.254Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:24.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c33260c10040dc38af4ded02643fd11d83b2c2b-988bfc6780488eee-01 outer:exit 2b-7c33260c10040dc38af4ded02643fd11d83b2c2b-fc2a273b385b719b-01
2022-04-21T16:17:24.262Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:24.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d34ec01c54215c4074b218dde6afddaa8e5e5ba-799d29b70dfb74bd-01 outer:exit 2b-8d34ec01c54215c4074b218dde6afddaa8e5e5ba-bcc6a5b50da16124-01
2022-04-21T16:17:24.269Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:24.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-b289769a17a97438b2b08d011d5d739d317b5569-3fe9eb4a09c20d0f-01 outer:exit 2b-b289769a17a97438b2b08d011d5d739d317b5569-e2110e21c34f2c80-01
2022-04-21T16:17:24.272Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:24.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b1df6f553a2a4ad2969950e76fe475f4133aa74-d2f1686a0d587157-01 outer:exit 2b-7b1df6f553a2a4ad2969950e76fe475f4133aa74-3f30a268d1d472e5-01
2022-04-21T16:17:24.275Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:24.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5b0a64fc4a59b08e8a5198736a90a9f76655d7b-2e5e64d80e79a5ea-01 outer:exit 2b-d5b0a64fc4a59b08e8a5198736a90a9f76655d7b-9ff26f81eaaf16ed-01
2022-04-21T16:17:24.277Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:24.303Z appoptics:debug span.exit - no last event outer outer:entry 2b-72d8c55ae134fe7bcc3bdce07053fd800c60e5fa-db5dac6e41030b61-01 outer:exit 2b-72d8c55ae134fe7bcc3bdce07053fd800c60e5fa-d8af466a9712ce64-01
2022-04-21T16:17:24.303Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (279ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:30.281Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:30.281Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:30.281Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:30.282Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:30.344Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:30.453Z appoptics:patching patched crypto 
2022-04-21T16:17:30.470Z appoptics:patching patched https 
2022-04-21T16:17:30.470Z appoptics:patching patched http 
2022-04-21T16:17:30.517Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:30.517Z appoptics:patching patched fs 
2022-04-21T16:17:30.530Z appoptics:patching patched mongodb-core 2.0.9 (disabled: node v18.0.0)
2022-04-21T16:17:30.535Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.9
    2.4
      databases
2022-04-21T16:17:30.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-3beb7ff30f32b3300e2fd9f5c08ed26e1ce163f1-f5d62d8bc95bbf05-01 outer:exit 2b-3beb7ff30f32b3300e2fd9f5c08ed26e1ce163f1-ec963eb80552c269-01
2022-04-21T16:17:30.582Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:30.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-90ee0db093ac82457e9a734036cedbfdf1a5f169-92826152d1304994-01 outer:exit 2b-90ee0db093ac82457e9a734036cedbfdf1a5f169-23c32951e1ac6f83-01
2022-04-21T16:17:30.624Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:30.627Z appoptics:debug span.exit - no last event outer outer:entry 2b-eeaadd4fc38630a9e4996b8b0001f0f12f212254-3d49a07c6719ed58-01 outer:exit 2b-eeaadd4fc38630a9e4996b8b0001f0f12f212254-7c912eb2d416e61c-01
2022-04-21T16:17:30.627Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:30.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b149ac92e1520b6eb3d936be568422fa860b990-d09c22fbbc5af760-01 outer:exit 2b-4b149ac92e1520b6eb3d936be568422fa860b990-c93a1286a4e3b96d-01
2022-04-21T16:17:30.630Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:30.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-008f8f147867a3dc9eae78210563922c0e585101-ccb77062c8ef04b9-01 outer:exit 2b-008f8f147867a3dc9eae78210563922c0e585101-673ce82fa01d9ecd-01
2022-04-21T16:17:30.635Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:30.637Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffbd682dd9546b56f26d3809fbab058e5d509da8-3a741251b925e160-01 outer:exit 2b-ffbd682dd9546b56f26d3809fbab058e5d509da8-0e43eebdf95db85d-01
2022-04-21T16:17:30.637Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:30.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dd8607a96f0c72213da59aefc10dccc0fb29dc2-324a62715ed8951c-01 outer:exit 2b-3dd8607a96f0c72213da59aefc10dccc0fb29dc2-c0b57b223381e71b-01
2022-04-21T16:17:30.640Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:30.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe61c468cdf83c2cdf5cf8216fda51775268e709-f1717c868689f09b-01 outer:exit 2b-fe61c468cdf83c2cdf5cf8216fda51775268e709-33eae5dc24caf8eb-01
2022-04-21T16:17:30.642Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:30.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3ee683265e6efd334da8d913f72611d1cbd9c42-33faf5e91df1a2cf-01 outer:exit 2b-b3ee683265e6efd334da8d913f72611d1cbd9c42-e7ef4157fe0df7df-01
2022-04-21T16:17:30.645Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:30.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b6e4049b8cfb1599d8c5bd9dd02995dd4a14e30-e9ca918b78890b70-01 outer:exit 2b-1b6e4049b8cfb1599d8c5bd9dd02995dd4a14e30-e9c5758ef9f76482-01
2022-04-21T16:17:30.647Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:30.651Z appoptics:debug span.exit - no last event outer outer:entry 2b-5617a44d6ee3fb7a643579bca20d1127c794c12b-80152ab20df60688-01 outer:exit 2b-5617a44d6ee3fb7a643579bca20d1127c794c12b-d50c38a50e1e4ef2-01
2022-04-21T16:17:30.651Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:30.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa0e0881a2b9852085d91dd83d56be4ad6c97d8e-3c3eb6bd75e7f30f-01 outer:exit 2b-aa0e0881a2b9852085d91dd83d56be4ad6c97d8e-beab5177410490a7-01
2022-04-21T16:17:30.657Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:30.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-df25493dc0532fab1c2c7f6874e8de330202ff40-1c8c9cfbb70ddc1d-01 outer:exit 2b-df25493dc0532fab1c2c7f6874e8de330202ff40-baab6a092b73b836-01
2022-04-21T16:17:30.674Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:30.710Z appoptics:debug span.exit - no last event outer outer:entry 2b-b40ca69e2c1b387e2f805b11095fbda540e144c8-97659c1ea1e7a1a1-01 outer:exit 2b-b40ca69e2c1b387e2f805b11095fbda540e144c8-a30084a8c39731c3-01
2022-04-21T16:17:30.710Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:30.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-15fc8d73fcf8fc44de93ddd73f259c46cb5cd762-7c5b290afef6ad2e-01 outer:exit 2b-15fc8d73fcf8fc44de93ddd73f259c46cb5cd762-867c49ec9533930d-01
2022-04-21T16:17:30.713Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:30.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aa23f51ae4fbbd3f72a80b9c761f04b220b60f9-38b38360d9b8c07a-01 outer:exit 2b-9aa23f51ae4fbbd3f72a80b9c761f04b220b60f9-425ba1f3c4a040a6-01
2022-04-21T16:17:30.715Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:30.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-d5ff9c9e1a1bcc9619124f8a1c10af016841f8fb-217b4626e0b2e799-01 outer:exit 2b-d5ff9c9e1a1bcc9619124f8a1c10af016841f8fb-3060e53ed0436c48-01
2022-04-21T16:17:30.718Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:30.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-81504dc382dff745b007717df8adfc460910c812-a23a4354abcb54e4-01 outer:exit 2b-81504dc382dff745b007717df8adfc460910c812-79e586a004d1b3e2-01
2022-04-21T16:17:30.720Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:30.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-73a8f014a098c9c08144a0ee7d1ffc5006dd9b49-849bdadc3e3041db-01 outer:exit 2b-73a8f014a098c9c08144a0ee7d1ffc5006dd9b49-d4777aacf713ce3b-01
2022-04-21T16:17:30.722Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:30.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-c391648350d077a71bd76fea7a37f1a840ac10f2-e2cf93b7fd9da89f-01 outer:exit 2b-c391648350d077a71bd76fea7a37f1a840ac10f2-6690f6a184976269-01
2022-04-21T16:17:30.724Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:30.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e5a7abc959d78a0b09cd538672dbfeeb169755e-875bdbf070ff9f79-01 outer:exit 2b-3e5a7abc959d78a0b09cd538672dbfeeb169755e-29d19bb8f6920c11-01
2022-04-21T16:17:30.725Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:30.727Z appoptics:debug span.exit - no last event outer outer:entry 2b-6907371e691be31ebb9a3211d84c2b36fc8c1a37-6e28d3325b371036-01 outer:exit 2b-6907371e691be31ebb9a3211d84c2b36fc8c1a37-a29cb3ea38e1d549-01
2022-04-21T16:17:30.727Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:30.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad8d3793f302f648acc6f3f3c83731c681d6b015-d6c961bf4fe7beaf-01 outer:exit 2b-ad8d3793f302f648acc6f3f3c83731c681d6b015-9cfe00468802212c-01
2022-04-21T16:17:30.730Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:30.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-e60bfb4c51c71eb111682f1fd78e3cfea4829b72-c9608e68a066483b-01 outer:exit 2b-e60bfb4c51c71eb111682f1fd78e3cfea4829b72-8947a05ee8d68bee-01
2022-04-21T16:17:30.733Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:30.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-166ed2f9754c5545736e4b5d0d64fe47421909db-168f33c107d13c7e-01 outer:exit 2b-166ed2f9754c5545736e4b5d0d64fe47421909db-aa8fe0e71d0fef38-01
2022-04-21T16:17:30.735Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:30.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-371e78e66d5f8944a29c26bb69ae54a8a49180dc-5d00bc9389f85de6-01 outer:exit 2b-371e78e66d5f8944a29c26bb69ae54a8a49180dc-f2159bbb14a93cbb-01
2022-04-21T16:17:30.737Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:30.743Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0499f3ab97d7cb19f0740350ccb77fac794c06e-3cb7ecc30e06c934-01 outer:exit 2b-d0499f3ab97d7cb19f0740350ccb77fac794c06e-86c6a26e477bc01a-01
2022-04-21T16:17:30.743Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:30.746Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec60af02d8090ba7008bba7407f92e7f796661bb-c9834141cf6ab0ee-01 outer:exit 2b-ec60af02d8090ba7008bba7407f92e7f796661bb-5b0ef1820442cc45-01
2022-04-21T16:17:30.746Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:30.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc1cb2d48b52a512f9169bfbfcd8fad811d73fa5-c7ad623ae300d43b-01 outer:exit 2b-cc1cb2d48b52a512f9169bfbfcd8fad811d73fa5-1f2b6b1ee556c84c-01
2022-04-21T16:17:30.755Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:30.760Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f35654be59864863b4a63fc1b1854cb746e7ae5-bc1aab382fe2ccca-01 outer:exit 2b-3f35654be59864863b4a63fc1b1854cb746e7ae5-78bb85fe98bd4cd2-01
2022-04-21T16:17:30.760Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:30.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff13593737a0d27a5c252dbfdb4f368fc16385ce-66c597df2e1ff250-01 outer:exit 2b-ff13593737a0d27a5c252dbfdb4f368fc16385ce-0dec29883eab8c9a-01
2022-04-21T16:17:30.762Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:30.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ccda3aad0b3739287b915c454d2fcf74487b621-a50f31613b04bf96-01 outer:exit 2b-0ccda3aad0b3739287b915c454d2fcf74487b621-b5b9f62882ec56e2-01
2022-04-21T16:17:30.765Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:30.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-04231d50e160bdea53d70995f535fafb8178651e-a715ad567bbd1c4a-01 outer:exit 2b-04231d50e160bdea53d70995f535fafb8178651e-94cd2189a1fb985e-01
2022-04-21T16:17:30.770Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:30.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f1050c8b9a25223693033ea5c97c8d093910183-8f11c363915ed454-01 outer:exit 2b-5f1050c8b9a25223693033ea5c97c8d093910183-97a796c76848c51f-01
2022-04-21T16:17:30.772Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:30.774Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a7d732dd49dc303aa798d77f53176e9b14136a8-a6c9eb791ddc1894-01 outer:exit 2b-3a7d732dd49dc303aa798d77f53176e9b14136a8-4314fedd3432203a-01
2022-04-21T16:17:30.774Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:30.775Z appoptics:debug span.exit - no last event outer outer:entry 2b-7201266655f4edcf32eff3cfe5f586daa3382d83-fa7d3cfe1e64a591-01 outer:exit 2b-7201266655f4edcf32eff3cfe5f586daa3382d83-3a497d507aca0983-01
2022-04-21T16:17:30.776Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:30.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-d391e7d71965f3f79164d336cfa130218731e2e4-fac5c20433694c54-01 outer:exit 2b-d391e7d71965f3f79164d336cfa130218731e2e4-35ee0fab4b474a01-01
2022-04-21T16:17:30.778Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:30.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b17cf8a78f40623fe0367744f0f7d8182090561-9cee9847237c133a-01 outer:exit 2b-9b17cf8a78f40623fe0367744f0f7d8182090561-c23f182572a794c2-01
2022-04-21T16:17:30.779Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:30.787Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f6d2afe2d22347cf008f20a46d198e95fddfe4e-e9be96eaea748972-01 outer:exit 2b-3f6d2afe2d22347cf008f20a46d198e95fddfe4e-8ae18458df2102d4-01
2022-04-21T16:17:30.787Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:30.797Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b9481ef6581b5a267e3ff787fc8f728a688bccc-de5624248aa37a62-01 outer:exit 2b-3b9481ef6581b5a267e3ff787fc8f728a688bccc-c0b883c85ab130b4-01
2022-04-21T16:17:30.797Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:30.802Z appoptics:debug span.exit - no last event outer outer:entry 2b-333295f6de0e05b4cb43f166633226c83de3c3dd-42a637b777ee66eb-01 outer:exit 2b-333295f6de0e05b4cb43f166633226c83de3c3dd-44a6adb9e3ab12d7-01
2022-04-21T16:17:30.802Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:30.807Z appoptics:debug span.exit - no last event outer outer:entry 2b-54dbcf494b2776a2f4e350427a488c3a38668351-f3750dcbc6033aff-01 outer:exit 2b-54dbcf494b2776a2f4e350427a488c3a38668351-e0bb882978bb53f5-01
2022-04-21T16:17:30.807Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:30.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-699522511f21be7451b479a9bf211d0bcd0a6585-f7ce91dfda4942b4-01 outer:exit 2b-699522511f21be7451b479a9bf211d0bcd0a6585-ebfa8f433f23fad4-01
2022-04-21T16:17:30.819Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:30.887Z appoptics:debug span.exit - no last event outer outer:entry 2b-eef4e44847def3f5bd841edab6b75e62d80dcc82-5b825248589c7f76-01 outer:exit 2b-eef4e44847def3f5bd841edab6b75e62d80dcc82-d29d550f0fbc824e-01
2022-04-21T16:17:30.887Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (347ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:36.831Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:36.831Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:36.831Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:36.832Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:36.907Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:37.029Z appoptics:patching patched crypto 
2022-04-21T16:17:37.068Z appoptics:patching patched https 
2022-04-21T16:17:37.069Z appoptics:patching patched http 
2022-04-21T16:17:37.116Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:37.116Z appoptics:patching patched fs 
2022-04-21T16:17:37.133Z appoptics:patching patched mongodb-core 2.0.10 (disabled: node v18.0.0)
2022-04-21T16:17:37.139Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.10
    2.4
      databases
2022-04-21T16:17:37.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-f25250864f01e5b197020b287e17cce0915f91d1-82f73f4044f034e0-01 outer:exit 2b-f25250864f01e5b197020b287e17cce0915f91d1-e213ac76b4da1a08-01
2022-04-21T16:17:37.206Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:37.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1f868bf613d977bbb6fceb5ba179e79080a037f-f82c0b1287b5f21f-01 outer:exit 2b-b1f868bf613d977bbb6fceb5ba179e79080a037f-c7deb834c878c8ba-01
2022-04-21T16:17:37.259Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:37.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-49be51e1109e04493d1cc4fdb297c59f5cf0fbb8-569d2da9bc672349-01 outer:exit 2b-49be51e1109e04493d1cc4fdb297c59f5cf0fbb8-b44c299373633dac-01
2022-04-21T16:17:37.264Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:37.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-016dd9fce744e708d2f8406613717b504944a354-38f6b18a542929e3-01 outer:exit 2b-016dd9fce744e708d2f8406613717b504944a354-6195946cd114c7c0-01
2022-04-21T16:17:37.272Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:37.280Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d48c9b213122e20da67af37186fa05cb7a6df38-6e05f06f5f037889-01 outer:exit 2b-5d48c9b213122e20da67af37186fa05cb7a6df38-053380a420172266-01
2022-04-21T16:17:37.280Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:37.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-73dccd8b11d6e8cbbf6c51121b4a4ec1e96dde0c-5ae60384e94b4005-01 outer:exit 2b-73dccd8b11d6e8cbbf6c51121b4a4ec1e96dde0c-44ab888c808a4e23-01
2022-04-21T16:17:37.288Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:37.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-838de7b668f992399972205bc2cc9ff4bc072b64-5b66e8c6e43e8bcc-01 outer:exit 2b-838de7b668f992399972205bc2cc9ff4bc072b64-88b5a6ce33a0a87d-01
2022-04-21T16:17:37.292Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:37.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cb3d7ee726da731deb2df7147cf6e923c8d3fa7-9934b37c8fc69f90-01 outer:exit 2b-8cb3d7ee726da731deb2df7147cf6e923c8d3fa7-56df08b9f1d3e208-01
2022-04-21T16:17:37.295Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:37.297Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c82bf88448bdca0220c1305f0da2577eaecc82c-173a3fab5824f176-01 outer:exit 2b-4c82bf88448bdca0220c1305f0da2577eaecc82c-bfacabddafa9bb5a-01
2022-04-21T16:17:37.297Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:37.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f35f30a69e13ee3c5ebe356d82c6d98dde0b2e3-4e7c0eec9d619e41-01 outer:exit 2b-0f35f30a69e13ee3c5ebe356d82c6d98dde0b2e3-ed4f5e2708ab0269-01
2022-04-21T16:17:37.300Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:37.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-911b6895f0dbef0d8ca7fe4094a2e1ce729bc6a9-88459b6b91ae5ced-01 outer:exit 2b-911b6895f0dbef0d8ca7fe4094a2e1ce729bc6a9-3a4a513262c756ff-01
2022-04-21T16:17:37.304Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:37.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-832184749353bf8e5c7e0beefa5c954944426bc7-6fb223ad78e9e510-01 outer:exit 2b-832184749353bf8e5c7e0beefa5c954944426bc7-bd83a5abe5bc8938-01
2022-04-21T16:17:37.310Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:37.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-5fbbe441ce9c4f69f466bc611e5f2fd773130dcb-1c091841d351bf50-01 outer:exit 2b-5fbbe441ce9c4f69f466bc611e5f2fd773130dcb-8829763d3cceaf73-01
2022-04-21T16:17:37.336Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:37.403Z appoptics:debug span.exit - no last event outer outer:entry 2b-fd2a35d24dfd5ca919cb174c23e93b10448b8f1e-66fc9512e3af6e6c-01 outer:exit 2b-fd2a35d24dfd5ca919cb174c23e93b10448b8f1e-ba5c84c57ca935cb-01
2022-04-21T16:17:37.403Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:37.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-508a1b3494d9dc0a1054b91267ad0909f0879eb6-b04c1f634ebb9f7e-01 outer:exit 2b-508a1b3494d9dc0a1054b91267ad0909f0879eb6-f4e8bdf116bd18d0-01
2022-04-21T16:17:37.406Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:37.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-b32f02d8713bb5b22075818d0265d8ec33e54e3b-7e70f705d69e0511-01 outer:exit 2b-b32f02d8713bb5b22075818d0265d8ec33e54e3b-e43ebb9496710201-01
2022-04-21T16:17:37.411Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:37.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4694acda5983de784f51a5b806433bde90f2b3f-77aa553014cb3c6c-01 outer:exit 2b-d4694acda5983de784f51a5b806433bde90f2b3f-930c38996525f361-01
2022-04-21T16:17:37.414Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:37.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e191707eba4f73c022863dd5d3989f8a974272e-47c61fe0245aec09-01 outer:exit 2b-2e191707eba4f73c022863dd5d3989f8a974272e-524c7515217bd603-01
2022-04-21T16:17:37.416Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:37.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-132abda68e32b0ac1db9864cd46eeac976d74d7c-b9aa9b2a41334163-01 outer:exit 2b-132abda68e32b0ac1db9864cd46eeac976d74d7c-add6c2ec7e2e0584-01
2022-04-21T16:17:37.419Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:37.421Z appoptics:debug span.exit - no last event outer outer:entry 2b-a59c989172c6732f56bb29798f7c182c12a271ef-9ea56d0ad7a7af5d-01 outer:exit 2b-a59c989172c6732f56bb29798f7c182c12a271ef-c5742be31cd4c55e-01
2022-04-21T16:17:37.421Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:37.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-935dee7d381fcc381bae102bc338bdfe3b7f0ee9-66fb5784c55a0e45-01 outer:exit 2b-935dee7d381fcc381bae102bc338bdfe3b7f0ee9-a1ca90d58e32d522-01
2022-04-21T16:17:37.424Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:37.427Z appoptics:debug span.exit - no last event outer outer:entry 2b-134d904f174993a05c096236b1045bbf23f8c5fa-1b0c31109f2720af-01 outer:exit 2b-134d904f174993a05c096236b1045bbf23f8c5fa-95d5f0d906c6f9e8-01
2022-04-21T16:17:37.427Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:37.431Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fad6b83da73d959a83d459f4f9a87c94b7be24c-7df2513bba55be0d-01 outer:exit 2b-9fad6b83da73d959a83d459f4f9a87c94b7be24c-2aecc41605974c88-01
2022-04-21T16:17:37.431Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:37.433Z appoptics:debug span.exit - no last event outer outer:entry 2b-51a19ae1ef0987df8d9ad5f2e760931180186bd3-8ad9b6b47f8ea02c-01 outer:exit 2b-51a19ae1ef0987df8d9ad5f2e760931180186bd3-8081b24907b939fe-01
2022-04-21T16:17:37.433Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:37.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdaed68e9ccb577823acf1c73b8f0d66232a3eed-eee6c794760c5b29-01 outer:exit 2b-cdaed68e9ccb577823acf1c73b8f0d66232a3eed-adfb6e27fdb32ba7-01
2022-04-21T16:17:37.438Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:37.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-44dfedef1b11e39e690468fffa186731ecbca878-79771b58975a7e87-01 outer:exit 2b-44dfedef1b11e39e690468fffa186731ecbca878-46fe2d0b747aa09c-01
2022-04-21T16:17:37.440Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:37.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-4362ed7e61aaaa83755c7d667cfd875d7ef48b16-2799db8b95400bd0-01 outer:exit 2b-4362ed7e61aaaa83755c7d667cfd875d7ef48b16-4706627fe79199a9-01
2022-04-21T16:17:37.446Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:37.453Z appoptics:debug span.exit - no last event outer outer:entry 2b-be2acdc3a7bf22106f488dd527be1906bfa8e792-a942fc80e9d0dedd-01 outer:exit 2b-be2acdc3a7bf22106f488dd527be1906bfa8e792-0e14c6b1d8752473-01
2022-04-21T16:17:37.453Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:37.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-5a01752ae5d9388cbefe2e0763e900ce494846c1-752e3de2f22688ec-01 outer:exit 2b-5a01752ae5d9388cbefe2e0763e900ce494846c1-697d82b4a7095a98-01
2022-04-21T16:17:37.460Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:37.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-3003850baee0884a3493029926f82b85f0667b27-9e13d1a3a6b197f9-01 outer:exit 2b-3003850baee0884a3493029926f82b85f0667b27-d9bbef029969d7ae-01
2022-04-21T16:17:37.467Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:37.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-e10e8dd7c3939f53c5ab7cb6e3e8804b4dc67301-93d912ceb05f7870-01 outer:exit 2b-e10e8dd7c3939f53c5ab7cb6e3e8804b4dc67301-225f6df33eb8dac9-01
2022-04-21T16:17:37.471Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:37.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-df076ead4562d780171d7a6e66eee061252e706b-65ec021b77e90fd0-01 outer:exit 2b-df076ead4562d780171d7a6e66eee061252e706b-bb1c6236c08afa09-01
2022-04-21T16:17:37.475Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:37.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-4aac9152ed8daf4dde5036d71517ae2e277a629e-10a3e1fc027ec55d-01 outer:exit 2b-4aac9152ed8daf4dde5036d71517ae2e277a629e-a75601769b94a8f3-01
2022-04-21T16:17:37.485Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:37.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e2cb50b90e034011cb88a689398b29df350b2ba-f65962c9e02faf3a-01 outer:exit 2b-0e2cb50b90e034011cb88a689398b29df350b2ba-b5e86f0eee02952d-01
2022-04-21T16:17:37.488Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:37.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b89dba544f3d9b704c480c95dc12bed76be6a83-77d4ce94632259a6-01 outer:exit 2b-4b89dba544f3d9b704c480c95dc12bed76be6a83-20721d59ba176f58-01
2022-04-21T16:17:37.497Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:37.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-3019f59a1a9ecdd17e95e458e9f3d7d222af50c8-3c7a575cbdefe3a5-01 outer:exit 2b-3019f59a1a9ecdd17e95e458e9f3d7d222af50c8-d5bdee0affcc39b1-01
2022-04-21T16:17:37.500Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:37.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-65a7e5cf73af7d5841413f69f1335b88d5cc0d37-a6cd0ad8f4b927f1-01 outer:exit 2b-65a7e5cf73af7d5841413f69f1335b88d5cc0d37-ec26a321d7b74b01-01
2022-04-21T16:17:37.501Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:37.503Z appoptics:debug span.exit - no last event outer outer:entry 2b-43b00b5dcfe37f9da7e835537e94177ee90a27d2-b76c124ea10f7c4c-01 outer:exit 2b-43b00b5dcfe37f9da7e835537e94177ee90a27d2-53598ecdc1bf80b3-01
2022-04-21T16:17:37.503Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:37.514Z appoptics:debug span.exit - no last event outer outer:entry 2b-addf8d2282e8c700f7c9d84a6ecf101599dcca68-f18b0c031ae38da9-01 outer:exit 2b-addf8d2282e8c700f7c9d84a6ecf101599dcca68-69e43cab7c19cac3-01
2022-04-21T16:17:37.514Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:37.522Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3e45ac0c67ae5ba27dabebc7a12c2ebb3bcdfa1-51c9851b4fadf5cd-01 outer:exit 2b-e3e45ac0c67ae5ba27dabebc7a12c2ebb3bcdfa1-a86340df27e95e8e-01
2022-04-21T16:17:37.522Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:37.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a7ed1b9b65c88f2edd822c637d940a43b9b84e8-2e697dbed0490814-01 outer:exit 2b-0a7ed1b9b65c88f2edd822c637d940a43b9b84e8-820aa3a46ea06788-01
2022-04-21T16:17:37.525Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:37.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-e165fde1c6cee0db8eba38e4bc3f864fa51946ae-9b9574069ffbd746-01 outer:exit 2b-e165fde1c6cee0db8eba38e4bc3f864fa51946ae-187ecb550633cd4e-01
2022-04-21T16:17:37.527Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:37.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cc2dcaacd25c653b0a30ed989d81759bbca8844-c10c74f2e77618f1-01 outer:exit 2b-8cc2dcaacd25c653b0a30ed989d81759bbca8844-e110d1a86df8ed9e-01
2022-04-21T16:17:37.531Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:37.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc12eda59930ede0399a827d6226e10d787b78fd-e780299cb2241bee-01 outer:exit 2b-cc12eda59930ede0399a827d6226e10d787b78fd-a2e0c9e8a7bdcd34-01
2022-04-21T16:17:37.565Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (419ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:43.851Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:43.852Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:43.852Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:43.852Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:43.910Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:44.017Z appoptics:patching patched crypto 
2022-04-21T16:17:44.034Z appoptics:patching patched https 
2022-04-21T16:17:44.035Z appoptics:patching patched http 
2022-04-21T16:17:44.082Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:44.082Z appoptics:patching patched fs 
2022-04-21T16:17:44.095Z appoptics:patching patched mongodb-core 2.0.11 (disabled: node v18.0.0)
2022-04-21T16:17:44.100Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.11
    2.4
      databases
2022-04-21T16:17:44.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-e055357412eaae8df63d9ed97785e93565519f04-7f02d5fd5551a091-01 outer:exit 2b-e055357412eaae8df63d9ed97785e93565519f04-3723578420ab9a28-01
2022-04-21T16:17:44.142Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:44.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-a31218812ac2d681220f00cb671331a5f567079d-c2c12c23865c935f-01 outer:exit 2b-a31218812ac2d681220f00cb671331a5f567079d-e25a00444a6d2c5d-01
2022-04-21T16:17:44.184Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:44.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-2533ad6579d7e8bf5cd07fd27089b5bb95db57d2-1b4b5e7471a4b9e5-01 outer:exit 2b-2533ad6579d7e8bf5cd07fd27089b5bb95db57d2-b6273c8b8f603f7c-01
2022-04-21T16:17:44.187Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:44.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-7276ffe8144e6ddaf0bd46ab3ca1c8af7580907d-557b74f9899e1bd0-01 outer:exit 2b-7276ffe8144e6ddaf0bd46ab3ca1c8af7580907d-090d916714636118-01
2022-04-21T16:17:44.190Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:44.194Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdf46ed53e4072875d6bd272e397f519c1569229-bd168a5d604fae2d-01 outer:exit 2b-cdf46ed53e4072875d6bd272e397f519c1569229-a74247e065c3c1ac-01
2022-04-21T16:17:44.194Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:44.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-30106ad658d9cf0e66e56560d2ee87da4bcf5182-e3d1e6ecca418796-01 outer:exit 2b-30106ad658d9cf0e66e56560d2ee87da4bcf5182-fb1a62691c7960d8-01
2022-04-21T16:17:44.197Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:44.200Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdba69d41855dec075c0576599c1eef91c7ea9f1-81e9556a514dea8b-01 outer:exit 2b-fdba69d41855dec075c0576599c1eef91c7ea9f1-8aa05b75a49ada8a-01
2022-04-21T16:17:44.200Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:44.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-492d8011e25881e6c097e8c3eefa7eb8d16a5820-ee047ddab5131f5f-01 outer:exit 2b-492d8011e25881e6c097e8c3eefa7eb8d16a5820-ed67aa1a9e3582af-01
2022-04-21T16:17:44.202Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:44.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff60f7c07872bf2f7e32cdac76e13ba632ef19c2-b1622a60f217ce62-01 outer:exit 2b-ff60f7c07872bf2f7e32cdac76e13ba632ef19c2-c01a0e6b0528852b-01
2022-04-21T16:17:44.204Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:44.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-187f50e3fdde4e1c8c737a5ca0246ee4f15db89e-9b675bb16f6b7edd-01 outer:exit 2b-187f50e3fdde4e1c8c737a5ca0246ee4f15db89e-2b2970e5977a2ec2-01
2022-04-21T16:17:44.207Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:44.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-910030662997da2ea866d8a401d616cee0de0b90-8d9469b845ece6de-01 outer:exit 2b-910030662997da2ea866d8a401d616cee0de0b90-c0fcb1639c3bb7a1-01
2022-04-21T16:17:44.211Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:44.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-7ccd0e09a05c8bca807ce86b1bb51d89f4db2c5d-16e448d7c4d08538-01 outer:exit 2b-7ccd0e09a05c8bca807ce86b1bb51d89f4db2c5d-ef68c6e23635f653-01
2022-04-21T16:17:44.217Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:44.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-41fa94ab8ceada736d41e47c7c0b5db68e37326c-511951cd0dc8ae35-01 outer:exit 2b-41fa94ab8ceada736d41e47c7c0b5db68e37326c-33fbe2585fd8a847-01
2022-04-21T16:17:44.231Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:44.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4cd3e3ec94635cd817a1941965a0da02fd2de1-a2430a4b9ec1046e-01 outer:exit 2b-5d4cd3e3ec94635cd817a1941965a0da02fd2de1-fd49131f2319da87-01
2022-04-21T16:17:44.268Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:44.270Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f15e7a5448f1ce5e24b5228894a858d1d607854-43297733df89b4d8-01 outer:exit 2b-7f15e7a5448f1ce5e24b5228894a858d1d607854-2574893481ef4025-01
2022-04-21T16:17:44.270Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:44.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f0ac32fb2eadcc8f23e1ce31302ffbafea81304-a81ded78a0ee23cf-01 outer:exit 2b-7f0ac32fb2eadcc8f23e1ce31302ffbafea81304-1a27cd66fe93c4ef-01
2022-04-21T16:17:44.273Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:44.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-e73a83a064b0764717039e48707d7a080b461f11-b693fde1664ea8ce-01 outer:exit 2b-e73a83a064b0764717039e48707d7a080b461f11-41df2454efc426e2-01
2022-04-21T16:17:44.275Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:44.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-f41e43580ff84475598ede59f945e4dc24112dfa-6d640696a5fee6a4-01 outer:exit 2b-f41e43580ff84475598ede59f945e4dc24112dfa-0e962b0340f0e52f-01
2022-04-21T16:17:44.277Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:44.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-08f222a604e01af46e0cdd421850552a7d5c818d-7adca80b2228c176-01 outer:exit 2b-08f222a604e01af46e0cdd421850552a7d5c818d-30caa67840b40e15-01
2022-04-21T16:17:44.279Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:44.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-063c1f0e8f64b1a4dbe855fd114f74d19a89ce75-08942ccb34a1a118-01 outer:exit 2b-063c1f0e8f64b1a4dbe855fd114f74d19a89ce75-6558233ed7626e95-01
2022-04-21T16:17:44.281Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:44.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc94887a80ce8c5a51c34ca85acb74f05c85d861-9e165e9f2c11bec7-01 outer:exit 2b-dc94887a80ce8c5a51c34ca85acb74f05c85d861-0705c3e3ea982aec-01
2022-04-21T16:17:44.283Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:44.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-20c587a01993b156e0c5ecdddb072f2b8e1310f0-9d0ac2e97013ef4f-01 outer:exit 2b-20c587a01993b156e0c5ecdddb072f2b8e1310f0-ff83f2311408ebe7-01
2022-04-21T16:17:44.285Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:44.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-69af423f16cfe7d870a4187e6f7ae1f35f5550bc-afecf7799dfb6093-01 outer:exit 2b-69af423f16cfe7d870a4187e6f7ae1f35f5550bc-8f560f0490a61ad4-01
2022-04-21T16:17:44.287Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:44.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f0eb1016ffcb67b075cd97c284408a952d88514-101b45cb65198458-01 outer:exit 2b-3f0eb1016ffcb67b075cd97c284408a952d88514-d456bac07f0c6ac0-01
2022-04-21T16:17:44.290Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:44.292Z appoptics:debug span.exit - no last event outer outer:entry 2b-8ae3a5022530d51a16fbb9034f59724b3e5f9795-4c540bbc97bac0cc-01 outer:exit 2b-8ae3a5022530d51a16fbb9034f59724b3e5f9795-6ab021e4e65f98c6-01
2022-04-21T16:17:44.292Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:44.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7db483d7313ba0b7c5c45cc8a469a3e516d6db1-95bc876f99d20c69-01 outer:exit 2b-f7db483d7313ba0b7c5c45cc8a469a3e516d6db1-7bed094d6565382b-01
2022-04-21T16:17:44.294Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:44.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdc909f770dac85554a272befabf48839a59e183-840e88aac28c6190-01 outer:exit 2b-cdc909f770dac85554a272befabf48839a59e183-67cd59bf848f7018-01
2022-04-21T16:17:44.300Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:44.305Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d9dc0e00c2ae373aac6d1d98c8972e2b5c50304-4facf86ac7f34156-01 outer:exit 2b-4d9dc0e00c2ae373aac6d1d98c8972e2b5c50304-b8569729f26fb1cc-01
2022-04-21T16:17:44.305Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:44.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-f309a6d1959ba7294ac82b3d25081a24424cd5e2-522a4941ea1c6dfc-01 outer:exit 2b-f309a6d1959ba7294ac82b3d25081a24424cd5e2-084cf8e202bc21c6-01
2022-04-21T16:17:44.313Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:44.318Z appoptics:debug span.exit - no last event outer outer:entry 2b-35c6bf408b034df9dc9f49b01963fae8337a7e6c-577c34aad425067e-01 outer:exit 2b-35c6bf408b034df9dc9f49b01963fae8337a7e6c-0f2a50c4cac4b24d-01
2022-04-21T16:17:44.318Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:44.320Z appoptics:debug span.exit - no last event outer outer:entry 2b-e18c203d3c701bd0fb04e53ea182532bcc51b8d1-93b5ab2eb69319e3-01 outer:exit 2b-e18c203d3c701bd0fb04e53ea182532bcc51b8d1-3e33a19fd10cdde9-01
2022-04-21T16:17:44.320Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:44.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-b50e1e83a8aeab78a87fc6c4db1f39dc60bbef3d-a5fd3e52a907f12a-01 outer:exit 2b-b50e1e83a8aeab78a87fc6c4db1f39dc60bbef3d-9bbf5deb06be30b3-01
2022-04-21T16:17:44.323Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:44.329Z appoptics:debug span.exit - no last event outer outer:entry 2b-b24eb4dd2183d8cc66cbdb02337370337751fa25-8f4d0b672c6fa418-01 outer:exit 2b-b24eb4dd2183d8cc66cbdb02337370337751fa25-aca278721b999914-01
2022-04-21T16:17:44.329Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:44.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-e67dbc72d254440e8a563eede52b30aa151cea4d-6a91070b1aa5c4ba-01 outer:exit 2b-e67dbc72d254440e8a563eede52b30aa151cea4d-ebf527c73d564dca-01
2022-04-21T16:17:44.331Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:44.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cff8e199b89c10596bd82f5261efb3a788772da-df9cfe2a1b739185-01 outer:exit 2b-2cff8e199b89c10596bd82f5261efb3a788772da-b2c80a0a694ce71a-01
2022-04-21T16:17:44.332Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:44.334Z appoptics:debug span.exit - no last event outer outer:entry 2b-3742557bdd896d3c1a0ef7a1070a08957a2e8fd1-7d545dc54ad84945-01 outer:exit 2b-3742557bdd896d3c1a0ef7a1070a08957a2e8fd1-84d3ca69a98f9c0f-01
2022-04-21T16:17:44.334Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:44.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-056e880d047f43f135ce17969ca985695d13615c-967350d92919339d-01 outer:exit 2b-056e880d047f43f135ce17969ca985695d13615c-aa10d9870cfd0449-01
2022-04-21T16:17:44.336Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:44.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9661e813b307ec1d2f8fdb63fe77faa1e16b4b0-d21e064d36cca2f8-01 outer:exit 2b-a9661e813b307ec1d2f8fdb63fe77faa1e16b4b0-7478090c8b8db67b-01
2022-04-21T16:17:44.337Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:44.345Z appoptics:debug span.exit - no last event outer outer:entry 2b-7804bb6c5aed290a53371ff29f846f606e4e9b88-a693089254b547ac-01 outer:exit 2b-7804bb6c5aed290a53371ff29f846f606e4e9b88-b0d57343c60e8706-01
2022-04-21T16:17:44.345Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:44.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-6391c864371164e23caae5848aef8682468fb897-08d8adbb06bc8830-01 outer:exit 2b-6391c864371164e23caae5848aef8682468fb897-63c89cc8a40d2951-01
2022-04-21T16:17:44.352Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:44.354Z appoptics:debug span.exit - no last event outer outer:entry 2b-047d9308ce9b919864964d632f114b68b473eb1a-0904b26b3d48e144-01 outer:exit 2b-047d9308ce9b919864964d632f114b68b473eb1a-11b8439b335f3513-01
2022-04-21T16:17:44.354Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:44.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-8086391456cc0e3a1a8e204812d28a30533b602f-c0fd599b4b244d45-01 outer:exit 2b-8086391456cc0e3a1a8e204812d28a30533b602f-c158f29b7586ea2f-01
2022-04-21T16:17:44.357Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:44.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b4e6968d475431321a3f686902dacff6be77853-39adb0f3c678b9c2-01 outer:exit 2b-5b4e6968d475431321a3f686902dacff6be77853-b10b9198f0ff44ea-01
2022-04-21T16:17:44.360Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:44.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-40b2c6b874ddd26d5a1225f2fdc6c7f8d80a7227-34321ec3d2c15667-01 outer:exit 2b-40b2c6b874ddd26d5a1225f2fdc6c7f8d80a7227-e6833fc41c62fc01-01
2022-04-21T16:17:44.385Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (280ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:50.792Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:50.793Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:50.793Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:50.794Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:50.851Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:50.961Z appoptics:patching patched crypto 
2022-04-21T16:17:50.978Z appoptics:patching patched https 
2022-04-21T16:17:50.979Z appoptics:patching patched http 
2022-04-21T16:17:51.026Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:51.027Z appoptics:patching patched fs 
2022-04-21T16:17:51.040Z appoptics:patching patched mongodb-core 2.0.12 (disabled: node v18.0.0)
2022-04-21T16:17:51.045Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.12
    2.4
      databases
2022-04-21T16:17:51.092Z appoptics:debug span.exit - no last event outer outer:entry 2b-d81a8298857315fb0062b6fceb181e7d387bda08-b1f9dfdcc8c2f92c-01 outer:exit 2b-d81a8298857315fb0062b6fceb181e7d387bda08-1a41665369ce4ad0-01
2022-04-21T16:17:51.092Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:51.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-683da6238f1e73b84845ccacc082389d145378d6-41aca405702f6d44-01 outer:exit 2b-683da6238f1e73b84845ccacc082389d145378d6-09cd86f47d2a51b9-01
2022-04-21T16:17:51.144Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:51.147Z appoptics:debug span.exit - no last event outer outer:entry 2b-e94a9f15601c485c357a6ab7c0c2113321838e1a-b3c88896e06f9831-01 outer:exit 2b-e94a9f15601c485c357a6ab7c0c2113321838e1a-50382dd0ff44c214-01
2022-04-21T16:17:51.148Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:51.150Z appoptics:debug span.exit - no last event outer outer:entry 2b-28e9ba556b3c502e50d1993bf742c8f1c4b7de44-164bbefa2def56bc-01 outer:exit 2b-28e9ba556b3c502e50d1993bf742c8f1c4b7de44-7909ff3734a36c4c-01
2022-04-21T16:17:51.150Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:51.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-975e03580484a625a1314628194be323125f3035-8224e6f30c922558-01 outer:exit 2b-975e03580484a625a1314628194be323125f3035-4f937cd666753a53-01
2022-04-21T16:17:51.157Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:51.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-b45a6aa6495901c002110197d37bed61b948597e-feb1588dfff3b801-01 outer:exit 2b-b45a6aa6495901c002110197d37bed61b948597e-aa5ede91cf83ac25-01
2022-04-21T16:17:51.162Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:51.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-872d56738e4ae2c4f0a2669f0438ea0c011c2da3-4f99a2bca9c4355b-01 outer:exit 2b-872d56738e4ae2c4f0a2669f0438ea0c011c2da3-b742ae670d9b5cb8-01
2022-04-21T16:17:51.165Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:51.173Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3b33577927c02db30415bd14fdeb2f699935194-5b78b59d1ac6a9f2-01 outer:exit 2b-e3b33577927c02db30415bd14fdeb2f699935194-22406e886eb90df0-01
2022-04-21T16:17:51.173Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:51.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-ecf95fbc029bfc656ccdb2eb2dbab5ed51cc18ed-1505d9c0161f4071-01 outer:exit 2b-ecf95fbc029bfc656ccdb2eb2dbab5ed51cc18ed-bd50582639faa5f8-01
2022-04-21T16:17:51.176Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:51.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-86d8b387d6ab646dffbf3e80bd219af49937b2a8-381a4df49d88f159-01 outer:exit 2b-86d8b387d6ab646dffbf3e80bd219af49937b2a8-1e1898b06a424901-01
2022-04-21T16:17:51.182Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:51.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-86f7e0edadbfbaaae31deddf1cbb112f5bf70555-769c8c6d89d495e7-01 outer:exit 2b-86f7e0edadbfbaaae31deddf1cbb112f5bf70555-acead8ca22b21d71-01
2022-04-21T16:17:51.186Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:51.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-805ef1c03705f2fca49ebbd93326f659f0328deb-afeb3fec6f3c9150-01 outer:exit 2b-805ef1c03705f2fca49ebbd93326f659f0328deb-4259654b0234ca7d-01
2022-04-21T16:17:51.205Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:51.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b8c067e7e0f4f86b3e0864e6e8b65d48be32631-264b0c2cfea68057-01 outer:exit 2b-4b8c067e7e0f4f86b3e0864e6e8b65d48be32631-b3b2ee8c22851330-01
2022-04-21T16:17:51.220Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:51.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-2bb1ab8ca2666b371ddbfe489d34632cfeaa99c6-8be23e33d8326466-01 outer:exit 2b-2bb1ab8ca2666b371ddbfe489d34632cfeaa99c6-db229c3a28516fe7-01
2022-04-21T16:17:51.261Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:51.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-11e4b1f5d9a91dd7d048ff5ce0623cc948ac8a69-f481ad388e2b108d-01 outer:exit 2b-11e4b1f5d9a91dd7d048ff5ce0623cc948ac8a69-7319eeb97cbc5bda-01
2022-04-21T16:17:51.263Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:51.266Z appoptics:debug span.exit - no last event outer outer:entry 2b-0eeb269a252a26191100ecc1998a1c090288fc03-9b00f5101ea17720-01 outer:exit 2b-0eeb269a252a26191100ecc1998a1c090288fc03-4a7e6854a359dd5e-01
2022-04-21T16:17:51.266Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:51.269Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c3ccc70c7aaac85e6794726874802c8a37f0ba5-18565e0d01089253-01 outer:exit 2b-0c3ccc70c7aaac85e6794726874802c8a37f0ba5-515f78f97f4f0ea9-01
2022-04-21T16:17:51.269Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:51.272Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1ab35186bd0086ca3020fb829c2a609c3358966-feb15590f8c3a75f-01 outer:exit 2b-d1ab35186bd0086ca3020fb829c2a609c3358966-43ab29bace162169-01
2022-04-21T16:17:51.272Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:51.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b0dd2032d4c02780f91a315cb4d2a4733130132-4757cf98e4373a16-01 outer:exit 2b-0b0dd2032d4c02780f91a315cb4d2a4733130132-7b76922235cce4c4-01
2022-04-21T16:17:51.275Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:51.277Z appoptics:debug span.exit - no last event outer outer:entry 2b-e76ce9264f76e8c47b4201559978a27c45b245e1-ae689de84650e61f-01 outer:exit 2b-e76ce9264f76e8c47b4201559978a27c45b245e1-ee5330f6f90a929b-01
2022-04-21T16:17:51.277Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:51.279Z appoptics:debug span.exit - no last event outer outer:entry 2b-7553eeb43b976489523db4e2d38a01ccc908dc22-55549a578192f0ed-01 outer:exit 2b-7553eeb43b976489523db4e2d38a01ccc908dc22-6ab73223b7ecbbc1-01
2022-04-21T16:17:51.279Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:51.281Z appoptics:debug span.exit - no last event outer outer:entry 2b-45cca14fb9b0e95f569d61a2bbd0c3e37adf68c2-4e17ebc51eb2c38f-01 outer:exit 2b-45cca14fb9b0e95f569d61a2bbd0c3e37adf68c2-63af374bb70d38ee-01
2022-04-21T16:17:51.281Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:51.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c666e057e17ea19ca883d952550b29d952c4adc-04fcf598f4d1f475-01 outer:exit 2b-5c666e057e17ea19ca883d952550b29d952c4adc-433a5b39ce2784e0-01
2022-04-21T16:17:51.284Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:51.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-289634ca6ba6de985502639c622e4aa87b19c2d3-b58085a868a5bca0-01 outer:exit 2b-289634ca6ba6de985502639c622e4aa87b19c2d3-3bdf88e80ed734f2-01
2022-04-21T16:17:51.286Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:51.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee33432d90e2cd3ad92e786d80feeee8a46e9d1e-3403af553cee93ac-01 outer:exit 2b-ee33432d90e2cd3ad92e786d80feeee8a46e9d1e-1cf9a5829478831c-01
2022-04-21T16:17:51.288Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:51.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae7a3f1fba8ec332fb4a06654c2e7892d00b970a-c14a6a57ef4fbb31-01 outer:exit 2b-ae7a3f1fba8ec332fb4a06654c2e7892d00b970a-055811e4a0acdc8f-01
2022-04-21T16:17:51.291Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:51.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bdea4eb4dc893bf1d665090f4d5bf5ebf655b8d-3d033c68c905eeb9-01 outer:exit 2b-6bdea4eb4dc893bf1d665090f4d5bf5ebf655b8d-7cff3a2c7c8e353d-01
2022-04-21T16:17:51.308Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:51.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1b1a6ce0885f4c1ea0c453a355f01dc770c4341-c9f2f433e6fa6715-01 outer:exit 2b-e1b1a6ce0885f4c1ea0c453a355f01dc770c4341-1a45e0152522256c-01
2022-04-21T16:17:51.323Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:51.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d367cb7b283a4cf71bc4343c3651926512c948d-466420dba693b627-01 outer:exit 2b-6d367cb7b283a4cf71bc4343c3651926512c948d-c9a8cbd0b1b3a051-01
2022-04-21T16:17:51.331Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:51.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-13ee8982b219bfa1ce1b35bf3c7d709fada28e7e-21cda16cfc78c082-01 outer:exit 2b-13ee8982b219bfa1ce1b35bf3c7d709fada28e7e-acd702659a3e6c39-01
2022-04-21T16:17:51.336Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:51.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8c749c0b334da73db078a08f489be0aedfd6ed0-91e094e8bc82276a-01 outer:exit 2b-e8c749c0b334da73db078a08f489be0aedfd6ed0-525be457bdf9b24b-01
2022-04-21T16:17:51.338Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:51.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ee23395d22fc8961cee308e7a00fce7278b2b67-b5a203cfb145eb63-01 outer:exit 2b-5ee23395d22fc8961cee308e7a00fce7278b2b67-10c391762295e4b2-01
2022-04-21T16:17:51.341Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:51.347Z appoptics:debug span.exit - no last event outer outer:entry 2b-39f2ad66a911ddc18380cb7ae4cc1dc3bc6a0a51-0cbe3e9c34ad5d3e-01 outer:exit 2b-39f2ad66a911ddc18380cb7ae4cc1dc3bc6a0a51-aab192e92fddb8bc-01
2022-04-21T16:17:51.347Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:51.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-a894d4758074f72edbe71d3ff0ec5ba14ec39d45-ce4d2b39de653bad-01 outer:exit 2b-a894d4758074f72edbe71d3ff0ec5ba14ec39d45-1058d9c48bdf506f-01
2022-04-21T16:17:51.349Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:51.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-628c37c0d71511ef85936534ffffe83729561d49-be7483bfcf9c7e6b-01 outer:exit 2b-628c37c0d71511ef85936534ffffe83729561d49-1c631f5acdd2e534-01
2022-04-21T16:17:51.350Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:51.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-78b48818e64768327f533ffff968b4da255d1949-430f0fbd847aaabd-01 outer:exit 2b-78b48818e64768327f533ffff968b4da255d1949-c05710066be767d1-01
2022-04-21T16:17:51.352Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:51.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-704ad897785f4c53e2db1da05b8781d1c2f38850-f694d3f743477771-01 outer:exit 2b-704ad897785f4c53e2db1da05b8781d1c2f38850-af11052151414944-01
2022-04-21T16:17:51.354Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:51.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ba41c7d8b4c0d2338b516e08eb455ad78920a98-0670efc671ee4d58-01 outer:exit 2b-4ba41c7d8b4c0d2338b516e08eb455ad78920a98-9255e55858682716-01
2022-04-21T16:17:51.355Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:51.363Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a796ff34db7cbc8ee04e7833328bad96dfc5b92-9e1fc630747e16b1-01 outer:exit 2b-3a796ff34db7cbc8ee04e7833328bad96dfc5b92-77b5b29cea9fcb5a-01
2022-04-21T16:17:51.364Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:51.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-52a25f20f11664caf943f0f32c95002dd66f8c2e-55af5b32e833802d-01 outer:exit 2b-52a25f20f11664caf943f0f32c95002dd66f8c2e-d5522e4cc9886eba-01
2022-04-21T16:17:51.370Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:51.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-45532fbb214d1bddfcb9bf5e3713cdb39e8d1374-e3d4921dd8160fe4-01 outer:exit 2b-45532fbb214d1bddfcb9bf5e3713cdb39e8d1374-87756f5f2c6426ec-01
2022-04-21T16:17:51.373Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:51.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-d585d45f0a708ab12e875f7ad6612f0f59a30561-be523d91e244d10b-01 outer:exit 2b-d585d45f0a708ab12e875f7ad6612f0f59a30561-5d33953d82d269e6-01
2022-04-21T16:17:51.376Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:51.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-13847ff61c41d7bfbc5d2830fcff433827646e4b-96b0ce61a1a12dcc-01 outer:exit 2b-13847ff61c41d7bfbc5d2830fcff433827646e4b-77883c42fa9c42ab-01
2022-04-21T16:17:51.390Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:51.415Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e7818e371c312ab750eed255ac11974ddeb72d5-4059d39af550bb3a-01 outer:exit 2b-9e7818e371c312ab750eed255ac11974ddeb72d5-38cf7f4bfa840e60-01
2022-04-21T16:17:51.415Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (365ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:17:57.413Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:17:57.414Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:17:57.414Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:17:57.415Z appoptics:debug using context provider: ace-context
2022-04-21T16:17:57.472Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:17:57.580Z appoptics:patching patched crypto 
2022-04-21T16:17:57.598Z appoptics:patching patched https 
2022-04-21T16:17:57.598Z appoptics:patching patched http 
2022-04-21T16:17:57.652Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:17:57.652Z appoptics:patching patched fs 
2022-04-21T16:17:57.673Z appoptics:patching patched mongodb-core 2.0.13 (disabled: node v18.0.0)
2022-04-21T16:17:57.679Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.13
    2.4
      databases
2022-04-21T16:17:57.729Z appoptics:debug span.exit - no last event outer outer:entry 2b-bd461fa2ab630efc167fa8b7aca544f629362328-145ef627b72af098-01 outer:exit 2b-bd461fa2ab630efc167fa8b7aca544f629362328-d583007d56305f2e-01
2022-04-21T16:17:57.729Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:17:57.772Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0f44cbcc1c73be10dfa94bbc661f3a9ddbd6eb9-18df7164caa724d4-01 outer:exit 2b-e0f44cbcc1c73be10dfa94bbc661f3a9ddbd6eb9-1ed447694278fbbc-01
2022-04-21T16:17:57.773Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:17:57.776Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0936d2d4b060d71e7688f12efaff21d83f733d8-5e706aa8ee91008a-01 outer:exit 2b-c0936d2d4b060d71e7688f12efaff21d83f733d8-553d5d5374bf36a5-01
2022-04-21T16:17:57.776Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:17:57.779Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c3741c100c175e634c9e1ecd197336f2d956e22-7c7082f67128060d-01 outer:exit 2b-6c3741c100c175e634c9e1ecd197336f2d956e22-ec6575e65b121f60-01
2022-04-21T16:17:57.779Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:17:57.783Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc0c928e8e44b13dc2868d92932c462d4e5c3059-f0dfd8beacd457af-01 outer:exit 2b-fc0c928e8e44b13dc2868d92932c462d4e5c3059-fdf9d604c7280acd-01
2022-04-21T16:17:57.783Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:17:57.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-252c7c7c3a2ac2f029889fab13a127e580c42d8c-b8dd7c46f9ffd0c3-01 outer:exit 2b-252c7c7c3a2ac2f029889fab13a127e580c42d8c-ed7aa2c86c19ef8b-01
2022-04-21T16:17:57.786Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:17:57.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-a65b853d628e8290cdf3649fe2fc0358db1bcce1-300723c8d1c77f51-01 outer:exit 2b-a65b853d628e8290cdf3649fe2fc0358db1bcce1-7b510f07c6360807-01
2022-04-21T16:17:57.788Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:17:57.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e82cd0e96e975e6ffa77f2ff59a3a55137d675a-70bbfddc0171b60c-01 outer:exit 2b-6e82cd0e96e975e6ffa77f2ff59a3a55137d675a-c71a9db4349ef1d6-01
2022-04-21T16:17:57.791Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:17:57.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9310abb2740d111538da268e4e4158d07d9082f-52d5cd5fdbc788cf-01 outer:exit 2b-a9310abb2740d111538da268e4e4158d07d9082f-9c1be5a5911df695-01
2022-04-21T16:17:57.793Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:17:57.796Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0ec84b3d609192e5c9a3404da0070711dfbe7d6-6c793898f106ec11-01 outer:exit 2b-a0ec84b3d609192e5c9a3404da0070711dfbe7d6-a712ce901f367633-01
2022-04-21T16:17:57.796Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:17:57.799Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3b33b211ac48267329a0fad080067adfb0af2e8-75f1da1ecc72be38-01 outer:exit 2b-d3b33b211ac48267329a0fad080067adfb0af2e8-a84cbc08a060229b-01
2022-04-21T16:17:57.799Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:17:57.805Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9de8f40b9cd00b3e85be8133c9e3847bc79f41d-80ccbed02e734d10-01 outer:exit 2b-c9de8f40b9cd00b3e85be8133c9e3847bc79f41d-3551492dffee581f-01
2022-04-21T16:17:57.805Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:17:57.820Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e2d5a5908804d07cda207a1857502abe9901f51-86a9e7ebdeeaa6c5-01 outer:exit 2b-5e2d5a5908804d07cda207a1857502abe9901f51-0414631bd7bb0403-01
2022-04-21T16:17:57.820Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:17:57.857Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0245f9f3c8a157ca7737ca236e88d50732a5b78-555d7112f456c381-01 outer:exit 2b-d0245f9f3c8a157ca7737ca236e88d50732a5b78-56726ec3fc23cd6b-01
2022-04-21T16:17:57.857Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:17:57.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-4f346e68bfb0965213d1ca21bdf4e216cf08e11d-69113725cd187d28-01 outer:exit 2b-4f346e68bfb0965213d1ca21bdf4e216cf08e11d-3efd5dcdbfefd161-01
2022-04-21T16:17:57.861Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:17:57.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef43cfcc13bf0e12e4f9c381b8408fc73628f3fe-cdc2e04e6fcdb63d-01 outer:exit 2b-ef43cfcc13bf0e12e4f9c381b8408fc73628f3fe-42b49d3ed63f1844-01
2022-04-21T16:17:57.864Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:17:57.866Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cfc9f4e2b01f28a6151fa3d1aa7ca97dd4e2786-3edf5d412767502f-01 outer:exit 2b-8cfc9f4e2b01f28a6151fa3d1aa7ca97dd4e2786-d80dec544dd2ecbe-01
2022-04-21T16:17:57.866Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:17:57.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b5fcf850371ddc9a73d299119554ef039d33fdd-8b0321305ad57889-01 outer:exit 2b-0b5fcf850371ddc9a73d299119554ef039d33fdd-ae94283ed3a2cf5c-01
2022-04-21T16:17:57.869Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:17:57.870Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc2bc9b6bbfbc4181b669ec9d941bc8bb98ecf66-d8adab461f06a3bf-01 outer:exit 2b-fc2bc9b6bbfbc4181b669ec9d941bc8bb98ecf66-19740d27f60596d8-01
2022-04-21T16:17:57.870Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:17:57.872Z appoptics:debug span.exit - no last event outer outer:entry 2b-0723ec6e49de2c0972e64e49b70bba6fb73d24fb-641ef7a1659e3a44-01 outer:exit 2b-0723ec6e49de2c0972e64e49b70bba6fb73d24fb-08d9548b05933784-01
2022-04-21T16:17:57.872Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:17:57.874Z appoptics:debug span.exit - no last event outer outer:entry 2b-22cd14f899ea41150e0ed8391f8bcaacdd6521fd-fb3e0ddab95b717a-01 outer:exit 2b-22cd14f899ea41150e0ed8391f8bcaacdd6521fd-f88ae8f4d9cd5ba6-01
2022-04-21T16:17:57.874Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:17:57.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-db35339ade2514fede66cd73ab2f2efb1ad9636b-d8492de180998938-01 outer:exit 2b-db35339ade2514fede66cd73ab2f2efb1ad9636b-ef0523235d337e2e-01
2022-04-21T16:17:57.876Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:17:57.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d60698763c13ec672df00e43951a0da7da35366-0bfb6920f343460f-01 outer:exit 2b-5d60698763c13ec672df00e43951a0da7da35366-c010b0d09022f494-01
2022-04-21T16:17:57.878Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:17:57.881Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac22b260d072e3993b2395b23b657b46ff866a9d-770cbe047ddd8205-01 outer:exit 2b-ac22b260d072e3993b2395b23b657b46ff866a9d-ea97a0ed1adec560-01
2022-04-21T16:17:57.881Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:17:57.883Z appoptics:debug span.exit - no last event outer outer:entry 2b-4cce1be8de7092a261d9cdad9506adf954950750-d0002c50029f0df3-01 outer:exit 2b-4cce1be8de7092a261d9cdad9506adf954950750-57a28cee78b51988-01
2022-04-21T16:17:57.883Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:17:57.885Z appoptics:debug span.exit - no last event outer outer:entry 2b-809b786c1af259054db462d45d6abaf20e063e19-adb2066815e63b7d-01 outer:exit 2b-809b786c1af259054db462d45d6abaf20e063e19-af98ef36963476d2-01
2022-04-21T16:17:57.885Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:17:57.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-2d3397a66d8b152d17ff8b0874966a1e17d22173-73d6dedc6a8a7c98-01 outer:exit 2b-2d3397a66d8b152d17ff8b0874966a1e17d22173-0639855cb31cd53d-01
2022-04-21T16:17:57.891Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:17:57.897Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc7a771a0d26862fc049c5b09d1bba516136a9ea-8e1723b640bf8a08-01 outer:exit 2b-dc7a771a0d26862fc049c5b09d1bba516136a9ea-90b443c0ba2fd87d-01
2022-04-21T16:17:57.897Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:17:57.904Z appoptics:debug span.exit - no last event outer outer:entry 2b-b45a346293acd874efc8d65fc6f21fdda91f763a-d2d5a86a1e2c3128-01 outer:exit 2b-b45a346293acd874efc8d65fc6f21fdda91f763a-ad5b6c1658025f45-01
2022-04-21T16:17:57.904Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:17:57.909Z appoptics:debug span.exit - no last event outer outer:entry 2b-59ca0a1924e7be758dabc930ad74e47f9989fa80-ba158fc08dfd2323-01 outer:exit 2b-59ca0a1924e7be758dabc930ad74e47f9989fa80-6ea528e3c89ef59f-01
2022-04-21T16:17:57.909Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:17:57.911Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac22ca15cd8f1bb3359ac141d888a94e8ffae2aa-ccc9f4bdb89bb956-01 outer:exit 2b-ac22ca15cd8f1bb3359ac141d888a94e8ffae2aa-a6f4ce8c12ccf236-01
2022-04-21T16:17:57.911Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:17:57.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-d60d8df4d1489467f693c4460897c316c2e4ecf0-b6a30082f9ff62ef-01 outer:exit 2b-d60d8df4d1489467f693c4460897c316c2e4ecf0-e0c12fc0aa301ea4-01
2022-04-21T16:17:57.914Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:17:57.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd791aa98bc73f68283ebd2fa7c82f4a786d876-515d9ab354de60e3-01 outer:exit 2b-6dd791aa98bc73f68283ebd2fa7c82f4a786d876-8ce7daff4a36fb24-01
2022-04-21T16:17:57.919Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:17:57.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-27b92a75289f49f55edcef4aff54a0b38a7eada0-3ab9223fc417110d-01 outer:exit 2b-27b92a75289f49f55edcef4aff54a0b38a7eada0-4d2aab725a316bbb-01
2022-04-21T16:17:57.921Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:17:57.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-22fb2d148139e368082ee4828fc7ca30fb1bc2cf-2f36994bbfb0cfcd-01 outer:exit 2b-22fb2d148139e368082ee4828fc7ca30fb1bc2cf-4bcdcd4f3dd97c9d-01
2022-04-21T16:17:57.923Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:17:57.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-d28b754a1fc3d1160edf2bcfaa801ee80e7ec889-8c50a3449adcb76a-01 outer:exit 2b-d28b754a1fc3d1160edf2bcfaa801ee80e7ec889-ed6210e192b396cf-01
2022-04-21T16:17:57.925Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:17:57.926Z appoptics:debug span.exit - no last event outer outer:entry 2b-6cad1d41ca2586a3b2695e8bd21c17800ef28c55-ea07aee81d882398-01 outer:exit 2b-6cad1d41ca2586a3b2695e8bd21c17800ef28c55-d83b136f0938ca18-01
2022-04-21T16:17:57.926Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:17:57.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2de2721c282efe075ae86d3c7084f8367f45907-fdf2c380055873ab-01 outer:exit 2b-d2de2721c282efe075ae86d3c7084f8367f45907-e8b5b8417f572c6b-01
2022-04-21T16:17:57.928Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:17:57.936Z appoptics:debug span.exit - no last event outer outer:entry 2b-b642d9a51aaac0e67d7013ff65a5df919516e1eb-fff1fbb9fe3b5e69-01 outer:exit 2b-b642d9a51aaac0e67d7013ff65a5df919516e1eb-8623400b9232a7ce-01
2022-04-21T16:17:57.936Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:17:57.946Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d0de1210c2d5d4ef58ab38103d711c53e41399c-df3f9faec17ff5ac-01 outer:exit 2b-6d0de1210c2d5d4ef58ab38103d711c53e41399c-a4d4caa007765edd-01
2022-04-21T16:17:57.946Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:17:57.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-38a42650bd56577665bfc851c33d37879259f0cb-a212ffc225193803-01 outer:exit 2b-38a42650bd56577665bfc851c33d37879259f0cb-e6e273311eb83017-01
2022-04-21T16:17:57.949Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:17:57.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fc365a5b89760e8d0992c4fb7649f95aa2067fa-bc2fc17928f302c4-01 outer:exit 2b-0fc365a5b89760e8d0992c4fb7649f95aa2067fa-45ee1644d572596e-01
2022-04-21T16:17:57.951Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:17:57.953Z appoptics:debug span.exit - no last event outer outer:entry 2b-40c901169dfb1a54a49c5281a2e789e34f2dd863-7c9a9e5c35b48ea3-01 outer:exit 2b-40c901169dfb1a54a49c5281a2e789e34f2dd863-0a02d505a9dfa3ac-01
2022-04-21T16:17:57.953Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:17:57.979Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cb7da822050b6feb3bdc80cc196ec4c98bccaa8-9d46dbc048f01759-01 outer:exit 2b-9cb7da822050b6feb3bdc80cc196ec4c98bccaa8-93f2e5f2644b5aa5-01
2022-04-21T16:17:57.979Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (292ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (7 moderate, 4 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:04.905Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:04.906Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:04.906Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:04.907Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:04.968Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:05.076Z appoptics:patching patched crypto 
2022-04-21T16:18:05.093Z appoptics:patching patched https 
2022-04-21T16:18:05.093Z appoptics:patching patched http 
2022-04-21T16:18:05.139Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:05.139Z appoptics:patching patched fs 
2022-04-21T16:18:05.152Z appoptics:patching patched mongodb-core 2.0.14 (disabled: node v18.0.0)
2022-04-21T16:18:05.157Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.0.14
    2.4
      databases
2022-04-21T16:18:05.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c7d89e1a4584fe7576f8ea5cc1d7a2002f7b475-2ebdbd39b1fd5b61-01 outer:exit 2b-2c7d89e1a4584fe7576f8ea5cc1d7a2002f7b475-af9232f7fd80f2e1-01
2022-04-21T16:18:05.198Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:05.240Z appoptics:debug span.exit - no last event outer outer:entry 2b-83a5b073ddb1c8e54e4fa1a8c5f33c4980e474f4-ddc8ec9509d691bb-01 outer:exit 2b-83a5b073ddb1c8e54e4fa1a8c5f33c4980e474f4-6cf4adb5ebc2bbf5-01
2022-04-21T16:18:05.240Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:05.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-eb0999bce52d2f9d7b3525952e214f9c10926192-7d3632c6cad6e6dc-01 outer:exit 2b-eb0999bce52d2f9d7b3525952e214f9c10926192-7823a704e1754bbc-01
2022-04-21T16:18:05.244Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:05.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-20ef56519dec5074067941b75e393798c2ce1dc8-f18e7966f76b1dc1-01 outer:exit 2b-20ef56519dec5074067941b75e393798c2ce1dc8-21f310789ecd4611-01
2022-04-21T16:18:05.247Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:05.251Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d10cb42f874db3a0e7d1814c6a8440e6d252a95-7f6acdec25d70f47-01 outer:exit 2b-5d10cb42f874db3a0e7d1814c6a8440e6d252a95-b2075e89eb4cf9d0-01
2022-04-21T16:18:05.251Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:05.254Z appoptics:debug span.exit - no last event outer outer:entry 2b-a77279ffe5de0a7ac0b4afa193cdb4c5e5466e2b-8be84ea23aa37bb3-01 outer:exit 2b-a77279ffe5de0a7ac0b4afa193cdb4c5e5466e2b-b9c2d93a853d3b11-01
2022-04-21T16:18:05.254Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:05.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-949e760d550007fe265ed85ac84cfc2f844d4ce6-205679449ba413ee-01 outer:exit 2b-949e760d550007fe265ed85ac84cfc2f844d4ce6-54172ef84b719874-01
2022-04-21T16:18:05.257Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:05.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-c43940762e4b8259fd9161b46e7bdb022ec3d32a-d2904134606f9db2-01 outer:exit 2b-c43940762e4b8259fd9161b46e7bdb022ec3d32a-dc52d0b8d5bdc6d7-01
2022-04-21T16:18:05.259Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:05.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9cf67f68063291994c86c86468332aadf0d0be0-58fa48cc54661103-01 outer:exit 2b-f9cf67f68063291994c86c86468332aadf0d0be0-5531781e5de30014-01
2022-04-21T16:18:05.262Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:05.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-d117eddff1051ff95f2c0d2988427cf86fc46d30-a9188f464a58af9a-01 outer:exit 2b-d117eddff1051ff95f2c0d2988427cf86fc46d30-26ec0ca751f34062-01
2022-04-21T16:18:05.264Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:05.268Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f653ba5efd4ab50980e46255f4683b0540ad8a5-7530a8f579d0a8d6-01 outer:exit 2b-9f653ba5efd4ab50980e46255f4683b0540ad8a5-50247f15d06354e3-01
2022-04-21T16:18:05.268Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:05.274Z appoptics:debug span.exit - no last event outer outer:entry 2b-957d4a06944da299850ed616ee4e8598e57610cb-e5c2b6a39c7bbffa-01 outer:exit 2b-957d4a06944da299850ed616ee4e8598e57610cb-f3e40f48f1f9dd1d-01
2022-04-21T16:18:05.274Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:05.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4726bbecd02247451e23adcef8692cbfc781d40-0e9cd3e7b1a73bb1-01 outer:exit 2b-a4726bbecd02247451e23adcef8692cbfc781d40-6c931d896d14cb87-01
2022-04-21T16:18:05.290Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:05.326Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fc5de56e7fb009deb77aa12529724ef891ef25c-a0f2b1f2c1f86688-01 outer:exit 2b-2fc5de56e7fb009deb77aa12529724ef891ef25c-9f401969640f3f67-01
2022-04-21T16:18:05.326Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:05.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d0bd4cb50220fa1d98c178b189ec045152854f8-02d34a45aca44810-01 outer:exit 2b-7d0bd4cb50220fa1d98c178b189ec045152854f8-0a939cd839fa1e34-01
2022-04-21T16:18:05.328Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:05.331Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8d5b2f228f2049fedad2b29287d4b67a4aecb43-306413e991fbb458-01 outer:exit 2b-b8d5b2f228f2049fedad2b29287d4b67a4aecb43-540bf537a4677063-01
2022-04-21T16:18:05.331Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:05.335Z appoptics:debug span.exit - no last event outer outer:entry 2b-17bbdfd7d5e62ba505d727e4df19f9208493609b-6a04653b6a3139f5-01 outer:exit 2b-17bbdfd7d5e62ba505d727e4df19f9208493609b-d75a37449932dd6d-01
2022-04-21T16:18:05.335Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:05.337Z appoptics:debug span.exit - no last event outer outer:entry 2b-85a4a84ff3f1e0175a1bb2c594e7b142c6734a6a-39da6368bbaa25e1-01 outer:exit 2b-85a4a84ff3f1e0175a1bb2c594e7b142c6734a6a-3d01f317e3d2a4b9-01
2022-04-21T16:18:05.337Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:05.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-e13b3738fb12e774b9c395df56add9207df80774-bce08fb12a440324-01 outer:exit 2b-e13b3738fb12e774b9c395df56add9207df80774-61166740912277fd-01
2022-04-21T16:18:05.339Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:05.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-4072502081f49363411f8c81f8b73a1113bea4b3-662dd329468305e9-01 outer:exit 2b-4072502081f49363411f8c81f8b73a1113bea4b3-b83c3f5fdabaf2a4-01
2022-04-21T16:18:05.341Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:05.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-69b2a9a256b677ea290aadcd475c5b111ad4cb08-505d9071f7fb6987-01 outer:exit 2b-69b2a9a256b677ea290aadcd475c5b111ad4cb08-feef0f49a0feb498-01
2022-04-21T16:18:05.343Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:05.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbbfc82e745afa1347b5ff2e741df99685f87994-8c5dc0fd489d6cec-01 outer:exit 2b-fbbfc82e745afa1347b5ff2e741df99685f87994-56985269c5ddd56a-01
2022-04-21T16:18:05.345Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:05.348Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b2e2f840a921df1dcc7385485dd6bbeadd4ba93-56c9406218673d15-01 outer:exit 2b-4b2e2f840a921df1dcc7385485dd6bbeadd4ba93-8d7975e1b7f87663-01
2022-04-21T16:18:05.348Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:05.350Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f45c6f026e8e30a2adcd0b275c7edf3f80eedf1-caff1432b2c3c377-01 outer:exit 2b-5f45c6f026e8e30a2adcd0b275c7edf3f80eedf1-86b11e1826842a7d-01
2022-04-21T16:18:05.350Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:05.352Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9b78146112110f57fdb60ccc20fceb9b2c177e7-10f994fceed77f46-01 outer:exit 2b-c9b78146112110f57fdb60ccc20fceb9b2c177e7-a0a9a41135614882-01
2022-04-21T16:18:05.353Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:05.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-931d2740baf52ec8b1f4f2c044ec86debbf74961-6cf69798c74d11c9-01 outer:exit 2b-931d2740baf52ec8b1f4f2c044ec86debbf74961-b937380bf2000b47-01
2022-04-21T16:18:05.355Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:05.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa082bc97827ae057b9385257ceafb8f7edeb33f-426a9d4e292e35a7-01 outer:exit 2b-fa082bc97827ae057b9385257ceafb8f7edeb33f-c30d1e3b9864dce3-01
2022-04-21T16:18:05.360Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:05.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3ab04bea4a3667903fee78dcd58a70fb371fa87-e61a11a7115aa720-01 outer:exit 2b-d3ab04bea4a3667903fee78dcd58a70fb371fa87-bc473a97cdb7ff7f-01
2022-04-21T16:18:05.366Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:05.373Z appoptics:debug span.exit - no last event outer outer:entry 2b-192d2fc61de5445b4024df7001aeaad7bf93d7fd-a96adb0b3632f9ae-01 outer:exit 2b-192d2fc61de5445b4024df7001aeaad7bf93d7fd-39190e6723191619-01
2022-04-21T16:18:05.373Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:05.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f0c500e80d4f650cd1d2caccba4cf3c4e58578a-fa140bdbf08bd014-01 outer:exit 2b-1f0c500e80d4f650cd1d2caccba4cf3c4e58578a-44ec601dcc40f931-01
2022-04-21T16:18:05.378Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:05.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbe19dd16fa84b473951a6f6425bae6c45f30b4d-f9a928f70eee463a-01 outer:exit 2b-cbe19dd16fa84b473951a6f6425bae6c45f30b4d-6f0e1bd120f035e8-01
2022-04-21T16:18:05.380Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:05.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-d039da0d221da146b96d23b5c9a71af5f722a71d-2ef56fc31f402c59-01 outer:exit 2b-d039da0d221da146b96d23b5c9a71af5f722a71d-f7901acbbc110dda-01
2022-04-21T16:18:05.383Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:05.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-062daa20d3638fc5d6e695c890e0a4f2c40ea6fc-d5026271b417c10b-01 outer:exit 2b-062daa20d3638fc5d6e695c890e0a4f2c40ea6fc-9130d8b60c8eb3a5-01
2022-04-21T16:18:05.388Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:05.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea250ef1c70e70b4ff1e70b75a8919ecddace375-977fff7883002a84-01 outer:exit 2b-ea250ef1c70e70b4ff1e70b75a8919ecddace375-058bb65a30ab0282-01
2022-04-21T16:18:05.390Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:05.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0f8f3976394f143a334d7472b1159a1968e9a9d-47581806b1eec5bc-01 outer:exit 2b-a0f8f3976394f143a334d7472b1159a1968e9a9d-ff6694f5c64f9175-01
2022-04-21T16:18:05.392Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:05.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce134234e1139bab0529dbf5dd00266c0233fa46-ad43aa8f8fb54743-01 outer:exit 2b-ce134234e1139bab0529dbf5dd00266c0233fa46-30ebc064d29328c1-01
2022-04-21T16:18:05.394Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:05.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca0a7b122fd2f758d11918c15ab4a67c80d1d204-75a3377661200b32-01 outer:exit 2b-ca0a7b122fd2f758d11918c15ab4a67c80d1d204-66eb82e92d523c71-01
2022-04-21T16:18:05.395Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:05.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-3cec5565a58b04ca1288e077db0d2778622ec411-80d57867c97ffaa1-01 outer:exit 2b-3cec5565a58b04ca1288e077db0d2778622ec411-a8b6602ffa442af5-01
2022-04-21T16:18:05.397Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:05.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf7d1067e997eb5e0f6498046f782f189231a00b-abc6f56ea2a7933d-01 outer:exit 2b-cf7d1067e997eb5e0f6498046f782f189231a00b-33fca2d2cc3c7a51-01
2022-04-21T16:18:05.405Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:05.412Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9982ca17894e340243ae3e673d6a8a736dc1527-5ec3d721afe055b4-01 outer:exit 2b-f9982ca17894e340243ae3e673d6a8a736dc1527-bc2585ac75c0fce6-01
2022-04-21T16:18:05.412Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:05.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-df5db5be2fc0faa2c66e3a0545a29fd3b457e9f5-b8440ff27910ab66-01 outer:exit 2b-df5db5be2fc0faa2c66e3a0545a29fd3b457e9f5-34b957723ec6b949-01
2022-04-21T16:18:05.414Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:05.417Z appoptics:debug span.exit - no last event outer outer:entry 2b-10b2d7afa30e7ea6c8b6e17b87f4c20d5b426954-12d4d15fd3ea8f65-01 outer:exit 2b-10b2d7afa30e7ea6c8b6e17b87f4c20d5b426954-72c818ffe2e29a1b-01
2022-04-21T16:18:05.417Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:05.419Z appoptics:debug span.exit - no last event outer outer:entry 2b-b69395fef60e8a45f5c434a45e3d454f4dab5d0c-9458784a07a1f242-01 outer:exit 2b-b69395fef60e8a45f5c434a45e3d454f4dab5d0c-8053d57639169c3a-01
2022-04-21T16:18:05.419Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:05.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddb24460c6cac62e364985d80f8e626cc5d37962-481be6a0336866ae-01 outer:exit 2b-ddb24460c6cac62e364985d80f8e626cc5d37962-c6127084719a340b-01
2022-04-21T16:18:05.443Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (281ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.0.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.0.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.0.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.0.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.0.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.0.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.0.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.0.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.0.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.0.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.0.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.0.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.0.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.0.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.0.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.0.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.0.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.0.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.0.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.0.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.0.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.0.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.0.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.0.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.0.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.0.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.0.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.0.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.0.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.0.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.0.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.0.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.0.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.0.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.0.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.0.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.0.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.0.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.0.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.0.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.0.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.0.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)



npm WARN deprecated bson@1.0.9: Fixed a critical issue with BSON serialization documented in CVE-2019-2391, see https://bit.ly/2KcpXdo for more details

changed 2 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:11.151Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:11.152Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:11.152Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:11.152Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:11.210Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:11.319Z appoptics:patching patched crypto 
2022-04-21T16:18:11.352Z appoptics:patching patched https 
2022-04-21T16:18:11.353Z appoptics:patching patched http 
2022-04-21T16:18:11.395Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:11.396Z appoptics:patching patched fs 
2022-04-21T16:18:11.420Z appoptics:patching patched mongodb-core 2.1.0 (disabled: node v18.0.0)
2022-04-21T16:18:11.426Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.0
    2.4
      databases
2022-04-21T16:18:11.484Z appoptics:debug span.exit - no last event outer outer:entry 2b-34fb3c296060ff45c115a7aef205178e1e272402-242198a3f77e7896-01 outer:exit 2b-34fb3c296060ff45c115a7aef205178e1e272402-99bd45aa479facad-01
2022-04-21T16:18:11.484Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:11.531Z appoptics:debug span.exit - no last event outer outer:entry 2b-53602d970b7044cd8a995577455fd48bd3a3181f-8b473ecb3745b041-01 outer:exit 2b-53602d970b7044cd8a995577455fd48bd3a3181f-169dabb068ec3e2b-01
2022-04-21T16:18:11.531Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:11.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-982fbb64ea4edbe283f0899d4dfc8ba0e474e4f2-dc29ee7c7f347d19-01 outer:exit 2b-982fbb64ea4edbe283f0899d4dfc8ba0e474e4f2-241dd16bdc5e37b7-01
2022-04-21T16:18:11.534Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:11.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-4517706c46090ed0e12fe9ffa52f7b427d2ec569-60f65cc90d019e8c-01 outer:exit 2b-4517706c46090ed0e12fe9ffa52f7b427d2ec569-e03c61bcbe276e41-01
2022-04-21T16:18:11.538Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:11.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-eeb7ff0e11a8047f2ef0b882a3a6ff6e3b40977b-198894308164f6db-01 outer:exit 2b-eeb7ff0e11a8047f2ef0b882a3a6ff6e3b40977b-0bc649edef314dfc-01
2022-04-21T16:18:11.542Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:11.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a35e316946f596895b2249a39285c43153c7b51-0e35fb36a2a16b55-01 outer:exit 2b-3a35e316946f596895b2249a39285c43153c7b51-c29b445b73c72bfd-01
2022-04-21T16:18:11.545Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:11.548Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cd82f8bac59d1247a772e317e0106d307b2772b-918f0b98d4d24127-01 outer:exit 2b-2cd82f8bac59d1247a772e317e0106d307b2772b-adc7182d412b117d-01
2022-04-21T16:18:11.548Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:11.552Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a37c96baabeec768d6a38e4e98a692ae7e53ad6-b7635112fc9114ff-01 outer:exit 2b-4a37c96baabeec768d6a38e4e98a692ae7e53ad6-aa7214bbef22790f-01
2022-04-21T16:18:11.552Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:11.555Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d5d78e13ca508e62abb25d375b66de17f7f2bca-1096a61e4fcf6dc7-01 outer:exit 2b-9d5d78e13ca508e62abb25d375b66de17f7f2bca-4198e23a20c04624-01
2022-04-21T16:18:11.555Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:11.558Z appoptics:debug span.exit - no last event outer outer:entry 2b-a04563095fc7754488f82fe90701f5622331ce46-76ba454fcd16b1c2-01 outer:exit 2b-a04563095fc7754488f82fe90701f5622331ce46-b534b50878211a3c-01
2022-04-21T16:18:11.558Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:11.562Z appoptics:debug span.exit - no last event outer outer:entry 2b-3041d74c06e90cb47cdba290e8883412a0825ede-bc6d7844b52d8219-01 outer:exit 2b-3041d74c06e90cb47cdba290e8883412a0825ede-a7c2c1834b49fa80-01
2022-04-21T16:18:11.562Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:11.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e08630669aeee4cf45190b2529838135663f78b-a90e667cdc3a1261-01 outer:exit 2b-8e08630669aeee4cf45190b2529838135663f78b-65413b5ba57fd0ea-01
2022-04-21T16:18:11.568Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:11.582Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4cd655ab661a9b6e4b0e25a4075ed32c2edf18d-10b6023e2080a02c-01 outer:exit 2b-e4cd655ab661a9b6e4b0e25a4075ed32c2edf18d-408a1d8ff813437a-01
2022-04-21T16:18:11.582Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:11.619Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0800959bc25d227e79baa0596b08da92868cfcd-17654fa0e98bff1d-01 outer:exit 2b-d0800959bc25d227e79baa0596b08da92868cfcd-6b12a5d87dd420e4-01
2022-04-21T16:18:11.619Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:11.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-7550a716adab861987f8c0e82827972a7cd4ccca-1efa0d40ce70df44-01 outer:exit 2b-7550a716adab861987f8c0e82827972a7cd4ccca-a3598fb0cd2ba35e-01
2022-04-21T16:18:11.621Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:11.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-cce8c6925ce8140d1b65900b6ec5f06e8327f0e1-3dc4e492466298d8-01 outer:exit 2b-cce8c6925ce8140d1b65900b6ec5f06e8327f0e1-ae6b6cb9cc733fce-01
2022-04-21T16:18:11.624Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:11.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-bfdf62d98c9b68d8f9f793bf55c454acb842b723-25d04a69e34cc337-01 outer:exit 2b-bfdf62d98c9b68d8f9f793bf55c454acb842b723-375cf9711036ac5f-01
2022-04-21T16:18:11.626Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:11.628Z appoptics:debug span.exit - no last event outer outer:entry 2b-96d26c4f3273e05e78d5d8f6a3d62c18d6831fa0-e23fefb8e9f4eddf-01 outer:exit 2b-96d26c4f3273e05e78d5d8f6a3d62c18d6831fa0-2e473dc2561ee98c-01
2022-04-21T16:18:11.629Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:11.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-a88064e583d9349ddcf138b37e8fdd7f39bfea76-46cbaf0f6f307b74-01 outer:exit 2b-a88064e583d9349ddcf138b37e8fdd7f39bfea76-7220a6a144f079bf-01
2022-04-21T16:18:11.630Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:11.632Z appoptics:debug span.exit - no last event outer outer:entry 2b-92d2f465ac40d6282cc5cb14b3b7bc587d9a54c9-0b404ce80806a089-01 outer:exit 2b-92d2f465ac40d6282cc5cb14b3b7bc587d9a54c9-f8ac61bb6998a265-01
2022-04-21T16:18:11.632Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:11.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-98f400667ec83556487686570d7ebd2659d19936-4e718ba5a9593797-01 outer:exit 2b-98f400667ec83556487686570d7ebd2659d19936-2658f11029b3d5c3-01
2022-04-21T16:18:11.634Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:11.636Z appoptics:debug span.exit - no last event outer outer:entry 2b-f76d408e0a6a9fd6437c79828fc8be9bd6abab24-cd4cff06ffc1f4b5-01 outer:exit 2b-f76d408e0a6a9fd6437c79828fc8be9bd6abab24-847aa1d6bd50463b-01
2022-04-21T16:18:11.636Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:11.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-976c2045c3d987d4026d94efd537cc55404dd45d-c942f1babe0ceae1-01 outer:exit 2b-976c2045c3d987d4026d94efd537cc55404dd45d-ed23b859aa7cfd51-01
2022-04-21T16:18:11.638Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:11.641Z appoptics:debug span.exit - no last event outer outer:entry 2b-c812a0dd0b09cc0e41438ec6b053216c9572cc57-fbab378432254c47-01 outer:exit 2b-c812a0dd0b09cc0e41438ec6b053216c9572cc57-1d68d74573e11d2f-01
2022-04-21T16:18:11.641Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:11.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-685cb8b524cd30bda781a71d81d943f69f4e93ac-f136ed2cbf1d434d-01 outer:exit 2b-685cb8b524cd30bda781a71d81d943f69f4e93ac-eb38cf43b16ffdb8-01
2022-04-21T16:18:11.643Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:11.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-17150153053fe3bde3fa2ecb3731f52dbd89d1f3-03677171d44ecf06-01 outer:exit 2b-17150153053fe3bde3fa2ecb3731f52dbd89d1f3-d0ae5b37315e51b1-01
2022-04-21T16:18:11.645Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:11.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-a9d961b2c5634df2442be2aec829b12712a53a8b-4cfaf9a04efa92e7-01 outer:exit 2b-a9d961b2c5634df2442be2aec829b12712a53a8b-a78a6b125a4d7e1f-01
2022-04-21T16:18:11.650Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:11.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d2a19acb936c2505bec906b4877413f0215306e-932de00248c15734-01 outer:exit 2b-7d2a19acb936c2505bec906b4877413f0215306e-e3718157f077763c-01
2022-04-21T16:18:11.656Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:11.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-96a553fac7707e91ca573d846707d42b4d9183ac-425babe55f50bfe7-01 outer:exit 2b-96a553fac7707e91ca573d846707d42b4d9183ac-82cabf6204b133f7-01
2022-04-21T16:18:11.663Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:11.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5e95e9e900a7671c79ef05eafaf0d235536b17a-13ed36b062f9041d-01 outer:exit 2b-e5e95e9e900a7671c79ef05eafaf0d235536b17a-c950b6751adadb41-01
2022-04-21T16:18:11.668Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:11.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b22aa72b9867d9c1de07ad2530b3a965cf56d19-89728fc372f1d44b-01 outer:exit 2b-5b22aa72b9867d9c1de07ad2530b3a965cf56d19-00d8078b55308392-01
2022-04-21T16:18:11.670Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:11.676Z appoptics:debug span.exit - no last event outer outer:entry 2b-624eab8d826daa824800f2d70fdfb13459cd41a8-89a321b50a703b74-01 outer:exit 2b-624eab8d826daa824800f2d70fdfb13459cd41a8-1aef687c0d2bb1c9-01
2022-04-21T16:18:11.676Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:11.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-75362601878d3f238ad0d5f6f9f9aff05d281aa4-2a6e0dd3f447034b-01 outer:exit 2b-75362601878d3f238ad0d5f6f9f9aff05d281aa4-06498c717cb5cb40-01
2022-04-21T16:18:11.681Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:11.683Z appoptics:debug span.exit - no last event outer outer:entry 2b-79e0fc318d9154875a6b7d36e9d0e99704893c8a-a590fdb137b6ec15-01 outer:exit 2b-79e0fc318d9154875a6b7d36e9d0e99704893c8a-199cdd8bd4f372b1-01
2022-04-21T16:18:11.683Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:11.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-fda150d07f23d44dc62016c769355e79589c7d8c-c9be9f69a06307fa-01 outer:exit 2b-fda150d07f23d44dc62016c769355e79589c7d8c-bae38912039d517a-01
2022-04-21T16:18:11.685Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:11.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea0832c113ab5b7ed349c7d5c173d95fdb15f949-f65b08609c9ab66c-01 outer:exit 2b-ea0832c113ab5b7ed349c7d5c173d95fdb15f949-b341ea6b4b7029e4-01
2022-04-21T16:18:11.686Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:11.688Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb3d90061c38777af12f37dca7678dd546742bcd-28d3191d2c22f0eb-01 outer:exit 2b-cb3d90061c38777af12f37dca7678dd546742bcd-8ebd8f385cb71907-01
2022-04-21T16:18:11.688Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:11.689Z appoptics:debug span.exit - no last event outer outer:entry 2b-804162dc8b8dc70bc871f83ddc67833ec66b0f86-9c9619221c91a1ca-01 outer:exit 2b-804162dc8b8dc70bc871f83ddc67833ec66b0f86-e9912c1ade2e753a-01
2022-04-21T16:18:11.689Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:11.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-05ccff86199e71d6945c1139f16908fbaa7305b2-b3304c5fe39f55ef-01 outer:exit 2b-05ccff86199e71d6945c1139f16908fbaa7305b2-da1b9d443416a3d2-01
2022-04-21T16:18:11.697Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:11.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-830d4bb4be98bb48f7108238672e6692c2406cf7-4fb530bf2555e29d-01 outer:exit 2b-830d4bb4be98bb48f7108238672e6692c2406cf7-b2c55b3979a2fdcf-01
2022-04-21T16:18:11.704Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:11.707Z appoptics:debug span.exit - no last event outer outer:entry 2b-55c847804f7f544117f942a69628d1eae234e570-619bd4ea6b686a0d-01 outer:exit 2b-55c847804f7f544117f942a69628d1eae234e570-f121b71ad701f394-01
2022-04-21T16:18:11.707Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:11.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9839adb52064ff31043c3259fcf0565ee4be0b0-d58900f8a464f0de-01 outer:exit 2b-b9839adb52064ff31043c3259fcf0565ee4be0b0-673b708de97042b8-01
2022-04-21T16:18:11.709Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:11.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-93670a7d3a751d0c41512b0c08fd9773f218d9f9-51c5a700ba967817-01 outer:exit 2b-93670a7d3a751d0c41512b0c08fd9773f218d9f9-a21b774dd259c0a1-01
2022-04-21T16:18:11.711Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:11.735Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a89761323ef73d4a3d357e49035ca5b93f057bc-07423f5b1c2c50d0-01 outer:exit 2b-1a89761323ef73d4a3d357e49035ca5b93f057bc-53d1b2c0afc151b3-01
2022-04-21T16:18:11.735Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (301ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.0
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.0
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.0
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.0
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.0
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.0
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.0
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.0
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.0
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.0
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.0
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.0
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.0
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.0
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.0
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.0
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.0
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.0
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.0
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.0
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.0
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.0
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.0
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.0
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.0
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.0
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.0
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.0
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.0
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.0
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.0
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.0
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.0
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.0
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.0
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.0
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.0
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.0
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.0
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.0
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.0
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.0
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:18.220Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:18.221Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:18.221Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:18.221Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:18.280Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:18.389Z appoptics:patching patched crypto 
2022-04-21T16:18:18.406Z appoptics:patching patched https 
2022-04-21T16:18:18.407Z appoptics:patching patched http 
2022-04-21T16:18:18.447Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:18.448Z appoptics:patching patched fs 
2022-04-21T16:18:18.470Z appoptics:patching patched mongodb-core 2.1.1 (disabled: node v18.0.0)
2022-04-21T16:18:18.475Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.1
    2.4
      databases
2022-04-21T16:18:18.517Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b1934b20d55f464f3ce8185193d7695155bf52b-babe2a847070c46c-01 outer:exit 2b-2b1934b20d55f464f3ce8185193d7695155bf52b-1932aa0c22f39fe8-01
2022-04-21T16:18:18.517Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:18.557Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b954db54677c22b60dc490863d1cab24a05734a-879e11c5dafd6d28-01 outer:exit 2b-5b954db54677c22b60dc490863d1cab24a05734a-1aa94c05c69bcafb-01
2022-04-21T16:18:18.557Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:18.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f125e9d92bd0bd57154b206519e2539da4cae52-5faf9b37624037ca-01 outer:exit 2b-8f125e9d92bd0bd57154b206519e2539da4cae52-13ee65621b73cc7b-01
2022-04-21T16:18:18.561Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:18.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-777e78dfbfb535a505aa9e5c63cc1fe00b47e928-823937e03a237c36-01 outer:exit 2b-777e78dfbfb535a505aa9e5c63cc1fe00b47e928-64cbbcde17ad9495-01
2022-04-21T16:18:18.564Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:18.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-66f16f8b80795fd9761e2eb4c0c511f048a452fd-e71f81f654d8af5b-01 outer:exit 2b-66f16f8b80795fd9761e2eb4c0c511f048a452fd-d16370fb79746f2b-01
2022-04-21T16:18:18.568Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:18.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-698c8088b477c21a4047dfc7408b4a165c790dd1-79200ef540243cdc-01 outer:exit 2b-698c8088b477c21a4047dfc7408b4a165c790dd1-22786270a03944e1-01
2022-04-21T16:18:18.571Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:18.573Z appoptics:debug span.exit - no last event outer outer:entry 2b-a50b57102ef58c34081d39cb8513f387125e0518-f9f3b059ed0006d5-01 outer:exit 2b-a50b57102ef58c34081d39cb8513f387125e0518-962374a4c3e44041-01
2022-04-21T16:18:18.573Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:18.576Z appoptics:debug span.exit - no last event outer outer:entry 2b-23325e4c88340192f21022a2b39ed194ea60e609-cdebeecf7ef79373-01 outer:exit 2b-23325e4c88340192f21022a2b39ed194ea60e609-470b2cc040aad8c1-01
2022-04-21T16:18:18.576Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:18.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-44f31e1a714fd2c5a4390163bfbc1d6ab1c1f712-400612f16c53c931-01 outer:exit 2b-44f31e1a714fd2c5a4390163bfbc1d6ab1c1f712-2ca6e5b6ab837c59-01
2022-04-21T16:18:18.578Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:18.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-31786012ebc3de271bdf2748ffe43fe2cb7bfb09-cfbd1ad0b683fdef-01 outer:exit 2b-31786012ebc3de271bdf2748ffe43fe2cb7bfb09-231ec0494eb653a3-01
2022-04-21T16:18:18.581Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:18.584Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb18c1a82fb1951d76373da4b62ca86cbed6d0c1-15b5647fa1970f14-01 outer:exit 2b-fb18c1a82fb1951d76373da4b62ca86cbed6d0c1-7cf1c6d9b194b897-01
2022-04-21T16:18:18.585Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:18.590Z appoptics:debug span.exit - no last event outer outer:entry 2b-74b4e4daa2b3dd028cde2e5771c984824be7c483-ff726adf576154d5-01 outer:exit 2b-74b4e4daa2b3dd028cde2e5771c984824be7c483-d5f8d1724b553aa7-01
2022-04-21T16:18:18.590Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:18.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-c15f7e26e3571e2eaa7bcaa3b1936aa31e530bad-6d311bbef362ebe9-01 outer:exit 2b-c15f7e26e3571e2eaa7bcaa3b1936aa31e530bad-6ae17c5b1c091625-01
2022-04-21T16:18:18.605Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:18.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-caff8df5a2319419dac4059e34789778b35a754b-84e91adf362fc565-01 outer:exit 2b-caff8df5a2319419dac4059e34789778b35a754b-d20fc2414b01acd8-01
2022-04-21T16:18:18.640Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:18.643Z appoptics:debug span.exit - no last event outer outer:entry 2b-b253fcc004c6662c6334bf1c9bb28163f6eeea40-a6a25df2c49f95f0-01 outer:exit 2b-b253fcc004c6662c6334bf1c9bb28163f6eeea40-9c44b35c60a82246-01
2022-04-21T16:18:18.643Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:18.645Z appoptics:debug span.exit - no last event outer outer:entry 2b-85c5e9ef038fa8d71ca9ef7ade5f5839eef5f58c-a8ed7636554c96bc-01 outer:exit 2b-85c5e9ef038fa8d71ca9ef7ade5f5839eef5f58c-c1846d94e341ed73-01
2022-04-21T16:18:18.645Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:18.648Z appoptics:debug span.exit - no last event outer outer:entry 2b-0acfac930bd89e27bf850fbad69f9072313a3852-03452bb2a0528f54-01 outer:exit 2b-0acfac930bd89e27bf850fbad69f9072313a3852-2ff0f49a68918423-01
2022-04-21T16:18:18.648Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:18.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-87643bc2d8103e3cffb9a26612f843854ed06ebf-8d8c9bf8c5748e25-01 outer:exit 2b-87643bc2d8103e3cffb9a26612f843854ed06ebf-c6f2f5082d07eb72-01
2022-04-21T16:18:18.650Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:18.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-14af5cc645f85ae28bf3dcafe493f1a8e33c071c-397604d5933560b2-01 outer:exit 2b-14af5cc645f85ae28bf3dcafe493f1a8e33c071c-d7176416091dc893-01
2022-04-21T16:18:18.652Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:18.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc9923f1be22520131c00eea926847158fe60310-70110ed40bf0a331-01 outer:exit 2b-cc9923f1be22520131c00eea926847158fe60310-b43ac3850ad5745b-01
2022-04-21T16:18:18.654Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:18.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-33b276a33abbe5cebac05d92a61f1283624ef8f1-983f33497e4b904a-01 outer:exit 2b-33b276a33abbe5cebac05d92a61f1283624ef8f1-371bcfc8fe03871b-01
2022-04-21T16:18:18.656Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:18.658Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7170e47569018e3f9794637d4a3c2f25e029f5b-4a664d16356f8154-01 outer:exit 2b-a7170e47569018e3f9794637d4a3c2f25e029f5b-bb8c3cbd4853a28c-01
2022-04-21T16:18:18.658Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:18.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e67e3c4d7a1632ed97c0e353c473e155f7b49ae-e71c4b787ff47c94-01 outer:exit 2b-9e67e3c4d7a1632ed97c0e353c473e155f7b49ae-7a2476d18a2c7634-01
2022-04-21T16:18:18.661Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:18.664Z appoptics:debug span.exit - no last event outer outer:entry 2b-ff4b3e79d7245f0b8caa81f4ef63691389c1fbd7-bba85069c8759b2b-01 outer:exit 2b-ff4b3e79d7245f0b8caa81f4ef63691389c1fbd7-c9928d53be1d6d98-01
2022-04-21T16:18:18.664Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:18.666Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa7d334601d0d84e7a887a01f21ecf1d7bdf74ad-0aaefa44b9d0a855-01 outer:exit 2b-fa7d334601d0d84e7a887a01f21ecf1d7bdf74ad-9c34cb1070c795ba-01
2022-04-21T16:18:18.666Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:18.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-e986719b4e6d7c1932cdda03e0754bd9417c9755-f1349d1315cab8f0-01 outer:exit 2b-e986719b4e6d7c1932cdda03e0754bd9417c9755-c50f00bc38bc30d3-01
2022-04-21T16:18:18.668Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:18.673Z appoptics:debug span.exit - no last event outer outer:entry 2b-d94b90a1e66103710fa4a4073b84703e5dc40d72-d6ae1abab673129b-01 outer:exit 2b-d94b90a1e66103710fa4a4073b84703e5dc40d72-255d46de080ddf18-01
2022-04-21T16:18:18.673Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:18.678Z appoptics:debug span.exit - no last event outer outer:entry 2b-12d0b4afbf2351444043e33028dc76d765b5dd33-8976d59bb591a335-01 outer:exit 2b-12d0b4afbf2351444043e33028dc76d765b5dd33-c40f7f52885bb929-01
2022-04-21T16:18:18.678Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:18.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-bae05fabadc56bf157a94e0add2718508c37874c-b7dcf8a324289b47-01 outer:exit 2b-bae05fabadc56bf157a94e0add2718508c37874c-399600f6e012146f-01
2022-04-21T16:18:18.685Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:18.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-6028a04b6d3197345062788c5611bfd5d0920461-0ded0a7d4b66792a-01 outer:exit 2b-6028a04b6d3197345062788c5611bfd5d0920461-601dd60c784e728f-01
2022-04-21T16:18:18.692Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:18.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ec670fe06da984233a51bb750c16e62864f23ff-967a837eee2c5972-01 outer:exit 2b-0ec670fe06da984233a51bb750c16e62864f23ff-317d603d6896d828-01
2022-04-21T16:18:18.694Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:18.697Z appoptics:debug span.exit - no last event outer outer:entry 2b-e98575fd650270b9b97f1cb0e3bef2afcf4dffdc-74d7fe0db3d337e5-01 outer:exit 2b-e98575fd650270b9b97f1cb0e3bef2afcf4dffdc-b64f1a21ea1b252c-01
2022-04-21T16:18:18.697Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:18.702Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6c9d5fb59a5ee6542955ff803ea6576526a61cd-830828617c5a9079-01 outer:exit 2b-c6c9d5fb59a5ee6542955ff803ea6576526a61cd-672e44d6aa6a2207-01
2022-04-21T16:18:18.702Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:18.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-97f0803a2178731c3c50c258f76d552f392115c0-8816a5b9191cc4f4-01 outer:exit 2b-97f0803a2178731c3c50c258f76d552f392115c0-819e8c6975a15a0a-01
2022-04-21T16:18:18.704Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:18.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0e90046241c02e66d2512420c8b4a6b08af9fb8-2e9e2fd23b6ef714-01 outer:exit 2b-f0e90046241c02e66d2512420c8b4a6b08af9fb8-a24d9333f494db63-01
2022-04-21T16:18:18.706Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:18.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-9db2999f55f82d24b2e70ad45e92b2ab07503d65-4d58ad8f7c456663-01 outer:exit 2b-9db2999f55f82d24b2e70ad45e92b2ab07503d65-87808ae00bbf0125-01
2022-04-21T16:18:18.708Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:18.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac2b5cbb6c62fd5262d30d7446c1df037bdf3590-abc1d1d8adc270c1-01 outer:exit 2b-ac2b5cbb6c62fd5262d30d7446c1df037bdf3590-c0ba852aaa4cdc6f-01
2022-04-21T16:18:18.709Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:18.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebb75f18f730f5452e3110f55d0a72d4dc3026ae-a46184efe3273585-01 outer:exit 2b-ebb75f18f730f5452e3110f55d0a72d4dc3026ae-67c04043a170661a-01
2022-04-21T16:18:18.711Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:18.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-09faaa3baa1601c389b8d583e3f85a75bcbdabc1-09647d25ec2eeed5-01 outer:exit 2b-09faaa3baa1601c389b8d583e3f85a75bcbdabc1-eca81e3ef0089a5a-01
2022-04-21T16:18:18.718Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:18.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-a323d535876c85b9157a072286971764611f2c64-a49c5c4fcc8f0e15-01 outer:exit 2b-a323d535876c85b9157a072286971764611f2c64-d6d76d060e2f4341-01
2022-04-21T16:18:18.726Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:18.728Z appoptics:debug span.exit - no last event outer outer:entry 2b-2270577d57d1e9dccd4e750298c744d723261541-f24a47ecb241423d-01 outer:exit 2b-2270577d57d1e9dccd4e750298c744d723261541-28eb29c75a90f6bc-01
2022-04-21T16:18:18.728Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:18.730Z appoptics:debug span.exit - no last event outer outer:entry 2b-62e87a30b131c32d01661d9dd2f6951c0e50ad95-a117e858bd114ab2-01 outer:exit 2b-62e87a30b131c32d01661d9dd2f6951c0e50ad95-daf954847a2dc164-01
2022-04-21T16:18:18.730Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:18.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bcf4e3355835dafea43dac9f15774031aca72cc-57261d95713b200c-01 outer:exit 2b-5bcf4e3355835dafea43dac9f15774031aca72cc-7767768c2af38b09-01
2022-04-21T16:18:18.733Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:18.756Z appoptics:debug span.exit - no last event outer outer:entry 2b-f56ddf72f6b1db1084f0c1415be9f2c6b85118b5-7c5b18e6363a9f8c-01 outer:exit 2b-f56ddf72f6b1db1084f0c1415be9f2c6b85118b5-3783b0052bddb920-01
2022-04-21T16:18:18.757Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (276ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.1
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.1
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.1
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.1
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.1
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.1
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.1
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.1
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.1
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.1
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.1
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.1
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.1
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.1
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.1
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.1
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.1
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.1
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.1
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.1
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.1
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.1
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.1
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.1
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.1
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.1
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.1
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.1
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.1
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.1
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.1
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.1
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.1
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.1
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.1
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.1
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.1
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.1
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.1
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.1
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.1
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.1
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:24.756Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:24.756Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:24.756Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:24.757Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:24.830Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:24.954Z appoptics:patching patched crypto 
2022-04-21T16:18:24.994Z appoptics:patching patched https 
2022-04-21T16:18:24.995Z appoptics:patching patched http 
2022-04-21T16:18:25.037Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:25.037Z appoptics:patching patched fs 
2022-04-21T16:18:25.065Z appoptics:patching patched mongodb-core 2.1.2 (disabled: node v18.0.0)
2022-04-21T16:18:25.071Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.2
    2.4
      databases
2022-04-21T16:18:25.121Z appoptics:debug span.exit - no last event outer outer:entry 2b-48e4fd237499569cee3462f5c2ee4e809e76b93b-2d0ad3008ca2ab82-01 outer:exit 2b-48e4fd237499569cee3462f5c2ee4e809e76b93b-ef0e7d207b70bc58-01
2022-04-21T16:18:25.121Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:25.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1abb45b7f82a361b39ef55731822b9bb3e25bc6-18d30e761711cfa8-01 outer:exit 2b-b1abb45b7f82a361b39ef55731822b9bb3e25bc6-5f8e6b0705e54d48-01
2022-04-21T16:18:25.170Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:25.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d411e6475f675bef475e58609df3ca1a66f5314-4cee844d6c8cf437-01 outer:exit 2b-4d411e6475f675bef475e58609df3ca1a66f5314-fa876eb3628dc844-01
2022-04-21T16:18:25.175Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:25.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-247217242a539bb29169c26240dcc7d38114a343-fccd99c231f981e3-01 outer:exit 2b-247217242a539bb29169c26240dcc7d38114a343-6b2a68909abc9070-01
2022-04-21T16:18:25.178Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:25.187Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3a35baef19741b15d7c08fa1e836b456bcac695-8fe82272cbc9f995-01 outer:exit 2b-a3a35baef19741b15d7c08fa1e836b456bcac695-6d905b5d45126d80-01
2022-04-21T16:18:25.187Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:25.190Z appoptics:debug span.exit - no last event outer outer:entry 2b-59f0b67be4b0361bc05bd5ba51bf5c10e357654b-657cc9436a0347c5-01 outer:exit 2b-59f0b67be4b0361bc05bd5ba51bf5c10e357654b-6dfb9d2c9106d77f-01
2022-04-21T16:18:25.190Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:25.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-c70e1fe94b94792fff0509dd75c13edaf3593d73-9a4234aefd2389e3-01 outer:exit 2b-c70e1fe94b94792fff0509dd75c13edaf3593d73-77fcf7123d3137fb-01
2022-04-21T16:18:25.197Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:25.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-80a45d2b642600fd31bb4e7ee0a22e79d635a8c1-f194d0c9e030d893-01 outer:exit 2b-80a45d2b642600fd31bb4e7ee0a22e79d635a8c1-59cbca0fc4bd147a-01
2022-04-21T16:18:25.199Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:25.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c6f3b00fd77e1e69a3f158b7324dcc7f0ed8306-fc9b8204c0f0b0ae-01 outer:exit 2b-0c6f3b00fd77e1e69a3f158b7324dcc7f0ed8306-1c4943630d12ed20-01
2022-04-21T16:18:25.202Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:25.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-38fab872b11018d2cd6658f630623c83c9b8feb5-4f16a9a1b11db86b-01 outer:exit 2b-38fab872b11018d2cd6658f630623c83c9b8feb5-126523d876814d1f-01
2022-04-21T16:18:25.205Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:25.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4258615080dbc997f24cd61536ae687bfac6022-f96ce4f054ec49c0-01 outer:exit 2b-d4258615080dbc997f24cd61536ae687bfac6022-c7857491b366437f-01
2022-04-21T16:18:25.209Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:25.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-79a1b47469a035327d5ce9503e5b1d49700a597e-708cfe1a26a1e632-01 outer:exit 2b-79a1b47469a035327d5ce9503e5b1d49700a597e-8604ded261f4127c-01
2022-04-21T16:18:25.216Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:25.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-1727780e7e0b184a4c23ebb0bd73d9ee047d5471-ada2bee4442e9a43-01 outer:exit 2b-1727780e7e0b184a4c23ebb0bd73d9ee047d5471-386ee4bbc32ec47a-01
2022-04-21T16:18:25.234Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:25.273Z appoptics:debug span.exit - no last event outer outer:entry 2b-13b2cfaca669b57c229401af88a4c02521f08165-d7bf55e6a56ec9fb-01 outer:exit 2b-13b2cfaca669b57c229401af88a4c02521f08165-fd6fac18a1f30b66-01
2022-04-21T16:18:25.273Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:25.276Z appoptics:debug span.exit - no last event outer outer:entry 2b-63a6e9c3c23273e21f460f5bacc2b29a5260e19e-e07c3f501e96bc8d-01 outer:exit 2b-63a6e9c3c23273e21f460f5bacc2b29a5260e19e-3ffa2222ea19e426-01
2022-04-21T16:18:25.276Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:25.283Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca66a082ab06a3f06396df3a0775d9bb3f443619-32d78fb6206ca7c0-01 outer:exit 2b-ca66a082ab06a3f06396df3a0775d9bb3f443619-282d4d842297f678-01
2022-04-21T16:18:25.283Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:25.285Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5beafeb69398b49bc03b65fd1f84eb5c29deeb7-465c1aea741df92c-01 outer:exit 2b-a5beafeb69398b49bc03b65fd1f84eb5c29deeb7-c150756c25115819-01
2022-04-21T16:18:25.285Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:25.287Z appoptics:debug span.exit - no last event outer outer:entry 2b-f001c0d392c6879089719a93c348fc18f48c6447-9bb3499a6a2cae83-01 outer:exit 2b-f001c0d392c6879089719a93c348fc18f48c6447-cb684c22eac6bafb-01
2022-04-21T16:18:25.288Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:25.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e4dace116789958e2e93a9514b0924654d5b2e1-0e1b37ee7bcb6eac-01 outer:exit 2b-3e4dace116789958e2e93a9514b0924654d5b2e1-d60db3420aee1fa6-01
2022-04-21T16:18:25.289Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:25.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-033601dd549d953562a79f6b160dd936fb38b9d4-41026d1bdae65903-01 outer:exit 2b-033601dd549d953562a79f6b160dd936fb38b9d4-552a1743a1b81100-01
2022-04-21T16:18:25.291Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:25.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe099ba88c9b247c0f23b5adbd2b835414d2bbc1-fb361f3fb3d1a0fa-01 outer:exit 2b-fe099ba88c9b247c0f23b5adbd2b835414d2bbc1-60251b0f9c4499c9-01
2022-04-21T16:18:25.294Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:25.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-07e41373385e5acd888b180a173008ebe7c5396e-7630fa2c5ae37d6e-01 outer:exit 2b-07e41373385e5acd888b180a173008ebe7c5396e-52c9611c157d5125-01
2022-04-21T16:18:25.295Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:25.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aa4c4b2e74cd41e7d60669b8c0762e2c5315e33-4c8dd27025f18e1a-01 outer:exit 2b-0aa4c4b2e74cd41e7d60669b8c0762e2c5315e33-d02f7237b979d4d4-01
2022-04-21T16:18:25.301Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:25.307Z appoptics:debug span.exit - no last event outer outer:entry 2b-dba694ca40107de2039ea97067fe8cd42528c051-df479823a519ede3-01 outer:exit 2b-dba694ca40107de2039ea97067fe8cd42528c051-150852e31a6c989d-01
2022-04-21T16:18:25.307Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:25.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-fed1654d6a5a067a5037ee6912f5030dd5ab01ba-f015991408281c0b-01 outer:exit 2b-fed1654d6a5a067a5037ee6912f5030dd5ab01ba-fe603ebc886e4773-01
2022-04-21T16:18:25.311Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:25.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d4d4cf52e3fcc8a6d6cbf6cc8127b9188b899d0-6713b030c9906235-01 outer:exit 2b-6d4d4cf52e3fcc8a6d6cbf6cc8127b9188b899d0-eb09ec4c486551d2-01
2022-04-21T16:18:25.313Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:25.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-efd6d32e7e3fcd63c7a3f12153e019805d2b3fa7-72b2f6bbf9402926-01 outer:exit 2b-efd6d32e7e3fcd63c7a3f12153e019805d2b3fa7-7bbd076e108b8913-01
2022-04-21T16:18:25.319Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:25.324Z appoptics:debug span.exit - no last event outer outer:entry 2b-8faa298aed87664b6b03ddcbb056347b37933eba-49e5996ffd952b49-01 outer:exit 2b-8faa298aed87664b6b03ddcbb056347b37933eba-3525ba1b64a6b338-01
2022-04-21T16:18:25.324Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:25.333Z appoptics:debug span.exit - no last event outer outer:entry 2b-7e65fe2e4c6227579af47d87f019862d27658482-cf5f4da9df557e01-01 outer:exit 2b-7e65fe2e4c6227579af47d87f019862d27658482-cf391121ead01690-01
2022-04-21T16:18:25.333Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:25.339Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0bf6c522529aca747deef6d004ee7eb4a11deec-aa9304a59d22bf69-01 outer:exit 2b-b0bf6c522529aca747deef6d004ee7eb4a11deec-9970f63392376229-01
2022-04-21T16:18:25.339Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:25.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-58d6f48b0cab32df05cd2fce0e17827adfb08ae6-31f0d8c0c88ce0aa-01 outer:exit 2b-58d6f48b0cab32df05cd2fce0e17827adfb08ae6-afa4279e510d08fa-01
2022-04-21T16:18:25.341Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:25.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-11e63e9811caa2060fc369dc5a1d76c144cb687e-4d983d0032b77963-01 outer:exit 2b-11e63e9811caa2060fc369dc5a1d76c144cb687e-c9960e84b5c2372d-01
2022-04-21T16:18:25.344Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:25.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-38544046495de7c9e92e5c0294d24093addbfb64-a359ef65455bd148-01 outer:exit 2b-38544046495de7c9e92e5c0294d24093addbfb64-100d9c0c69786b8e-01
2022-04-21T16:18:25.351Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:25.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-4b103f815dfc370be96c08d0a183166727c00c0b-d34df1dcfa13dbc7-01 outer:exit 2b-4b103f815dfc370be96c08d0a183166727c00c0b-fbeb17398effa346-01
2022-04-21T16:18:25.360Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:25.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-9686ddc33004e8d7b804a76f7b18576a114ca072-b7250e5f12418bc7-01 outer:exit 2b-9686ddc33004e8d7b804a76f7b18576a114ca072-7a7b696740d1a983-01
2022-04-21T16:18:25.362Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:25.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-943ed1b1e3c48dc531c4e5a610f389c20c8eaa13-0d19d79c9dc6f78f-01 outer:exit 2b-943ed1b1e3c48dc531c4e5a610f389c20c8eaa13-12f54812d6890963-01
2022-04-21T16:18:25.366Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:25.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5f1e1d8c0a7896272702644a7b45591fcff7419-eac2537c34fe41bf-01 outer:exit 2b-f5f1e1d8c0a7896272702644a7b45591fcff7419-4e48a610f3f300b1-01
2022-04-21T16:18:25.368Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:25.370Z appoptics:debug span.exit - no last event outer outer:entry 2b-2efff5ea30fd794f6e0d89e70094fda90585fe02-28ce6717ae18bb38-01 outer:exit 2b-2efff5ea30fd794f6e0d89e70094fda90585fe02-46625cf829a42708-01
2022-04-21T16:18:25.370Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:25.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e59abb13850c1a848a6f8af6363a06948c9a8d4-484fdb7b2fbcc277-01 outer:exit 2b-6e59abb13850c1a848a6f8af6363a06948c9a8d4-a9cc727f2fcd4c12-01
2022-04-21T16:18:25.386Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:25.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc1abceae7bc0589f8a314b80ba4391432a5025f-5f682afbf3f72cb0-01 outer:exit 2b-fc1abceae7bc0589f8a314b80ba4391432a5025f-ecd663e3382d2260-01
2022-04-21T16:18:25.406Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:25.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-625ff1b1fb1426bdfbbb549bc4f5e0cae9ef5693-e85f42e37d839273-01 outer:exit 2b-625ff1b1fb1426bdfbbb549bc4f5e0cae9ef5693-a0990b3bc91a4e16-01
2022-04-21T16:18:25.411Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:25.414Z appoptics:debug span.exit - no last event outer outer:entry 2b-d61442ef3e0a57ffc5f2517e3a1f9c958ba37e35-f1c15a4249c150bf-01 outer:exit 2b-d61442ef3e0a57ffc5f2517e3a1f9c958ba37e35-ef732169baf5be19-01
2022-04-21T16:18:25.414Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:25.416Z appoptics:debug span.exit - no last event outer outer:entry 2b-6ff57429a7a2eea3a0f5ba5365694baa34b78846-41c6342cc9d53dd5-01 outer:exit 2b-6ff57429a7a2eea3a0f5ba5365694baa34b78846-ce960c3b49b1e367-01
2022-04-21T16:18:25.417Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:25.444Z appoptics:debug span.exit - no last event outer outer:entry 2b-64a52f52663e20702bdb9cd09f3867a7d3e6416e-e78afdfb30132610-01 outer:exit 2b-64a52f52663e20702bdb9cd09f3867a7d3e6416e-d07f1463ea25dbfd-01
2022-04-21T16:18:25.445Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (365ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.2
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.2
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.2
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.2
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.2
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.2
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.2
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.2
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.2
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.2
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.2
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.2
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.2
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.2
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.2
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.2
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.2
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.2
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.2
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.2
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.2
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.2
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.2
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.2
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.2
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.2
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.2
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.2
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.2
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.2
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.2
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.2
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.2
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.2
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.2
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.2
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.2
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.2
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.2
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.2
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.2
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.2
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:31.658Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:31.658Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:31.658Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:31.659Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:31.721Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:31.837Z appoptics:patching patched crypto 
2022-04-21T16:18:31.855Z appoptics:patching patched https 
2022-04-21T16:18:31.855Z appoptics:patching patched http 
2022-04-21T16:18:31.896Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:31.896Z appoptics:patching patched fs 
2022-04-21T16:18:31.919Z appoptics:patching patched mongodb-core 2.1.3 (disabled: node v18.0.0)
2022-04-21T16:18:31.925Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.3
    2.4
      databases
2022-04-21T16:18:31.967Z appoptics:debug span.exit - no last event outer outer:entry 2b-2fc54ae83c0c270979852a1b62954dcd4f8dbeb8-8e76b546fae1b2d1-01 outer:exit 2b-2fc54ae83c0c270979852a1b62954dcd4f8dbeb8-fb10810da23c70e4-01
2022-04-21T16:18:31.967Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:32.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f5a960187b5c5cac083e39da6bf736e10fea192-13ed8cc450072478-01 outer:exit 2b-9f5a960187b5c5cac083e39da6bf736e10fea192-ae10361121a407f7-01
2022-04-21T16:18:32.009Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:32.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-51730d7d91376693e3bdadd7060765cc5e6f2c46-205235d7f641e671-01 outer:exit 2b-51730d7d91376693e3bdadd7060765cc5e6f2c46-07903d8666727e7e-01
2022-04-21T16:18:32.012Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:32.015Z appoptics:debug span.exit - no last event outer outer:entry 2b-12db2912bee9c53cb17f515310baf79e68219724-7b2333ab30a984bd-01 outer:exit 2b-12db2912bee9c53cb17f515310baf79e68219724-0185ab3520636b8b-01
2022-04-21T16:18:32.015Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:32.019Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc9ad5e525f80c9f65cbe4ca0d05952c6b601f86-cad550dab7127d63-01 outer:exit 2b-fc9ad5e525f80c9f65cbe4ca0d05952c6b601f86-debe534954af2479-01
2022-04-21T16:18:32.019Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:32.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a300ffe40b8ac18365366a74de35119a2b2c777-1af439f95dd15a3b-01 outer:exit 2b-1a300ffe40b8ac18365366a74de35119a2b2c777-4442fe5476878350-01
2022-04-21T16:18:32.022Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:32.024Z appoptics:debug span.exit - no last event outer outer:entry 2b-7a4d95bf3dd6809a877e9cfb400e05090dc9179a-1fbacdd1550326ea-01 outer:exit 2b-7a4d95bf3dd6809a877e9cfb400e05090dc9179a-ef9a955340e2b6e2-01
2022-04-21T16:18:32.025Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:32.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-539c57458c15a6edf9c1345085e02f5f3e0f90f0-75018860c7768787-01 outer:exit 2b-539c57458c15a6edf9c1345085e02f5f3e0f90f0-e49dd1e3dae51301-01
2022-04-21T16:18:32.027Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:32.030Z appoptics:debug span.exit - no last event outer outer:entry 2b-886b78a27f95874f906cd1b31c1f8de386e90b98-f728ed35969ce1c8-01 outer:exit 2b-886b78a27f95874f906cd1b31c1f8de386e90b98-15f2fdd9004309c7-01
2022-04-21T16:18:32.030Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:32.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-32f3504584260889975edb90c3aa430395d9a6cc-4d7980e104f722bb-01 outer:exit 2b-32f3504584260889975edb90c3aa430395d9a6cc-c59948e6f76b8fdf-01
2022-04-21T16:18:32.034Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:32.038Z appoptics:debug span.exit - no last event outer outer:entry 2b-76e378e686c1d28913f4bf719281387d11a25fc9-036d38523f65eb00-01 outer:exit 2b-76e378e686c1d28913f4bf719281387d11a25fc9-33b7aaecd005b6db-01
2022-04-21T16:18:32.038Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:32.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c582ab78f03e2c63883b6b6b84aa77135d1c867-83946969a0945cb7-01 outer:exit 2b-4c582ab78f03e2c63883b6b6b84aa77135d1c867-4dd52f25e98d9966-01
2022-04-21T16:18:32.044Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:32.057Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2fd3d3c5c9fc50fb5cf4b8ee325066099e65522-3266e3f54d5b76d0-01 outer:exit 2b-c2fd3d3c5c9fc50fb5cf4b8ee325066099e65522-4a2a35579660c5ea-01
2022-04-21T16:18:32.057Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:32.093Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c1be321029ed2fd5a872b67f1ac542f181ac42d-e580d4232492fd97-01 outer:exit 2b-2c1be321029ed2fd5a872b67f1ac542f181ac42d-ad8c8f64f803a40e-01
2022-04-21T16:18:32.093Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:32.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-422f52168e7922698dbdb1051ff9c8ffa4afe2c0-d47ba9c1877443c8-01 outer:exit 2b-422f52168e7922698dbdb1051ff9c8ffa4afe2c0-0db0c98b55456442-01
2022-04-21T16:18:32.096Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:32.098Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e4973911ff981009459df2904e3d89da060fcab-52acb848dd796264-01 outer:exit 2b-0e4973911ff981009459df2904e3d89da060fcab-a8b9b37eabc9898a-01
2022-04-21T16:18:32.098Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:32.101Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf591ad8304ff6e1d8b3d14b740bd9058a4c8206-f13f28cb1fd4bb43-01 outer:exit 2b-bf591ad8304ff6e1d8b3d14b740bd9058a4c8206-5c2afe8cd9447ca1-01
2022-04-21T16:18:32.101Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:32.103Z appoptics:debug span.exit - no last event outer outer:entry 2b-22df56be9f3ea25c6135e1b250ad83c2a1e71d69-7649eecb13c4ab1f-01 outer:exit 2b-22df56be9f3ea25c6135e1b250ad83c2a1e71d69-07d48448c3b5f7af-01
2022-04-21T16:18:32.103Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:32.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-d99936691d108177cce7954c541d54f775f58138-2fd00d7b9c8cfeb2-01 outer:exit 2b-d99936691d108177cce7954c541d54f775f58138-977ee6a4342b0570-01
2022-04-21T16:18:32.105Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:32.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1e082aeaf56e8b73257644576d86c0ceaf8f033-fa891d1757790a7d-01 outer:exit 2b-c1e082aeaf56e8b73257644576d86c0ceaf8f033-7035a100f0d921cb-01
2022-04-21T16:18:32.107Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:32.109Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c42bf2d1219490788e87cd264fcd1d35f43743e-bebf89e16e44b6be-01 outer:exit 2b-0c42bf2d1219490788e87cd264fcd1d35f43743e-f5b6b4204df364de-01
2022-04-21T16:18:32.109Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:32.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-37764fd35d2753d208524f339c47a947aef679ea-09823641725b55a3-01 outer:exit 2b-37764fd35d2753d208524f339c47a947aef679ea-c6afc17f27f87874-01
2022-04-21T16:18:32.111Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:32.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-d696f037494b3e3d38c1660699c1475ec83e6620-9044ff3871e6d823-01 outer:exit 2b-d696f037494b3e3d38c1660699c1475ec83e6620-fe02797cbc3e4920-01
2022-04-21T16:18:32.113Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:32.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-180b0cbd755d09c617eb2ebe6509b22e92ea397a-8ad172b1ef973815-01 outer:exit 2b-180b0cbd755d09c617eb2ebe6509b22e92ea397a-daa16686f7f4c36f-01
2022-04-21T16:18:32.116Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:32.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-a3d978d70a2bbbf8034a80ec8d38a595a3fb7012-29deb53a7418aec8-01 outer:exit 2b-a3d978d70a2bbbf8034a80ec8d38a595a3fb7012-b3c75ef5f7fa7e21-01
2022-04-21T16:18:32.118Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:32.120Z appoptics:debug span.exit - no last event outer outer:entry 2b-255aaf6d8615ec5389d98f45f7c9bab65a0b9136-1a3181e84a9e616a-01 outer:exit 2b-255aaf6d8615ec5389d98f45f7c9bab65a0b9136-dbf122f071e38540-01
2022-04-21T16:18:32.120Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:32.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b33a6403d8c522aacb080936963dd8ff9c04af9-a2d50904fcbeb40f-01 outer:exit 2b-5b33a6403d8c522aacb080936963dd8ff9c04af9-697bf43f4e655b1f-01
2022-04-21T16:18:32.126Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:32.131Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e368b2b1e8468d02989d16332b00c65f0cca89b-106ec37bd996f73a-01 outer:exit 2b-5e368b2b1e8468d02989d16332b00c65f0cca89b-bb7cba050926725f-01
2022-04-21T16:18:32.131Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:32.139Z appoptics:debug span.exit - no last event outer outer:entry 2b-48209cffc5acef8fe954b3e8a869e18deee32773-44934e0bede7197e-01 outer:exit 2b-48209cffc5acef8fe954b3e8a869e18deee32773-6e32f32b04bdf9a4-01
2022-04-21T16:18:32.139Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:32.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-34b4e75ec07d5a2c1dcc3978a0f4afcdb41b8460-9e3eb9c432fecb11-01 outer:exit 2b-34b4e75ec07d5a2c1dcc3978a0f4afcdb41b8460-1b53c87bd27a727f-01
2022-04-21T16:18:32.144Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:32.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-c04d4f69a0c0c1f3fca6777d60e0842c3134807a-3a414bd4c9293b94-01 outer:exit 2b-c04d4f69a0c0c1f3fca6777d60e0842c3134807a-6976bae52663b41a-01
2022-04-21T16:18:32.146Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:32.149Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f12fc323a8ea6d2ad3434464065b2c78a79201a-83f9f459828abce5-01 outer:exit 2b-2f12fc323a8ea6d2ad3434464065b2c78a79201a-6e33ece9212f5a7f-01
2022-04-21T16:18:32.149Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:32.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-a606b5cf83851d69c365a64f708c2a15bb7fd671-1bc47db38851f88a-01 outer:exit 2b-a606b5cf83851d69c365a64f708c2a15bb7fd671-ecef32963bdf5ec6-01
2022-04-21T16:18:32.154Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:32.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-8fe489841ebdfca955685fac670a0f3358144b00-1d95d66ca755e827-01 outer:exit 2b-8fe489841ebdfca955685fac670a0f3358144b00-7552e0e67fffc3ce-01
2022-04-21T16:18:32.156Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:32.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-08071eaa47434336ab6cf077393e6ce17de653cf-f4250fb1d31c3a93-01 outer:exit 2b-08071eaa47434336ab6cf077393e6ce17de653cf-f61a68f8bb5f9e9e-01
2022-04-21T16:18:32.158Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:32.160Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b417c3017111bdf3b71721aec963d7bdf80c06-57a7b35e48790793-01 outer:exit 2b-51b417c3017111bdf3b71721aec963d7bdf80c06-a16ceb21f4bb9b4f-01
2022-04-21T16:18:32.160Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:32.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-0171d67f3c5a8869064e70fe85a058d064da1c4c-51b6cea385e4a451-01 outer:exit 2b-0171d67f3c5a8869064e70fe85a058d064da1c4c-36bba428571380e6-01
2022-04-21T16:18:32.162Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:32.163Z appoptics:debug span.exit - no last event outer outer:entry 2b-3aed5b587022c6d1f028d2e2d96b25f434ddfd33-0ad039f2513ef145-01 outer:exit 2b-3aed5b587022c6d1f028d2e2d96b25f434ddfd33-96048532a1e4e60c-01
2022-04-21T16:18:32.164Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:32.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc2fa0820d2bb4eed2120959549f6b5f0dc5770b-1fd62f2a5dbae5b3-01 outer:exit 2b-fc2fa0820d2bb4eed2120959549f6b5f0dc5770b-955830d942be5811-01
2022-04-21T16:18:32.172Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:32.179Z appoptics:debug span.exit - no last event outer outer:entry 2b-a79f81590e4641a609ad4968052c30811f7a3fce-202408ad7de87241-01 outer:exit 2b-a79f81590e4641a609ad4968052c30811f7a3fce-6e95d3bbd05bb7fa-01
2022-04-21T16:18:32.179Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:32.182Z appoptics:debug span.exit - no last event outer outer:entry 2b-69610988313fb0e682372bf7eec885ab736af49a-ef766f9acd34cd96-01 outer:exit 2b-69610988313fb0e682372bf7eec885ab736af49a-8a1b99ab2f9d71e8-01
2022-04-21T16:18:32.182Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:32.184Z appoptics:debug span.exit - no last event outer outer:entry 2b-deaff4a68430bf4e260dbee6b7b0d9c33dd71ee7-650634431d0c7a8a-01 outer:exit 2b-deaff4a68430bf4e260dbee6b7b0d9c33dd71ee7-7178f633542186ce-01
2022-04-21T16:18:32.184Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:32.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf412d8c417527beaa91ec7a6d66f44a0f212432-4576d21ff54c4de2-01 outer:exit 2b-cf412d8c417527beaa91ec7a6d66f44a0f212432-ded36505b92f2df7-01
2022-04-21T16:18:32.186Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:32.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a60ec7ef2fe6519298b23805d5f7603a7483540-b5be69e1a97958c8-01 outer:exit 2b-4a60ec7ef2fe6519298b23805d5f7603a7483540-913d555a62041e1e-01
2022-04-21T16:18:32.219Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (289ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.3
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.3
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.3
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.3
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.3
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.3
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.3
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.3
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.3
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.3
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.3
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.3
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.3
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.3
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.3
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.3
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.3
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.3
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.3
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.3
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.3
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.3
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.3
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.3
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.3
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.3
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.3
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.3
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.3
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.3
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.3
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.3
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.3
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.3
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.3
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.3
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.3
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.3
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.3
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.3
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.3
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.3
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:39.217Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:39.218Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:39.218Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:39.218Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:39.277Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:39.390Z appoptics:patching patched crypto 
2022-04-21T16:18:39.408Z appoptics:patching patched https 
2022-04-21T16:18:39.408Z appoptics:patching patched http 
2022-04-21T16:18:39.450Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:39.450Z appoptics:patching patched fs 
2022-04-21T16:18:39.473Z appoptics:patching patched mongodb-core 2.1.4 (disabled: node v18.0.0)
2022-04-21T16:18:39.479Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.4
    2.4
      databases
2022-04-21T16:18:39.521Z appoptics:debug span.exit - no last event outer outer:entry 2b-26da574693509b4235dd133d5e771c5129e69f06-9b1471153d84a434-01 outer:exit 2b-26da574693509b4235dd133d5e771c5129e69f06-41d8d6f18ef08d7d-01
2022-04-21T16:18:39.521Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:39.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-64cecd480391e6cbef2e8d7c75ac2820370f1601-058c6e059752610f-01 outer:exit 2b-64cecd480391e6cbef2e8d7c75ac2820370f1601-a8425e26d9244b63-01
2022-04-21T16:18:39.561Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:39.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0c7abdd420550f30933444899348fd9bdd57c73-6521fe52a246e5ad-01 outer:exit 2b-e0c7abdd420550f30933444899348fd9bdd57c73-ae046f2ea3cd83ea-01
2022-04-21T16:18:39.564Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:39.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-73aa18df111648ed6f62e44ca2d07787cdd20b82-f248777234058f13-01 outer:exit 2b-73aa18df111648ed6f62e44ca2d07787cdd20b82-547b64a0f817b1c1-01
2022-04-21T16:18:39.567Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:39.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-abff194efdc3ac846f72f4ca12f564163c8683f4-db7232c914c10c3f-01 outer:exit 2b-abff194efdc3ac846f72f4ca12f564163c8683f4-5e48e6e192276edf-01
2022-04-21T16:18:39.571Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:39.574Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2afc94c374c9a42dad0a36670922f96a6214f28-33a1b3adfc5a55a1-01 outer:exit 2b-f2afc94c374c9a42dad0a36670922f96a6214f28-ac7b793dc19e87c6-01
2022-04-21T16:18:39.574Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:39.578Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c7b3fa26046888a729b2af879b2fcc59de7d802-1b747b8a2d01ee4e-01 outer:exit 2b-6c7b3fa26046888a729b2af879b2fcc59de7d802-a6b3dbd8fa7221f4-01
2022-04-21T16:18:39.578Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:39.581Z appoptics:debug span.exit - no last event outer outer:entry 2b-62aa5f3c19f221f8e6997cb39d3a7bb347784bd8-4e5aa499d33e236a-01 outer:exit 2b-62aa5f3c19f221f8e6997cb39d3a7bb347784bd8-1d44130cfc59a1da-01
2022-04-21T16:18:39.581Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:39.583Z appoptics:debug span.exit - no last event outer outer:entry 2b-29d3665ad335a4fa8e5493ee47ca50960dbb1435-8830da81c7c92521-01 outer:exit 2b-29d3665ad335a4fa8e5493ee47ca50960dbb1435-b51a8cfb4eb434a4-01
2022-04-21T16:18:39.583Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:39.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-dccb48b878894c8d3b3287b124fbb44207c0dc0d-7f17e99997edd04d-01 outer:exit 2b-dccb48b878894c8d3b3287b124fbb44207c0dc0d-02078219b03473d1-01
2022-04-21T16:18:39.587Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:39.591Z appoptics:debug span.exit - no last event outer outer:entry 2b-013742b10b682897c194413addf61b1f2ea44ad0-453231cf27d27c1c-01 outer:exit 2b-013742b10b682897c194413addf61b1f2ea44ad0-1a9b8e1897172338-01
2022-04-21T16:18:39.591Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:39.596Z appoptics:debug span.exit - no last event outer outer:entry 2b-000e6249d7395ea1d78da6653c91e711e63e1090-47565adde45adfbb-01 outer:exit 2b-000e6249d7395ea1d78da6653c91e711e63e1090-89fae2d85432a308-01
2022-04-21T16:18:39.596Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:39.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-a14b5aca617c84db187ab834d83e90de257d3027-1336b271555a297d-01 outer:exit 2b-a14b5aca617c84db187ab834d83e90de257d3027-1ff90c7674d1101e-01
2022-04-21T16:18:39.611Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:39.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-9837d27ef53cbe72f1cc0b8f03180e5724a5b392-e8a5c41cadcb50bd-01 outer:exit 2b-9837d27ef53cbe72f1cc0b8f03180e5724a5b392-66243a1aee0b184a-01
2022-04-21T16:18:39.647Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:39.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad20ebf00f82e1ce60e3358731a227ff9773385d-141df4979d99ee32-01 outer:exit 2b-ad20ebf00f82e1ce60e3358731a227ff9773385d-905d89a2a2a06d5d-01
2022-04-21T16:18:39.650Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:39.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-1306b5358b5307a152414d994e73aa5366e88b43-2aa1de807f327cf0-01 outer:exit 2b-1306b5358b5307a152414d994e73aa5366e88b43-a06fbc0b98b5494b-01
2022-04-21T16:18:39.652Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:39.655Z appoptics:debug span.exit - no last event outer outer:entry 2b-d4dc73ccfa29e648258ecbd0898b362ff37ec0f3-066c435ef0262920-01 outer:exit 2b-d4dc73ccfa29e648258ecbd0898b362ff37ec0f3-dc8b73b6c3b2f73f-01
2022-04-21T16:18:39.655Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:39.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-0f633863ac12aa9a6bb85443913705e86d0daaf6-b0673c284b5e6162-01 outer:exit 2b-0f633863ac12aa9a6bb85443913705e86d0daaf6-d31be8685cb7cd4a-01
2022-04-21T16:18:39.657Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:39.659Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d30c6d66bd11ceebd7adf9bdfd56cdc48d6e890-25beaa43c667b76e-01 outer:exit 2b-1d30c6d66bd11ceebd7adf9bdfd56cdc48d6e890-47d791f509e3f766-01
2022-04-21T16:18:39.659Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:39.661Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b3f3f9c8910e1a7439e4d363b27529bf944758e-158a572e9c159780-01 outer:exit 2b-9b3f3f9c8910e1a7439e4d363b27529bf944758e-f1503358a5ef6b0e-01
2022-04-21T16:18:39.661Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:39.663Z appoptics:debug span.exit - no last event outer outer:entry 2b-f53f191ab6ac18761f873d2592b31bc724ed0e54-a3a36f069481c915-01 outer:exit 2b-f53f191ab6ac18761f873d2592b31bc724ed0e54-5cb8251c2e1431c3-01
2022-04-21T16:18:39.663Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:39.665Z appoptics:debug span.exit - no last event outer outer:entry 2b-049d49cc7c063964efe67e7756e7e7a52cd955ce-06c0d31a42fe0ef1-01 outer:exit 2b-049d49cc7c063964efe67e7756e7e7a52cd955ce-2b355c64f5157fa0-01
2022-04-21T16:18:39.665Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:39.667Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a88af283e2890b4054fb5cfcccb827419655ae8-79c9bcea2a64f937-01 outer:exit 2b-2a88af283e2890b4054fb5cfcccb827419655ae8-bc708a3a841f436d-01
2022-04-21T16:18:39.667Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:39.670Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbb0c6de2132c3d8c27581b690383ad4b6c8c1a4-da0cda339b81abb9-01 outer:exit 2b-dbb0c6de2132c3d8c27581b690383ad4b6c8c1a4-fb418e3ac86e2c20-01
2022-04-21T16:18:39.670Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:39.672Z appoptics:debug span.exit - no last event outer outer:entry 2b-310f5a3d747c0bce81ea164c7ceb8bbfb4fcc741-d1512d43ab35087c-01 outer:exit 2b-310f5a3d747c0bce81ea164c7ceb8bbfb4fcc741-33b8bc4021330ecd-01
2022-04-21T16:18:39.672Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:39.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d4cdc439bc45d5b376eaf347e139d81c7a2448e-c8edef7386cfd1cf-01 outer:exit 2b-9d4cdc439bc45d5b376eaf347e139d81c7a2448e-c1295f76e960fe6f-01
2022-04-21T16:18:39.674Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:39.680Z appoptics:debug span.exit - no last event outer outer:entry 2b-0182d149b2d5bd86558616a0c880f8156218600d-3bde0c6223e61b45-01 outer:exit 2b-0182d149b2d5bd86558616a0c880f8156218600d-d5cdc22932501b97-01
2022-04-21T16:18:39.680Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:39.686Z appoptics:debug span.exit - no last event outer outer:entry 2b-12b3f3fe6f352bc842e5c7b33f21bdadadafccaa-04b49bbbad390aae-01 outer:exit 2b-12b3f3fe6f352bc842e5c7b33f21bdadadafccaa-0dff4a87e26bdacb-01
2022-04-21T16:18:39.686Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:39.693Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c878ded2ba8497e3e4f81d8a98b635e54f49647-c80a934d160d65e1-01 outer:exit 2b-2c878ded2ba8497e3e4f81d8a98b635e54f49647-c9d57ba01fc32c57-01
2022-04-21T16:18:39.693Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:39.699Z appoptics:debug span.exit - no last event outer outer:entry 2b-bda7938c6d839a57153564e3808e58d2d6115b8a-97c27c7d2b31ac99-01 outer:exit 2b-bda7938c6d839a57153564e3808e58d2d6115b8a-f74d1d55a378caab-01
2022-04-21T16:18:39.699Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:39.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-05b2baf18f398e78095aa374c8e706d4ccf9716b-ba9c723b11b03760-01 outer:exit 2b-05b2baf18f398e78095aa374c8e706d4ccf9716b-6bbbc4f191bd8360-01
2022-04-21T16:18:39.701Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:39.704Z appoptics:debug span.exit - no last event outer outer:entry 2b-186ecdcee128e31b8ab2b8eccc24c7db9046dec2-6994968ae95d1e68-01 outer:exit 2b-186ecdcee128e31b8ab2b8eccc24c7db9046dec2-7bd87b84e0516128-01
2022-04-21T16:18:39.704Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:39.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2cced88a1fc23d05bc2ce093292d5397960b948-a66c946154ca955d-01 outer:exit 2b-d2cced88a1fc23d05bc2ce093292d5397960b948-7cc3c2a62b8e399d-01
2022-04-21T16:18:39.709Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:39.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-a557c0640541a76957f9084d7e2fd3f2ffc5a5e4-02b1cd89839513f5-01 outer:exit 2b-a557c0640541a76957f9084d7e2fd3f2ffc5a5e4-ed538b4a4cbb1ea1-01
2022-04-21T16:18:39.711Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:39.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f50db19d93dcaf641f90031654f1c54a498f36e-e2338f5fe20b04a7-01 outer:exit 2b-7f50db19d93dcaf641f90031654f1c54a498f36e-f2992738fec2a208-01
2022-04-21T16:18:39.713Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:39.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-668a4fc25bcf189b9783158acec1a0feb2dd6bac-f9acef75f19fbd90-01 outer:exit 2b-668a4fc25bcf189b9783158acec1a0feb2dd6bac-09f15b4748d81578-01
2022-04-21T16:18:39.715Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:39.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-f7e5d30e1089fee43a6f3ed4c9f8190061502242-e8b7bb37616aa45a-01 outer:exit 2b-f7e5d30e1089fee43a6f3ed4c9f8190061502242-b92bcff0c21117f8-01
2022-04-21T16:18:39.716Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:39.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f855d0c1e7867c969fa157d9931f18554de4cba-27a35b29916e126c-01 outer:exit 2b-2f855d0c1e7867c969fa157d9931f18554de4cba-6aa638a68eb68c7d-01
2022-04-21T16:18:39.718Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:39.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-58715217a9ba60ee1efeeba8d63f088206cf9de4-45c020db65faec21-01 outer:exit 2b-58715217a9ba60ee1efeeba8d63f088206cf9de4-fd40df46a8c84334-01
2022-04-21T16:18:39.726Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:39.733Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad5e1a21198e9c1d542e62f3a4aedba36cd4d4dd-59003c67688126ba-01 outer:exit 2b-ad5e1a21198e9c1d542e62f3a4aedba36cd4d4dd-b9e7ac7cb3a91b3f-01
2022-04-21T16:18:39.733Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:39.736Z appoptics:debug span.exit - no last event outer outer:entry 2b-8cdd98e0f314f9f1274567dea14d19713aace3ec-7e2cd686f2595955-01 outer:exit 2b-8cdd98e0f314f9f1274567dea14d19713aace3ec-629c1645aec0ac26-01
2022-04-21T16:18:39.736Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:39.738Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b820b09cc55457f9358b87f0ead80d3ee69f1ea-38baec6a49199422-01 outer:exit 2b-8b820b09cc55457f9358b87f0ead80d3ee69f1ea-77f6981413783716-01
2022-04-21T16:18:39.738Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:39.740Z appoptics:debug span.exit - no last event outer outer:entry 2b-34f20403a324fd7b4ad8b01db6e8d3cf1905465c-89125c2a3f90179a-01 outer:exit 2b-34f20403a324fd7b4ad8b01db6e8d3cf1905465c-43753c25a5856a7b-01
2022-04-21T16:18:39.740Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:39.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-ffccec1e3a6a3b15be07332f6a8bd21bf68c9961-e10d5b94864b2d3d-01 outer:exit 2b-ffccec1e3a6a3b15be07332f6a8bd21bf68c9961-d841b107f030d9e9-01
2022-04-21T16:18:39.765Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (282ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.4
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.4
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.4
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.4
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.4
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.4
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.4
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.4
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.4
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.4
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.4
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.4
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.4
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.4
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.4
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.4
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.4
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.4
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.4
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.4
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.4
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.4
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.4
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.4
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.4
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.4
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.4
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.4
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.4
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.4
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.4
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.4
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.4
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.4
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.4
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.4
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.4
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.4
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.4
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.4
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.4
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.4
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:45.562Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:45.562Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:45.562Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:45.563Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:45.620Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:45.728Z appoptics:patching patched crypto 
2022-04-21T16:18:45.753Z appoptics:patching patched https 
2022-04-21T16:18:45.754Z appoptics:patching patched http 
2022-04-21T16:18:45.790Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:45.790Z appoptics:patching patched fs 
2022-04-21T16:18:45.814Z appoptics:patching patched mongodb-core 2.1.5 (disabled: node v18.0.0)
2022-04-21T16:18:45.819Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.5
    2.4
      databases
2022-04-21T16:18:45.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e733c619fef6dab13a112c8e9cb8f62a937ccb8-8b62f24ca41d364b-01 outer:exit 2b-4e733c619fef6dab13a112c8e9cb8f62a937ccb8-f51fad4404656d30-01
2022-04-21T16:18:45.864Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:45.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-56038a1fb798ee9b74a4aaabe177f98249079d1b-79ca7b21ebec7313-01 outer:exit 2b-56038a1fb798ee9b74a4aaabe177f98249079d1b-c6d6bcdfc81c9a0d-01
2022-04-21T16:18:45.907Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:45.910Z appoptics:debug span.exit - no last event outer outer:entry 2b-d133e81f542b6fd1de376c510e7ac4fa7d12cc75-f8ee365e6cf511be-01 outer:exit 2b-d133e81f542b6fd1de376c510e7ac4fa7d12cc75-abc401b75237df67-01
2022-04-21T16:18:45.910Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:45.913Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc5b0d650f7eaf4778b44e7b8f68faa5c6fe991e-e0d15843564b34ae-01 outer:exit 2b-cc5b0d650f7eaf4778b44e7b8f68faa5c6fe991e-8436ed8530314a01-01
2022-04-21T16:18:45.913Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:45.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-08e6e1226f28f2d11a79ffb0df9844f63552426f-70691745203f4947-01 outer:exit 2b-08e6e1226f28f2d11a79ffb0df9844f63552426f-b01c6fc46a0a40d8-01
2022-04-21T16:18:45.920Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:45.923Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa9f2d3de6da609f5e711c8327cf51c702215670-3d86fe86f85d9fc4-01 outer:exit 2b-aa9f2d3de6da609f5e711c8327cf51c702215670-93d361863aa1b064-01
2022-04-21T16:18:45.923Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:45.925Z appoptics:debug span.exit - no last event outer outer:entry 2b-566a7b0c541c1db35e95e63d00a10026dc3378b9-031b6f42e92e0ae5-01 outer:exit 2b-566a7b0c541c1db35e95e63d00a10026dc3378b9-bcc3cb3d670ee3ef-01
2022-04-21T16:18:45.925Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:45.928Z appoptics:debug span.exit - no last event outer outer:entry 2b-64cb0caafa3a6e4443cc34c8cd7da3cceca1bb52-b90c9f47ddbbe83c-01 outer:exit 2b-64cb0caafa3a6e4443cc34c8cd7da3cceca1bb52-e43f945ccad888e9-01
2022-04-21T16:18:45.928Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:45.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-bf3e2aac13b405d910cc2392706a6a881d7f8b22-52d9b59d4eb0f219-01 outer:exit 2b-bf3e2aac13b405d910cc2392706a6a881d7f8b22-85872767a4342e3b-01
2022-04-21T16:18:45.930Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:45.933Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc97167fe03f9b92fb3d2feb539f328e553d5f17-fe1043624810cf60-01 outer:exit 2b-bc97167fe03f9b92fb3d2feb539f328e553d5f17-32208ef47cd644ed-01
2022-04-21T16:18:45.933Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:45.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2cd0f7934ed06671e4ab3a9f6b8bb3bf3665745-452e56e024f9fb9c-01 outer:exit 2b-a2cd0f7934ed06671e4ab3a9f6b8bb3bf3665745-13e7b94a0c7fcc69-01
2022-04-21T16:18:45.937Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:45.943Z appoptics:debug span.exit - no last event outer outer:entry 2b-111dd1b79958f33eff64f4c6b2fd5f88a3d2691f-03a5c0065920bb4d-01 outer:exit 2b-111dd1b79958f33eff64f4c6b2fd5f88a3d2691f-43e27e064bc3aef1-01
2022-04-21T16:18:45.943Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:45.957Z appoptics:debug span.exit - no last event outer outer:entry 2b-5b82da7652beb2c0981f76941a472186fea4d705-b554ffee106d4ea7-01 outer:exit 2b-5b82da7652beb2c0981f76941a472186fea4d705-4e21c6f31915d5aa-01
2022-04-21T16:18:45.957Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:45.993Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3b2118eebc71346798c048265cbeaef59e86a96-186cda54df43794e-01 outer:exit 2b-b3b2118eebc71346798c048265cbeaef59e86a96-c68efce0238fac80-01
2022-04-21T16:18:45.993Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:45.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-2c70ba4ed35d3395e903365feedf3bec190eb330-97443e9ffe9644cb-01 outer:exit 2b-2c70ba4ed35d3395e903365feedf3bec190eb330-31192203ba3d875d-01
2022-04-21T16:18:45.996Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:45.998Z appoptics:debug span.exit - no last event outer outer:entry 2b-8851c9710f16926eb236f2968a4e750d56c93a18-84a71655c3589c01-01 outer:exit 2b-8851c9710f16926eb236f2968a4e750d56c93a18-6f0bca207aa5f0a9-01
2022-04-21T16:18:45.998Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:46.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-1034604b10b573b2d20568d67493ba746a73b9e6-eda8a0efdcea1bd9-01 outer:exit 2b-1034604b10b573b2d20568d67493ba746a73b9e6-060524315a5e99f9-01
2022-04-21T16:18:46.001Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:46.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-e17499fe591d204f5bb4bc2559236da0e665bd52-9591dc0486842f89-01 outer:exit 2b-e17499fe591d204f5bb4bc2559236da0e665bd52-2059a3b055f108e1-01
2022-04-21T16:18:46.003Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:46.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-31e7a12fe5a68eed2424877ebdfb3db7432d2637-9db8ed9c691a2f54-01 outer:exit 2b-31e7a12fe5a68eed2424877ebdfb3db7432d2637-c6b0c3d64ae47495-01
2022-04-21T16:18:46.005Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:46.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-9883a6e613f90c720aba75cd303bfdf9558db08f-bece5fb2be4b4cef-01 outer:exit 2b-9883a6e613f90c720aba75cd303bfdf9558db08f-24aeace2d47c9524-01
2022-04-21T16:18:46.007Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:46.009Z appoptics:debug span.exit - no last event outer outer:entry 2b-d0976f9801b706180bf4069e3ca08aeb3f342aa9-5353393440e6cece-01 outer:exit 2b-d0976f9801b706180bf4069e3ca08aeb3f342aa9-cac495fa391790cb-01
2022-04-21T16:18:46.009Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:46.011Z appoptics:debug span.exit - no last event outer outer:entry 2b-c152e17135fa86eedd4aacba5cd225a1d628c025-9ff96ad568784468-01 outer:exit 2b-c152e17135fa86eedd4aacba5cd225a1d628c025-5b4121c49a23f2cf-01
2022-04-21T16:18:46.011Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:46.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-740b8c5f69884939478ef6876cb91009e92e9b01-184853dbcfeb46a6-01 outer:exit 2b-740b8c5f69884939478ef6876cb91009e92e9b01-f2b3c502616cfad1-01
2022-04-21T16:18:46.014Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:46.016Z appoptics:debug span.exit - no last event outer outer:entry 2b-09dca3363247cfaba87e43c3981e26f586c174e5-3e23f998b3799c1d-01 outer:exit 2b-09dca3363247cfaba87e43c3981e26f586c174e5-f4cc94432ebc2ad6-01
2022-04-21T16:18:46.016Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:46.018Z appoptics:debug span.exit - no last event outer outer:entry 2b-338466636f45e87a822987538f2c19dcdbdb09ae-9fa077426a18429c-01 outer:exit 2b-338466636f45e87a822987538f2c19dcdbdb09ae-3ae34f5e4e7c366d-01
2022-04-21T16:18:46.018Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:46.020Z appoptics:debug span.exit - no last event outer outer:entry 2b-258bcc0ead6fd864063c72b1deaaa77157fce6e4-b8341dd26b3e63e8-01 outer:exit 2b-258bcc0ead6fd864063c72b1deaaa77157fce6e4-ea6858db7bd1d439-01
2022-04-21T16:18:46.020Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:46.026Z appoptics:debug span.exit - no last event outer outer:entry 2b-d625720ace5138aaa205b18130ff03df247b8a2d-86eaad03f5b1ab1d-01 outer:exit 2b-d625720ace5138aaa205b18130ff03df247b8a2d-0b5e5940186472f6-01
2022-04-21T16:18:46.026Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:46.031Z appoptics:debug span.exit - no last event outer outer:entry 2b-66a9d31d4beb7b054ababc21482d18dd74cb60a9-58a39677e0784320-01 outer:exit 2b-66a9d31d4beb7b054ababc21482d18dd74cb60a9-7dac6db79ce12e67-01
2022-04-21T16:18:46.031Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:46.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-91b6297fb98110a60937e1019783aa73ae4b7bc5-d4f097bcd33fcd9e-01 outer:exit 2b-91b6297fb98110a60937e1019783aa73ae4b7bc5-b3d1567cf17a915c-01
2022-04-21T16:18:46.039Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:46.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb06adde3c885e3f9e795e908a19e94ab7ec39fe-ac881c5549dd66bc-01 outer:exit 2b-cb06adde3c885e3f9e795e908a19e94ab7ec39fe-db3efbfd4e99cf8a-01
2022-04-21T16:18:46.044Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:46.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1848a4a27f69adf7f57d22283ce1c7286555443-4b1ea1b5c23f093b-01 outer:exit 2b-d1848a4a27f69adf7f57d22283ce1c7286555443-98d232fc089e7bea-01
2022-04-21T16:18:46.045Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:46.048Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ac2daca1ced2149fda332c526607ad327ab57d7-cdc5b934fad0f23f-01 outer:exit 2b-2ac2daca1ced2149fda332c526607ad327ab57d7-16d1b89e53501750-01
2022-04-21T16:18:46.048Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:46.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-f25f2d649e4256a2016ba8512726ff16f66229d1-194538060aebe646-01 outer:exit 2b-f25f2d649e4256a2016ba8512726ff16f66229d1-c5c4311e8b49ef73-01
2022-04-21T16:18:46.054Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:46.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca486c2b305860cb25a4055b08eab726d0f65a28-2bee4e4e6c2fd828-01 outer:exit 2b-ca486c2b305860cb25a4055b08eab726d0f65a28-791ab43660948a56-01
2022-04-21T16:18:46.056Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:46.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-03361c7009c30eeb13618eef29f40a9f5feb3093-4408bd20a8a24ec8-01 outer:exit 2b-03361c7009c30eeb13618eef29f40a9f5feb3093-a108a9fc26041412-01
2022-04-21T16:18:46.058Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:46.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-17db9080fd3ecc6a1ca259be63bdf69491504938-e805f0c61f1bacd0-01 outer:exit 2b-17db9080fd3ecc6a1ca259be63bdf69491504938-a913f1fcfa2a5643-01
2022-04-21T16:18:46.059Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:46.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-60143349299f77b28ba8a06b69da04ed10160606-3b2d05fc2f403a8c-01 outer:exit 2b-60143349299f77b28ba8a06b69da04ed10160606-a46834778a907c8c-01
2022-04-21T16:18:46.061Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:46.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-01627646e71f89bf75d35d98a95f2c94978061b2-032b996e7c43b5fb-01 outer:exit 2b-01627646e71f89bf75d35d98a95f2c94978061b2-3a8dd8ca2623ede1-01
2022-04-21T16:18:46.063Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:46.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-5eaecd350ff0481bf90b8801fef66fe993788235-0cf24f69aa15ff45-01 outer:exit 2b-5eaecd350ff0481bf90b8801fef66fe993788235-d174207db4624186-01
2022-04-21T16:18:46.074Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:46.081Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac7413af6868341d3e8f398a600da30cb4b2f7cb-493a23457f6219c5-01 outer:exit 2b-ac7413af6868341d3e8f398a600da30cb4b2f7cb-8d4fc5d4b1ed52f1-01
2022-04-21T16:18:46.081Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:46.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-4135ab3745dc08b5af6e2755d29432b30566a67a-caedf964d5275831-01 outer:exit 2b-4135ab3745dc08b5af6e2755d29432b30566a67a-37d78d3c27437197-01
2022-04-21T16:18:46.083Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:46.086Z appoptics:debug span.exit - no last event outer outer:entry 2b-b3f962cfa66209b0d26821d6181ff78a4c555ce8-b8a2fb0a44256084-01 outer:exit 2b-b3f962cfa66209b0d26821d6181ff78a4c555ce8-23f9874ef521af4b-01
2022-04-21T16:18:46.086Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:46.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-239eebc1596196eaa5f2b0f1d551aec472b10fd2-28fba4c1d7f22a8b-01 outer:exit 2b-239eebc1596196eaa5f2b0f1d551aec472b10fd2-9e80e4b9c3b4a68d-01
2022-04-21T16:18:46.088Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:46.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0441ec522506209c3c7f6905b948ef5f5300b3b-2fbce9a1c427f199-01 outer:exit 2b-e0441ec522506209c3c7f6905b948ef5f5300b3b-b9c4b1e617b5064c-01
2022-04-21T16:18:46.113Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (292ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.5
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.5
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.5
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.5
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.5
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.5
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.5
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.5
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.5
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.5
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.5
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.5
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.5
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.5
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.5
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.5
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.5
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.5
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.5
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.5
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.5
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.5
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.5
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.5
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.5
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.5
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.5
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.5
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.5
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.5
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.5
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.5
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.5
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.5
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.5
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.5
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.5
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.5
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.5
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.5
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.5
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.5
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:52.793Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:52.794Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:52.794Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:52.795Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:52.852Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:52.998Z appoptics:patching patched crypto 
2022-04-21T16:18:53.028Z appoptics:patching patched https 
2022-04-21T16:18:53.029Z appoptics:patching patched http 
2022-04-21T16:18:53.071Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:53.072Z appoptics:patching patched fs 
2022-04-21T16:18:53.096Z appoptics:patching patched mongodb-core 2.1.6 (disabled: node v18.0.0)
2022-04-21T16:18:53.101Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.6
    2.4
      databases
2022-04-21T16:18:53.155Z appoptics:debug span.exit - no last event outer outer:entry 2b-ac0b9f37c81eda48fde174e88b0669ec910875ec-47eb68f65a52a3d5-01 outer:exit 2b-ac0b9f37c81eda48fde174e88b0669ec910875ec-ec54ecf2be614fb7-01
2022-04-21T16:18:53.155Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:53.198Z appoptics:debug span.exit - no last event outer outer:entry 2b-c953be82386faf2bfb3ef5984bc475f8eabdd508-ea3f46e496b2e726-01 outer:exit 2b-c953be82386faf2bfb3ef5984bc475f8eabdd508-c408dc75e6cc1e05-01
2022-04-21T16:18:53.198Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:53.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-4687491d03550e869ce097109ea9fa0b936b68b4-6bb343e6cab0fe22-01 outer:exit 2b-4687491d03550e869ce097109ea9fa0b936b68b4-5d4f75c61fd612be-01
2022-04-21T16:18:53.201Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:53.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec2cc0a03414f1b4ead291ed58d0db647f2c0df1-9faeac808c5f6beb-01 outer:exit 2b-ec2cc0a03414f1b4ead291ed58d0db647f2c0df1-2a21305eb5f50982-01
2022-04-21T16:18:53.204Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:53.209Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6a55dd666e83e641b9a3031ae5f2940dad27e23-cae028d8473e70db-01 outer:exit 2b-c6a55dd666e83e641b9a3031ae5f2940dad27e23-5bd1a9b518ec5a0c-01
2022-04-21T16:18:53.209Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:53.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-37d25ed1059f734ac658034d41075a512903451f-a77c398a80b22699-01 outer:exit 2b-37d25ed1059f734ac658034d41075a512903451f-02af293fa3a6ef5b-01
2022-04-21T16:18:53.212Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:53.215Z appoptics:debug span.exit - no last event outer outer:entry 2b-e1e74b19086b96a8f4389c6128c4783b452d6fd0-f86d67bd14036736-01 outer:exit 2b-e1e74b19086b96a8f4389c6128c4783b452d6fd0-346eef773ae92b3f-01
2022-04-21T16:18:53.215Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:53.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b03b6495eae32764cefd13d74dceeeffec80b09-aa62a9d973f93cca-01 outer:exit 2b-8b03b6495eae32764cefd13d74dceeeffec80b09-4770f84c45cdbb1d-01
2022-04-21T16:18:53.219Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:53.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8aad6cfdb683b4c2d3db5f04ebb9e4ef3aecdd9-aa7923f3061329d7-01 outer:exit 2b-b8aad6cfdb683b4c2d3db5f04ebb9e4ef3aecdd9-4905a1dac4a12b93-01
2022-04-21T16:18:53.226Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:53.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-4e7dbafa796a5e1c0166897089ebbb1c7bce2905-f9b1fca2c48cff57-01 outer:exit 2b-4e7dbafa796a5e1c0166897089ebbb1c7bce2905-6c48db13fb175a56-01
2022-04-21T16:18:53.229Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:53.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-0aa7b3db0ee10f834a9e0d8243190738d4c2ed02-1601603aea49829a-01 outer:exit 2b-0aa7b3db0ee10f834a9e0d8243190738d4c2ed02-1eb0354cdda09e4a-01
2022-04-21T16:18:53.233Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:53.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-b6edb689bfb4696043945df067c196ccfdad2ccb-3929e159ef6d6322-01 outer:exit 2b-b6edb689bfb4696043945df067c196ccfdad2ccb-c2fc536afd97f9db-01
2022-04-21T16:18:53.239Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:53.253Z appoptics:debug span.exit - no last event outer outer:entry 2b-261b62d1d9a461fac044b1832fb1c579739b9f95-fe1f8aa0c2be3ee2-01 outer:exit 2b-261b62d1d9a461fac044b1832fb1c579739b9f95-122cf11cd5f32bf4-01
2022-04-21T16:18:53.253Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:53.290Z appoptics:debug span.exit - no last event outer outer:entry 2b-84861b96fb444532fbcda7be54be18dce709347b-99ff78456cab901d-01 outer:exit 2b-84861b96fb444532fbcda7be54be18dce709347b-9a5adad0bb77b854-01
2022-04-21T16:18:53.290Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:53.293Z appoptics:debug span.exit - no last event outer outer:entry 2b-64fe280bb72a2dd189500dc59327da4062ea9010-e8501b53d63eb2fd-01 outer:exit 2b-64fe280bb72a2dd189500dc59327da4062ea9010-acf76cee5f8ca535-01
2022-04-21T16:18:53.293Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:53.295Z appoptics:debug span.exit - no last event outer outer:entry 2b-0264c1b1efb6a0d45f75062f5d098e9180c32a06-34e0569e85c2a9fa-01 outer:exit 2b-0264c1b1efb6a0d45f75062f5d098e9180c32a06-23bb8416d44baf58-01
2022-04-21T16:18:53.295Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:53.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-78a22b3845de4a4fdb682b4bda46c16a00a5f3ef-c2e9e38d1c486e62-01 outer:exit 2b-78a22b3845de4a4fdb682b4bda46c16a00a5f3ef-b97d2d2861cdee3b-01
2022-04-21T16:18:53.298Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:53.300Z appoptics:debug span.exit - no last event outer outer:entry 2b-6407b326564c81a3d4c2ee612dfe2115f2c03a90-59fd99724e2ecf37-01 outer:exit 2b-6407b326564c81a3d4c2ee612dfe2115f2c03a90-dfe50f11a537ec40-01
2022-04-21T16:18:53.300Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:53.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb15909352a8cd5a5852a1cb1fd8871915bd4d75-c1d5149c772d7dd0-01 outer:exit 2b-cb15909352a8cd5a5852a1cb1fd8871915bd4d75-9afacdfaf561ebe4-01
2022-04-21T16:18:53.302Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:53.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-9063f87c3334d36f0cd48364c1cfb922d9fb8b75-64c9c820297391c5-01 outer:exit 2b-9063f87c3334d36f0cd48364c1cfb922d9fb8b75-f98318647abf9823-01
2022-04-21T16:18:53.304Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:53.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-4871066304623f883d4a05077b57b1c557cf4325-3b30b7d847b0f967-01 outer:exit 2b-4871066304623f883d4a05077b57b1c557cf4325-767c129c75a1cb88-01
2022-04-21T16:18:53.306Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:53.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9a50bdfafe8a6f365fdf7a758cba1c28aadcf88-2c91ab2bf81c54ee-01 outer:exit 2b-b9a50bdfafe8a6f365fdf7a758cba1c28aadcf88-4a190061ae180347-01
2022-04-21T16:18:53.308Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:53.310Z appoptics:debug span.exit - no last event outer outer:entry 2b-80aac98a0b4383eeafd5747553e2c417009cb407-d1d0b1d71dcbc358-01 outer:exit 2b-80aac98a0b4383eeafd5747553e2c417009cb407-a31b78e884a3e339-01
2022-04-21T16:18:53.310Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:53.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-764d3a56063a56f471524a60aca1ca8590b09779-e7da52ef1047e0a9-01 outer:exit 2b-764d3a56063a56f471524a60aca1ca8590b09779-d878b5864d91dd5a-01
2022-04-21T16:18:53.313Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:53.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-788a6708141c9065e0bb83df8472148907a07899-e2c6d4e74243f17b-01 outer:exit 2b-788a6708141c9065e0bb83df8472148907a07899-77ce14dbfcc7ec59-01
2022-04-21T16:18:53.315Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:53.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a9c61863e94e67810268b39cbd13b564cefb68c-4d5de4b8d7f99b21-01 outer:exit 2b-4a9c61863e94e67810268b39cbd13b564cefb68c-a81a291d93275c62-01
2022-04-21T16:18:53.317Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:53.323Z appoptics:debug span.exit - no last event outer outer:entry 2b-ccffff2029187ee2d4a698203f72f09b0fb75d79-ae5f1f2a1542dd2e-01 outer:exit 2b-ccffff2029187ee2d4a698203f72f09b0fb75d79-bd22694f132f3f28-01
2022-04-21T16:18:53.323Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:53.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d61eb1d58c9250ff66ec34706a6b8537d3eb1b2-a32424889686ae1a-01 outer:exit 2b-0d61eb1d58c9250ff66ec34706a6b8537d3eb1b2-4176dff1de0d6f05-01
2022-04-21T16:18:53.328Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:53.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8618530dca2a420954e47e4366e1337e3d215b5-773b48ba3efa2192-01 outer:exit 2b-c8618530dca2a420954e47e4366e1337e3d215b5-ab626d08cbd9dd33-01
2022-04-21T16:18:53.336Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:53.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-be2e39d8fbef6fa9c3c6afdd8066c61c35922844-a78e4129e490b3d8-01 outer:exit 2b-be2e39d8fbef6fa9c3c6afdd8066c61c35922844-2e8b2357960f00d6-01
2022-04-21T16:18:53.341Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:53.343Z appoptics:debug span.exit - no last event outer outer:entry 2b-a78650327ad82b5dcf476420b0d4dfbb66e55881-f2f719b47a85665b-01 outer:exit 2b-a78650327ad82b5dcf476420b0d4dfbb66e55881-5a8171db49f577bc-01
2022-04-21T16:18:53.343Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:53.346Z appoptics:debug span.exit - no last event outer outer:entry 2b-44dce1bc79513daac575355cbbc83bbecfa13b7d-a99c662e0dd3119b-01 outer:exit 2b-44dce1bc79513daac575355cbbc83bbecfa13b7d-caef9ec72360bd5f-01
2022-04-21T16:18:53.346Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:53.351Z appoptics:debug span.exit - no last event outer outer:entry 2b-46913234eafe2676ce0980d1fb565cd944378f28-8758281aee895863-01 outer:exit 2b-46913234eafe2676ce0980d1fb565cd944378f28-539b2519368f6d74-01
2022-04-21T16:18:53.352Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:53.353Z appoptics:debug span.exit - no last event outer outer:entry 2b-2faeee7721ca476432b3371bdf4ac0ba873abcc7-fe94af4f1821a4be-01 outer:exit 2b-2faeee7721ca476432b3371bdf4ac0ba873abcc7-483dad415455ab0a-01
2022-04-21T16:18:53.353Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:53.355Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e0475f7e49533a9702decd5e17dda929070afe8-60f66392b7128333-01 outer:exit 2b-9e0475f7e49533a9702decd5e17dda929070afe8-f0959a6670c8dca0-01
2022-04-21T16:18:53.355Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:53.357Z appoptics:debug span.exit - no last event outer outer:entry 2b-d637963e91cdc880af9f0af396ee9d4a10bd0208-6dcdf8cfdba2d910-01 outer:exit 2b-d637963e91cdc880af9f0af396ee9d4a10bd0208-0e99a16b0877eefb-01
2022-04-21T16:18:53.357Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:53.359Z appoptics:debug span.exit - no last event outer outer:entry 2b-8bccec55681c03e5ed330291980be82b58004fa4-a4f653fb2c65d024-01 outer:exit 2b-8bccec55681c03e5ed330291980be82b58004fa4-7271b88db2a1b010-01
2022-04-21T16:18:53.359Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:53.360Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6181b9f5633bf43bdab37f98dc3d7d96ba6402f-711f77443fb888f8-01 outer:exit 2b-f6181b9f5633bf43bdab37f98dc3d7d96ba6402f-0942e1e4749f1f65-01
2022-04-21T16:18:53.360Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:53.368Z appoptics:debug span.exit - no last event outer outer:entry 2b-6c447d328db92e1b415ec57c6cd29dc03e52fef8-911ce648b89c9296-01 outer:exit 2b-6c447d328db92e1b415ec57c6cd29dc03e52fef8-9a48c834785a6c97-01
2022-04-21T16:18:53.368Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:53.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-7602c52b358e4a9191a4c8bbf1804e05485a6813-ff9a6b99eb0791d5-01 outer:exit 2b-7602c52b358e4a9191a4c8bbf1804e05485a6813-b08324e8f03fda59-01
2022-04-21T16:18:53.376Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:53.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d9e3c79ba02b9f5673bd723a5519fb8f81f6d76-28457a3f74b06452-01 outer:exit 2b-6d9e3c79ba02b9f5673bd723a5519fb8f81f6d76-cd038a162b5b45dc-01
2022-04-21T16:18:53.378Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:53.381Z appoptics:debug span.exit - no last event outer outer:entry 2b-6d5d0f75dc32246120e895540436798bfc933f1e-a3525bc652738dee-01 outer:exit 2b-6d5d0f75dc32246120e895540436798bfc933f1e-7f33db6c014b4b55-01
2022-04-21T16:18:53.381Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:53.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-fbfc83f647498efce9528911a5cdd8edfab8f71d-074123d3ef2f33d1-01 outer:exit 2b-fbfc83f647498efce9528911a5cdd8edfab8f71d-0bfd4b5241fe02b0-01
2022-04-21T16:18:53.383Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:53.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe94f01da888107d7ef941803976cfe2314d315c-92d638927b5d0cca-01 outer:exit 2b-fe94f01da888107d7ef941803976cfe2314d315c-4bab470c14a6aed7-01
2022-04-21T16:18:53.408Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (302ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.6
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.6
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.6
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.6
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.6
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.6
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.6
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.6
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.6
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.6
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.6
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.6
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.6
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.6
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.6
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.6
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.6
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.6
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.6
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.6
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.6
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.6
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.6
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.6
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.6
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.6
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.6
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.6
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.6
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.6
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.6
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.6
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.6
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.6
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.6
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.6
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.6
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.6
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.6
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.6
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.6
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.6
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:18:59.043Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:18:59.043Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:18:59.043Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:18:59.044Z appoptics:debug using context provider: ace-context
2022-04-21T16:18:59.103Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:18:59.230Z appoptics:patching patched crypto 
2022-04-21T16:18:59.271Z appoptics:patching patched https 
2022-04-21T16:18:59.272Z appoptics:patching patched http 
2022-04-21T16:18:59.316Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:18:59.316Z appoptics:patching patched fs 
2022-04-21T16:18:59.343Z appoptics:patching patched mongodb-core 2.1.7 (disabled: node v18.0.0)
2022-04-21T16:18:59.349Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.7
    2.4
      databases
2022-04-21T16:18:59.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c073258e60f133be97fb668d82c219ede766a87-729924f30915b680-01 outer:exit 2b-5c073258e60f133be97fb668d82c219ede766a87-6070ecf1a3e4c988-01
2022-04-21T16:18:59.398Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:18:59.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-8aea8e9d62a43c219e47cda2d8ddccf4fc56f340-ecd35c1c96abbf64-01 outer:exit 2b-8aea8e9d62a43c219e47cda2d8ddccf4fc56f340-3bcf9615933c40af-01
2022-04-21T16:18:59.440Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:18:59.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-622f9620224b58dbb948f59b7629c3b1f6e9cceb-e7bc111e06bf9f9b-01 outer:exit 2b-622f9620224b58dbb948f59b7629c3b1f6e9cceb-155f693f643473ec-01
2022-04-21T16:18:59.443Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:18:59.447Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc7da36fc293a5754c20dcbfe9127e850adce295-0a680c5cbd8a907e-01 outer:exit 2b-dc7da36fc293a5754c20dcbfe9127e850adce295-f59da94f0c49da1f-01
2022-04-21T16:18:59.447Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:18:59.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5da6a6e1e561dd136a40b70c70863d8880f30dd-f94a1adf478ef9d5-01 outer:exit 2b-b5da6a6e1e561dd136a40b70c70863d8880f30dd-15403655500a6415-01
2022-04-21T16:18:59.452Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:18:59.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-51b2f639b919c4e23a1702e69efad250102ffe53-cdd9296ee9efceb4-01 outer:exit 2b-51b2f639b919c4e23a1702e69efad250102ffe53-36579b64b618131b-01
2022-04-21T16:18:59.455Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:18:59.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-be2c70beb59ee0c14ef98ac8f8df301dd0743aa9-509ce8648a2aa002-01 outer:exit 2b-be2c70beb59ee0c14ef98ac8f8df301dd0743aa9-1f06014046345809-01
2022-04-21T16:18:59.459Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:18:59.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-40892f24fa6ab392ccff06b89895e52cb43dbc57-0eba06585f173297-01 outer:exit 2b-40892f24fa6ab392ccff06b89895e52cb43dbc57-cd77991fd39a8260-01
2022-04-21T16:18:59.462Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:18:59.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-6db2fc8ea192d0ed10c9178de4def2e169c36ca0-3193b603a39a926c-01 outer:exit 2b-6db2fc8ea192d0ed10c9178de4def2e169c36ca0-a33648c645db8e8f-01
2022-04-21T16:18:59.465Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:18:59.468Z appoptics:debug span.exit - no last event outer outer:entry 2b-25c79d0401577e405cd38a2c6b5e7731986f068a-2c446a90d3e01c6b-01 outer:exit 2b-25c79d0401577e405cd38a2c6b5e7731986f068a-b02dfa4ad575c895-01
2022-04-21T16:18:59.468Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:18:59.472Z appoptics:debug span.exit - no last event outer outer:entry 2b-263162822822140cfdaf712200a4952825e1adf9-e779a584fd215228-01 outer:exit 2b-263162822822140cfdaf712200a4952825e1adf9-7ca5f9e9fb956194-01
2022-04-21T16:18:59.472Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:18:59.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-14112e78284f13d210b891122350c42a176213a8-a18dd93051491c2e-01 outer:exit 2b-14112e78284f13d210b891122350c42a176213a8-50f4617d10944ea7-01
2022-04-21T16:18:59.478Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:18:59.495Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d9706fb1659677f5980fd824366d8085aa5a4e7-71ff94bc0ac73951-01 outer:exit 2b-4d9706fb1659677f5980fd824366d8085aa5a4e7-fa44a3d6abfc2305-01
2022-04-21T16:18:59.495Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:18:59.534Z appoptics:debug span.exit - no last event outer outer:entry 2b-0737d21b0a7a59f5ed1b26833f4935e56a205522-daa2f0f39ceb11b2-01 outer:exit 2b-0737d21b0a7a59f5ed1b26833f4935e56a205522-e09a298a42de0037-01
2022-04-21T16:18:59.534Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:18:59.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-a34afe76fcfadac72aa5889532c274236ed0021e-db92d719922e444e-01 outer:exit 2b-a34afe76fcfadac72aa5889532c274236ed0021e-19c3d81ae416c824-01
2022-04-21T16:18:59.537Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:18:59.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-343c0915fa1c27ae09ff0e83fb87894afdae4850-3f6b82500b62d8b3-01 outer:exit 2b-343c0915fa1c27ae09ff0e83fb87894afdae4850-05993b423c2c75fd-01
2022-04-21T16:18:59.540Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:18:59.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-71058fe849202943a38f329a0fe99767bfa0cd28-7d7b2a9f08b5c74a-01 outer:exit 2b-71058fe849202943a38f329a0fe99767bfa0cd28-b3101878bec9592d-01
2022-04-21T16:18:59.543Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:18:59.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6c2a2b4ef96e65e8476f8b9dd14714aa77bcd30-a1046b22a542a6d3-01 outer:exit 2b-f6c2a2b4ef96e65e8476f8b9dd14714aa77bcd30-ecfb0a2793b07932-01
2022-04-21T16:18:59.545Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:18:59.547Z appoptics:debug span.exit - no last event outer outer:entry 2b-690de6ce2a3cb20847c7f235e2dd403d6fbdcd08-4ca5759f23f6b91b-01 outer:exit 2b-690de6ce2a3cb20847c7f235e2dd403d6fbdcd08-21e7d9470ef8e6e7-01
2022-04-21T16:18:59.547Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:18:59.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-26458fe575633684a1cc75a8b047d9effcbb0ea4-7e354fb0d19e7b33-01 outer:exit 2b-26458fe575633684a1cc75a8b047d9effcbb0ea4-fc17844f08e83509-01
2022-04-21T16:18:59.549Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:18:59.551Z appoptics:debug span.exit - no last event outer outer:entry 2b-84af1cfeeda1ff6d04a9d6cc6d28072dfdf6b491-9f9e4e83a4a40967-01 outer:exit 2b-84af1cfeeda1ff6d04a9d6cc6d28072dfdf6b491-c10c346f9842ff14-01
2022-04-21T16:18:59.551Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:18:59.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b92f6378154261f0e48f747923ce4cc04072081-5ab22e48d6d0edf7-01 outer:exit 2b-9b92f6378154261f0e48f747923ce4cc04072081-f75b7e44a4cd4582-01
2022-04-21T16:18:59.553Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:18:59.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-a5b067bdcceca49cce948e592ace289fbbf89e5a-ccf8ab5a586d2a74-01 outer:exit 2b-a5b067bdcceca49cce948e592ace289fbbf89e5a-bfe2b0d15ff491d1-01
2022-04-21T16:18:59.556Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:18:59.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-06b1f0869b77ba59de41b8441589e003e9b2bc8c-30abe5e5cc4f5c1e-01 outer:exit 2b-06b1f0869b77ba59de41b8441589e003e9b2bc8c-7a3b3c850e158f9d-01
2022-04-21T16:18:59.559Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:18:59.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-3de002deb765a26ea44d1fcdfcd271d3ffd6412e-78bd3870fb85f55c-01 outer:exit 2b-3de002deb765a26ea44d1fcdfcd271d3ffd6412e-130562a377106436-01
2022-04-21T16:18:59.562Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:18:59.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c47eaae67610e7dd53fee4cc1bccdb2f387804c-746a6f1927c37900-01 outer:exit 2b-9c47eaae67610e7dd53fee4cc1bccdb2f387804c-d9f34b149448d528-01
2022-04-21T16:18:59.564Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:18:59.571Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ff2ac00247912202dbb513533f2ef373dba41c7-a3ff17f65cae9733-01 outer:exit 2b-3ff2ac00247912202dbb513533f2ef373dba41c7-df2a2afcc5f2b552-01
2022-04-21T16:18:59.571Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:18:59.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-14149b2e3ccce199ee79358f93ab1ecc2d8fc701-c09822226ae6ada3-01 outer:exit 2b-14149b2e3ccce199ee79358f93ab1ecc2d8fc701-46b944f3b0a8a807-01
2022-04-21T16:18:59.579Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:18:59.587Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc1775a357e3211310844e868e31c14f31f23a74-a469e6fa62eb9631-01 outer:exit 2b-bc1775a357e3211310844e868e31c14f31f23a74-f10034adae5130c0-01
2022-04-21T16:18:59.587Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:18:59.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-e358a99208e29a1f305731046db4125324c05faf-9da9ffcbb8293de0-01 outer:exit 2b-e358a99208e29a1f305731046db4125324c05faf-504a39a481e91121-01
2022-04-21T16:18:59.593Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:18:59.595Z appoptics:debug span.exit - no last event outer outer:entry 2b-15a5d14041a21de562645ab51225b10a2bd974da-d5a29982bdaa1477-01 outer:exit 2b-15a5d14041a21de562645ab51225b10a2bd974da-e78e6aa9dc841561-01
2022-04-21T16:18:59.595Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:18:59.598Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc95e69666c00962792733a55fc022ff03f8fcff-b553c575340ca6c9-01 outer:exit 2b-bc95e69666c00962792733a55fc022ff03f8fcff-67d687599dcf4132-01
2022-04-21T16:18:59.598Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:18:59.605Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c4847e44f7034525a3f1252e69df7c62af56f61-ff1e173b92446330-01 outer:exit 2b-0c4847e44f7034525a3f1252e69df7c62af56f61-34c51a939b9c1c42-01
2022-04-21T16:18:59.605Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:18:59.607Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d6823d42b8884e47d58ddee32cf4a59c2ce7a4d-93f42993c3c1094c-01 outer:exit 2b-5d6823d42b8884e47d58ddee32cf4a59c2ce7a4d-0c414509018d5872-01
2022-04-21T16:18:59.607Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:18:59.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-e02db8934e8f83fcfa2a8536b873d7bea36fe142-1e921b23bae5a6f2-01 outer:exit 2b-e02db8934e8f83fcfa2a8536b873d7bea36fe142-118e586ef7c5d4e0-01
2022-04-21T16:18:59.609Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:18:59.611Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca9c5a46501daeeb57af049604e51d04c35515db-25919a8280ad5836-01 outer:exit 2b-ca9c5a46501daeeb57af049604e51d04c35515db-e22daf2b78eb206f-01
2022-04-21T16:18:59.611Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:18:59.613Z appoptics:debug span.exit - no last event outer outer:entry 2b-3caa24550b95c4fb75ca3b7fc2266a69167525a7-610a676dd8ba532b-01 outer:exit 2b-3caa24550b95c4fb75ca3b7fc2266a69167525a7-7a1f9e534ed885ae-01
2022-04-21T16:18:59.613Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:18:59.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-90cd2720cc52d204fa8942720fb2920c773f4f4d-d1f18d5e3a118f35-01 outer:exit 2b-90cd2720cc52d204fa8942720fb2920c773f4f4d-1dee575db447e9bc-01
2022-04-21T16:18:59.620Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:18:59.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-3247198d5d7729164ce4bd28cf0ac0179c5d9272-99287d64cf022213-01 outer:exit 2b-3247198d5d7729164ce4bd28cf0ac0179c5d9272-f262f01bf149d10b-01
2022-04-21T16:18:59.630Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:18:59.639Z appoptics:debug span.exit - no last event outer outer:entry 2b-1957a16c1d1343dd87517cb5f45e2ac57ea5ec3b-4d34c6e5a036cdae-01 outer:exit 2b-1957a16c1d1343dd87517cb5f45e2ac57ea5ec3b-9fa9d1e25cc7182f-01
2022-04-21T16:18:59.639Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:18:59.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-53ada05e3f6d6306c58466ab47d1ea3e70c14ae8-22fcbb71a3e6c87f-01 outer:exit 2b-53ada05e3f6d6306c58466ab47d1ea3e70c14ae8-112754a6863df8ed-01
2022-04-21T16:18:59.644Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:18:59.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-d66cbc26f0ede565c406bf611b30cea801cd04cd-dfa38c98f124a6a5-01 outer:exit 2b-d66cbc26f0ede565c406bf611b30cea801cd04cd-84302424a57864bf-01
2022-04-21T16:18:59.647Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:18:59.649Z appoptics:debug span.exit - no last event outer outer:entry 2b-17f3ed502d4f40a5185b007216f415149181f8ac-171e9805e6f93623-01 outer:exit 2b-17f3ed502d4f40a5185b007216f415149181f8ac-28502caed41061ac-01
2022-04-21T16:18:59.649Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:18:59.674Z appoptics:debug span.exit - no last event outer outer:entry 2b-c1a6f030f410a9dabeff0820bbae4d6ffb244ed7-7347fd9f72c23803-01 outer:exit 2b-c1a6f030f410a9dabeff0820bbae4d6ffb244ed7-b8e5fd106eed50e8-01
2022-04-21T16:18:59.674Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (319ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.7
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.7
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.7
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.7
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.7
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.7
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.7
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.7
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.7
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.7
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.7
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.7
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.7
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.7
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.7
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.7
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.7
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.7
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.7
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.7
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.7
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.7
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.7
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.7
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.7
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.7
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.7
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.7
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.7
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.7
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.7
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.7
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.7
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.7
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.7
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.7
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.7
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.7
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.7
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.7
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.7
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.7
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:06.031Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:06.032Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:06.032Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:06.033Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:06.092Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:06.207Z appoptics:patching patched crypto 
2022-04-21T16:19:06.224Z appoptics:patching patched https 
2022-04-21T16:19:06.225Z appoptics:patching patched http 
2022-04-21T16:19:06.269Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:06.269Z appoptics:patching patched fs 
2022-04-21T16:19:06.291Z appoptics:patching patched mongodb-core 2.1.8 (disabled: node v18.0.0)
2022-04-21T16:19:06.297Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.8
    2.4
      databases
2022-04-21T16:19:06.341Z appoptics:debug span.exit - no last event outer outer:entry 2b-b8ad6573515f5cc5a020aef90c2de41eb1eea4c2-1b6b5a1a86528dd5-01 outer:exit 2b-b8ad6573515f5cc5a020aef90c2de41eb1eea4c2-959c5e4d463cff4e-01
2022-04-21T16:19:06.341Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:06.383Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc6e5193bc685cd8b183327599b4df37430a01c8-02556b02c6d67303-01 outer:exit 2b-bc6e5193bc685cd8b183327599b4df37430a01c8-11409a4eba63c4bb-01
2022-04-21T16:19:06.383Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:06.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-a900b56f2d48a353aca022d0a8f54e0d9d3d145e-d84fec5910a8e9bb-01 outer:exit 2b-a900b56f2d48a353aca022d0a8f54e0d9d3d145e-7d0982ddd0fb8413-01
2022-04-21T16:19:06.386Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:06.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-2ec0b69f809c8ff59bbac23c95785158440996e8-3da2b3cad5cf9806-01 outer:exit 2b-2ec0b69f809c8ff59bbac23c95785158440996e8-e41f3db6c0b56bb2-01
2022-04-21T16:19:06.389Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:06.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-448d5c34bfb4ec98cd27dbdda38137e360f30a1b-0120cc95df38e84e-01 outer:exit 2b-448d5c34bfb4ec98cd27dbdda38137e360f30a1b-b5da542af28dfeeb-01
2022-04-21T16:19:06.394Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:06.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e592eeae0ce55583e3b5a613a9551694f5d284c-03be6f4b492e8909-01 outer:exit 2b-0e592eeae0ce55583e3b5a613a9551694f5d284c-1882608785906a83-01
2022-04-21T16:19:06.397Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:06.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-fae595b2a2c36b080692e3dbf3aca996ddfd79de-32690df4f23a9564-01 outer:exit 2b-fae595b2a2c36b080692e3dbf3aca996ddfd79de-4dbe3bbdfffe1ac1-01
2022-04-21T16:19:06.400Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:06.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-4077f48023684610c637ae5543988359c65785b1-46dd57e66928f701-01 outer:exit 2b-4077f48023684610c637ae5543988359c65785b1-487f806f041a20c0-01
2022-04-21T16:19:06.402Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:06.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4a05e889c7418b18765fd9311ba056407967146-b9d9ddc2fb5770c8-01 outer:exit 2b-c4a05e889c7418b18765fd9311ba056407967146-e21e3ec7176741cf-01
2022-04-21T16:19:06.405Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:06.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-710ae35a3f885b09dda9d649a0ac09a59f073da2-69d0bdc7a5928bd8-01 outer:exit 2b-710ae35a3f885b09dda9d649a0ac09a59f073da2-40e6f5f7ce4d287b-01
2022-04-21T16:19:06.408Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:06.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-e56dfbc48a19b1ed88e344d394de574c530345ef-8d69c71772467abf-01 outer:exit 2b-e56dfbc48a19b1ed88e344d394de574c530345ef-8f678f632d80032b-01
2022-04-21T16:19:06.412Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:06.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-d72ef6b6a83cb8c87168fa83a7a578a33ad281ef-27b6ce31407a39b0-01 outer:exit 2b-d72ef6b6a83cb8c87168fa83a7a578a33ad281ef-2c234084fa2379e1-01
2022-04-21T16:19:06.418Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:06.435Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4e5fa9c0066c77a4490c5494d3d376b7b57276e-465168f56bf1dd36-01 outer:exit 2b-a4e5fa9c0066c77a4490c5494d3d376b7b57276e-1f31b32fbd010af0-01
2022-04-21T16:19:06.435Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:06.473Z appoptics:debug span.exit - no last event outer outer:entry 2b-8acb5bcfe338bb509b062966b2c679e83c324f26-4866257d94128ad3-01 outer:exit 2b-8acb5bcfe338bb509b062966b2c679e83c324f26-0d7d868730e4d92a-01
2022-04-21T16:19:06.473Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:06.475Z appoptics:debug span.exit - no last event outer outer:entry 2b-014f88f45c385ce39a6f79610a48146fda67542f-711f7009c35b48b3-01 outer:exit 2b-014f88f45c385ce39a6f79610a48146fda67542f-ce4af644a3a195a3-01
2022-04-21T16:19:06.476Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:06.478Z appoptics:debug span.exit - no last event outer outer:entry 2b-77cff0027adbfe845dd3b2d6c647e6c00e7d9960-543272d65380334c-01 outer:exit 2b-77cff0027adbfe845dd3b2d6c647e6c00e7d9960-a6a93f37b0a7a89c-01
2022-04-21T16:19:06.478Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:06.480Z appoptics:debug span.exit - no last event outer outer:entry 2b-d37c2649395cd9432b6343ddec04243a8031a533-899bd891eb04d0d3-01 outer:exit 2b-d37c2649395cd9432b6343ddec04243a8031a533-3cf75b44da74038b-01
2022-04-21T16:19:06.480Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:06.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4023edb728aa11530ca82df1998d1d2ac135ae-f720d36a80f330bf-01 outer:exit 2b-5d4023edb728aa11530ca82df1998d1d2ac135ae-0ccf8fa60d81a3bb-01
2022-04-21T16:19:06.483Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:06.485Z appoptics:debug span.exit - no last event outer outer:entry 2b-a1360fe19603a231f27db76305a77234aa216a9a-6b3e0f2f183cdd81-01 outer:exit 2b-a1360fe19603a231f27db76305a77234aa216a9a-9c06d52eac4ec9ae-01
2022-04-21T16:19:06.485Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:06.486Z appoptics:debug span.exit - no last event outer outer:entry 2b-578fb39151d55f8f2e7b1f5c5e55078b2faed57b-7da1df16459b8453-01 outer:exit 2b-578fb39151d55f8f2e7b1f5c5e55078b2faed57b-36989b649e269f3d-01
2022-04-21T16:19:06.486Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:06.488Z appoptics:debug span.exit - no last event outer outer:entry 2b-91a3e24e4440b9d205eedf80bc125dbe89a26283-7c6eef565f33db2e-01 outer:exit 2b-91a3e24e4440b9d205eedf80bc125dbe89a26283-42551d03c994c7ea-01
2022-04-21T16:19:06.488Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:06.490Z appoptics:debug span.exit - no last event outer outer:entry 2b-70e032df18c120058030c61f2236e5c83e0dce65-4efb5c12ebc93be8-01 outer:exit 2b-70e032df18c120058030c61f2236e5c83e0dce65-1f0906f0374693da-01
2022-04-21T16:19:06.490Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:06.493Z appoptics:debug span.exit - no last event outer outer:entry 2b-8da1e68da4eeabab350d5dfd2050c80614812dd1-974cd4cf2d373225-01 outer:exit 2b-8da1e68da4eeabab350d5dfd2050c80614812dd1-71b70c42edb738b5-01
2022-04-21T16:19:06.493Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:06.496Z appoptics:debug span.exit - no last event outer outer:entry 2b-c88f01a4034ddba680434b2ef9f76cc22f731b8a-ec8b9bf7bfa09c79-01 outer:exit 2b-c88f01a4034ddba680434b2ef9f76cc22f731b8a-db7fce2252acb778-01
2022-04-21T16:19:06.496Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:06.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-55991b37e52db9983463d16f508328c8e71badf7-37816d66912e6f61-01 outer:exit 2b-55991b37e52db9983463d16f508328c8e71badf7-1951c4420d6c1bf3-01
2022-04-21T16:19:06.498Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:06.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-e38ce230fe17e476dcfcc85b81cb779be5dd579f-2aea2ec07c0fb38d-01 outer:exit 2b-e38ce230fe17e476dcfcc85b81cb779be5dd579f-a817722b655c7ec7-01
2022-04-21T16:19:06.500Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:06.505Z appoptics:debug span.exit - no last event outer outer:entry 2b-69870a26ba5d7c45315351ce1e710b6dd03e8a87-534b273390a4808d-01 outer:exit 2b-69870a26ba5d7c45315351ce1e710b6dd03e8a87-ec86ff33f0e00b13-01
2022-04-21T16:19:06.506Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:06.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-85f4a99c2b6e7b4187bfb73e65697708fd243851-77e34d393584036b-01 outer:exit 2b-85f4a99c2b6e7b4187bfb73e65697708fd243851-15eb8c9bbe869e5f-01
2022-04-21T16:19:06.512Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:06.519Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e8e93f0ed8e0ef0a4ad6fcd6fb69bc008b0876f-a00afba4b6fd4402-01 outer:exit 2b-3e8e93f0ed8e0ef0a4ad6fcd6fb69bc008b0876f-f5e741596f1f0e06-01
2022-04-21T16:19:06.519Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:06.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-ee10561af454b0d7fd4ef0783a04dac28c97b93f-555a365ea87fd2e7-01 outer:exit 2b-ee10561af454b0d7fd4ef0783a04dac28c97b93f-0cea1d0d6eb8f27a-01
2022-04-21T16:19:06.525Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:06.527Z appoptics:debug span.exit - no last event outer outer:entry 2b-bdb6f04276ef00cde5cb85e2022f7b5182d20041-9c9539b3abfe3bdd-01 outer:exit 2b-bdb6f04276ef00cde5cb85e2022f7b5182d20041-2f431ac4d778b382-01
2022-04-21T16:19:06.527Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:06.530Z appoptics:debug span.exit - no last event outer outer:entry 2b-50d5ec9ff6064a44dd312148f4beda13d538c9fc-620a5e7b5664cb05-01 outer:exit 2b-50d5ec9ff6064a44dd312148f4beda13d538c9fc-3993d5556626bc39-01
2022-04-21T16:19:06.530Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:06.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e24b27a549e9fe04b5adab0f7974de8e5452aca-8198007d30bb1315-01 outer:exit 2b-0e24b27a549e9fe04b5adab0f7974de8e5452aca-7e09806f6dcb74a8-01
2022-04-21T16:19:06.536Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:06.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-4a93c03da7c5e3aebf2ad68d1e1d58439fd54344-2e6966afe16c3f45-01 outer:exit 2b-4a93c03da7c5e3aebf2ad68d1e1d58439fd54344-0339a16d7748ccff-01
2022-04-21T16:19:06.538Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:06.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-c16d788d1a189c328a4f926a3d339c48d103cfba-4b9ad5db5806317b-01 outer:exit 2b-c16d788d1a189c328a4f926a3d339c48d103cfba-955e87ca57564d1d-01
2022-04-21T16:19:06.540Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:06.541Z appoptics:debug span.exit - no last event outer outer:entry 2b-6dd3149b81c25801a35a21d73e9c3a6c34ddc708-261bab536e82d7df-01 outer:exit 2b-6dd3149b81c25801a35a21d73e9c3a6c34ddc708-fcdbb27bdacc3386-01
2022-04-21T16:19:06.541Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:06.543Z appoptics:debug span.exit - no last event outer outer:entry 2b-2b93eb6a13692e76ccee7ae4f60d7be88e0f40d2-d1091b3be9e18be6-01 outer:exit 2b-2b93eb6a13692e76ccee7ae4f60d7be88e0f40d2-50d7ebbc8e8f7236-01
2022-04-21T16:19:06.543Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:06.545Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d216dc916dfd3abd5e92a2962d89bfa7a33eb2b-e6ee8d2c6a4c8e64-01 outer:exit 2b-9d216dc916dfd3abd5e92a2962d89bfa7a33eb2b-fd8e0deb379437e0-01
2022-04-21T16:19:06.545Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:06.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-8287e07a1caa608b279730a2e67a1fac249180db-e780d2ef59482410-01 outer:exit 2b-8287e07a1caa608b279730a2e67a1fac249180db-4b020bd8bc7e0e2a-01
2022-04-21T16:19:06.553Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:06.560Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c46a59bb84689155782924318b6340379e47460-4a28c2ba40a96b03-01 outer:exit 2b-5c46a59bb84689155782924318b6340379e47460-3b290f9340eff3cc-01
2022-04-21T16:19:06.560Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:06.563Z appoptics:debug span.exit - no last event outer outer:entry 2b-124339816d086517d46017960eec160484f20448-658fe24c81131f16-01 outer:exit 2b-124339816d086517d46017960eec160484f20448-27f79fd75562e9e8-01
2022-04-21T16:19:06.563Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:06.565Z appoptics:debug span.exit - no last event outer outer:entry 2b-33e0a1fdb20d4f9f60cdd8c8aa93be2d2287a66f-e02753b37df2f010-01 outer:exit 2b-33e0a1fdb20d4f9f60cdd8c8aa93be2d2287a66f-d86f5c7ee9574f87-01
2022-04-21T16:19:06.565Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:06.568Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb07a5368b3016e5c38299565b570fff5ba7f331-0e5b5a628e600c87-01 outer:exit 2b-fb07a5368b3016e5c38299565b570fff5ba7f331-46d13011744455d4-01
2022-04-21T16:19:06.568Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:06.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-9b8d4b1884b55a0e1a3187a13c857661719d47d3-49ce61ecb6b9255d-01 outer:exit 2b-9b8d4b1884b55a0e1a3187a13c857661719d47d3-34959f98ec28dcbe-01
2022-04-21T16:19:06.593Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (291ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.8
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.8
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.8
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.8
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.8
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.8
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.8
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.8
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.8
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.8
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.8
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.8
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.8
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.8
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.8
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.8
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.8
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.8
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.8
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.8
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.8
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.8
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.8
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.8
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.8
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.8
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.8
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.8
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.8
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.8
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.8
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.8
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.8
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.8
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.8
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.8
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.8
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.8
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.8
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.8
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.8
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.8
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:12.873Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:12.874Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:12.874Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:12.875Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:12.949Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:13.073Z appoptics:patching patched crypto 
2022-04-21T16:19:13.113Z appoptics:patching patched https 
2022-04-21T16:19:13.114Z appoptics:patching patched http 
2022-04-21T16:19:13.189Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:13.189Z appoptics:patching patched fs 
2022-04-21T16:19:13.242Z appoptics:patching patched mongodb-core 2.1.9 (disabled: node v18.0.0)
2022-04-21T16:19:13.248Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.9
    2.4
      databases
2022-04-21T16:19:13.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-a46d0817444c1b64e3d3a07e728c672eaae55a2b-8fecd53d73059c9d-01 outer:exit 2b-a46d0817444c1b64e3d3a07e728c672eaae55a2b-ea18cc4d060a5520-01
2022-04-21T16:19:13.320Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:13.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-675b6cd49e9c58d23617d31d8db4448a5d303f68-1ef0c91fc5b82c29-01 outer:exit 2b-675b6cd49e9c58d23617d31d8db4448a5d303f68-fb4f9073c7805367-01
2022-04-21T16:19:13.369Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:13.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-4641de44c365a184b31648c6a8a381f665b50148-adf5aee22f4f2705-01 outer:exit 2b-4641de44c365a184b31648c6a8a381f665b50148-52fdd4ad0be45a63-01
2022-04-21T16:19:13.375Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:13.384Z appoptics:debug span.exit - no last event outer outer:entry 2b-f0be3a79807d35777d660c8f0d9c9cdb641c75e3-17b6e9da15fa0e8f-01 outer:exit 2b-f0be3a79807d35777d660c8f0d9c9cdb641c75e3-0561bf784c785ee6-01
2022-04-21T16:19:13.384Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:13.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-09be69096a7720101649b86ab52cb36a5fb11b74-e9f925034abe0c0e-01 outer:exit 2b-09be69096a7720101649b86ab52cb36a5fb11b74-afad6454396372c7-01
2022-04-21T16:19:13.390Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:13.394Z appoptics:debug span.exit - no last event outer outer:entry 2b-71c55d11ec818ee97ced1cd48cdd201fab881215-4154b436d20ab34b-01 outer:exit 2b-71c55d11ec818ee97ced1cd48cdd201fab881215-93da8bfcb4bbf4c2-01
2022-04-21T16:19:13.394Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:13.396Z appoptics:debug span.exit - no last event outer outer:entry 2b-d8ec2601506cef412395909d8499826dbafac08f-7a6e227604d21c4a-01 outer:exit 2b-d8ec2601506cef412395909d8499826dbafac08f-2c63d6fea434dba8-01
2022-04-21T16:19:13.396Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:13.399Z appoptics:debug span.exit - no last event outer outer:entry 2b-9209e42e28cca3868c124d90460bc7f784584aa4-6dad129dce87734f-01 outer:exit 2b-9209e42e28cca3868c124d90460bc7f784584aa4-d8c583bb7a88e9b8-01
2022-04-21T16:19:13.399Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:13.402Z appoptics:debug span.exit - no last event outer outer:entry 2b-a40a110f2bebafbfa112805222fb463389ba79ad-76294ddfcc4d0f38-01 outer:exit 2b-a40a110f2bebafbfa112805222fb463389ba79ad-ee468305361573ef-01
2022-04-21T16:19:13.402Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:13.406Z appoptics:debug span.exit - no last event outer outer:entry 2b-27cb0ad9830b047c48b6f37e1b8e1d6348bae672-06f4295e8a3543fa-01 outer:exit 2b-27cb0ad9830b047c48b6f37e1b8e1d6348bae672-259f4de695c2b26d-01
2022-04-21T16:19:13.406Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:13.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-d78ca888831fb0ac4fea6b7a107b365a2de6b387-ffa093fdd1ce3d45-01 outer:exit 2b-d78ca888831fb0ac4fea6b7a107b365a2de6b387-2fe5915a01fcf3cd-01
2022-04-21T16:19:13.410Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:13.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e1a07da819f94ad1f186874ad1ad312310d8164-1806f7d1b53c62fe-01 outer:exit 2b-8e1a07da819f94ad1f186874ad1ad312310d8164-5847b584267853ee-01
2022-04-21T16:19:13.429Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:13.452Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b82249afd8d6e14769487bf42900fb4dea4a26a-7800c242d0b8afd2-01 outer:exit 2b-0b82249afd8d6e14769487bf42900fb4dea4a26a-b160c2df49a68de9-01
2022-04-21T16:19:13.452Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:13.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-80df678e3d494e4397b97a1e5466ffbce1010687-6efd8d532167dc37-01 outer:exit 2b-80df678e3d494e4397b97a1e5466ffbce1010687-e184339e22b32fba-01
2022-04-21T16:19:13.489Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:13.492Z appoptics:debug span.exit - no last event outer outer:entry 2b-b30ab3cbcefa6d45a59ebb417c2b456e25478404-49decc7e59918be6-01 outer:exit 2b-b30ab3cbcefa6d45a59ebb417c2b456e25478404-28e69ecdacf8ac3c-01
2022-04-21T16:19:13.492Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:13.494Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf5a58534ebe2b6d13ac985e7315c19a4dca1443-44b899791f6eb2a9-01 outer:exit 2b-cf5a58534ebe2b6d13ac985e7315c19a4dca1443-af142b1533d7544f-01
2022-04-21T16:19:13.495Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:13.499Z appoptics:debug span.exit - no last event outer outer:entry 2b-f24291c5c13186b154c1186754ffc995d79e0f42-78ddc4a5f699494b-01 outer:exit 2b-f24291c5c13186b154c1186754ffc995d79e0f42-83d274c0cdaf4613-01
2022-04-21T16:19:13.499Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:13.504Z appoptics:debug span.exit - no last event outer outer:entry 2b-1d0d99a5d1d3ca04c23dc5d60cc7a016cd0fce9a-5e7f1878d571a06b-01 outer:exit 2b-1d0d99a5d1d3ca04c23dc5d60cc7a016cd0fce9a-afd769e0524b4354-01
2022-04-21T16:19:13.504Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:13.508Z appoptics:debug span.exit - no last event outer outer:entry 2b-66c20bdf2b025fbbde6a6fb6e1abf6a6ccc88729-312325a066296552-01 outer:exit 2b-66c20bdf2b025fbbde6a6fb6e1abf6a6ccc88729-c25c1ad011a163a9-01
2022-04-21T16:19:13.508Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:13.510Z appoptics:debug span.exit - no last event outer outer:entry 2b-b44bc6d7ed5736bacc9732b5bb667dd93c525128-c3b7c1407e446c79-01 outer:exit 2b-b44bc6d7ed5736bacc9732b5bb667dd93c525128-9e313687e81aa241-01
2022-04-21T16:19:13.510Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:13.512Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e53642cc1c5e6a8ca548b9dc57e9ce1a4b0c621-eff99fe5a3a3d0ef-01 outer:exit 2b-0e53642cc1c5e6a8ca548b9dc57e9ce1a4b0c621-37dd3c68aacc5239-01
2022-04-21T16:19:13.512Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:13.518Z appoptics:debug span.exit - no last event outer outer:entry 2b-49346a76f95e07e0c6e1eaa0b6597d5abcc979d4-7f05206bfcaa6f1a-01 outer:exit 2b-49346a76f95e07e0c6e1eaa0b6597d5abcc979d4-4a42911d5632c536-01
2022-04-21T16:19:13.518Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:13.523Z appoptics:debug span.exit - no last event outer outer:entry 2b-5ef3a6783d0d6a34c0c70a94887d7f1c0bd04509-c8c5d25d947f2796-01 outer:exit 2b-5ef3a6783d0d6a34c0c70a94887d7f1c0bd04509-966db9347d78d9f6-01
2022-04-21T16:19:13.523Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:13.536Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b6f71452f40c1e0842b4b6317c5458c31bcb160-a3d4d8478ba7522f-01 outer:exit 2b-1b6f71452f40c1e0842b4b6317c5458c31bcb160-0962bbf3f2448c32-01
2022-04-21T16:19:13.536Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:13.538Z appoptics:debug span.exit - no last event outer outer:entry 2b-f4a75dee59bd44227f2d62c7170b1822a4979365-0246f511faf88f76-01 outer:exit 2b-f4a75dee59bd44227f2d62c7170b1822a4979365-4d51a884865b6645-01
2022-04-21T16:19:13.538Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:13.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-c005b4c40110061c7fb4bce551e6506f31e71fde-be0e93e9c09f9bb0-01 outer:exit 2b-c005b4c40110061c7fb4bce551e6506f31e71fde-d07cac5119ddd3ca-01
2022-04-21T16:19:13.540Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:13.570Z appoptics:debug span.exit - no last event outer outer:entry 2b-99b9cd246c5b8b47b2b18d67640f9cfefcb4a41f-6af5801c822e9f1a-01 outer:exit 2b-99b9cd246c5b8b47b2b18d67640f9cfefcb4a41f-df12d17d1ecbc395-01
2022-04-21T16:19:13.570Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:13.594Z appoptics:debug span.exit - no last event outer outer:entry 2b-70ebfdb4f2afd33879192e1efda346724e8ac8e0-2ce93cbd81de9055-01 outer:exit 2b-70ebfdb4f2afd33879192e1efda346724e8ac8e0-9efbb98fa4372575-01
2022-04-21T16:19:13.594Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:13.603Z appoptics:debug span.exit - no last event outer outer:entry 2b-73d591a286dee3248786de1ca1dbe1d48a2b6c32-f7effc710ad68be4-01 outer:exit 2b-73d591a286dee3248786de1ca1dbe1d48a2b6c32-086dcb621c0e3cf4-01
2022-04-21T16:19:13.603Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:13.609Z appoptics:debug span.exit - no last event outer outer:entry 2b-42a5f793a0620cf9073d99b92a912c7864c39b7e-088b68bbb4e23b2d-01 outer:exit 2b-42a5f793a0620cf9073d99b92a912c7864c39b7e-9c28538fb4e621d3-01
2022-04-21T16:19:13.609Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:13.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-5bdbf2d930556e78dd43668f03deb6edfaa6a82f-1347cd00b7da8d23-01 outer:exit 2b-5bdbf2d930556e78dd43668f03deb6edfaa6a82f-28904c04ea6b757c-01
2022-04-21T16:19:13.611Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:13.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-faa0c0aabacafc525161c07416c6e375a0fe6da0-24aaf0f4bf3cf817-01 outer:exit 2b-faa0c0aabacafc525161c07416c6e375a0fe6da0-b243e3e2e0ef7b8f-01
2022-04-21T16:19:13.614Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:13.620Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9705deecee8047542c5243678db7920cacfd351-1b788e54e76173e0-01 outer:exit 2b-f9705deecee8047542c5243678db7920cacfd351-efcc45d86555e078-01
2022-04-21T16:19:13.620Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:13.622Z appoptics:debug span.exit - no last event outer outer:entry 2b-c69f7d27f7af3332d619a22cdfcc1f7894b1cee4-9488842eacc8511c-01 outer:exit 2b-c69f7d27f7af3332d619a22cdfcc1f7894b1cee4-22b06c1a5dfa976c-01
2022-04-21T16:19:13.622Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:13.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-850d492fcdbf6e418d20aee3b07c1dd5b59a546f-53cd3eea1011be38-01 outer:exit 2b-850d492fcdbf6e418d20aee3b07c1dd5b59a546f-df29576a1609a065-01
2022-04-21T16:19:13.624Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:13.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-c90ea5db4bb2ba0fcdfd66322c7e1b8c75c44591-fca802f517334baf-01 outer:exit 2b-c90ea5db4bb2ba0fcdfd66322c7e1b8c75c44591-74f1d3551b68f582-01
2022-04-21T16:19:13.626Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:13.630Z appoptics:debug span.exit - no last event outer outer:entry 2b-c83fe02860234925c2ae8d7b2ca578fdcbd678a2-2734e34508229354-01 outer:exit 2b-c83fe02860234925c2ae8d7b2ca578fdcbd678a2-994cc2bf60121e70-01
2022-04-21T16:19:13.630Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:13.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-be49eda5e92d65bf32dcd09fbb4c1d35780b5bd5-c6ac87cb35b74318-01 outer:exit 2b-be49eda5e92d65bf32dcd09fbb4c1d35780b5bd5-9cdde9225bc9283d-01
2022-04-21T16:19:13.638Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:13.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-5000bb5856be827bbd059a97f6287909e1290533-4545343459ae17b6-01 outer:exit 2b-5000bb5856be827bbd059a97f6287909e1290533-275c7140cf2dbc54-01
2022-04-21T16:19:13.647Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:13.657Z appoptics:debug span.exit - no last event outer outer:entry 2b-f80b9d6c69ac6f24cc998e605b8b750ba4cf70db-9c4be9b2e7f26db0-01 outer:exit 2b-f80b9d6c69ac6f24cc998e605b8b750ba4cf70db-43fab6fc8ff83554-01
2022-04-21T16:19:13.657Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:13.660Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f9e9115a41f8393c07f5e0e803bd38c37863d8f-2462224e1bf44a38-01 outer:exit 2b-2f9e9115a41f8393c07f5e0e803bd38c37863d8f-47acb652d11e8bcd-01
2022-04-21T16:19:13.660Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:13.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-2312fa019a0da5ad3d91f39544c0fca2b069dd05-def115831ebc58db-01 outer:exit 2b-2312fa019a0da5ad3d91f39544c0fca2b069dd05-6cb62730a8b3cc2a-01
2022-04-21T16:19:13.662Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:13.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-e88997c64a422485649b4585357fb5b865042a3c-365501757564dd94-01 outer:exit 2b-e88997c64a422485649b4585357fb5b865042a3c-7832cb0676c3fdda-01
2022-04-21T16:19:13.682Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:13.725Z appoptics:debug span.exit - no last event outer outer:entry 2b-12fba33161e23ac23e9a1d6035962f7c2a8c8aa6-2422fb31140bdf36-01 outer:exit 2b-12fba33161e23ac23e9a1d6035962f7c2a8c8aa6-a03070fdd3055aec-01
2022-04-21T16:19:13.726Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (471ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.9
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.9
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.9
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.9
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.9
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.9
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.9
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.9
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.9
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.9
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.9
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.9
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.9
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.9
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.9
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.9
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.9
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.9
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.9
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.9
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.9
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.9
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.9
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.9
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.9
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.9
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.9
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.9
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.9
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.9
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.9
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.9
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.9
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.9
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.9
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.9
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.9
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.9
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.9
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.9
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.9
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.9
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:19.680Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:19.681Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:19.681Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:19.682Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:19.741Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:19.856Z appoptics:patching patched crypto 
2022-04-21T16:19:19.886Z appoptics:patching patched https 
2022-04-21T16:19:19.886Z appoptics:patching patched http 
2022-04-21T16:19:19.924Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:19.925Z appoptics:patching patched fs 
2022-04-21T16:19:19.948Z appoptics:patching patched mongodb-core 2.1.10 (disabled: node v18.0.0)
2022-04-21T16:19:19.954Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.10
    2.4
      databases
2022-04-21T16:19:19.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-a93cd5f86944bfb5dec6ff25922fd9496e05d8fb-e967285b4a7175ae-01 outer:exit 2b-a93cd5f86944bfb5dec6ff25922fd9496e05d8fb-2ae3875ad09c2204-01
2022-04-21T16:19:19.999Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:20.039Z appoptics:debug span.exit - no last event outer outer:entry 2b-e48091bec097055c8b046a313ad46363df1ac338-7ac1e4cf779437d6-01 outer:exit 2b-e48091bec097055c8b046a313ad46363df1ac338-65c4f029b60a3d9b-01
2022-04-21T16:19:20.040Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:20.046Z appoptics:debug span.exit - no last event outer outer:entry 2b-4563c35ff6538440f54f1d3eba75096af705daec-172c137da3ffd9e1-01 outer:exit 2b-4563c35ff6538440f54f1d3eba75096af705daec-6e71060ddf2ef1f1-01
2022-04-21T16:19:20.046Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:20.049Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc2df68420237087619fa5269c8b90cc522c95e7-e1c55c976fff4cf2-01 outer:exit 2b-cc2df68420237087619fa5269c8b90cc522c95e7-fdf075ceed2549af-01
2022-04-21T16:19:20.049Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:20.053Z appoptics:debug span.exit - no last event outer outer:entry 2b-ad3b513b2740b202fb6199f0be71a01eb58063aa-fbe97604840f4114-01 outer:exit 2b-ad3b513b2740b202fb6199f0be71a01eb58063aa-fdde07606ed8506c-01
2022-04-21T16:19:20.053Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:20.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fc22654b3817a6aef83bd63ff922bd6fc8c738e-e0d6116345cb9b35-01 outer:exit 2b-0fc22654b3817a6aef83bd63ff922bd6fc8c738e-51ccb4353b19fcb6-01
2022-04-21T16:19:20.056Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:20.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea89f9981d84399a540fa744748e676eabfc0848-04fcf1907c97c540-01 outer:exit 2b-ea89f9981d84399a540fa744748e676eabfc0848-3764f797590e4485-01
2022-04-21T16:19:20.059Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:20.061Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ad38d4defeeb2f39d7e1ee7f3740613a39a3e05-1a073579c6bf239f-01 outer:exit 2b-1ad38d4defeeb2f39d7e1ee7f3740613a39a3e05-8d274016a484476e-01
2022-04-21T16:19:20.061Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:20.063Z appoptics:debug span.exit - no last event outer outer:entry 2b-c419b8e22ae0e20b2725b939110910df094402b0-558e2b562ffdad95-01 outer:exit 2b-c419b8e22ae0e20b2725b939110910df094402b0-85e45511655bd631-01
2022-04-21T16:19:20.063Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:20.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4805ca22c447365483d479b0d8eec2186667912-08aacbae85a1de19-01 outer:exit 2b-c4805ca22c447365483d479b0d8eec2186667912-446d6b2fe0197c57-01
2022-04-21T16:19:20.066Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:20.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e13b644f9d28c46422042ec1536c99efa9eb18a-f6c756c513f55a8d-01 outer:exit 2b-2e13b644f9d28c46422042ec1536c99efa9eb18a-3c744843b17b6e7c-01
2022-04-21T16:19:20.070Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:20.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-32fbc83c533a07aad576aae19de01e3c3cdfe7b8-d225910860dc9f01-01 outer:exit 2b-32fbc83c533a07aad576aae19de01e3c3cdfe7b8-579ae66c6d2a0cea-01
2022-04-21T16:19:20.076Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:20.090Z appoptics:debug span.exit - no last event outer outer:entry 2b-26a78d0ed675e3df07b88f09ae8440f75b7b4034-f816c54ff0c31a80-01 outer:exit 2b-26a78d0ed675e3df07b88f09ae8440f75b7b4034-fb0321265be001cb-01
2022-04-21T16:19:20.090Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:20.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-95340e53676345143808364685c2d4752c4dab98-fffd690d8de43c06-01 outer:exit 2b-95340e53676345143808364685c2d4752c4dab98-cf84ed8808b340e8-01
2022-04-21T16:19:20.127Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:20.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-579b32bb6b5d00b087a7ff83095043d2c2053217-2228ec10c9dd3675-01 outer:exit 2b-579b32bb6b5d00b087a7ff83095043d2c2053217-5e2f823db8c0a0a2-01
2022-04-21T16:19:20.129Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:20.132Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d1a3b7c1a00e3d661cbe723ffb7e1ef1ba9bc75-2052a6265afcd787-01 outer:exit 2b-4d1a3b7c1a00e3d661cbe723ffb7e1ef1ba9bc75-f08e24514bb00277-01
2022-04-21T16:19:20.132Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:20.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-d504627425e39b10b30b2a71242b4a178da63e2d-201d8b93dc3f2829-01 outer:exit 2b-d504627425e39b10b30b2a71242b4a178da63e2d-75d3ca07f7becc47-01
2022-04-21T16:19:20.135Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:20.138Z appoptics:debug span.exit - no last event outer outer:entry 2b-46e84cbcdf36150403d5ad896286ff5de25f4a71-d409e5dafa815393-01 outer:exit 2b-46e84cbcdf36150403d5ad896286ff5de25f4a71-77a442cfc7fbe8de-01
2022-04-21T16:19:20.138Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:20.140Z appoptics:debug span.exit - no last event outer outer:entry 2b-0225f0bc71f0a089cf7c15afda7bd96c0051e4de-9ffc2d4dddc61479-01 outer:exit 2b-0225f0bc71f0a089cf7c15afda7bd96c0051e4de-89fbc99fe38b72f9-01
2022-04-21T16:19:20.140Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:20.142Z appoptics:debug span.exit - no last event outer outer:entry 2b-75ad90bbf014cb77fc2201efeb6a739dedd014fc-5cdd2daac0c3d3e7-01 outer:exit 2b-75ad90bbf014cb77fc2201efeb6a739dedd014fc-5054361abd60b7d9-01
2022-04-21T16:19:20.142Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:20.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-39bb200b353fe994b588a69a3b5360cdb7882ed5-d2b4eec36d13f913-01 outer:exit 2b-39bb200b353fe994b588a69a3b5360cdb7882ed5-3f49cca5e8cad983-01
2022-04-21T16:19:20.144Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:20.146Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5ecdacb6540845a656ff3d827465c5de16eee32-baf2170370d44c34-01 outer:exit 2b-e5ecdacb6540845a656ff3d827465c5de16eee32-4307aed60fe96043-01
2022-04-21T16:19:20.146Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:20.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbed183aeb2f729e00b2d4ec6442cc801f209685-ae13aba482dcba28-01 outer:exit 2b-dbed183aeb2f729e00b2d4ec6442cc801f209685-abdcb87a723dab01-01
2022-04-21T16:19:20.151Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:20.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-66a338590634c8be5b22400409e883fb13649220-d6a28cada475dcff-01 outer:exit 2b-66a338590634c8be5b22400409e883fb13649220-3f389a7f735fe209-01
2022-04-21T16:19:20.154Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:20.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-58d94e2914307ab1b4baa20258195c93aec54439-a45b5b3860914294-01 outer:exit 2b-58d94e2914307ab1b4baa20258195c93aec54439-c28feacfabad24e8-01
2022-04-21T16:19:20.156Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:20.158Z appoptics:debug span.exit - no last event outer outer:entry 2b-995c7c2f0e0ed3764d43293b56da51d8fbba690d-a4381cd4a73b6bec-01 outer:exit 2b-995c7c2f0e0ed3764d43293b56da51d8fbba690d-7bdb3444c48bc9c9-01
2022-04-21T16:19:20.158Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:20.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-749e757bb0461e79c54d1ea9699c8bc23d0df081-88c0c30d288d24c9-01 outer:exit 2b-749e757bb0461e79c54d1ea9699c8bc23d0df081-d310ca73bc729c0d-01
2022-04-21T16:19:20.165Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:20.175Z appoptics:debug span.exit - no last event outer outer:entry 2b-276da24346e26cae23a4110f4d20c710eccdc567-d4dca1668dfdcb16-01 outer:exit 2b-276da24346e26cae23a4110f4d20c710eccdc567-d0c93aa4021def18-01
2022-04-21T16:19:20.175Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:20.185Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef81fd44e1f65c3fbcdce140d5be03b4faf788ac-7c247db9d8a8bac7-01 outer:exit 2b-ef81fd44e1f65c3fbcdce140d5be03b4faf788ac-a83f4e980fad8982-01
2022-04-21T16:19:20.185Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:20.191Z appoptics:debug span.exit - no last event outer outer:entry 2b-44e840d1326d063f4a3c457dc870ef1e5baf8f82-4c18c14d5614dfad-01 outer:exit 2b-44e840d1326d063f4a3c457dc870ef1e5baf8f82-ec231005e9cf633f-01
2022-04-21T16:19:20.191Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:20.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0c52d18f18fa4bb65788a9c25d2764c5668ae41-766f522abddaeabe-01 outer:exit 2b-a0c52d18f18fa4bb65788a9c25d2764c5668ae41-9b354e115f393b0b-01
2022-04-21T16:19:20.193Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:20.196Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1149bae4a49942b11e89c0756236004d17cde04-55267c29645a6215-01 outer:exit 2b-d1149bae4a49942b11e89c0756236004d17cde04-633fd75c7a54930a-01
2022-04-21T16:19:20.196Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:20.202Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ae2986d0915349facf08299f1ca063ff00cde05-e666da7f82e9fec1-01 outer:exit 2b-4ae2986d0915349facf08299f1ca063ff00cde05-f1fe5173424f6c64-01
2022-04-21T16:19:20.202Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:20.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-d3ffeda2b3b88f9a0b6b9f0a9ade05c1ec53255a-39de7af825c74544-01 outer:exit 2b-d3ffeda2b3b88f9a0b6b9f0a9ade05c1ec53255a-7c44d66321f61eaa-01
2022-04-21T16:19:20.204Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:20.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-f73d907f24a4b36a18671670305a21271735f2a3-ac618b6034956ce8-01 outer:exit 2b-f73d907f24a4b36a18671670305a21271735f2a3-962cbb15d8b4dd15-01
2022-04-21T16:19:20.206Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:20.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-68238816c6509b7aa24f796d7befebd9f8cfbbda-6f95223ff40b3baa-01 outer:exit 2b-68238816c6509b7aa24f796d7befebd9f8cfbbda-b1e5031ca8710900-01
2022-04-21T16:19:20.208Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:20.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e9475ae0bc9a853ab58d4a7c7030d3698b8b41d-a7727bc306300e5a-01 outer:exit 2b-0e9475ae0bc9a853ab58d4a7c7030d3698b8b41d-c972bdf5a3c18aa8-01
2022-04-21T16:19:20.210Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:20.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c0277b6c6f69673aa6a582edd042118081e1845-6a3af01ddf778a1c-01 outer:exit 2b-3c0277b6c6f69673aa6a582edd042118081e1845-29c3d33728ecfaf0-01
2022-04-21T16:19:20.212Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:20.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-c97f764a91f304c9726011eeb0e4d1a4e688a341-8df27a777249a0e0-01 outer:exit 2b-c97f764a91f304c9726011eeb0e4d1a4e688a341-aedae049ff3f5c4f-01
2022-04-21T16:19:20.220Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:20.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d33059c75f55efe9534661f3d535c47da3c9c13-09f010abebb6a02a-01 outer:exit 2b-7d33059c75f55efe9534661f3d535c47da3c9c13-812080878a68fa54-01
2022-04-21T16:19:20.228Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:20.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-ef475ba6a8e7008eed93bdd3b00bbc6bf727e381-63c6c49d95b4d025-01 outer:exit 2b-ef475ba6a8e7008eed93bdd3b00bbc6bf727e381-77d0a9b102f972e5-01
2022-04-21T16:19:20.230Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:20.233Z appoptics:debug span.exit - no last event outer outer:entry 2b-eef48065f510a2ab31467bf18c844fe8d27bc756-a9f29c9805235e30-01 outer:exit 2b-eef48065f510a2ab31467bf18c844fe8d27bc756-b987589bc21c2ebf-01
2022-04-21T16:19:20.233Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:20.239Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e6f8646c679a7fa352cd3888faee40cfb844589-2cde9a9b426a58ac-01 outer:exit 2b-9e6f8646c679a7fa352cd3888faee40cfb844589-d5baf2b77c541d74-01
2022-04-21T16:19:20.239Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:20.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-15c51e2d28b3b6af48a377710c359d28d22b7418-81458ad4a87df773-01 outer:exit 2b-15c51e2d28b3b6af48a377710c359d28d22b7418-df70f42b5f0b6a09-01
2022-04-21T16:19:20.265Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (305ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.10
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.10
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.10
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.10
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.10
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.10
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.10
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.10
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.10
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.10
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.10
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.10
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.10
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.10
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.10
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.10
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.10
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.10
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.10
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.10
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.10
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.10
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.10
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.10
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.10
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.10
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.10
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.10
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.10
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.10
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.10
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.10
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.10
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.10
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.10
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.10
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.10
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.10
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.10
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.10
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.10
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.10
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:26.951Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:26.952Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:26.952Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:26.952Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:27.009Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:27.118Z appoptics:patching patched crypto 
2022-04-21T16:19:27.137Z appoptics:patching patched https 
2022-04-21T16:19:27.137Z appoptics:patching patched http 
2022-04-21T16:19:27.178Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:27.178Z appoptics:patching patched fs 
2022-04-21T16:19:27.200Z appoptics:patching patched mongodb-core 2.1.11 (disabled: node v18.0.0)
2022-04-21T16:19:27.206Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.11
    2.4
      databases
2022-04-21T16:19:27.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-20825fb95bdf63102d9399a50f67eed1b549e4c3-42bee26043b17b52-01 outer:exit 2b-20825fb95bdf63102d9399a50f67eed1b549e4c3-fbffa8e255b67ab1-01
2022-04-21T16:19:27.247Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:27.288Z appoptics:debug span.exit - no last event outer outer:entry 2b-b99f7c02ced8a73b5135bf41e0d9bb22a7c8d219-6ef25b15a467f88d-01 outer:exit 2b-b99f7c02ced8a73b5135bf41e0d9bb22a7c8d219-1c0a6b28033b9bd2-01
2022-04-21T16:19:27.288Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:27.291Z appoptics:debug span.exit - no last event outer outer:entry 2b-358ad080195f8ec5a3c93ebfcab2ff0444396640-2a112ac286c32720-01 outer:exit 2b-358ad080195f8ec5a3c93ebfcab2ff0444396640-e5f90466cbfb90cf-01
2022-04-21T16:19:27.291Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:27.294Z appoptics:debug span.exit - no last event outer outer:entry 2b-63fcde62ada93442e9e6c267cd089c823d14c34c-8c403f9feabed7a0-01 outer:exit 2b-63fcde62ada93442e9e6c267cd089c823d14c34c-659aadab23a801d0-01
2022-04-21T16:19:27.294Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:27.298Z appoptics:debug span.exit - no last event outer outer:entry 2b-e241a6973b4f5f3db3abe362637031ce111d1107-4058f030854921ec-01 outer:exit 2b-e241a6973b4f5f3db3abe362637031ce111d1107-4c27d21e537d2c47-01
2022-04-21T16:19:27.298Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:27.301Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1b4249ae7ea6ab90d91f0b81e02e2946bb73331-fdd5109b35ea657f-01 outer:exit 2b-b1b4249ae7ea6ab90d91f0b81e02e2946bb73331-e7e09f468d45e7a5-01
2022-04-21T16:19:27.301Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:27.304Z appoptics:debug span.exit - no last event outer outer:entry 2b-17ee3382d83903d87fcd4deec65f1abe3a07be89-4589ffa429a1e9c8-01 outer:exit 2b-17ee3382d83903d87fcd4deec65f1abe3a07be89-c0381aa762cf26ad-01
2022-04-21T16:19:27.304Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:27.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-99e243703a2a764ea2f8d45c2d57c0d98c106884-9f253e3e10e5c53f-01 outer:exit 2b-99e243703a2a764ea2f8d45c2d57c0d98c106884-71368267e6b927fe-01
2022-04-21T16:19:27.306Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:27.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-647e9b38ed7d1eefd92838746c1959e332a535d1-e61d73f1a5f35382-01 outer:exit 2b-647e9b38ed7d1eefd92838746c1959e332a535d1-9d39d66c18f30bc5-01
2022-04-21T16:19:27.308Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:27.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f53836560a114524fe46eefab60e9a11c8f4ff9-f210952b11a769bf-01 outer:exit 2b-8f53836560a114524fe46eefab60e9a11c8f4ff9-1cd9d5db275f9e89-01
2022-04-21T16:19:27.311Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:27.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-b495203a7ce0dad1afb66255cd197d098bfb4618-d268b5749901fb6f-01 outer:exit 2b-b495203a7ce0dad1afb66255cd197d098bfb4618-1d46a859b663e2ef-01
2022-04-21T16:19:27.315Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:27.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-9cbda273af056dd240d6e0c44658eff066aaaaed-32a05039793ef00b-01 outer:exit 2b-9cbda273af056dd240d6e0c44658eff066aaaaed-9d43462eaecdd9ac-01
2022-04-21T16:19:27.321Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:27.336Z appoptics:debug span.exit - no last event outer outer:entry 2b-fe84e52bb07728f3fe2150841c99cff4bf2bcd02-8bfdff5ad993d937-01 outer:exit 2b-fe84e52bb07728f3fe2150841c99cff4bf2bcd02-bff248c9340e78b5-01
2022-04-21T16:19:27.336Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:27.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-01692d5e1fa6f3f2f48787b273cac14bef5de2bb-bc0b2019db944f1d-01 outer:exit 2b-01692d5e1fa6f3f2f48787b273cac14bef5de2bb-ed166ae7bbd145de-01
2022-04-21T16:19:27.372Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:27.375Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e2a9a4e5fd89d6e07ca709ccd39642c4ed27e92-0374d2141e854c04-01 outer:exit 2b-0e2a9a4e5fd89d6e07ca709ccd39642c4ed27e92-1f98f23b7a847697-01
2022-04-21T16:19:27.375Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:27.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa1754fec983e029602f7e1bd6991fc131eaf5a0-982e3c096b2659a3-01 outer:exit 2b-aa1754fec983e029602f7e1bd6991fc131eaf5a0-b33382c88b2c09ae-01
2022-04-21T16:19:27.378Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:27.380Z appoptics:debug span.exit - no last event outer outer:entry 2b-0390772f6c73b441b4cf5bb957c250c6e8adc459-12a86d055b6651bb-01 outer:exit 2b-0390772f6c73b441b4cf5bb957c250c6e8adc459-1dc64fa31aeeaf1e-01
2022-04-21T16:19:27.380Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:27.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-7f9c7fd086a5c583cddb4fa47c935f6ebaa8e352-0efb121650266cee-01 outer:exit 2b-7f9c7fd086a5c583cddb4fa47c935f6ebaa8e352-5d7591ba52ff73f6-01
2022-04-21T16:19:27.383Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:27.385Z appoptics:debug span.exit - no last event outer outer:entry 2b-e2bc0c00da9d8c497b2b65666a874cba179f4b87-68f8883800033952-01 outer:exit 2b-e2bc0c00da9d8c497b2b65666a874cba179f4b87-7e63c8b281c711e3-01
2022-04-21T16:19:27.385Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:27.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-83ede1c8a2684e4879b1b51b6c06b4bd205f42e3-e496bc3249bf53a2-01 outer:exit 2b-83ede1c8a2684e4879b1b51b6c06b4bd205f42e3-61fe9f888a006cfb-01
2022-04-21T16:19:27.387Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:27.388Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c9863fa470162c018a2de33d979a3eb72b10420-915f3819edacd12f-01 outer:exit 2b-5c9863fa470162c018a2de33d979a3eb72b10420-3a38ad0f2b69cd4f-01
2022-04-21T16:19:27.388Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:27.390Z appoptics:debug span.exit - no last event outer outer:entry 2b-65c7a2d8402584c2b7762ac17c474b8e47b1987f-38d61c212cf91e3b-01 outer:exit 2b-65c7a2d8402584c2b7762ac17c474b8e47b1987f-a45a02435848da42-01
2022-04-21T16:19:27.390Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:27.393Z appoptics:debug span.exit - no last event outer outer:entry 2b-a7a3457c5b97167a64fb6604f291a9e97351235e-6896a24a8efd123c-01 outer:exit 2b-a7a3457c5b97167a64fb6604f291a9e97351235e-ee464cbc3ce319e1-01
2022-04-21T16:19:27.393Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:27.395Z appoptics:debug span.exit - no last event outer outer:entry 2b-ddce4e6b7d1e99fe0d5e00ac2db4928280b1e980-dd52f652de5a8e72-01 outer:exit 2b-ddce4e6b7d1e99fe0d5e00ac2db4928280b1e980-c6caf0f988e8fdf7-01
2022-04-21T16:19:27.396Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:27.397Z appoptics:debug span.exit - no last event outer outer:entry 2b-7735fdfbf98917911137356141d2ed8e0ec9316b-9bdda90e3f385375-01 outer:exit 2b-7735fdfbf98917911137356141d2ed8e0ec9316b-d1fd1b2235ed08ee-01
2022-04-21T16:19:27.398Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:27.400Z appoptics:debug span.exit - no last event outer outer:entry 2b-784014e15947013f44fa1929f497e5564c08161b-18c2ccba60ec1cc3-01 outer:exit 2b-784014e15947013f44fa1929f497e5564c08161b-697ec4922efd6e97-01
2022-04-21T16:19:27.400Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:27.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-c9254ce7f8ca35efa3d398e40d1afaa1896fec08-205380c35dbfef7d-01 outer:exit 2b-c9254ce7f8ca35efa3d398e40d1afaa1896fec08-73d216cc0d74c2ef-01
2022-04-21T16:19:27.405Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:27.410Z appoptics:debug span.exit - no last event outer outer:entry 2b-636d17f7f04b607b5c30bc7573d58ff22d05fb15-735a4b6757c2c33e-01 outer:exit 2b-636d17f7f04b607b5c30bc7573d58ff22d05fb15-cf902853b633d5fa-01
2022-04-21T16:19:27.411Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:27.418Z appoptics:debug span.exit - no last event outer outer:entry 2b-164d775ebfbfd5185aee2c02b07c9c778b687391-48e8b394dd0e4d31-01 outer:exit 2b-164d775ebfbfd5185aee2c02b07c9c778b687391-d1efe8016b48e979-01
2022-04-21T16:19:27.418Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:27.424Z appoptics:debug span.exit - no last event outer outer:entry 2b-5c5c7436fa364b66a6b0769532cc59173c33e950-c722b09f277b2fb4-01 outer:exit 2b-5c5c7436fa364b66a6b0769532cc59173c33e950-dca625829dbd01ef-01
2022-04-21T16:19:27.424Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:27.426Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2e0c2fdeeb5ab2265310f644d637e5cb13abde7-2feaff051cef4241-01 outer:exit 2b-d2e0c2fdeeb5ab2265310f644d637e5cb13abde7-b7c74ace059be977-01
2022-04-21T16:19:27.426Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:27.429Z appoptics:debug span.exit - no last event outer outer:entry 2b-a33f0ec234c849c3b8b39031aa3953eb76cd17d5-7421a2337dbb4ace-01 outer:exit 2b-a33f0ec234c849c3b8b39031aa3953eb76cd17d5-5b16c26853c4f1a3-01
2022-04-21T16:19:27.429Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:27.434Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e1350dc4a070114e1132102c9fe8bf6fcb66cd6-79fac585dc45a8dc-01 outer:exit 2b-8e1350dc4a070114e1132102c9fe8bf6fcb66cd6-0fcc2f692b365af7-01
2022-04-21T16:19:27.434Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:27.436Z appoptics:debug span.exit - no last event outer outer:entry 2b-361ba7e4eba5392c32f41bade5d717fc421fa6cc-11fbd2ea367b1485-01 outer:exit 2b-361ba7e4eba5392c32f41bade5d717fc421fa6cc-5f80b7bac5921cf5-01
2022-04-21T16:19:27.436Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:27.438Z appoptics:debug span.exit - no last event outer outer:entry 2b-94edaa3d408255164b0bb314ba83ca518ab7e29e-1ec0f803ed2751ce-01 outer:exit 2b-94edaa3d408255164b0bb314ba83ca518ab7e29e-1b2e9f891a0f7e88-01
2022-04-21T16:19:27.438Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:27.439Z appoptics:debug span.exit - no last event outer outer:entry 2b-e29a79fba1c0efcee757014985cc42a35f32744c-bb99f2b44b473951-01 outer:exit 2b-e29a79fba1c0efcee757014985cc42a35f32744c-e7bedf93f90a5a38-01
2022-04-21T16:19:27.440Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:27.441Z appoptics:debug span.exit - no last event outer outer:entry 2b-891367851d79594327b4aab3ff24226d0c78608c-f60486b50ed02c3d-01 outer:exit 2b-891367851d79594327b4aab3ff24226d0c78608c-ccf50a7d8c5ac263-01
2022-04-21T16:19:27.441Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:27.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-370dd80eb3408bb666ed29b8c0ad85cb5ee99d15-264c8308f24cca47-01 outer:exit 2b-370dd80eb3408bb666ed29b8c0ad85cb5ee99d15-b9309a1ed66b2965-01
2022-04-21T16:19:27.443Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:27.450Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdaaadea51dfbb876d5e4c86c090963a4bb9bd02-7597d45201ab7fe4-01 outer:exit 2b-cdaaadea51dfbb876d5e4c86c090963a4bb9bd02-f0273bb4ae17c6b8-01
2022-04-21T16:19:27.450Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:27.458Z appoptics:debug span.exit - no last event outer outer:entry 2b-7545ea50831829745e183d9c9a5d8c53d16599a8-11a908624ca0476e-01 outer:exit 2b-7545ea50831829745e183d9c9a5d8c53d16599a8-c5b5fe4c9fda15b8-01
2022-04-21T16:19:27.458Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:27.460Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0c3edbc1e02ec379a4a1f06089e3c41a98fe73c-16569055bb2110e8-01 outer:exit 2b-b0c3edbc1e02ec379a4a1f06089e3c41a98fe73c-c03b3f20b9828aa8-01
2022-04-21T16:19:27.460Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:27.462Z appoptics:debug span.exit - no last event outer outer:entry 2b-709dfaf9f0c15b499d61a878ddb1861da0e10bb0-cc15ed60b85faed6-01 outer:exit 2b-709dfaf9f0c15b499d61a878ddb1861da0e10bb0-dd57579985eb39de-01
2022-04-21T16:19:27.462Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:27.465Z appoptics:debug span.exit - no last event outer outer:entry 2b-b7ca2e6a32f8b42b199e2086b7619a1bbb2b1101-12334993fc971191-01 outer:exit 2b-b7ca2e6a32f8b42b199e2086b7619a1bbb2b1101-a095fdb1bf7fdb21-01
2022-04-21T16:19:27.465Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:27.489Z appoptics:debug span.exit - no last event outer outer:entry 2b-4507da704c3a033fddc632c39ed04074f56a960c-b2f12a263a2b1cfe-01 outer:exit 2b-4507da704c3a033fddc632c39ed04074f56a960c-990c3cc983f0c17f-01
2022-04-21T16:19:27.490Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (278ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.11
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.11
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.11
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.11
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.11
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.11
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.11
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.11
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.11
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.11
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.11
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.11
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.11
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.11
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.11
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.11
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.11
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.11
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.11
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.11
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.11
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.11
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.11
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.11
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.11
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.11
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.11
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.11
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.11
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.11
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.11
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.11
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.11
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.11
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.11
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.11
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.11
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.11
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.11
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.11
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.11
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.11
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:33.501Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:33.502Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:33.502Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:33.503Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:33.585Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:33.696Z appoptics:patching patched crypto 
2022-04-21T16:19:33.723Z appoptics:patching patched https 
2022-04-21T16:19:33.723Z appoptics:patching patched http 
2022-04-21T16:19:33.781Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:33.781Z appoptics:patching patched fs 
2022-04-21T16:19:33.809Z appoptics:patching patched mongodb-core 2.1.12 (disabled: node v18.0.0)
2022-04-21T16:19:33.815Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.12
    2.4
      databases
2022-04-21T16:19:33.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-8c3c06c22b8df3290aac42a47fa06917650f1359-77cdcad00c7606e5-01 outer:exit 2b-8c3c06c22b8df3290aac42a47fa06917650f1359-8a08cb5b86952b06-01
2022-04-21T16:19:33.861Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:33.901Z appoptics:debug span.exit - no last event outer outer:entry 2b-f768577cc3e41e17979bdff0fdc29b4e30a6d5cb-90eadd7ee5b5963f-01 outer:exit 2b-f768577cc3e41e17979bdff0fdc29b4e30a6d5cb-29f640afc4cb7bef-01
2022-04-21T16:19:33.901Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:33.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-c05718eae3f98e867245bdd94a5f758b6850d84d-f39d9104b6497c91-01 outer:exit 2b-c05718eae3f98e867245bdd94a5f758b6850d84d-82d732d188afd91c-01
2022-04-21T16:19:33.905Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:33.907Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba2c0adb8c1ed7d136fb12529c81dd6e208d83f0-842d51dbc5e48cd3-01 outer:exit 2b-ba2c0adb8c1ed7d136fb12529c81dd6e208d83f0-36ae3a51475413db-01
2022-04-21T16:19:33.907Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:33.912Z appoptics:debug span.exit - no last event outer outer:entry 2b-f661140e5338ac8cb59aa62ef848b81869d80ce2-10708ccd0e7ec60d-01 outer:exit 2b-f661140e5338ac8cb59aa62ef848b81869d80ce2-376ea1a782b24ad0-01
2022-04-21T16:19:33.912Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:33.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a21fc5d1f265ecefbde3eb0468b961bb37d1c49-40a58fea81313c23-01 outer:exit 2b-0a21fc5d1f265ecefbde3eb0468b961bb37d1c49-240bc6400bfd621b-01
2022-04-21T16:19:33.915Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:33.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-7031f5ca98b214fa37a75a3d847a93b6055fbfc6-8d02173cf11fbce4-01 outer:exit 2b-7031f5ca98b214fa37a75a3d847a93b6055fbfc6-bef326a6b314065c-01
2022-04-21T16:19:33.917Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:33.920Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3fd2d8a2309b410b3989708ce273c777406f96a-05df7f00614c7580-01 outer:exit 2b-e3fd2d8a2309b410b3989708ce273c777406f96a-8e5a6b5aede39874-01
2022-04-21T16:19:33.920Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:33.924Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9573295cd20af30800c596df64ae805f809053c-97cc5060fac9d4ef-01 outer:exit 2b-e9573295cd20af30800c596df64ae805f809053c-aba20f567005633a-01
2022-04-21T16:19:33.924Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:33.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-cfcfe49d6d4598880e0a79d6dbb13fc5d7a6ffc9-2423d9c5345b0b8e-01 outer:exit 2b-cfcfe49d6d4598880e0a79d6dbb13fc5d7a6ffc9-283eff6caf52c7d4-01
2022-04-21T16:19:33.927Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:33.931Z appoptics:debug span.exit - no last event outer outer:entry 2b-38aa11a457e12b51479956d9d48466abaa101d49-ed90fd9b5058c19f-01 outer:exit 2b-38aa11a457e12b51479956d9d48466abaa101d49-143f2056ec2b8779-01
2022-04-21T16:19:33.931Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:33.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ad8369bf3d2a1a08c015418381b8ba0afcdc1b8-33bd668483d3d07b-01 outer:exit 2b-0ad8369bf3d2a1a08c015418381b8ba0afcdc1b8-67e3e2a1ff616be5-01
2022-04-21T16:19:33.937Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:33.951Z appoptics:debug span.exit - no last event outer outer:entry 2b-9aed9bb2a9601ca186f630d2e1c0d66a190a11b0-14040f3a25a4026c-01 outer:exit 2b-9aed9bb2a9601ca186f630d2e1c0d66a190a11b0-e5dccd2f15ad8f83-01
2022-04-21T16:19:33.951Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:33.989Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c390cee06ce926fab561166193d1b64fc70ca90-11a2a754ce7033d4-01 outer:exit 2b-7c390cee06ce926fab561166193d1b64fc70ca90-59a820edcc42be9e-01
2022-04-21T16:19:33.989Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:33.992Z appoptics:debug span.exit - no last event outer outer:entry 2b-cbdf36f6cde6b0513abf18034f6274636342e25e-1af75efad702a572-01 outer:exit 2b-cbdf36f6cde6b0513abf18034f6274636342e25e-8b9c614d6c9b2421-01
2022-04-21T16:19:33.992Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:33.994Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fa822877df7de50bdfb0e4182c03a8f20692697-3245a704a4437659-01 outer:exit 2b-4fa822877df7de50bdfb0e4182c03a8f20692697-1a021e8ec3a0760e-01
2022-04-21T16:19:33.994Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:33.996Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dfe67bd8285b36a2228f578593730a974400f24-b1703872823f5a64-01 outer:exit 2b-8dfe67bd8285b36a2228f578593730a974400f24-7ae9b5228cfad1c7-01
2022-04-21T16:19:33.997Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:33.999Z appoptics:debug span.exit - no last event outer outer:entry 2b-b609afc14e372d3b8c19bdb388f71eb9c8332b2f-24aa381da6ef6bd9-01 outer:exit 2b-b609afc14e372d3b8c19bdb388f71eb9c8332b2f-d015c6178bbc4631-01
2022-04-21T16:19:33.999Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:34.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-7d036562437d179325388cc5c64863eefa25d820-b9fbc1e8dd7f615c-01 outer:exit 2b-7d036562437d179325388cc5c64863eefa25d820-9e4e69cb12642394-01
2022-04-21T16:19:34.001Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:34.003Z appoptics:debug span.exit - no last event outer outer:entry 2b-b475a1d1988b202a60048153961e8ca6f0e4fca9-9942cca1f7c13295-01 outer:exit 2b-b475a1d1988b202a60048153961e8ca6f0e4fca9-bf12f0753a1aedc0-01
2022-04-21T16:19:34.003Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:34.005Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca7d88592697628fbbf17b72cf5f885d2942d6aa-94a683b50eb0adbf-01 outer:exit 2b-ca7d88592697628fbbf17b72cf5f885d2942d6aa-a8710e53699bb77b-01
2022-04-21T16:19:34.005Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:34.007Z appoptics:debug span.exit - no last event outer outer:entry 2b-c5199e79002a22bfcc9578bbd8f953e46f513905-7d058b659302313c-01 outer:exit 2b-c5199e79002a22bfcc9578bbd8f953e46f513905-5269753617b90abe-01
2022-04-21T16:19:34.007Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:34.010Z appoptics:debug span.exit - no last event outer outer:entry 2b-95efa35d288314a32b5ed33813f243f9bbb88bfe-d0834e5f66032ca0-01 outer:exit 2b-95efa35d288314a32b5ed33813f243f9bbb88bfe-f4c11796275da09a-01
2022-04-21T16:19:34.010Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:34.012Z appoptics:debug span.exit - no last event outer outer:entry 2b-a991715cad04026da33822f0eca06889db830671-90a656f4bfbb7cfa-01 outer:exit 2b-a991715cad04026da33822f0eca06889db830671-9a8bfc850913031b-01
2022-04-21T16:19:34.012Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:34.014Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6c824971005482fe83942ededa97cba74b08cbe-6533c171e1067a8e-01 outer:exit 2b-f6c824971005482fe83942ededa97cba74b08cbe-2d698e16719436d8-01
2022-04-21T16:19:34.014Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:34.017Z appoptics:debug span.exit - no last event outer outer:entry 2b-c02afa4d978c8c27daeee41a900dd1413cddd259-c25bf51a8364b0a0-01 outer:exit 2b-c02afa4d978c8c27daeee41a900dd1413cddd259-dd8277768340fa12-01
2022-04-21T16:19:34.017Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:34.022Z appoptics:debug span.exit - no last event outer outer:entry 2b-9100c730a267b9cfc463a6f97490c817b108c3ba-016db9f2d0cd06a5-01 outer:exit 2b-9100c730a267b9cfc463a6f97490c817b108c3ba-9a4688cd32ec9b41-01
2022-04-21T16:19:34.022Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:34.027Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf9dacb1d03f549c02df8201bf1e530e22321f16-423102c830916865-01 outer:exit 2b-cf9dacb1d03f549c02df8201bf1e530e22321f16-3448c8febccf135b-01
2022-04-21T16:19:34.027Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:34.036Z appoptics:debug span.exit - no last event outer outer:entry 2b-7112d8a62712378ce8c9e20841d84db7c720de1a-747f6ae9180e190e-01 outer:exit 2b-7112d8a62712378ce8c9e20841d84db7c720de1a-472469e3630306ab-01
2022-04-21T16:19:34.036Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:34.041Z appoptics:debug span.exit - no last event outer outer:entry 2b-3765db0020ed195081a4200611301ce13b379ed6-ef073b7714c3baf9-01 outer:exit 2b-3765db0020ed195081a4200611301ce13b379ed6-542acd712476bb7a-01
2022-04-21T16:19:34.041Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:34.044Z appoptics:debug span.exit - no last event outer outer:entry 2b-2489b295e3857c28c8ca59889ec00da8233ca8d3-d18fd26475d28546-01 outer:exit 2b-2489b295e3857c28c8ca59889ec00da8233ca8d3-c6f4c71d12f24294-01
2022-04-21T16:19:34.044Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:34.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-c4f1b82ce5828ee2923f586100496c1fe68ae6dc-432e1971c65ad421-01 outer:exit 2b-c4f1b82ce5828ee2923f586100496c1fe68ae6dc-97e3070234930bd7-01
2022-04-21T16:19:34.047Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:34.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-d866e780051c9d3ef74cc6a6e3c467961ebbe5b8-d4634cc53a8fef8a-01 outer:exit 2b-d866e780051c9d3ef74cc6a6e3c467961ebbe5b8-9d9c1fb5ebbd991b-01
2022-04-21T16:19:34.052Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:34.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-a8046f732bf60c26fd50b180ffca0328ab659473-01c121ed11950a4a-01 outer:exit 2b-a8046f732bf60c26fd50b180ffca0328ab659473-cd48998fe8986ae2-01
2022-04-21T16:19:34.054Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:34.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-f2f7fa2d4a96f94d9434fbe0cc0fc7a11e3779ef-079d724d0a8ecb81-01 outer:exit 2b-f2f7fa2d4a96f94d9434fbe0cc0fc7a11e3779ef-6a0c5fc381172d25-01
2022-04-21T16:19:34.056Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:34.058Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e58a1c0c9b7176e7eb055b7a456ec7ea71f378c-88ce08701d09b3d3-01 outer:exit 2b-3e58a1c0c9b7176e7eb055b7a456ec7ea71f378c-63e95dc59ed7b2b4-01
2022-04-21T16:19:34.058Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:34.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-755814d2ca2aa6c7bc2ea1955b2aee59b6f2033c-3b22b04d00712f5d-01 outer:exit 2b-755814d2ca2aa6c7bc2ea1955b2aee59b6f2033c-78a2ecb292e277ec-01
2022-04-21T16:19:34.060Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:34.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-dea73015f66c642ad25948d4cf2d2361a892055f-e813e1c6cba163bf-01 outer:exit 2b-dea73015f66c642ad25948d4cf2d2361a892055f-1cb9080f7aed6bbb-01
2022-04-21T16:19:34.062Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:34.069Z appoptics:debug span.exit - no last event outer outer:entry 2b-e74ce7681cefb9a63435bca389be54ba920d8e84-a226f270fd2cb972-01 outer:exit 2b-e74ce7681cefb9a63435bca389be54ba920d8e84-3cdefcdbb4be95db-01
2022-04-21T16:19:34.069Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:34.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-e704361f66d8027ba374892cedcaf01766d62f2a-3ccb68f557716c68-01 outer:exit 2b-e704361f66d8027ba374892cedcaf01766d62f2a-9de1d53afad92354-01
2022-04-21T16:19:34.080Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:34.083Z appoptics:debug span.exit - no last event outer outer:entry 2b-322006e8dadbd2fc970c9610a5d54762cae7e6c5-b0680dffa1b944fd-01 outer:exit 2b-322006e8dadbd2fc970c9610a5d54762cae7e6c5-341286c66e53208f-01
2022-04-21T16:19:34.083Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:34.085Z appoptics:debug span.exit - no last event outer outer:entry 2b-7efeada72b087f269e5336998e2ac096a9883e11-945f097339efc3c0-01 outer:exit 2b-7efeada72b087f269e5336998e2ac096a9883e11-91a3900c0587e8b6-01
2022-04-21T16:19:34.085Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:34.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-68bc64a2a693819779b8bf4438e3074f383e0191-906e2f9a46235c31-01 outer:exit 2b-68bc64a2a693819779b8bf4438e3074f383e0191-9f7f3fea86838ec5-01
2022-04-21T16:19:34.088Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:34.112Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa1df38475b1157a26d816e47ef521d1972d8a88-8411aa206be006d2-01 outer:exit 2b-fa1df38475b1157a26d816e47ef521d1972d8a88-5eec11768035dcdd-01
2022-04-21T16:19:34.113Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (292ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.12
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.12
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.12
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.12
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.12
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.12
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.12
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.12
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.12
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.12
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.12
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.12
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.12
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.12
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.12
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.12
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.12
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.12
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.12
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.12
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.12
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.12
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.12
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.12
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.12
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.12
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.12
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.12
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.12
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.12
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.12
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.12
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.12
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.12
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.12
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.12
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.12
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.12
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.12
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.12
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.12
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.12
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:40.412Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:40.413Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:40.413Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:40.414Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:40.471Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:40.580Z appoptics:patching patched crypto 
2022-04-21T16:19:40.605Z appoptics:patching patched https 
2022-04-21T16:19:40.606Z appoptics:patching patched http 
2022-04-21T16:19:40.645Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:40.645Z appoptics:patching patched fs 
2022-04-21T16:19:40.669Z appoptics:patching patched mongodb-core 2.1.13 (disabled: node v18.0.0)
2022-04-21T16:19:40.675Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.13
    2.4
      databases
2022-04-21T16:19:40.721Z appoptics:debug span.exit - no last event outer outer:entry 2b-baa5b643708fe9b8b620532d2e0b35d86313690f-4c149df05d1e6bf3-01 outer:exit 2b-baa5b643708fe9b8b620532d2e0b35d86313690f-4addd12287638e54-01
2022-04-21T16:19:40.721Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:40.763Z appoptics:debug span.exit - no last event outer outer:entry 2b-02d09ac46e15b838586626e1f2361f0075b72bfe-151dd5834c8e57f7-01 outer:exit 2b-02d09ac46e15b838586626e1f2361f0075b72bfe-54b687cb45c22be7-01
2022-04-21T16:19:40.763Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:40.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-9a277e4fede2e33b4086f61a070d1328c35b9178-3f99539d7a30493a-01 outer:exit 2b-9a277e4fede2e33b4086f61a070d1328c35b9178-d9975522cdb6d180-01
2022-04-21T16:19:40.767Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:40.770Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d1decb593edeab0d7efd0287a542a8d54682f00-e10fe56ba89ea12a-01 outer:exit 2b-8d1decb593edeab0d7efd0287a542a8d54682f00-7629e4235deb487b-01
2022-04-21T16:19:40.770Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:40.777Z appoptics:debug span.exit - no last event outer outer:entry 2b-eaf06e1e7bee47598d685ca878c3695c4080bf95-beabdd3713241f96-01 outer:exit 2b-eaf06e1e7bee47598d685ca878c3695c4080bf95-f62f7ed2fd72a62b-01
2022-04-21T16:19:40.777Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:40.780Z appoptics:debug span.exit - no last event outer outer:entry 2b-de40b64703a45965d81d1880d6660346bc185393-30055ab480a93921-01 outer:exit 2b-de40b64703a45965d81d1880d6660346bc185393-5bd4f3b299f0095e-01
2022-04-21T16:19:40.780Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:40.782Z appoptics:debug span.exit - no last event outer outer:entry 2b-589e0543fdfccdecd8a63377bb1dd8eb4f5f6fa9-d8d9c83b9b2bab1e-01 outer:exit 2b-589e0543fdfccdecd8a63377bb1dd8eb4f5f6fa9-c59e9bc206eb1f47-01
2022-04-21T16:19:40.783Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:40.785Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cdc3e50b351a8e5468460c40539a389d099c262-5688b02dc8cbdbf6-01 outer:exit 2b-1cdc3e50b351a8e5468460c40539a389d099c262-a99deb18e38e1379-01
2022-04-21T16:19:40.785Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:40.788Z appoptics:debug span.exit - no last event outer outer:entry 2b-77a0b8f9def77a98efcbe88225a8e12e22fbe5be-24b96c3cd63bb258-01 outer:exit 2b-77a0b8f9def77a98efcbe88225a8e12e22fbe5be-fb5a19b5a471dbdd-01
2022-04-21T16:19:40.788Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:40.790Z appoptics:debug span.exit - no last event outer outer:entry 2b-195a809df200e8f99b7ed3e7f2b68aec8bc151aa-6bae787c6da732a3-01 outer:exit 2b-195a809df200e8f99b7ed3e7f2b68aec8bc151aa-260549329b17b8e9-01
2022-04-21T16:19:40.790Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:40.794Z appoptics:debug span.exit - no last event outer outer:entry 2b-189d4af1a32aaf2b1f1aa9915e33e74ed8ff0ac3-3c1eca3c78377f8b-01 outer:exit 2b-189d4af1a32aaf2b1f1aa9915e33e74ed8ff0ac3-b8135faffef1cd62-01
2022-04-21T16:19:40.794Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:40.800Z appoptics:debug span.exit - no last event outer outer:entry 2b-630dc32f125f55cda748e3c7f7d517a1c876fcb2-10e03b9384c31684-01 outer:exit 2b-630dc32f125f55cda748e3c7f7d517a1c876fcb2-963ef7f5627391cd-01
2022-04-21T16:19:40.800Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:40.816Z appoptics:debug span.exit - no last event outer outer:entry 2b-0db180eafec25bf9cc82c150084caee67d5d201f-3d1355f9a75c54dc-01 outer:exit 2b-0db180eafec25bf9cc82c150084caee67d5d201f-a7274e7e1399528a-01
2022-04-21T16:19:40.816Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:40.853Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b4c240c920574ee783a0cbf526661a6ade4dfa9-699db95267d7e7b7-01 outer:exit 2b-3b4c240c920574ee783a0cbf526661a6ade4dfa9-9bad41a26ace4f39-01
2022-04-21T16:19:40.853Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:40.856Z appoptics:debug span.exit - no last event outer outer:entry 2b-79d60d2601679943c1e1afc1345964cd0c61f509-ded1d435f8edf5eb-01 outer:exit 2b-79d60d2601679943c1e1afc1345964cd0c61f509-4eb0cd299461f8b2-01
2022-04-21T16:19:40.856Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:40.858Z appoptics:debug span.exit - no last event outer outer:entry 2b-f41ca806a9be2d3935a9417ce4c3a91508ee33ec-d343da7c8bb5e6f5-01 outer:exit 2b-f41ca806a9be2d3935a9417ce4c3a91508ee33ec-c0569546bb347988-01
2022-04-21T16:19:40.859Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:40.861Z appoptics:debug span.exit - no last event outer outer:entry 2b-52734d94d23dd1490718cf2f7045f097639a8a30-7e18f24d089377e2-01 outer:exit 2b-52734d94d23dd1490718cf2f7045f097639a8a30-a292700d16cdf14c-01
2022-04-21T16:19:40.861Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:40.864Z appoptics:debug span.exit - no last event outer outer:entry 2b-716b5f0dcc6e8961685c493ec7119f9a1e6d8062-6c0cc572b541c985-01 outer:exit 2b-716b5f0dcc6e8961685c493ec7119f9a1e6d8062-1df5512a1c31dcf5-01
2022-04-21T16:19:40.864Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:40.865Z appoptics:debug span.exit - no last event outer outer:entry 2b-1b04d846dd383feb1123a128c6cac2a51b85bba6-f8d4234e3d79adc6-01 outer:exit 2b-1b04d846dd383feb1123a128c6cac2a51b85bba6-86946d504cfbe0c4-01
2022-04-21T16:19:40.865Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:40.867Z appoptics:debug span.exit - no last event outer outer:entry 2b-d757aace3fa82155bac70f1d811bdce56aeaf9b3-3ff95f7b08301397-01 outer:exit 2b-d757aace3fa82155bac70f1d811bdce56aeaf9b3-c23e3e8b0aaef494-01
2022-04-21T16:19:40.867Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:40.869Z appoptics:debug span.exit - no last event outer outer:entry 2b-de2649e6e6f13af43a113754e9fc1f9bbc35b69e-c4020599a13b6fec-01 outer:exit 2b-de2649e6e6f13af43a113754e9fc1f9bbc35b69e-c830bb0c629b2ec3-01
2022-04-21T16:19:40.869Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:40.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-37a90429fa4b81d60cb2bae96a85ed4755441769-94d20f6e695939a9-01 outer:exit 2b-37a90429fa4b81d60cb2bae96a85ed4755441769-b8143e554743f8a5-01
2022-04-21T16:19:40.871Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:40.873Z appoptics:debug span.exit - no last event outer outer:entry 2b-22e8502effe5fb8c4029b69280069b213a63003f-ce2bf0188fa4f0c5-01 outer:exit 2b-22e8502effe5fb8c4029b69280069b213a63003f-54997d294d3ec7b8-01
2022-04-21T16:19:40.873Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:40.876Z appoptics:debug span.exit - no last event outer outer:entry 2b-c0135d522fc05b78216910c1bfcf0a12ca3fb318-afcaf598827906ed-01 outer:exit 2b-c0135d522fc05b78216910c1bfcf0a12ca3fb318-7d3ad0b35f71c745-01
2022-04-21T16:19:40.876Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:40.878Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e44ebdc0fe76779f8d58868d8e10a27d22794c3-ed111f92c8687f20-01 outer:exit 2b-0e44ebdc0fe76779f8d58868d8e10a27d22794c3-3b33ff146b8722f5-01
2022-04-21T16:19:40.878Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:40.880Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f16d0d84030bea3bd083bb57140af4cf7af070b-6b09a2e65d1f8bd4-01 outer:exit 2b-3f16d0d84030bea3bd083bb57140af4cf7af070b-e3ec7aa6999e0b94-01
2022-04-21T16:19:40.880Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:40.886Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d85bf0213a7736e40385a0e56d3de61f5a28963-696103f18c87ef5b-01 outer:exit 2b-0d85bf0213a7736e40385a0e56d3de61f5a28963-eb2f88f4ad0e203d-01
2022-04-21T16:19:40.886Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:40.891Z appoptics:debug span.exit - no last event outer outer:entry 2b-db6554d9f1398633049e6d49c4bdc41c50185306-ff00a173c50745c1-01 outer:exit 2b-db6554d9f1398633049e6d49c4bdc41c50185306-af569e96778859a1-01
2022-04-21T16:19:40.891Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:40.898Z appoptics:debug span.exit - no last event outer outer:entry 2b-628ff63f7f9e0548eda3139ffc607704116541d4-0de3a10793bb84be-01 outer:exit 2b-628ff63f7f9e0548eda3139ffc607704116541d4-c12c9c74134f446e-01
2022-04-21T16:19:40.898Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:40.903Z appoptics:debug span.exit - no last event outer outer:entry 2b-20e3b380bfdcf5b00f5f03e8d7cff7da39fef753-dba7894b0fdea18c-01 outer:exit 2b-20e3b380bfdcf5b00f5f03e8d7cff7da39fef753-c7bbc1d8079c5734-01
2022-04-21T16:19:40.904Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:40.905Z appoptics:debug span.exit - no last event outer outer:entry 2b-6e98d849eb0f4732aff48a583f749266ee3c6d60-4f5462ad80534366-01 outer:exit 2b-6e98d849eb0f4732aff48a583f749266ee3c6d60-ea68c4cc5b6319e1-01
2022-04-21T16:19:40.905Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:40.908Z appoptics:debug span.exit - no last event outer outer:entry 2b-a48856407617fa4f59e619642f38ed6cbcef7c9d-2f29fa2e19f1a89e-01 outer:exit 2b-a48856407617fa4f59e619642f38ed6cbcef7c9d-ec72ac7539f769e3-01
2022-04-21T16:19:40.908Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:40.914Z appoptics:debug span.exit - no last event outer outer:entry 2b-c6f3fba5f4d488a4097c6bc5b323523a0a3d0234-f962e278543b8613-01 outer:exit 2b-c6f3fba5f4d488a4097c6bc5b323523a0a3d0234-b43fb375e96b58be-01
2022-04-21T16:19:40.914Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:40.915Z appoptics:debug span.exit - no last event outer outer:entry 2b-09acf663765786df53c74e76f03166be3c9057f5-297d256c693c4147-01 outer:exit 2b-09acf663765786df53c74e76f03166be3c9057f5-f3de8354d68a3db4-01
2022-04-21T16:19:40.916Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:40.917Z appoptics:debug span.exit - no last event outer outer:entry 2b-4de0161214068d6d5e777e40b1cdc388084970f6-39ff03b14186da26-01 outer:exit 2b-4de0161214068d6d5e777e40b1cdc388084970f6-1cdb2793fe5e0a4a-01
2022-04-21T16:19:40.917Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:40.919Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bdf8cc7480e5fe6adca42fcd26679cc89700001-fac28fb0dc42592e-01 outer:exit 2b-4bdf8cc7480e5fe6adca42fcd26679cc89700001-d7b6ac9ec596674b-01
2022-04-21T16:19:40.919Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:40.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-09990a69cd3057eb55922139968d06cceb989cb3-2e19d60f920f5f6a-01 outer:exit 2b-09990a69cd3057eb55922139968d06cceb989cb3-cb16f36856d57a6d-01
2022-04-21T16:19:40.921Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:40.922Z appoptics:debug span.exit - no last event outer outer:entry 2b-2817d954c00dcded6d3770b45ae698b79be6fd14-6a433867e0e437d4-01 outer:exit 2b-2817d954c00dcded6d3770b45ae698b79be6fd14-1856c8cd3d3869e1-01
2022-04-21T16:19:40.922Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:40.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1d4168384c57656a675c5995bcb206c858ece2f-8ac14a02582d6db8-01 outer:exit 2b-d1d4168384c57656a675c5995bcb206c858ece2f-ec08a926fda82d44-01
2022-04-21T16:19:40.930Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:40.937Z appoptics:debug span.exit - no last event outer outer:entry 2b-6690537e02b91a1def1a204058fbf06e1de8b480-16b2a4bc7b6ae08f-01 outer:exit 2b-6690537e02b91a1def1a204058fbf06e1de8b480-69879775d7d25a76-01
2022-04-21T16:19:40.938Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:40.939Z appoptics:debug span.exit - no last event outer outer:entry 2b-49eeae551f838bcbb5bd8c9289e9a458fcf1f569-ecb19d4b087f16e3-01 outer:exit 2b-49eeae551f838bcbb5bd8c9289e9a458fcf1f569-80eb242661a5c60a-01
2022-04-21T16:19:40.940Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:40.942Z appoptics:debug span.exit - no last event outer outer:entry 2b-f406cedc25b695f98fbc1e65b62ee5e9f721b5b0-4c777965aae76707-01 outer:exit 2b-f406cedc25b695f98fbc1e65b62ee5e9f721b5b0-ed26b2f7bd6174f0-01
2022-04-21T16:19:40.942Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:40.944Z appoptics:debug span.exit - no last event outer outer:entry 2b-65b607957a47475464b31d4408c12dc8c438705c-b07015d2d507ea30-01 outer:exit 2b-65b607957a47475464b31d4408c12dc8c438705c-6236a2867c4bd693-01
2022-04-21T16:19:40.944Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:40.974Z appoptics:debug span.exit - no last event outer outer:entry 2b-d345c748b02d7b70a02e8d70a4413a94a83fd079-9fdd6d3c3a951ffa-01 outer:exit 2b-d345c748b02d7b70a02e8d70a4413a94a83fd079-92788f368e81efa7-01
2022-04-21T16:19:40.975Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (293ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.13
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.13
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.13
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.13
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.13
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.13
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.13
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.13
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.13
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.13
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.13
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.13
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.13
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.13
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.13
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.13
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.13
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.13
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.13
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.13
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.13
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.13
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.13
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.13
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.13
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.13
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.13
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.13
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.13
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.13
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.13
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.13
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.13
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.13
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.13
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.13
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.13
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.13
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.13
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.13
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.13
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.13
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:46.987Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:46.987Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:46.987Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:46.988Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:47.044Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:47.156Z appoptics:patching patched crypto 
2022-04-21T16:19:47.177Z appoptics:patching patched https 
2022-04-21T16:19:47.177Z appoptics:patching patched http 
2022-04-21T16:19:47.236Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:47.236Z appoptics:patching patched fs 
2022-04-21T16:19:47.261Z appoptics:patching patched mongodb-core 2.1.14 (disabled: node v18.0.0)
2022-04-21T16:19:47.267Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.14
    2.4
      databases
2022-04-21T16:19:47.316Z appoptics:debug span.exit - no last event outer outer:entry 2b-14ece983b82339bbf4ece908117d8f648e98efc6-1dcc7f42053b48e8-01 outer:exit 2b-14ece983b82339bbf4ece908117d8f648e98efc6-168e94c8b8eab646-01
2022-04-21T16:19:47.316Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:47.358Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e0655ec8711c9324f2147dce1bd178172a4a2fa-4ee8d7a44562c829-01 outer:exit 2b-8e0655ec8711c9324f2147dce1bd178172a4a2fa-b059baf20f5ba4ad-01
2022-04-21T16:19:47.359Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:47.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-dcd414f12f38abd45733c402b536fd4dc344b362-922b216ecaf52460-01 outer:exit 2b-dcd414f12f38abd45733c402b536fd4dc344b362-56a6d708c6d96b69-01
2022-04-21T16:19:47.362Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:47.365Z appoptics:debug span.exit - no last event outer outer:entry 2b-431fbfb2605dfc5041593eb186cf6fc46581e7c6-72275bde8cb83e6f-01 outer:exit 2b-431fbfb2605dfc5041593eb186cf6fc46581e7c6-c2ee3c5e235bcd3e-01
2022-04-21T16:19:47.365Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:47.369Z appoptics:debug span.exit - no last event outer outer:entry 2b-8345b3f7df4ce9ff9c77586164966c3a99be5e98-991f173158c5488c-01 outer:exit 2b-8345b3f7df4ce9ff9c77586164966c3a99be5e98-243f6287941e44d8-01
2022-04-21T16:19:47.369Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:47.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2f7cdeabb3c5cbcecd0f48a4c28e7e11395043d-5764ef1217efa9c3-01 outer:exit 2b-a2f7cdeabb3c5cbcecd0f48a4c28e7e11395043d-e30c67d7197c97d7-01
2022-04-21T16:19:47.372Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:47.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-7106b8b5729ee12570f9220bbc8d44ad95c779d1-5cbd82a187987137-01 outer:exit 2b-7106b8b5729ee12570f9220bbc8d44ad95c779d1-4abb932c93ccd27f-01
2022-04-21T16:19:47.375Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:47.377Z appoptics:debug span.exit - no last event outer outer:entry 2b-4c54c06764a85a3ea598774849c114d7e1ea5443-eee5cc1f4ce8b415-01 outer:exit 2b-4c54c06764a85a3ea598774849c114d7e1ea5443-12bf68c426684b6b-01
2022-04-21T16:19:47.377Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:47.379Z appoptics:debug span.exit - no last event outer outer:entry 2b-a4c5ad1097a6a362bce71ae53df9e779955d03ea-0acc5286e8c215bd-01 outer:exit 2b-a4c5ad1097a6a362bce71ae53df9e779955d03ea-5b76d97ce397884c-01
2022-04-21T16:19:47.379Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:47.382Z appoptics:debug span.exit - no last event outer outer:entry 2b-1cf295263bbc0d908a6b7a73bade10916a76c2d6-c36e62152a6e8a5e-01 outer:exit 2b-1cf295263bbc0d908a6b7a73bade10916a76c2d6-a70e2b3028c47c97-01
2022-04-21T16:19:47.382Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:47.386Z appoptics:debug span.exit - no last event outer outer:entry 2b-3f95c1c6964c61c6ce1bfc5d3b06105e91723040-2496662124d629b5-01 outer:exit 2b-3f95c1c6964c61c6ce1bfc5d3b06105e91723040-2ca2e2a8b7d7a4cf-01
2022-04-21T16:19:47.386Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:47.392Z appoptics:debug span.exit - no last event outer outer:entry 2b-78272e51644f612e61ace03fbf1097af667c3db4-28323577abf0a46e-01 outer:exit 2b-78272e51644f612e61ace03fbf1097af667c3db4-0bb5513aa1ccef0a-01
2022-04-21T16:19:47.392Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:47.407Z appoptics:debug span.exit - no last event outer outer:entry 2b-7663ad86d329c56c2c82641395beb6dab1a920e3-9d9f130757989ec1-01 outer:exit 2b-7663ad86d329c56c2c82641395beb6dab1a920e3-308776bc432a0d23-01
2022-04-21T16:19:47.407Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:47.443Z appoptics:debug span.exit - no last event outer outer:entry 2b-7b71ca66f8622780376b0b39adc32669de8d7e88-1a8a2839451cb27b-01 outer:exit 2b-7b71ca66f8622780376b0b39adc32669de8d7e88-32f0efdee99e1b1b-01
2022-04-21T16:19:47.443Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:47.446Z appoptics:debug span.exit - no last event outer outer:entry 2b-53339d96269404afb7644e08d595d62fd2f210a8-7c592bcfc38cf1a1-01 outer:exit 2b-53339d96269404afb7644e08d595d62fd2f210a8-ac3dd8bac86f9ad3-01
2022-04-21T16:19:47.446Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:47.449Z appoptics:debug span.exit - no last event outer outer:entry 2b-7fbdb543cb8bc78f1f13cd2cb8166de7c5a14f04-222f42e1eff607e4-01 outer:exit 2b-7fbdb543cb8bc78f1f13cd2cb8166de7c5a14f04-a3a7d0fabc798ee7-01
2022-04-21T16:19:47.449Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:47.451Z appoptics:debug span.exit - no last event outer outer:entry 2b-7417250f86f102ed75bea92ce3922a3c2746aa45-29194e260d45d61c-01 outer:exit 2b-7417250f86f102ed75bea92ce3922a3c2746aa45-6f9e8de41a5a69aa-01
2022-04-21T16:19:47.451Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:47.454Z appoptics:debug span.exit - no last event outer outer:entry 2b-468ff61225c2d2417ac0d28b86fd254c7de5209d-3b426033985ecab9-01 outer:exit 2b-468ff61225c2d2417ac0d28b86fd254c7de5209d-7178368af0061565-01
2022-04-21T16:19:47.454Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:47.455Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a41ea0a0953f7fbcb493a571259a6ec0c26f0d7-dbec12f7a082e2f7-01 outer:exit 2b-1a41ea0a0953f7fbcb493a571259a6ec0c26f0d7-9e55d3d52f57e374-01
2022-04-21T16:19:47.456Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:47.457Z appoptics:debug span.exit - no last event outer outer:entry 2b-65e14d94e3c65541c974f8168c10cc31311e939a-4c827893240c0cbb-01 outer:exit 2b-65e14d94e3c65541c974f8168c10cc31311e939a-05ab4028c9903736-01
2022-04-21T16:19:47.457Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:47.459Z appoptics:debug span.exit - no last event outer outer:entry 2b-a500db5c0e591bc11ff14d7271b8eb5819a2e952-acd81042aed68822-01 outer:exit 2b-a500db5c0e591bc11ff14d7271b8eb5819a2e952-b5c20cdf247625a5-01
2022-04-21T16:19:47.459Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:47.461Z appoptics:debug span.exit - no last event outer outer:entry 2b-57611580d8a4d826b40eb1d22d47ee47f215bd46-537787edba7a003a-01 outer:exit 2b-57611580d8a4d826b40eb1d22d47ee47f215bd46-d5de6e0b1eab48b2-01
2022-04-21T16:19:47.461Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:47.464Z appoptics:debug span.exit - no last event outer outer:entry 2b-cdfdabf61ab96a177dc62e6b117001d188bf5eef-73c626e9090b8e19-01 outer:exit 2b-cdfdabf61ab96a177dc62e6b117001d188bf5eef-efaa5f4a6159ff76-01
2022-04-21T16:19:47.464Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:47.467Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9c52fe09b90f6ef55e49da4db876e1a9aa5dc9d-e4099e57e29bf546-01 outer:exit 2b-f9c52fe09b90f6ef55e49da4db876e1a9aa5dc9d-0f89aea11737224c-01
2022-04-21T16:19:47.467Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:47.469Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9dc4420c1b2a221e167652ef080aaca0d88d386-95d6ce604adce811-01 outer:exit 2b-d9dc4420c1b2a221e167652ef080aaca0d88d386-9a9f79d652551067-01
2022-04-21T16:19:47.469Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:47.471Z appoptics:debug span.exit - no last event outer outer:entry 2b-31df8553631c8882f38746ed6f2b9e97bc5635ec-968376f331621619-01 outer:exit 2b-31df8553631c8882f38746ed6f2b9e97bc5635ec-81a774a5c05ec367-01
2022-04-21T16:19:47.471Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:47.477Z appoptics:debug span.exit - no last event outer outer:entry 2b-6454a3a094e8986276ffe1e01a67e905eaeec3b4-7af321fca4e9331b-01 outer:exit 2b-6454a3a094e8986276ffe1e01a67e905eaeec3b4-04db9d23414e976c-01
2022-04-21T16:19:47.477Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:47.483Z appoptics:debug span.exit - no last event outer outer:entry 2b-840bc6cfd7d6ead1536b036b09f5cf70c488c3d1-1510c5da3f3f00ea-01 outer:exit 2b-840bc6cfd7d6ead1536b036b09f5cf70c488c3d1-28944e08a8846214-01
2022-04-21T16:19:47.483Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:47.491Z appoptics:debug span.exit - no last event outer outer:entry 2b-79ae55016680fc0bcfb77115b442d6a190f408b9-48fd27d35822280c-01 outer:exit 2b-79ae55016680fc0bcfb77115b442d6a190f408b9-716b71891fbb87d2-01
2022-04-21T16:19:47.491Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:47.497Z appoptics:debug span.exit - no last event outer outer:entry 2b-6eaccd5a90df251099e63730f51e7c2515f0df4c-c2ea7220c90fd024-01 outer:exit 2b-6eaccd5a90df251099e63730f51e7c2515f0df4c-83dbc1880bd294e9-01
2022-04-21T16:19:47.497Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:47.498Z appoptics:debug span.exit - no last event outer outer:entry 2b-64e4f7148827cb2720140b973fdb303d4d0c438a-4ba7bf379c7c3bdb-01 outer:exit 2b-64e4f7148827cb2720140b973fdb303d4d0c438a-caa8282f5b59180d-01
2022-04-21T16:19:47.499Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:47.501Z appoptics:debug span.exit - no last event outer outer:entry 2b-773474e250a864b10fd94574f9d0e08d2f93624b-cc68061f2f54bbf0-01 outer:exit 2b-773474e250a864b10fd94574f9d0e08d2f93624b-d70780bcc9f129f0-01
2022-04-21T16:19:47.501Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:47.507Z appoptics:debug span.exit - no last event outer outer:entry 2b-bba59ff3fbee508260bcc66ed4fbd0bfaebd74ee-59764aa25370aeef-01 outer:exit 2b-bba59ff3fbee508260bcc66ed4fbd0bfaebd74ee-ca579996527813f9-01
2022-04-21T16:19:47.507Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:47.509Z appoptics:debug span.exit - no last event outer outer:entry 2b-edab37f8e5182726adc3ace9d41dde237086c4af-98664242861f8e8d-01 outer:exit 2b-edab37f8e5182726adc3ace9d41dde237086c4af-5c3dd266ec26c806-01
2022-04-21T16:19:47.509Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:47.511Z appoptics:debug span.exit - no last event outer outer:entry 2b-0af209d43618f5fec73b4916258ec4df27610357-b07dcb9604629363-01 outer:exit 2b-0af209d43618f5fec73b4916258ec4df27610357-a439e1aa1e45de53-01
2022-04-21T16:19:47.511Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:47.513Z appoptics:debug span.exit - no last event outer outer:entry 2b-5995cea494a468780a05791f3675d01658c4c8e6-c831f5649a171d22-01 outer:exit 2b-5995cea494a468780a05791f3675d01658c4c8e6-026f7dd6eff43098-01
2022-04-21T16:19:47.513Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:47.515Z appoptics:debug span.exit - no last event outer outer:entry 2b-fede454fbe727e801f522952bda69cec69d2797f-17f62ad257a36071-01 outer:exit 2b-fede454fbe727e801f522952bda69cec69d2797f-1c9d7fd64817b797-01
2022-04-21T16:19:47.515Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:47.516Z appoptics:debug span.exit - no last event outer outer:entry 2b-0b2bda23e7563cd435e21e5db7d727583855c9af-0b7045714b3091e8-01 outer:exit 2b-0b2bda23e7563cd435e21e5db7d727583855c9af-2f12c00e7a2f3dbc-01
2022-04-21T16:19:47.516Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:47.525Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa87695dcd37fd6f8e9250eaadc8902c34a3970d-7f252ef637d4d1c1-01 outer:exit 2b-fa87695dcd37fd6f8e9250eaadc8902c34a3970d-d036c3889352eece-01
2022-04-21T16:19:47.525Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:47.532Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1148ec40f63872a530cbb7d5b144408886e54dd-4027c4bf5e5e9de2-01 outer:exit 2b-f1148ec40f63872a530cbb7d5b144408886e54dd-85fc4a520de4fea4-01
2022-04-21T16:19:47.532Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:47.535Z appoptics:debug span.exit - no last event outer outer:entry 2b-095d8132cde84d153f2dca80193920e3cca7b29b-1513422194ff5247-01 outer:exit 2b-095d8132cde84d153f2dca80193920e3cca7b29b-236de7ec921feb17-01
2022-04-21T16:19:47.535Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:47.537Z appoptics:debug span.exit - no last event outer outer:entry 2b-ead75fcbea19c15503547f6e426ebb29a4c574aa-4d40176d10ab8e87-01 outer:exit 2b-ead75fcbea19c15503547f6e426ebb29a4c574aa-4a1b3d655213cc7f-01
2022-04-21T16:19:47.538Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:47.540Z appoptics:debug span.exit - no last event outer outer:entry 2b-1ce3d364b9e011cc80fc8bf21901d366a3f32583-68f19568a95abb38-01 outer:exit 2b-1ce3d364b9e011cc80fc8bf21901d366a3f32583-943b4087ae77b552-01
2022-04-21T16:19:47.540Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:47.566Z appoptics:debug span.exit - no last event outer outer:entry 2b-d64068c42024cf083d32b88264f6a23bb503cea0-9a87a5f18f7f3219-01 outer:exit 2b-d64068c42024cf083d32b88264f6a23bb503cea0-461a9c91e5ac43fd-01
2022-04-21T16:19:47.566Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (294ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.14
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.14
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.14
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.14
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.14
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.14
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.14
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.14
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.14
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.14
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.14
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.14
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.14
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.14
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.14
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.14
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.14
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.14
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.14
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.14
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.14
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.14
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.14
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.14
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.14
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.14
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.14
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.14
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.14
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.14
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.14
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.14
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.14
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.14
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.14
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.14
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.14
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.14
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.14
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.14
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.14
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.14
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:19:54.194Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:19:54.195Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:19:54.195Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:19:54.196Z appoptics:debug using context provider: ace-context
2022-04-21T16:19:54.255Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:19:54.367Z appoptics:patching patched crypto 
2022-04-21T16:19:54.385Z appoptics:patching patched https 
2022-04-21T16:19:54.385Z appoptics:patching patched http 
2022-04-21T16:19:54.427Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:19:54.427Z appoptics:patching patched fs 
2022-04-21T16:19:54.451Z appoptics:patching patched mongodb-core 2.1.15 (disabled: node v18.0.0)
2022-04-21T16:19:54.457Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.15
    2.4
      databases
2022-04-21T16:19:54.500Z appoptics:debug span.exit - no last event outer outer:entry 2b-18d3c834fead90d3282360435cca14438d3d4e97-e02d846bf9e57f2c-01 outer:exit 2b-18d3c834fead90d3282360435cca14438d3d4e97-69c45ca59d518560-01
2022-04-21T16:19:54.500Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:19:54.542Z appoptics:debug span.exit - no last event outer outer:entry 2b-b763925608f694d9600f088aacf8b8ca197f88ed-d11aada56e18389b-01 outer:exit 2b-b763925608f694d9600f088aacf8b8ca197f88ed-dc5abb152cd4f8da-01
2022-04-21T16:19:54.542Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:19:54.546Z appoptics:debug span.exit - no last event outer outer:entry 2b-c45172f53b6d390f1a12d66e4558ebfc23d4b817-341f3a00b938e636-01 outer:exit 2b-c45172f53b6d390f1a12d66e4558ebfc23d4b817-430db834942eb866-01
2022-04-21T16:19:54.546Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:19:54.549Z appoptics:debug span.exit - no last event outer outer:entry 2b-1dcac89259200fc27284c4aa737381803373cba1-3f69ddf8c3319d32-01 outer:exit 2b-1dcac89259200fc27284c4aa737381803373cba1-6b113fa5c36753ee-01
2022-04-21T16:19:54.549Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:19:54.553Z appoptics:debug span.exit - no last event outer outer:entry 2b-655494c92d0d519276a7cf62507a8074ec64bcdf-5ce55d299b608898-01 outer:exit 2b-655494c92d0d519276a7cf62507a8074ec64bcdf-94a01f716fc893ac-01
2022-04-21T16:19:54.553Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:19:54.556Z appoptics:debug span.exit - no last event outer outer:entry 2b-e8e2f3b233d62867f23c109aaa34ff5fe824c522-786974e8216ef2cf-01 outer:exit 2b-e8e2f3b233d62867f23c109aaa34ff5fe824c522-91a493a555be607c-01
2022-04-21T16:19:54.556Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:19:54.559Z appoptics:debug span.exit - no last event outer outer:entry 2b-270eeabe134fb48046f8181bcd7d1ce0573de6f9-84825524a81471b1-01 outer:exit 2b-270eeabe134fb48046f8181bcd7d1ce0573de6f9-f8a9ef11d3201a92-01
2022-04-21T16:19:54.559Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:19:54.561Z appoptics:debug span.exit - no last event outer outer:entry 2b-ca98360ff7893b52a5bd6bce122445a5ffb996a3-c00919bc6bfbd4d6-01 outer:exit 2b-ca98360ff7893b52a5bd6bce122445a5ffb996a3-d4491ea5734b8b46-01
2022-04-21T16:19:54.561Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:19:54.564Z appoptics:debug span.exit - no last event outer outer:entry 2b-3a12819ed118dc14cef7592223b58de4f07ba627-8c0d99db6fba65b1-01 outer:exit 2b-3a12819ed118dc14cef7592223b58de4f07ba627-c17de96861a5c40f-01
2022-04-21T16:19:54.564Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:19:54.567Z appoptics:debug span.exit - no last event outer outer:entry 2b-4194c77ecc111c284d213a001d9613350cdec842-e0b7c3b1b807feac-01 outer:exit 2b-4194c77ecc111c284d213a001d9613350cdec842-d750af35b1f20b6b-01
2022-04-21T16:19:54.567Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:19:54.572Z appoptics:debug span.exit - no last event outer outer:entry 2b-8da8ea46928db6fb6b0a6293d04d60c7696b8cf8-53f0a2bbb245ed1d-01 outer:exit 2b-8da8ea46928db6fb6b0a6293d04d60c7696b8cf8-e92d5a9248822ea3-01
2022-04-21T16:19:54.572Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:19:54.579Z appoptics:debug span.exit - no last event outer outer:entry 2b-fdc9e5487dbc7812c9f811349d0960e936f4f9fc-5432e8f544d75ab4-01 outer:exit 2b-fdc9e5487dbc7812c9f811349d0960e936f4f9fc-ac78655e496989bb-01
2022-04-21T16:19:54.579Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:19:54.593Z appoptics:debug span.exit - no last event outer outer:entry 2b-672e2c3bac05c2c25943dd034d3f9888cf6fc665-f87c6c3b0b29fad7-01 outer:exit 2b-672e2c3bac05c2c25943dd034d3f9888cf6fc665-54136d46a3489425-01
2022-04-21T16:19:54.594Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:19:54.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9d535aba2a8f249bf2ecf2740e0ebbe0803b0ca-29ac5f77b472c6d2-01 outer:exit 2b-f9d535aba2a8f249bf2ecf2740e0ebbe0803b0ca-49e604e99a9d72ac-01
2022-04-21T16:19:54.631Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:19:54.633Z appoptics:debug span.exit - no last event outer outer:entry 2b-69aaed20369be65e86af057c99773472d821de0a-bbc5dd3c8150e323-01 outer:exit 2b-69aaed20369be65e86af057c99773472d821de0a-5ab9b3ef15d7deb2-01
2022-04-21T16:19:54.633Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:19:54.635Z appoptics:debug span.exit - no last event outer outer:entry 2b-dce300ecfea32889df4d99b5053a4d008077f1e2-6adc3a2a161605d6-01 outer:exit 2b-dce300ecfea32889df4d99b5053a4d008077f1e2-cd3e64275d7836ca-01
2022-04-21T16:19:54.636Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:19:54.638Z appoptics:debug span.exit - no last event outer outer:entry 2b-897249f10593f6c7b51c29ef665613aa4f93195c-e437cda26e6613ae-01 outer:exit 2b-897249f10593f6c7b51c29ef665613aa4f93195c-9a6b61469a278d71-01
2022-04-21T16:19:54.638Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:19:54.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-4334805fab6e2f1ccfdc9ffa2bb6f289374cc1ba-7fef0871f7738968-01 outer:exit 2b-4334805fab6e2f1ccfdc9ffa2bb6f289374cc1ba-7e5fe911e11c826a-01
2022-04-21T16:19:54.640Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:19:54.642Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e31ef1503b3195e7bf86cfb8175a1507a84dbc4-fb11cd8210e92343-01 outer:exit 2b-0e31ef1503b3195e7bf86cfb8175a1507a84dbc4-88727d8fd2d294f5-01
2022-04-21T16:19:54.642Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:19:54.644Z appoptics:debug span.exit - no last event outer outer:entry 2b-6a906b77bbcf1b6782c32a7b3b2545013fe95737-88869a495c85ab9f-01 outer:exit 2b-6a906b77bbcf1b6782c32a7b3b2545013fe95737-e34fef0bb68e171b-01
2022-04-21T16:19:54.644Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:19:54.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1285bd3fc1af61f862dc7bfe3ebca969a341c1a-d6efb374e6dd1d70-01 outer:exit 2b-b1285bd3fc1af61f862dc7bfe3ebca969a341c1a-211d5ae94aa0bf32-01
2022-04-21T16:19:54.646Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:19:54.647Z appoptics:debug span.exit - no last event outer outer:entry 2b-d9dbbd9a8ff1c157fa357a2f3e2a7c0846524176-adedea0704a28960-01 outer:exit 2b-d9dbbd9a8ff1c157fa357a2f3e2a7c0846524176-b61cc0237f185e03-01
2022-04-21T16:19:54.647Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:19:54.650Z appoptics:debug span.exit - no last event outer outer:entry 2b-793f1503713eadf71518ac62168541f7e888c503-2de7241266c859b6-01 outer:exit 2b-793f1503713eadf71518ac62168541f7e888c503-60e6bbde0d2038a3-01
2022-04-21T16:19:54.650Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:19:54.652Z appoptics:debug span.exit - no last event outer outer:entry 2b-8dcb2d53d605e0be33a6afb1275a6b685a8cdff9-60b906c133272aaf-01 outer:exit 2b-8dcb2d53d605e0be33a6afb1275a6b685a8cdff9-bdd1a75bedfd802b-01
2022-04-21T16:19:54.653Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:19:54.654Z appoptics:debug span.exit - no last event outer outer:entry 2b-80eb20cd41d7860de2f604c1718390b551f31267-69ca62ab09e59e60-01 outer:exit 2b-80eb20cd41d7860de2f604c1718390b551f31267-b788ca3da3e0d300-01
2022-04-21T16:19:54.654Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:19:54.656Z appoptics:debug span.exit - no last event outer outer:entry 2b-7361b48fcc67fe3265ec22c4078f3917f3cb6cc7-2ad247ebf23c3399-01 outer:exit 2b-7361b48fcc67fe3265ec22c4078f3917f3cb6cc7-c186f286d9043763-01
2022-04-21T16:19:54.656Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:19:54.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-87a1b3fa50648af7d57b228d6b7090a09815eef8-b12021914c1f1f01-01 outer:exit 2b-87a1b3fa50648af7d57b228d6b7090a09815eef8-515058be35daeb8a-01
2022-04-21T16:19:54.662Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:19:54.668Z appoptics:debug span.exit - no last event outer outer:entry 2b-5964891a6b0bdc2642eec555da75f30a328ceb69-407a9a000061fabe-01 outer:exit 2b-5964891a6b0bdc2642eec555da75f30a328ceb69-cb282f2fab36484b-01
2022-04-21T16:19:54.668Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:19:54.675Z appoptics:debug span.exit - no last event outer outer:entry 2b-3c4d898ae769c513a25a925479b70be30bda297f-435b52f50299e706-01 outer:exit 2b-3c4d898ae769c513a25a925479b70be30bda297f-1306811b36d4aae7-01
2022-04-21T16:19:54.675Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:19:54.681Z appoptics:debug span.exit - no last event outer outer:entry 2b-4bcc4199ee8f381959da94ecffa59fef35eca083-60f3529ec1af5346-01 outer:exit 2b-4bcc4199ee8f381959da94ecffa59fef35eca083-79ec0f7e0296f0e7-01
2022-04-21T16:19:54.681Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:19:54.682Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a2e68f900a66531b2bb292e063b61e413de38ab-ac881a93f9be5a0f-01 outer:exit 2b-2a2e68f900a66531b2bb292e063b61e413de38ab-9fd4ccd754e472bb-01
2022-04-21T16:19:54.682Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:19:54.685Z appoptics:debug span.exit - no last event outer outer:entry 2b-dce83aea3f4246179f45290900dd84c952dfee6d-7e909171fdee026d-01 outer:exit 2b-dce83aea3f4246179f45290900dd84c952dfee6d-2065bdd0c61683b8-01
2022-04-21T16:19:54.685Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:19:54.691Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a78b556ae4d328814d91135fc264549791d4b22-378ea867749314ea-01 outer:exit 2b-0a78b556ae4d328814d91135fc264549791d4b22-8d59224f52e58eb4-01
2022-04-21T16:19:54.691Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:19:54.692Z appoptics:debug span.exit - no last event outer outer:entry 2b-11c88172f6b224c13eddf2071c3cfaaa62b10f08-a5f575679aaf60e8-01 outer:exit 2b-11c88172f6b224c13eddf2071c3cfaaa62b10f08-30178feb5ec1edb4-01
2022-04-21T16:19:54.693Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:19:54.694Z appoptics:debug span.exit - no last event outer outer:entry 2b-541a3662c281b14383be502eedf3582ea0f11b3f-c532910b961dad3c-01 outer:exit 2b-541a3662c281b14383be502eedf3582ea0f11b3f-b4eac179b014891f-01
2022-04-21T16:19:54.694Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:19:54.696Z appoptics:debug span.exit - no last event outer outer:entry 2b-c32cf8bd8284f38b125b524cd167861f9e7190f4-e40190c86b0b091a-01 outer:exit 2b-c32cf8bd8284f38b125b524cd167861f9e7190f4-69c86b490c4d22ac-01
2022-04-21T16:19:54.696Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:19:54.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-e0cd2be345d665776e7fd4e3ba47dbe1a6fd3ada-37a47a705d157b52-01 outer:exit 2b-e0cd2be345d665776e7fd4e3ba47dbe1a6fd3ada-72e667de13d2d0d1-01
2022-04-21T16:19:54.698Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:19:54.700Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc02739dc6bc0b11829f939404e7a955d166c922-38c9c3a915e5dafb-01 outer:exit 2b-dc02739dc6bc0b11829f939404e7a955d166c922-46b7469624c7f137-01
2022-04-21T16:19:54.700Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:19:54.708Z appoptics:debug span.exit - no last event outer outer:entry 2b-98fa5f7afc643a11ace076e363bbbcb27c507418-8eefa009d31f61fe-01 outer:exit 2b-98fa5f7afc643a11ace076e363bbbcb27c507418-6f7383bbad32599e-01
2022-04-21T16:19:54.708Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:19:54.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-d1564ceba2ab2d4321e9bd743757b0894e5c335a-9c07055b402b34c5-01 outer:exit 2b-d1564ceba2ab2d4321e9bd743757b0894e5c335a-b20ed0f05b3b06ac-01
2022-04-21T16:19:54.716Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:19:54.718Z appoptics:debug span.exit - no last event outer outer:entry 2b-40ac5401d671de3a4e8ce126f6f8000d608e05b1-174af33129940c1f-01 outer:exit 2b-40ac5401d671de3a4e8ce126f6f8000d608e05b1-34cade4d8ff07e26-01
2022-04-21T16:19:54.718Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:19:54.720Z appoptics:debug span.exit - no last event outer outer:entry 2b-448bc1a5586f42ae36d76a331d0c91bbfb7a2f18-6f86d19c755db510-01 outer:exit 2b-448bc1a5586f42ae36d76a331d0c91bbfb7a2f18-336641d341ce2d1c-01
2022-04-21T16:19:54.720Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:19:54.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-af5496b741db2d4fd30e28c7b057ab7e535bb53b-078ff7aac10f4534-01 outer:exit 2b-af5496b741db2d4fd30e28c7b057ab7e535bb53b-036de41843068e4b-01
2022-04-21T16:19:54.722Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:19:54.749Z appoptics:debug span.exit - no last event outer outer:entry 2b-4fb104a3dc46633acbeee3d7b7168df8acb0c0d5-180bbf63a8cbe404-01 outer:exit 2b-4fb104a3dc46633acbeee3d7b7168df8acb0c0d5-16149bdcc7307354-01
2022-04-21T16:19:54.749Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (285ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.15
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.15
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.15
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.15
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.15
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.15
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.15
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.15
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.15
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.15
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.15
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.15
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.15
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.15
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.15
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.15
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.15
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.15
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.15
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.15
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.15
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.15
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.15
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.15
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.15
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.15
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.15
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.15
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.15
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.15
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.15
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.15
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.15
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.15
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.15
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.15
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.15
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.15
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.15
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.15
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.15
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.15
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:00.659Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:00.660Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:00.660Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:00.661Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:00.718Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:00.834Z appoptics:patching patched crypto 
2022-04-21T16:20:00.851Z appoptics:patching patched https 
2022-04-21T16:20:00.851Z appoptics:patching patched http 
2022-04-21T16:20:00.915Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:00.916Z appoptics:patching patched fs 
2022-04-21T16:20:00.947Z appoptics:patching patched mongodb-core 2.1.16 (disabled: node v18.0.0)
2022-04-21T16:20:00.953Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.16
    2.4
      databases
2022-04-21T16:20:01.001Z appoptics:debug span.exit - no last event outer outer:entry 2b-60a1925de6103277c57225d8213e0bae69b4d604-bdde9da444774f3a-01 outer:exit 2b-60a1925de6103277c57225d8213e0bae69b4d604-6a03a499a3acb0c5-01
2022-04-21T16:20:01.001Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:20:01.045Z appoptics:debug span.exit - no last event outer outer:entry 2b-046e2ef931153b1827623660121c0a3306af8d93-d28c3cf66ce31172-01 outer:exit 2b-046e2ef931153b1827623660121c0a3306af8d93-9d8d3281656efb3f-01
2022-04-21T16:20:01.045Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:20:01.050Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ca7f415d70ed0511ab77cd462112ebbdd26e3a9-db94b043da9f3e73-01 outer:exit 2b-9ca7f415d70ed0511ab77cd462112ebbdd26e3a9-3e11ff33fee0d7e6-01
2022-04-21T16:20:01.050Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:20:01.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-676d9199ce3bc37855990e4184b9534a2850577c-1c44ce58496694ee-01 outer:exit 2b-676d9199ce3bc37855990e4184b9534a2850577c-1f3b8962bf115ca4-01
2022-04-21T16:20:01.054Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:20:01.059Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ec5423366a6cb053a2fe8b97b9dc57dfe4d02e7-8034c0b4a5f28edc-01 outer:exit 2b-0ec5423366a6cb053a2fe8b97b9dc57dfe4d02e7-2dd43727d9ff2318-01
2022-04-21T16:20:01.059Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:20:01.062Z appoptics:debug span.exit - no last event outer outer:entry 2b-4311962b70c96795e45181006abaa89a27c438c4-15f5242bb2661ebc-01 outer:exit 2b-4311962b70c96795e45181006abaa89a27c438c4-f500324ba8783d5d-01
2022-04-21T16:20:01.062Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:20:01.065Z appoptics:debug span.exit - no last event outer outer:entry 2b-22520aa845a5e152d34be80c8244fb919d1847ec-321310466e6c5d1f-01 outer:exit 2b-22520aa845a5e152d34be80c8244fb919d1847ec-96ba56d9c12a856a-01
2022-04-21T16:20:01.065Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:20:01.068Z appoptics:debug span.exit - no last event outer outer:entry 2b-c8e45cb3c674eb2283e36dcabcfdd324d37cb0cc-07d874dcd1dd5f3c-01 outer:exit 2b-c8e45cb3c674eb2283e36dcabcfdd324d37cb0cc-a8886df8f7016f39-01
2022-04-21T16:20:01.068Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:20:01.070Z appoptics:debug span.exit - no last event outer outer:entry 2b-8d8cc99af5c667ebaa6ead0ce3d5da40e78026bc-fbfebaa0f9ac5574-01 outer:exit 2b-8d8cc99af5c667ebaa6ead0ce3d5da40e78026bc-13fe258e760c787f-01
2022-04-21T16:20:01.070Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:20:01.076Z appoptics:debug span.exit - no last event outer outer:entry 2b-397d185e9814e604b5b0e6396c9aea8e4d6ef069-4030d4f9a7053df4-01 outer:exit 2b-397d185e9814e604b5b0e6396c9aea8e4d6ef069-4c02ccbfa8e220c1-01
2022-04-21T16:20:01.076Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:20:01.080Z appoptics:debug span.exit - no last event outer outer:entry 2b-98f9b48be0e0d2c00304b704a15cbe61974f31e5-1f16fce28e7e4415-01 outer:exit 2b-98f9b48be0e0d2c00304b704a15cbe61974f31e5-3a26c8029bc52dd3-01
2022-04-21T16:20:01.080Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:20:01.087Z appoptics:debug span.exit - no last event outer outer:entry 2b-fb3200b76a03afcd7d4cb69015a0fa9114edd68c-35af38855e9602a9-01 outer:exit 2b-fb3200b76a03afcd7d4cb69015a0fa9114edd68c-3c591bd716295016-01
2022-04-21T16:20:01.087Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:20:01.104Z appoptics:debug span.exit - no last event outer outer:entry 2b-f1f674619211b61e3d4ea7bba0618bf282626ece-ae619edc3cbeca28-01 outer:exit 2b-f1f674619211b61e3d4ea7bba0618bf282626ece-9253b70e24eb10e9-01
2022-04-21T16:20:01.104Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:20:01.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-0fe0b74f47d97003abd2b4ba7dd707be0a951820-0c8fc1a3491fc5c5-01 outer:exit 2b-0fe0b74f47d97003abd2b4ba7dd707be0a951820-b7320d4ff0e8a3f1-01
2022-04-21T16:20:01.143Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:20:01.148Z appoptics:debug span.exit - no last event outer outer:entry 2b-70c5bcbc35b59538394a45d3d896978dd25ce21a-d623d4f823d65f0e-01 outer:exit 2b-70c5bcbc35b59538394a45d3d896978dd25ce21a-fa8d11ce0f3c5494-01
2022-04-21T16:20:01.148Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:20:01.151Z appoptics:debug span.exit - no last event outer outer:entry 2b-5f1045a62ed7e2f98e6fbc4df5c778a0f8fa1cbb-d33a839c4632ae06-01 outer:exit 2b-5f1045a62ed7e2f98e6fbc4df5c778a0f8fa1cbb-68fbf3f02221963c-01
2022-04-21T16:20:01.151Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:20:01.154Z appoptics:debug span.exit - no last event outer outer:entry 2b-04fa0076ad76f2cedad78b188c6dd84da64fd876-9295d083949f61b3-01 outer:exit 2b-04fa0076ad76f2cedad78b188c6dd84da64fd876-4da5d69a21954d6e-01
2022-04-21T16:20:01.154Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:20:01.157Z appoptics:debug span.exit - no last event outer outer:entry 2b-ae0d64e6b2a429f1a915635e8bddb4c626de3f42-af4b6d75603bbbfc-01 outer:exit 2b-ae0d64e6b2a429f1a915635e8bddb4c626de3f42-784a15cf220882d5-01
2022-04-21T16:20:01.157Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:20:01.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-f6494d7e2f460f7686f2ec8c2066c180d7640e4b-6cdb54bd01ba0e4e-01 outer:exit 2b-f6494d7e2f460f7686f2ec8c2066c180d7640e4b-beb7eb0d30e19435-01
2022-04-21T16:20:01.159Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:20:01.164Z appoptics:debug span.exit - no last event outer outer:entry 2b-de15ab00eee8a594710b27cd3a2859f2580a1f73-1d9716c7f9ae9123-01 outer:exit 2b-de15ab00eee8a594710b27cd3a2859f2580a1f73-e8f7bd41e714f6f0-01
2022-04-21T16:20:01.165Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:20:01.166Z appoptics:debug span.exit - no last event outer outer:entry 2b-9ba2d94c920d6cf0441af372798e8f55584bf299-6a1c3522bee5fb7d-01 outer:exit 2b-9ba2d94c920d6cf0441af372798e8f55584bf299-6638af6ed264132a-01
2022-04-21T16:20:01.167Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:20:01.169Z appoptics:debug span.exit - no last event outer outer:entry 2b-58b85c9839734eca94119119c2dd9b7d54fc6c6d-e1821efd26306b5b-01 outer:exit 2b-58b85c9839734eca94119119c2dd9b7d54fc6c6d-b7a8985e420ddfa8-01
2022-04-21T16:20:01.169Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:20:01.172Z appoptics:debug span.exit - no last event outer outer:entry 2b-910ceff34f499e034fa315f5984ab21111045359-575ca2d7c05ac6ba-01 outer:exit 2b-910ceff34f499e034fa315f5984ab21111045359-02c30d09694a969c-01
2022-04-21T16:20:01.172Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:20:01.176Z appoptics:debug span.exit - no last event outer outer:entry 2b-6135973873ff1430d6d59b8809f32773aaed59fd-a0c93268ceb6910c-01 outer:exit 2b-6135973873ff1430d6d59b8809f32773aaed59fd-1934584008ff9dca-01
2022-04-21T16:20:01.176Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:20:01.178Z appoptics:debug span.exit - no last event outer outer:entry 2b-e3b8f04899cab96e2bb74cadb7c8cf8e356651f7-d55a0f9ed60bfb73-01 outer:exit 2b-e3b8f04899cab96e2bb74cadb7c8cf8e356651f7-3f37a9718a8dc231-01
2022-04-21T16:20:01.178Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:20:01.180Z appoptics:debug span.exit - no last event outer outer:entry 2b-260808f205cb158226463db35c881a7320b44efc-d92632289d16f508-01 outer:exit 2b-260808f205cb158226463db35c881a7320b44efc-d28553356516983c-01
2022-04-21T16:20:01.180Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:20:01.186Z appoptics:debug span.exit - no last event outer outer:entry 2b-df77b0297f7448cb3023df50850c0efa96644613-3e3e05bf96a6cae2-01 outer:exit 2b-df77b0297f7448cb3023df50850c0efa96644613-884fe911bfbe065f-01
2022-04-21T16:20:01.186Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:20:01.193Z appoptics:debug span.exit - no last event outer outer:entry 2b-b883e58037af39709e8c1c276606c4ff35c7669e-2de6d451c55bd7e4-01 outer:exit 2b-b883e58037af39709e8c1c276606c4ff35c7669e-a673c408495b158a-01
2022-04-21T16:20:01.193Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:20:01.205Z appoptics:debug span.exit - no last event outer outer:entry 2b-b5eac595127482f23bd11beafcaed96f347f9c19-1b486f3b55109825-01 outer:exit 2b-b5eac595127482f23bd11beafcaed96f347f9c19-20e726b0158a4911-01
2022-04-21T16:20:01.205Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:20:01.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-9181ec88a9f1ff665fb610a93b4eb9e6a08edb2f-921f43db44d4cd48-01 outer:exit 2b-9181ec88a9f1ff665fb610a93b4eb9e6a08edb2f-2a03981061d88a55-01
2022-04-21T16:20:01.212Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:20:01.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-abb00c343167856b5638bd4e664536ce767cc0e1-33edc9c00f063cd3-01 outer:exit 2b-abb00c343167856b5638bd4e664536ce767cc0e1-a6972a66500696de-01
2022-04-21T16:20:01.214Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:20:01.217Z appoptics:debug span.exit - no last event outer outer:entry 2b-9f039c76b7745510b6df7fbf52c565610639209e-24be3d17a7f6c6c9-01 outer:exit 2b-9f039c76b7745510b6df7fbf52c565610639209e-f8ad3a1201c286cc-01
2022-04-21T16:20:01.217Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:20:01.224Z appoptics:debug span.exit - no last event outer outer:entry 2b-a6a0d0ed82ca34635ca852136c13cc5e7c7eb8d3-781d941f3d36abff-01 outer:exit 2b-a6a0d0ed82ca34635ca852136c13cc5e7c7eb8d3-540e1170b6c84391-01
2022-04-21T16:20:01.224Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:20:01.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c4b40f40b3b5f349524ae211ba8d3000b25b001-de9a4114f3683706-01 outer:exit 2b-9c4b40f40b3b5f349524ae211ba8d3000b25b001-9c9516223b51db23-01
2022-04-21T16:20:01.227Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:20:01.229Z appoptics:debug span.exit - no last event outer outer:entry 2b-87c3283cd219fdf81cc1bcb26da1ac5344609f8f-1009cbb7061de40a-01 outer:exit 2b-87c3283cd219fdf81cc1bcb26da1ac5344609f8f-0711f03105385338-01
2022-04-21T16:20:01.229Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:20:01.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-deb739a9b33242e5dd0dc78570e2b264cf509a53-13bc33a7cfdfbe7d-01 outer:exit 2b-deb739a9b33242e5dd0dc78570e2b264cf509a53-6518733a5dac8b9c-01
2022-04-21T16:20:01.231Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:20:01.232Z appoptics:debug span.exit - no last event outer outer:entry 2b-142b58c911090c2b78b992d14397e2d5a7e0950b-4617d476cedd3f75-01 outer:exit 2b-142b58c911090c2b78b992d14397e2d5a7e0950b-cb7a9a1c6f93f6ae-01
2022-04-21T16:20:01.232Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:20:01.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-d907f705c9d2e8104df8ed79f6702ec86888b1c2-ad546a5639d5a2ac-01 outer:exit 2b-d907f705c9d2e8104df8ed79f6702ec86888b1c2-ea8b2148b7e0b915-01
2022-04-21T16:20:01.234Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:20:01.246Z appoptics:debug span.exit - no last event outer outer:entry 2b-bc28441c6d63890c7a7d92e15c4567926bb25211-b7851a5bc9bd1ef4-01 outer:exit 2b-bc28441c6d63890c7a7d92e15c4567926bb25211-ef13d40037fe6d23-01
2022-04-21T16:20:01.246Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:20:01.256Z appoptics:debug span.exit - no last event outer outer:entry 2b-f3b97e8617e65a7bcbc605446e3846f735f20b5a-973a445c0334daa2-01 outer:exit 2b-f3b97e8617e65a7bcbc605446e3846f735f20b5a-c6501cfa524b94d1-01
2022-04-21T16:20:01.256Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:20:01.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-d07901c388bbb4a6e73a25caf7f38d7b13a4f7dd-2b968cf2bc1165a7-01 outer:exit 2b-d07901c388bbb4a6e73a25caf7f38d7b13a4f7dd-6a8cdd162375a05f-01
2022-04-21T16:20:01.259Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:20:01.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-20f306b0411d3393bc5572bb803c8d45f5ed9cce-6d7de80d19732820-01 outer:exit 2b-20f306b0411d3393bc5572bb803c8d45f5ed9cce-54d03e8a2574964b-01
2022-04-21T16:20:01.262Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:20:01.264Z appoptics:debug span.exit - no last event outer outer:entry 2b-55b5d279566f5162636d5998b8cc1058eb30b081-9352185fc419a78d-01 outer:exit 2b-55b5d279566f5162636d5998b8cc1058eb30b081-ce684328dd8a515c-01
2022-04-21T16:20:01.264Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:20:01.296Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a5610013de63cefd18dfdb8c141112461bee8c8-ddb2e948fb20d758-01 outer:exit 2b-1a5610013de63cefd18dfdb8c141112461bee8c8-c1315c66279821b1-01
2022-04-21T16:20:01.296Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (337ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.16
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.16
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.16
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.16
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.16
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.16
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.16
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.16
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.16
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.16
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.16
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.16
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.16
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.16
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.16
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.16
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.16
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.16
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.16
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.16
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.16
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.16
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.16
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.16
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.16
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.16
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.16
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.16
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.16
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.16
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.16
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.16
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.16
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.16
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.16
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.16
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.16
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.16
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.16
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.16
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.16
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.16
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:07.764Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:07.765Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:07.765Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:07.766Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:07.822Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:07.932Z appoptics:patching patched crypto 
2022-04-21T16:20:07.950Z appoptics:patching patched https 
2022-04-21T16:20:07.950Z appoptics:patching patched http 
2022-04-21T16:20:07.990Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:07.991Z appoptics:patching patched fs 
2022-04-21T16:20:08.015Z appoptics:patching patched mongodb-core 2.1.17 (disabled: node v18.0.0)
2022-04-21T16:20:08.020Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.17
    2.4
      databases
2022-04-21T16:20:08.066Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c44f7950d9ad1fdbb8bf747e0d581d6f63585c7-bf37fe321e913366-01 outer:exit 2b-7c44f7950d9ad1fdbb8bf747e0d581d6f63585c7-35ad975f8381da16-01
2022-04-21T16:20:08.066Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:20:08.107Z appoptics:debug span.exit - no last event outer outer:entry 2b-5e7a9dea890e1b988c85837189dfaf5d294440c1-fa1ce7cc8307074c-01 outer:exit 2b-5e7a9dea890e1b988c85837189dfaf5d294440c1-964dd478e2cd3494-01
2022-04-21T16:20:08.107Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:20:08.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-749cbb3d452b4a6d2099624f74655d3feecb2516-2374dc472cb32eaf-01 outer:exit 2b-749cbb3d452b4a6d2099624f74655d3feecb2516-8684fa5538184de1-01
2022-04-21T16:20:08.111Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:20:08.114Z appoptics:debug span.exit - no last event outer outer:entry 2b-133f34bf7e1135df5eea95f2810eaac05285c2bb-7e01a129d211cb76-01 outer:exit 2b-133f34bf7e1135df5eea95f2810eaac05285c2bb-42598a3998833d22-01
2022-04-21T16:20:08.114Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:20:08.118Z appoptics:debug span.exit - no last event outer outer:entry 2b-9e0b1cd3d37b3aa731176122de977d74b668364b-bc3c3c30fb1ebc98-01 outer:exit 2b-9e0b1cd3d37b3aa731176122de977d74b668364b-855bba165a394d2e-01
2022-04-21T16:20:08.118Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:20:08.122Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc4455aeaccb35a1ad84a431f6a4b227df3eb2b8-9168e66ce16019bc-01 outer:exit 2b-dc4455aeaccb35a1ad84a431f6a4b227df3eb2b8-6c9840b11897342f-01
2022-04-21T16:20:08.122Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:20:08.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd408220bd7af29910e8483111dd2bc8e5e2e81b-ff5ebd686fd4d8da-01 outer:exit 2b-cd408220bd7af29910e8483111dd2bc8e5e2e81b-5209b7405ea6a2cc-01
2022-04-21T16:20:08.124Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:20:08.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-6f5094f1e5be2f5ee457ac727bd544cb615f67e2-2bdde441eafaba86-01 outer:exit 2b-6f5094f1e5be2f5ee457ac727bd544cb615f67e2-0fcbc798c3fbefbe-01
2022-04-21T16:20:08.126Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:20:08.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-914f13443181f22a2eac8a0b037b8634333e393e-c80b008ba0bd77a7-01 outer:exit 2b-914f13443181f22a2eac8a0b037b8634333e393e-443fb72391152819-01
2022-04-21T16:20:08.129Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:20:08.134Z appoptics:debug span.exit - no last event outer outer:entry 2b-26f99a375018e64ac29eae764f3a5facc856799e-4f0251ebdc482f35-01 outer:exit 2b-26f99a375018e64ac29eae764f3a5facc856799e-617ce59311b9da38-01
2022-04-21T16:20:08.134Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:20:08.137Z appoptics:debug span.exit - no last event outer outer:entry 2b-0c5a52a352effe102d851a3799abf8b39c2452ca-efb1855ff0eaafdd-01 outer:exit 2b-0c5a52a352effe102d851a3799abf8b39c2452ca-19822711aa716042-01
2022-04-21T16:20:08.137Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:20:08.143Z appoptics:debug span.exit - no last event outer outer:entry 2b-0bef7beab326b751e47fcbf81b13e4db9a68e7e2-ae6cf569010cf1b0-01 outer:exit 2b-0bef7beab326b751e47fcbf81b13e4db9a68e7e2-354991a6454ba931-01
2022-04-21T16:20:08.143Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:20:08.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-032786e3976d6c62af180198d02b8ecc9dfcdfac-97b7c38ab96a8d34-01 outer:exit 2b-032786e3976d6c62af180198d02b8ecc9dfcdfac-51161569af5684a1-01
2022-04-21T16:20:08.159Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:20:08.195Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b2d80ef6339e2de1da27b259e71cb70fa5bd7ef-71b79e2bb98c1c7a-01 outer:exit 2b-6b2d80ef6339e2de1da27b259e71cb70fa5bd7ef-7c0647b634b60513-01
2022-04-21T16:20:08.195Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:20:08.199Z appoptics:debug span.exit - no last event outer outer:entry 2b-d66ea4adfe12b8eb5119518c266506fc864ffd95-89a4f86b04ef6620-01 outer:exit 2b-d66ea4adfe12b8eb5119518c266506fc864ffd95-abc5e8bffea35ac8-01
2022-04-21T16:20:08.199Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:20:08.201Z appoptics:debug span.exit - no last event outer outer:entry 2b-02c2eac70e517ff62f97ebe8057cbde6f1107d5a-d8b42cce69ce2068-01 outer:exit 2b-02c2eac70e517ff62f97ebe8057cbde6f1107d5a-3c88b3119c0a1b85-01
2022-04-21T16:20:08.201Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:20:08.204Z appoptics:debug span.exit - no last event outer outer:entry 2b-e724297a78aa1d112298440749ae8f43d44535c4-b49b68394dfa315b-01 outer:exit 2b-e724297a78aa1d112298440749ae8f43d44535c4-8f96484a1d925e63-01
2022-04-21T16:20:08.204Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:20:08.206Z appoptics:debug span.exit - no last event outer outer:entry 2b-3ef6023ede4ad5acb0c5bce0bdd322f1b5e8426b-7f55ef23a3207f22-01 outer:exit 2b-3ef6023ede4ad5acb0c5bce0bdd322f1b5e8426b-dbdda92c2d745b9c-01
2022-04-21T16:20:08.206Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:20:08.208Z appoptics:debug span.exit - no last event outer outer:entry 2b-381595dfb34bba1b9f763d46818b327d6d965131-55df098cadf9c09a-01 outer:exit 2b-381595dfb34bba1b9f763d46818b327d6d965131-d600df5afb140ca9-01
2022-04-21T16:20:08.208Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:20:08.210Z appoptics:debug span.exit - no last event outer outer:entry 2b-b92e5432424d3bd457926179834fb785e4110622-2ab74e409bd96892-01 outer:exit 2b-b92e5432424d3bd457926179834fb785e4110622-48ba6775efb08bad-01
2022-04-21T16:20:08.210Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:20:08.212Z appoptics:debug span.exit - no last event outer outer:entry 2b-dc7a879ec8169fcb9a3f1b1dc4c56a7a8e1a5dbc-db8c0ee8de8bbe6c-01 outer:exit 2b-dc7a879ec8169fcb9a3f1b1dc4c56a7a8e1a5dbc-a934fd8840e1b9b2-01
2022-04-21T16:20:08.212Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:20:08.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e53298acb181daacb55736419c2228206ba73a8-0017ccab7888743a-01 outer:exit 2b-8e53298acb181daacb55736419c2228206ba73a8-f4c17de9f06ce59f-01
2022-04-21T16:20:08.214Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:20:08.216Z appoptics:debug span.exit - no last event outer outer:entry 2b-9656f02491f95e48a9022c305c1bd38f572de990-76e90d00f1bdf5b6-01 outer:exit 2b-9656f02491f95e48a9022c305c1bd38f572de990-f140f446462c8ac8-01
2022-04-21T16:20:08.216Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:20:08.219Z appoptics:debug span.exit - no last event outer outer:entry 2b-47c28ccfdbeac8ec7fddb9410e48d5c9c25a4cf0-40df54c3fd2da2b5-01 outer:exit 2b-47c28ccfdbeac8ec7fddb9410e48d5c9c25a4cf0-5edaa8669ae3e072-01
2022-04-21T16:20:08.219Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:20:08.221Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6b50baf48129a48454d350c16e530854231ff7d-c0ebe2afa623084a-01 outer:exit 2b-d6b50baf48129a48454d350c16e530854231ff7d-8571150e54290fc2-01
2022-04-21T16:20:08.221Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:20:08.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-d68e7eeed3a44421169ec1ee2b6640428fc6c444-66b2b9b93c69f6b9-01 outer:exit 2b-d68e7eeed3a44421169ec1ee2b6640428fc6c444-5283de737feb9e1c-01
2022-04-21T16:20:08.224Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:20:08.230Z appoptics:debug span.exit - no last event outer outer:entry 2b-2eeb82266bc83993379f959af816e516bb0f7c7d-8905d2f28906b811-01 outer:exit 2b-2eeb82266bc83993379f959af816e516bb0f7c7d-d24547dcf742d703-01
2022-04-21T16:20:08.230Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:20:08.235Z appoptics:debug span.exit - no last event outer outer:entry 2b-2e7e24984fa086b5049820e0270e7f130bac8f1e-3ea753e7bd7fc7b9-01 outer:exit 2b-2e7e24984fa086b5049820e0270e7f130bac8f1e-8a92cc276b477b12-01
2022-04-21T16:20:08.235Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:20:08.242Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9447465ff4a8f04cbbe4dc13ed58b1805dd00e2-1525118c556246a8-01 outer:exit 2b-e9447465ff4a8f04cbbe4dc13ed58b1805dd00e2-0de24a540cfa52ef-01
2022-04-21T16:20:08.242Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:20:08.247Z appoptics:debug span.exit - no last event outer outer:entry 2b-bbe37b4e723fa5db8363c6ca7126b93550cf6885-ad597bdf68391f85-01 outer:exit 2b-bbe37b4e723fa5db8363c6ca7126b93550cf6885-40523e7ee66bb53e-01
2022-04-21T16:20:08.248Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:20:08.249Z appoptics:debug span.exit - no last event outer outer:entry 2b-65e06b714edacc8f65f81e3192f23eece03af5aa-784d24ca60600a61-01 outer:exit 2b-65e06b714edacc8f65f81e3192f23eece03af5aa-5728d0aebb8d908e-01
2022-04-21T16:20:08.249Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:20:08.252Z appoptics:debug span.exit - no last event outer outer:entry 2b-e4b9d11318d82ac05dd28901003593019ee8de9d-100ae2f1cf07ccd8-01 outer:exit 2b-e4b9d11318d82ac05dd28901003593019ee8de9d-dc59e9055c9ee2d5-01
2022-04-21T16:20:08.252Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:20:08.257Z appoptics:debug span.exit - no last event outer outer:entry 2b-c68e1adb8bd8e80ec7c78bd7c1c0ce0e2227cfed-d02e43816d92be3d-01 outer:exit 2b-c68e1adb8bd8e80ec7c78bd7c1c0ce0e2227cfed-4834ca7d447a6dc4-01
2022-04-21T16:20:08.258Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:20:08.259Z appoptics:debug span.exit - no last event outer outer:entry 2b-d6f7bc3e96b7e8d9f95d2f79b8b5eb91706a29bb-d0c629e14567f884-01 outer:exit 2b-d6f7bc3e96b7e8d9f95d2f79b8b5eb91706a29bb-6cd5395376c11b5a-01
2022-04-21T16:20:08.259Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:20:08.261Z appoptics:debug span.exit - no last event outer outer:entry 2b-36fe28c0f4dab488af2ec1c1429b2ee693d924c9-8f60483a4c7953d3-01 outer:exit 2b-36fe28c0f4dab488af2ec1c1429b2ee693d924c9-17a00dc17ceb1862-01
2022-04-21T16:20:08.261Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:20:08.263Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c710a385e0ae66de805c2bc7429ccd852ce7961-d8690aad3781c5dc-01 outer:exit 2b-1c710a385e0ae66de805c2bc7429ccd852ce7961-f615b8e21e76a62b-01
2022-04-21T16:20:08.263Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:20:08.265Z appoptics:debug span.exit - no last event outer outer:entry 2b-0373e512dacb0956a7121ce2c62e88238f52b888-b22b5355b0ab5203-01 outer:exit 2b-0373e512dacb0956a7121ce2c62e88238f52b888-47591d154745b57f-01
2022-04-21T16:20:08.265Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:20:08.267Z appoptics:debug span.exit - no last event outer outer:entry 2b-de6de5a5252bf962d741e4e9b2daa34fc5984d04-054fcb1c275ed911-01 outer:exit 2b-de6de5a5252bf962d741e4e9b2daa34fc5984d04-ca45c8ca05ba3d0b-01
2022-04-21T16:20:08.267Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:20:08.275Z appoptics:debug span.exit - no last event outer outer:entry 2b-d2f071ce02f314e0411131a02f2f09e945b34a4b-505907b8b4b8c940-01 outer:exit 2b-d2f071ce02f314e0411131a02f2f09e945b34a4b-478ff3b9408a3a7d-01
2022-04-21T16:20:08.275Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:20:08.282Z appoptics:debug span.exit - no last event outer outer:entry 2b-d42de7e616339fb50b14d2867faa0e892dcb0387-ec83212835b9ba6e-01 outer:exit 2b-d42de7e616339fb50b14d2867faa0e892dcb0387-f5b566eabe807662-01
2022-04-21T16:20:08.282Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:20:08.284Z appoptics:debug span.exit - no last event outer outer:entry 2b-9d9c28f5b1fed6489da79e72b8e1e07f074f49c2-db59d192a097bb15-01 outer:exit 2b-9d9c28f5b1fed6489da79e72b8e1e07f074f49c2-f510f72c5812525d-01
2022-04-21T16:20:08.284Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:20:08.286Z appoptics:debug span.exit - no last event outer outer:entry 2b-f803e7ed5288df821687658a9ef548abeca402ed-0e9d4c916b29aa66-01 outer:exit 2b-f803e7ed5288df821687658a9ef548abeca402ed-dea3f824e480f8a1-01
2022-04-21T16:20:08.287Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:20:08.289Z appoptics:debug span.exit - no last event outer outer:entry 2b-a63dfd78ea2feb86747d27bb30f448cd65eb7894-604370c42f86baa7-01 outer:exit 2b-a63dfd78ea2feb86747d27bb30f448cd65eb7894-99f5718bd5a72b2c-01
2022-04-21T16:20:08.289Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:20:08.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-ebceffb466bfb081d4f0ab5831e164f62c870174-cb5526fdaf6daeac-01 outer:exit 2b-ebceffb466bfb081d4f0ab5831e164f62c870174-910da0f87592388d-01
2022-04-21T16:20:08.313Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (288ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.17
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.17
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.17
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.17
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.17
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.17
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.17
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.17
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.17
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.17
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.17
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.17
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.17
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.17
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.17
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.17
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.17
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.17
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.17
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.17
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.17
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.17
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.17
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.17
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.17
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.17
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.17
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.17
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.17
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.17
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.17
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.17
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.17
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.17
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.17
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.17
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.17
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.17
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.17
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.17
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.17
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.17
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:14.684Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:14.685Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:14.685Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:14.686Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:14.766Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:14.910Z appoptics:patching patched crypto 
2022-04-21T16:20:14.986Z appoptics:patching patched https 
2022-04-21T16:20:14.988Z appoptics:patching patched http 
2022-04-21T16:20:15.069Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:15.070Z appoptics:patching patched fs 
2022-04-21T16:20:15.105Z appoptics:patching patched mongodb-core 2.1.18 (disabled: node v18.0.0)
2022-04-21T16:20:15.111Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.18
    2.4
      databases
2022-04-21T16:20:15.165Z appoptics:debug span.exit - no last event outer outer:entry 2b-f5863366e8531d393f2a1b6aa02422104a9b7d90-ee4646446ac423f5-01 outer:exit 2b-f5863366e8531d393f2a1b6aa02422104a9b7d90-d61dcedfd14e45a1-01
2022-04-21T16:20:15.165Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:20:15.207Z appoptics:debug span.exit - no last event outer outer:entry 2b-9eb1d290971a7b41272f7660816b6f8865fa54f7-65f998b2570e9619-01 outer:exit 2b-9eb1d290971a7b41272f7660816b6f8865fa54f7-309e7239d5e89b68-01
2022-04-21T16:20:15.207Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:20:15.211Z appoptics:debug span.exit - no last event outer outer:entry 2b-21b267de2a3959cd53931097f7ac72235615eed1-87e4e9a8dfa6280a-01 outer:exit 2b-21b267de2a3959cd53931097f7ac72235615eed1-a86e4af3758d8133-01
2022-04-21T16:20:15.211Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:20:15.214Z appoptics:debug span.exit - no last event outer outer:entry 2b-ce5b2cc4644cd43e6071dc11f8acfa112b79d82b-dad044fb6148a564-01 outer:exit 2b-ce5b2cc4644cd43e6071dc11f8acfa112b79d82b-a370a651cb20d034-01
2022-04-21T16:20:15.214Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:20:15.220Z appoptics:debug span.exit - no last event outer outer:entry 2b-79be8811a2e785a7cca15d743f10c838f4eafb19-ebf85c1f99268b67-01 outer:exit 2b-79be8811a2e785a7cca15d743f10c838f4eafb19-37458ead29df05a6-01
2022-04-21T16:20:15.220Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:20:15.223Z appoptics:debug span.exit - no last event outer outer:entry 2b-38d342c54947dd5cf537742b7c42b2c23132ac1e-04b48bf58458c162-01 outer:exit 2b-38d342c54947dd5cf537742b7c42b2c23132ac1e-eaacbc044637f787-01
2022-04-21T16:20:15.223Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:20:15.226Z appoptics:debug span.exit - no last event outer outer:entry 2b-a2fbb02e8f48bf68b59d25ec2962f2fc54ff7425-253fb1ef9cdbb83c-01 outer:exit 2b-a2fbb02e8f48bf68b59d25ec2962f2fc54ff7425-2557d2b2d4dea2e6-01
2022-04-21T16:20:15.226Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:20:15.228Z appoptics:debug span.exit - no last event outer outer:entry 2b-b59d8d369c3315736c06c7269cd41c1d01e209c0-f2cc2aedc48e0001-01 outer:exit 2b-b59d8d369c3315736c06c7269cd41c1d01e209c0-8048aa0799268d27-01
2022-04-21T16:20:15.229Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:20:15.231Z appoptics:debug span.exit - no last event outer outer:entry 2b-07483461893fbbefceea225b4d0f17afa126c31d-6781ef023d449de5-01 outer:exit 2b-07483461893fbbefceea225b4d0f17afa126c31d-74bdbc381acc1bd3-01
2022-04-21T16:20:15.231Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:20:15.234Z appoptics:debug span.exit - no last event outer outer:entry 2b-6599111a7230df284eafcae83b89c5f17db27276-21b10ccaed548a5d-01 outer:exit 2b-6599111a7230df284eafcae83b89c5f17db27276-3cb775678a261316-01
2022-04-21T16:20:15.234Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:20:15.238Z appoptics:debug span.exit - no last event outer outer:entry 2b-65dddb81d0429d655b4056d9e0c60ec6da68ab5a-270c5dbf1218a677-01 outer:exit 2b-65dddb81d0429d655b4056d9e0c60ec6da68ab5a-001dada250b3ba0c-01
2022-04-21T16:20:15.238Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:20:15.244Z appoptics:debug span.exit - no last event outer outer:entry 2b-506c57e035ee34163e4003a75659cbecac0e8564-db6b0766abf2c1aa-01 outer:exit 2b-506c57e035ee34163e4003a75659cbecac0e8564-06dcce93f037a358-01
2022-04-21T16:20:15.244Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:20:15.262Z appoptics:debug span.exit - no last event outer outer:entry 2b-506373594fe950db85d5adc54f02de3cf1802f3c-217b37f85dde9ae4-01 outer:exit 2b-506373594fe950db85d5adc54f02de3cf1802f3c-66359aab2e24195a-01
2022-04-21T16:20:15.263Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:20:15.302Z appoptics:debug span.exit - no last event outer outer:entry 2b-ec44cbc30785848f1fe27322341f316b7f9d93f4-b7c336e16ef0950b-01 outer:exit 2b-ec44cbc30785848f1fe27322341f316b7f9d93f4-09ec8d0211c63a45-01
2022-04-21T16:20:15.302Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:20:15.306Z appoptics:debug span.exit - no last event outer outer:entry 2b-9c616ce681e5fd75c858774888904ef24cc4860f-3388b8dab594b873-01 outer:exit 2b-9c616ce681e5fd75c858774888904ef24cc4860f-7e2d824ea2b3e897-01
2022-04-21T16:20:15.306Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:20:15.308Z appoptics:debug span.exit - no last event outer outer:entry 2b-9924e450ff1e2ad1e67f07abeffc901e829a3199-e7f4323e1f0e4458-01 outer:exit 2b-9924e450ff1e2ad1e67f07abeffc901e829a3199-b31d1d75d1f26fa9-01
2022-04-21T16:20:15.308Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:20:15.311Z appoptics:debug span.exit - no last event outer outer:entry 2b-36add53925f7e46f2b2d02a61746127a45e9a00e-02fb8552e3500eae-01 outer:exit 2b-36add53925f7e46f2b2d02a61746127a45e9a00e-d1a5fa76fe99bd00-01
2022-04-21T16:20:15.311Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:20:15.313Z appoptics:debug span.exit - no last event outer outer:entry 2b-292b375cbc015e8e0c6c918ccb744a69f42503b1-9e84bf4a4f05fa23-01 outer:exit 2b-292b375cbc015e8e0c6c918ccb744a69f42503b1-63ca3d9f7b7f9ef7-01
2022-04-21T16:20:15.313Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:20:15.315Z appoptics:debug span.exit - no last event outer outer:entry 2b-2162a31c2db3fa300cfc93a5d9637b14533c770d-d34fc1360ff05663-01 outer:exit 2b-2162a31c2db3fa300cfc93a5d9637b14533c770d-373112fc1d62baf7-01
2022-04-21T16:20:15.315Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:20:15.317Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7fbf16f107616c3afbef02430c14904ee84eb6f-af8e7797ad5b89fc-01 outer:exit 2b-e7fbf16f107616c3afbef02430c14904ee84eb6f-9fa86c1a14f980ba-01
2022-04-21T16:20:15.317Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:20:15.319Z appoptics:debug span.exit - no last event outer outer:entry 2b-fa65b43588b029214daaedf3d3a013ea87cb3cf0-e446e5162f1cd3ad-01 outer:exit 2b-fa65b43588b029214daaedf3d3a013ea87cb3cf0-aaedac27e7758a51-01
2022-04-21T16:20:15.319Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:20:15.321Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0743ada2699b74e4c40e4ee92272bd903f77037-9a35982d05c1a1aa-01 outer:exit 2b-b0743ada2699b74e4c40e4ee92272bd903f77037-58b94e98e7660a40-01
2022-04-21T16:20:15.321Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:20:15.325Z appoptics:debug span.exit - no last event outer outer:entry 2b-5d4df074027c74ec1dbe9f67f316e0f6970be9d0-e3be71c544af5886-01 outer:exit 2b-5d4df074027c74ec1dbe9f67f316e0f6970be9d0-228e6bb9f5a6b3eb-01
2022-04-21T16:20:15.325Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:20:15.328Z appoptics:debug span.exit - no last event outer outer:entry 2b-4514f18fb303ba697ff8d2ef3cae1599c88a6d6b-1bd13d56bc2e9caa-01 outer:exit 2b-4514f18fb303ba697ff8d2ef3cae1599c88a6d6b-04c35c5a7b3cb4f3-01
2022-04-21T16:20:15.328Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:20:15.330Z appoptics:debug span.exit - no last event outer outer:entry 2b-21d0ba868517e440c229286d47786ce1ca9fcf38-ff812b80d3b96747-01 outer:exit 2b-21d0ba868517e440c229286d47786ce1ca9fcf38-e0ba992769a37e94-01
2022-04-21T16:20:15.330Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:20:15.332Z appoptics:debug span.exit - no last event outer outer:entry 2b-e5b72c09527a0da3909e874289a7993f7e76f8fe-14c0d301599a0c96-01 outer:exit 2b-e5b72c09527a0da3909e874289a7993f7e76f8fe-3ac474cc4f529b9d-01
2022-04-21T16:20:15.332Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:20:15.338Z appoptics:debug span.exit - no last event outer outer:entry 2b-8f306c35a767ee5161a047ebe2f83b78572f14c0-6cad86c61d21756a-01 outer:exit 2b-8f306c35a767ee5161a047ebe2f83b78572f14c0-4d5cd9a5d146b4ef-01
2022-04-21T16:20:15.338Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:20:15.344Z appoptics:debug span.exit - no last event outer outer:entry 2b-02825a5d622ee18bc7e8580679f613f9dd28ca7a-e2856182866e0b85-01 outer:exit 2b-02825a5d622ee18bc7e8580679f613f9dd28ca7a-e8ef76940847060a-01
2022-04-21T16:20:15.344Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:20:15.356Z appoptics:debug span.exit - no last event outer outer:entry 2b-538b4c1e75431daf43a9d6fc3b7891784a1e242f-f36c4450edc2685b-01 outer:exit 2b-538b4c1e75431daf43a9d6fc3b7891784a1e242f-e5fdc4f3fa6b1f98-01
2022-04-21T16:20:15.356Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:20:15.362Z appoptics:debug span.exit - no last event outer outer:entry 2b-037d78e48ce85ef3a3c752ee6337a66d0cf2874a-72d38b802b61dc7e-01 outer:exit 2b-037d78e48ce85ef3a3c752ee6337a66d0cf2874a-86939b267d44527b-01
2022-04-21T16:20:15.362Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:20:15.364Z appoptics:debug span.exit - no last event outer outer:entry 2b-e999c0dd68c5016b06769fab1d278525b3580187-643285999dba65a7-01 outer:exit 2b-e999c0dd68c5016b06769fab1d278525b3580187-29c5dd0c3fe05cc2-01
2022-04-21T16:20:15.364Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:20:15.366Z appoptics:debug span.exit - no last event outer outer:entry 2b-2579f3439873d04472defd9361d74d3002e8493a-243873d97c92fcb7-01 outer:exit 2b-2579f3439873d04472defd9361d74d3002e8493a-4a2540c6c1080797-01
2022-04-21T16:20:15.367Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:20:15.372Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba82af2fa643aeea87434da4524740d42aa2fd4b-144b756e74c53481-01 outer:exit 2b-ba82af2fa643aeea87434da4524740d42aa2fd4b-b3778409187b9450-01
2022-04-21T16:20:15.372Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:20:15.374Z appoptics:debug span.exit - no last event outer outer:entry 2b-bff0500a738443934b807d6f72cfd52abdc28ff1-8db39980b300c1f9-01 outer:exit 2b-bff0500a738443934b807d6f72cfd52abdc28ff1-e411e44e7e2563e4-01
2022-04-21T16:20:15.374Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:20:15.376Z appoptics:debug span.exit - no last event outer outer:entry 2b-fc2d572af2840b61e4ff096964c4b3c117832b5e-40336a5f38bf14aa-01 outer:exit 2b-fc2d572af2840b61e4ff096964c4b3c117832b5e-3a1eb997cb04345c-01
2022-04-21T16:20:15.376Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:20:15.378Z appoptics:debug span.exit - no last event outer outer:entry 2b-41c64cbdb4fffcc310b86bf6d133b1b93c246074-285b7542525bc492-01 outer:exit 2b-41c64cbdb4fffcc310b86bf6d133b1b93c246074-c3b2cc9b4d75ae45-01
2022-04-21T16:20:15.378Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:20:15.387Z appoptics:debug span.exit - no last event outer outer:entry 2b-66f94b666c8deb66754ee896adaf160a91395045-a5dbc5d954e88961-01 outer:exit 2b-66f94b666c8deb66754ee896adaf160a91395045-0ac74bbe6c4efff8-01
2022-04-21T16:20:15.387Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:20:15.389Z appoptics:debug span.exit - no last event outer outer:entry 2b-dbe033ccabd563886a6ddd60c21503f5c6665335-bcb5fce58f02122d-01 outer:exit 2b-dbe033ccabd563886a6ddd60c21503f5c6665335-89919c732739f045-01
2022-04-21T16:20:15.389Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:20:15.398Z appoptics:debug span.exit - no last event outer outer:entry 2b-a22ddeffc9fa48c026cd298cb466ba40c553f3d9-3fc357e91bfa9952-01 outer:exit 2b-a22ddeffc9fa48c026cd298cb466ba40c553f3d9-976c55b3b94c814b-01
2022-04-21T16:20:15.398Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:20:15.405Z appoptics:debug span.exit - no last event outer outer:entry 2b-21c01c5508ce2c1f7113c1d7db464c9a79543f12-71015b6521b8812d-01 outer:exit 2b-21c01c5508ce2c1f7113c1d7db464c9a79543f12-c7463c8333b572f9-01
2022-04-21T16:20:15.405Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:20:15.408Z appoptics:debug span.exit - no last event outer outer:entry 2b-16bf80ecafb273de897e0be982181a84114a5c0a-b59feeeb4ea7413e-01 outer:exit 2b-16bf80ecafb273de897e0be982181a84114a5c0a-afb4bc4ce4a34700-01
2022-04-21T16:20:15.408Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:20:15.411Z appoptics:debug span.exit - no last event outer outer:entry 2b-a28cd89b5797226f56b1897886d4b520c2b86465-e86e9dfca15c6ac3-01 outer:exit 2b-a28cd89b5797226f56b1897886d4b520c2b86465-b97963394e2792e0-01
2022-04-21T16:20:15.411Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:20:15.413Z appoptics:debug span.exit - no last event outer outer:entry 2b-a0fc80266626593f4fdfb3d465633a6d83224160-ea04f4b8c17e41c3-01 outer:exit 2b-a0fc80266626593f4fdfb3d465633a6d83224160-7378054263bbf8e7-01
2022-04-21T16:20:15.413Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:20:15.440Z appoptics:debug span.exit - no last event outer outer:entry 2b-e44149889af25a8d873651e844c871af55210723-6e81fb8978f5f163-01 outer:exit 2b-e44149889af25a8d873651e844c871af55210723-58f1e7ff36948ba9-01
2022-04-21T16:20:15.440Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (324ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.18
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.18
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.18
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.18
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.18
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.18
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.18
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.18
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.18
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.18
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.18
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.18
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.18
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.18
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.18
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.18
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.18
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.18
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.18
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.18
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.18
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.18
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.18
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.18
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.18
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.18
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.18
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.18
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.18
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.18
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.18
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.18
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.18
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.18
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.18
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.18
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.18
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.18
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.18
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.18
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.18
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.18
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:21.270Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:21.270Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:21.270Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:21.271Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:21.328Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:21.438Z appoptics:patching patched crypto 
2022-04-21T16:20:21.455Z appoptics:patching patched https 
2022-04-21T16:20:21.455Z appoptics:patching patched http 
2022-04-21T16:20:21.496Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:21.496Z appoptics:patching patched fs 
2022-04-21T16:20:21.520Z appoptics:patching patched mongodb-core 2.1.19 (disabled: node v18.0.0)
2022-04-21T16:20:21.526Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.19
    2.4
      databases
2022-04-21T16:20:21.569Z appoptics:debug span.exit - no last event outer outer:entry 2b-e9657765ca6e137a3beeddebe4f9d576407c4926-847d7cf973629d42-01 outer:exit 2b-e9657765ca6e137a3beeddebe4f9d576407c4926-36253a1d549fc87a-01
2022-04-21T16:20:21.569Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:20:21.610Z appoptics:debug span.exit - no last event outer outer:entry 2b-349c019e51a6283cf95ad3834d81a6495abbf25c-c2c663bbe09c1dec-01 outer:exit 2b-349c019e51a6283cf95ad3834d81a6495abbf25c-9def48e8fff4d2d2-01
2022-04-21T16:20:21.610Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:20:21.614Z appoptics:debug span.exit - no last event outer outer:entry 2b-422bc0d9ff29e6cdc2250d0c75be544d78e3ca02-e8a4afa047811fc9-01 outer:exit 2b-422bc0d9ff29e6cdc2250d0c75be544d78e3ca02-c58200b3cc7ce809-01
2022-04-21T16:20:21.614Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:20:21.617Z appoptics:debug span.exit - no last event outer outer:entry 2b-28c83ae8d29d7a6621e6a05971e800d540c71743-3a23ec2b5b4127a7-01 outer:exit 2b-28c83ae8d29d7a6621e6a05971e800d540c71743-7043b426336f4069-01
2022-04-21T16:20:21.617Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:20:21.621Z appoptics:debug span.exit - no last event outer outer:entry 2b-6bb043c5f214cb42c83c1885b5d05a7b5165b5bd-709b9d0d819f1f65-01 outer:exit 2b-6bb043c5f214cb42c83c1885b5d05a7b5165b5bd-b29fd0da8419eaf4-01
2022-04-21T16:20:21.621Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:20:21.624Z appoptics:debug span.exit - no last event outer outer:entry 2b-0d751732325399ce6c677a5cf75f4458545823ad-eb1e59d9ca254a65-01 outer:exit 2b-0d751732325399ce6c677a5cf75f4458545823ad-1e6be6a2ada9d275-01
2022-04-21T16:20:21.624Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:20:21.626Z appoptics:debug span.exit - no last event outer outer:entry 2b-49c8b53a037e9c3db2b9acde9ceb8c5e8f48d215-3e51f2191601b012-01 outer:exit 2b-49c8b53a037e9c3db2b9acde9ceb8c5e8f48d215-197352176dc3e5c2-01
2022-04-21T16:20:21.626Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:20:21.629Z appoptics:debug span.exit - no last event outer outer:entry 2b-4faf1f75cb2704ae5dcf08b75b321a3648407ebc-83e058b317253967-01 outer:exit 2b-4faf1f75cb2704ae5dcf08b75b321a3648407ebc-d03e88170b144da8-01
2022-04-21T16:20:21.629Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:20:21.631Z appoptics:debug span.exit - no last event outer outer:entry 2b-bead5ce6f52ab8c135d3d211b398c657756043c3-ff35f5dc28f600fe-01 outer:exit 2b-bead5ce6f52ab8c135d3d211b398c657756043c3-582b635705d46de5-01
2022-04-21T16:20:21.631Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:20:21.634Z appoptics:debug span.exit - no last event outer outer:entry 2b-4ed676193a2745ed6cca1f305d4408d55479f467-c21f3e29ecfcde9a-01 outer:exit 2b-4ed676193a2745ed6cca1f305d4408d55479f467-2a3b0ae9b4ad27bf-01
2022-04-21T16:20:21.634Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:20:21.640Z appoptics:debug span.exit - no last event outer outer:entry 2b-d72d50a74b3ef546e8cd29bb13071329bcd9b027-a68b3f05e5908495-01 outer:exit 2b-d72d50a74b3ef546e8cd29bb13071329bcd9b027-abfd867204058063-01
2022-04-21T16:20:21.640Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:20:21.646Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a990ff88766344e05706fdacdaea32227e4b7ea-bbe3159dac2cba17-01 outer:exit 2b-1a990ff88766344e05706fdacdaea32227e4b7ea-25b67566bc6d9ba2-01
2022-04-21T16:20:21.646Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:20:21.662Z appoptics:debug span.exit - no last event outer outer:entry 2b-c81df95feb218582d2bc781e5d85baf4ac822f36-04b9ee87994ec387-01 outer:exit 2b-c81df95feb218582d2bc781e5d85baf4ac822f36-8ba72ae241e23562-01
2022-04-21T16:20:21.662Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:20:21.698Z appoptics:debug span.exit - no last event outer outer:entry 2b-2cc311d9ed3046861e98b2a62b647342b62bac16-bc643917ea089341-01 outer:exit 2b-2cc311d9ed3046861e98b2a62b647342b62bac16-1f5e6cbb3f15eafe-01
2022-04-21T16:20:21.698Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:20:21.701Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea78f171678864c5c211f57f178c121064bd822e-a5f296441e4a7cd4-01 outer:exit 2b-ea78f171678864c5c211f57f178c121064bd822e-5404ceb0af10cc48-01
2022-04-21T16:20:21.701Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:20:21.703Z appoptics:debug span.exit - no last event outer outer:entry 2b-33ad29634bc5894fc205841574acd9d3fd0fc8f1-0074e5051d9cbf5f-01 outer:exit 2b-33ad29634bc5894fc205841574acd9d3fd0fc8f1-9c7ad42f13dce5dd-01
2022-04-21T16:20:21.703Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:20:21.706Z appoptics:debug span.exit - no last event outer outer:entry 2b-cf4dbb6c1fb4cd11566c119f0562663d6a623db2-a80acfd732b2f2a7-01 outer:exit 2b-cf4dbb6c1fb4cd11566c119f0562663d6a623db2-e3cf3bf82cb884ef-01
2022-04-21T16:20:21.706Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:20:21.709Z appoptics:debug span.exit - no last event outer outer:entry 2b-8909e2e96ab127e8ad9d2e4d4b8f40599d74e0d9-0fac3570b13b80fe-01 outer:exit 2b-8909e2e96ab127e8ad9d2e4d4b8f40599d74e0d9-296bbd672760e385-01
2022-04-21T16:20:21.709Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:20:21.711Z appoptics:debug span.exit - no last event outer outer:entry 2b-1736c89fcf152ba7ad1f0a82e9d526451ef90784-331e8e8668804978-01 outer:exit 2b-1736c89fcf152ba7ad1f0a82e9d526451ef90784-4a6de95bee7209db-01
2022-04-21T16:20:21.711Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:20:21.713Z appoptics:debug span.exit - no last event outer outer:entry 2b-f06e6c3404ee12baab3dc0d2c5a0894c27b42680-13030972a6ca0a7a-01 outer:exit 2b-f06e6c3404ee12baab3dc0d2c5a0894c27b42680-f04f3b261f398d0e-01
2022-04-21T16:20:21.713Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:20:21.715Z appoptics:debug span.exit - no last event outer outer:entry 2b-cb32e11a6ba452128b050d00030f85e9bcaecccb-0faf446b9489c9b2-01 outer:exit 2b-cb32e11a6ba452128b050d00030f85e9bcaecccb-b053383c292c10d0-01
2022-04-21T16:20:21.715Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:20:21.716Z appoptics:debug span.exit - no last event outer outer:entry 2b-f9f1ed9c6946f39c8bc9fb617f8766412e036eb9-a49202b140c2e512-01 outer:exit 2b-f9f1ed9c6946f39c8bc9fb617f8766412e036eb9-5e3bc7cf064682be-01
2022-04-21T16:20:21.716Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:20:21.719Z appoptics:debug span.exit - no last event outer outer:entry 2b-5da0d2694572e7d0ed5a2ba5f8a034a491d2dc38-631a2d65181f253b-01 outer:exit 2b-5da0d2694572e7d0ed5a2ba5f8a034a491d2dc38-d4f4992427834394-01
2022-04-21T16:20:21.719Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:20:21.722Z appoptics:debug span.exit - no last event outer outer:entry 2b-eef4b927fdb72728e1a1037ae4ae79c35395ea70-c92ea6c700dbd455-01 outer:exit 2b-eef4b927fdb72728e1a1037ae4ae79c35395ea70-4ca8b0ad578e749e-01
2022-04-21T16:20:21.722Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:20:21.724Z appoptics:debug span.exit - no last event outer outer:entry 2b-3b1148e76b3942db36d4c7cc062377f1cc6b8062-48cb6191f192d417-01 outer:exit 2b-3b1148e76b3942db36d4c7cc062377f1cc6b8062-b6cd76451559fef0-01
2022-04-21T16:20:21.724Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:20:21.726Z appoptics:debug span.exit - no last event outer outer:entry 2b-42aaa983f2da9c927d14732d59fe134241caad99-8e60a763b7b2e7e3-01 outer:exit 2b-42aaa983f2da9c927d14732d59fe134241caad99-86c20790cc9ed0c7-01
2022-04-21T16:20:21.726Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:20:21.732Z appoptics:debug span.exit - no last event outer outer:entry 2b-0a71bb15dbcdea91ed1f0b9e2380872013c63f04-c1e66b5adf569fe8-01 outer:exit 2b-0a71bb15dbcdea91ed1f0b9e2380872013c63f04-d1763c09279051c0-01
2022-04-21T16:20:21.732Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:20:21.737Z appoptics:debug span.exit - no last event outer outer:entry 2b-b0ef913840e26356571c74f773f7b251ec7516f3-7e4605d303de3a67-01 outer:exit 2b-b0ef913840e26356571c74f773f7b251ec7516f3-b38314b2a595ba50-01
2022-04-21T16:20:21.737Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:20:21.745Z appoptics:debug span.exit - no last event outer outer:entry 2b-d108ff39fb74d953bb662f97901e4480a54096de-c190c17fb0486aec-01 outer:exit 2b-d108ff39fb74d953bb662f97901e4480a54096de-32841447d5f94d36-01
2022-04-21T16:20:21.745Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:20:21.751Z appoptics:debug span.exit - no last event outer outer:entry 2b-b9c626c0172dbd1dc043c8c8a932319ceb00f9fe-f094c5ca5309d75f-01 outer:exit 2b-b9c626c0172dbd1dc043c8c8a932319ceb00f9fe-15c1d1581eb129ad-01
2022-04-21T16:20:21.751Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:20:21.753Z appoptics:debug span.exit - no last event outer outer:entry 2b-0718650ab4ed81befc814b809a390d3d85b7e65d-e73880924e7c6331-01 outer:exit 2b-0718650ab4ed81befc814b809a390d3d85b7e65d-f2cc02463beb6fe9-01
2022-04-21T16:20:21.753Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:20:21.755Z appoptics:debug span.exit - no last event outer outer:entry 2b-654335ceea7c48f0af30a8e7d0d20db1140b766c-c994667767bfb955-01 outer:exit 2b-654335ceea7c48f0af30a8e7d0d20db1140b766c-b13c76aade6e2168-01
2022-04-21T16:20:21.755Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:20:21.762Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc6106da810c735eecd3b2a22a4d04e59b39a0b7-1e8d087d59a015c1-01 outer:exit 2b-cc6106da810c735eecd3b2a22a4d04e59b39a0b7-d973166cce62de3f-01
2022-04-21T16:20:21.762Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:20:21.764Z appoptics:debug span.exit - no last event outer outer:entry 2b-073b465044fa3f35eafdcf98dee53d5b73804bf5-719baa61798ca9fe-01 outer:exit 2b-073b465044fa3f35eafdcf98dee53d5b73804bf5-9453da817d7fa676-01
2022-04-21T16:20:21.764Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:20:21.765Z appoptics:debug span.exit - no last event outer outer:entry 2b-06f6b56bf391aefe59f1606e83c9c3263d70c497-9a43aca25e7583c8-01 outer:exit 2b-06f6b56bf391aefe59f1606e83c9c3263d70c497-36ed5e6668a7e4d1-01
2022-04-21T16:20:21.765Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:20:21.767Z appoptics:debug span.exit - no last event outer outer:entry 2b-4222023137c63f3cfd0b649512a75bf8821adeba-f74fc0840427416a-01 outer:exit 2b-4222023137c63f3cfd0b649512a75bf8821adeba-d89656b6a60fbc0a-01
2022-04-21T16:20:21.767Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:20:21.769Z appoptics:debug span.exit - no last event outer outer:entry 2b-6b3a0c460a78fc72c6941c6186c53edd54a518f6-95c2b06cfcdce203-01 outer:exit 2b-6b3a0c460a78fc72c6941c6186c53edd54a518f6-aedd5959c4491182-01
2022-04-21T16:20:21.769Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:20:21.771Z appoptics:debug span.exit - no last event outer outer:entry 2b-0e6d61c3e9f9d6b5b4bb67a65b68cdea428bae58-31dab74cacc0a548-01 outer:exit 2b-0e6d61c3e9f9d6b5b4bb67a65b68cdea428bae58-829cc4795991306f-01
2022-04-21T16:20:21.771Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:20:21.778Z appoptics:debug span.exit - no last event outer outer:entry 2b-57bbb77bf1c89dd14aa970b3adb72a96b4d7a71e-066438ffccd24e3f-01 outer:exit 2b-57bbb77bf1c89dd14aa970b3adb72a96b4d7a71e-d80fdb45a51abd06-01
2022-04-21T16:20:21.778Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:20:21.786Z appoptics:debug span.exit - no last event outer outer:entry 2b-0ebbe788e287e8c3e17f1f247ab84826729ca81c-f8c5bc3db981859c-01 outer:exit 2b-0ebbe788e287e8c3e17f1f247ab84826729ca81c-a2542b498a007a12-01
2022-04-21T16:20:21.786Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:20:21.789Z appoptics:debug span.exit - no last event outer outer:entry 2b-abdd4ae66c511c675379a4a3d065b6f1ef18d443-f3479e6f2c6c80bf-01 outer:exit 2b-abdd4ae66c511c675379a4a3d065b6f1ef18d443-771d75a5f9adaae9-01
2022-04-21T16:20:21.789Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:20:21.791Z appoptics:debug span.exit - no last event outer outer:entry 2b-ea5d1eea2533ed0f1729b8b4362f15c4c3603589-a35af9fc01b55982-01 outer:exit 2b-ea5d1eea2533ed0f1729b8b4362f15c4c3603589-0260f2022592cc81-01
2022-04-21T16:20:21.791Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:20:21.793Z appoptics:debug span.exit - no last event outer outer:entry 2b-6fa64957ad13f2e100c33dc4505e0285c2c9784e-17153f0170e9bd09-01 outer:exit 2b-6fa64957ad13f2e100c33dc4505e0285c2c9784e-1ab8a864eb447b9c-01
2022-04-21T16:20:21.793Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:20:21.819Z appoptics:debug span.exit - no last event outer outer:entry 2b-2de71359f053c9648f4d8ba89a5473cec92de22f-88bbe77a0ccdb1d0-01 outer:exit 2b-2de71359f053c9648f4d8ba89a5473cec92de22f-782a009bbb7b16c0-01
2022-04-21T16:20:21.819Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (287ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.19
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.19
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.19
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.19
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.19
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.19
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.19
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.19
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.19
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.19
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.19
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.19
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.19
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.19
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.19
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.19
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.19
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.19
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.19
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.19
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.19
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.19
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.19
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.19
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.19
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.19
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.19
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.19
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.19
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.19
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.19
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.19
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.19
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.19
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.19
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.19
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.19
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.19
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.19
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.19
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.19
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.19
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 15s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:37.193Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:37.193Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:37.193Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:37.194Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:37.309Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:37.553Z appoptics:patching patched crypto 
2022-04-21T16:20:37.592Z appoptics:patching patched https 
2022-04-21T16:20:37.593Z appoptics:patching patched http 
2022-04-21T16:20:37.726Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:37.726Z appoptics:patching patched fs 
2022-04-21T16:20:37.788Z appoptics:patching patched mongodb-core 2.1.20 (disabled: node v18.0.0)
2022-04-21T16:20:37.796Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 2.1.20
    2.4
      databases
2022-04-21T16:20:37.871Z appoptics:debug span.exit - no last event outer outer:entry 2b-56c7935d4481ff0db8edd22eb331da7536c8b1fb-bd9efbb56c19caff-01 outer:exit 2b-56c7935d4481ff0db8edd22eb331da7536c8b1fb-247f29fb9f667ea7-01
2022-04-21T16:20:37.871Z appoptics:error Can not set lastEvent. Context may be lost.
        1) should drop
      collections
2022-04-21T16:20:37.921Z appoptics:debug span.exit - no last event outer outer:entry 2b-7c1e57cbea73753cb51edca6fe43f127da2e43d1-c2c416733c595a21-01 outer:exit 2b-7c1e57cbea73753cb51edca6fe43f127da2e43d1-6441c6f3ecddb93b-01
2022-04-21T16:20:37.921Z appoptics:error Can not set lastEvent. Context may be lost.
        2) should create
2022-04-21T16:20:37.927Z appoptics:debug span.exit - no last event outer outer:entry 2b-27ffc7094ed1ce975c19f86bb6c5e6d85a21dc05-5234a6075367c06e-01 outer:exit 2b-27ffc7094ed1ce975c19f86bb6c5e6d85a21dc05-3ec0db2eb1643ef7-01
2022-04-21T16:20:37.927Z appoptics:error Can not set lastEvent. Context may be lost.
        3) should rename
2022-04-21T16:20:37.930Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc6701b94bb194db7cfa92e19008dfba268dfe1a-58535f323b34bca0-01 outer:exit 2b-cc6701b94bb194db7cfa92e19008dfba268dfe1a-2115b573c6f16bb7-01
2022-04-21T16:20:37.930Z appoptics:error Can not set lastEvent. Context may be lost.
        4) should drop
      queries
2022-04-21T16:20:37.940Z appoptics:debug span.exit - no last event outer outer:entry 2b-46167b4eefa5869eca0d9a95278d73a9432af9d1-4977506d28fedf9e-01 outer:exit 2b-46167b4eefa5869eca0d9a95278d73a9432af9d1-d0fcd83420ebd73c-01
2022-04-21T16:20:37.940Z appoptics:error Can not set lastEvent. Context may be lost.
        5) should insert
2022-04-21T16:20:37.945Z appoptics:debug span.exit - no last event outer outer:entry 2b-cc2ccf2f48ebc82c1b70d0fb30d5ab39db455370-e7b0323ec6d26493-01 outer:exit 2b-cc2ccf2f48ebc82c1b70d0fb30d5ab39db455370-75ccb610cf7c2e56-01
2022-04-21T16:20:37.945Z appoptics:error Can not set lastEvent. Context may be lost.
        6) should update
2022-04-21T16:20:37.948Z appoptics:debug span.exit - no last event outer outer:entry 2b-c92ea8622d2be38c8e0460099203562ec2eb480a-13a0d0ac0512ca6d-01 outer:exit 2b-c92ea8622d2be38c8e0460099203562ec2eb480a-84c6861539c04f6e-01
2022-04-21T16:20:37.948Z appoptics:error Can not set lastEvent. Context may be lost.
        7) should findAndModify
2022-04-21T16:20:37.960Z appoptics:debug span.exit - no last event outer outer:entry 2b-8e7f7cda49e4b2444b8bd564cb4866ff8a9d63eb-9c199a21d55ebbe6-01 outer:exit 2b-8e7f7cda49e4b2444b8bd564cb4866ff8a9d63eb-37ca2491107a7714-01
2022-04-21T16:20:37.960Z appoptics:error Can not set lastEvent. Context may be lost.
        8) should distinct
2022-04-21T16:20:37.963Z appoptics:debug span.exit - no last event outer outer:entry 2b-0015cbd2bafc261e9b616fc8fc869edd0ec8b986-c26e8b94fc84e28c-01 outer:exit 2b-0015cbd2bafc261e9b616fc8fc869edd0ec8b986-814e19d70485e789-01
2022-04-21T16:20:37.963Z appoptics:error Can not set lastEvent. Context may be lost.
        9) should count
2022-04-21T16:20:37.966Z appoptics:debug span.exit - no last event outer outer:entry 2b-1c975cb09c4224d6c5f5fbd7daba230564cd5d77-e92f22b33079795c-01 outer:exit 2b-1c975cb09c4224d6c5f5fbd7daba230564cd5d77-8e1e0f2917d073ee-01
2022-04-21T16:20:37.966Z appoptics:error Can not set lastEvent. Context may be lost.
        10) should remove
      indexes
        - should create_indexes
        - should reindex
        - should drop_indexes
      cursors
2022-04-21T16:20:37.969Z appoptics:debug span.exit - no last event outer outer:entry 2b-24822bbac236112330bc6d3ebbfc213893993e54-93ae7b456729dd96-01 outer:exit 2b-24822bbac236112330bc6d3ebbfc213893993e54-5c8877f55ec92fff-01
2022-04-21T16:20:37.969Z appoptics:error Can not set lastEvent. Context may be lost.
        11) should find
      aggregations
2022-04-21T16:20:37.976Z appoptics:debug span.exit - no last event outer outer:entry 2b-924c58c87b23f565b5894223fc992c43ed9844a2-c1cca116fc058cc2-01 outer:exit 2b-924c58c87b23f565b5894223fc992c43ed9844a2-5b92b269a405b5b5-01
2022-04-21T16:20:37.976Z appoptics:error Can not set lastEvent. Context may be lost.
        12) should group
        - should map_reduce
    2.6
      databases
2022-04-21T16:20:37.997Z appoptics:debug span.exit - no last event outer outer:entry 2b-b1b4df9448b2340385e22757e7056a86d1ab2b7b-2e73a972f445aade-01 outer:exit 2b-b1b4df9448b2340385e22757e7056a86d1ab2b7b-d1282e8094cee2f7-01
2022-04-21T16:20:37.997Z appoptics:error Can not set lastEvent. Context may be lost.
        13) should drop
      collections
2022-04-21T16:20:38.034Z appoptics:debug span.exit - no last event outer outer:entry 2b-1582d12a249a954c7cfa4f6eed10fe246d4e0f91-73ecc3a809fa971b-01 outer:exit 2b-1582d12a249a954c7cfa4f6eed10fe246d4e0f91-81b86899d30a565b-01
2022-04-21T16:20:38.034Z appoptics:error Can not set lastEvent. Context may be lost.
        14) should create
2022-04-21T16:20:38.037Z appoptics:debug span.exit - no last event outer outer:entry 2b-2f85239c3ddd8503e8ef21fb9c5ce7b669ee3652-57c6fc84e43a6b07-01 outer:exit 2b-2f85239c3ddd8503e8ef21fb9c5ce7b669ee3652-0c71b7a9908455a6-01
2022-04-21T16:20:38.037Z appoptics:error Can not set lastEvent. Context may be lost.
        15) should rename
2022-04-21T16:20:38.040Z appoptics:debug span.exit - no last event outer outer:entry 2b-db3b49c3a4c458cdfbdf52e4cb9383f2f7ea2294-a149293666f43efa-01 outer:exit 2b-db3b49c3a4c458cdfbdf52e4cb9383f2f7ea2294-a8baaca1dd8fe9b0-01
2022-04-21T16:20:38.040Z appoptics:error Can not set lastEvent. Context may be lost.
        16) should drop
      queries
2022-04-21T16:20:38.043Z appoptics:debug span.exit - no last event outer outer:entry 2b-1a28512315c8e7831a0d1a7551c5da39e7569d72-e3499dfd82bf02c2-01 outer:exit 2b-1a28512315c8e7831a0d1a7551c5da39e7569d72-ed4a43137235f06f-01
2022-04-21T16:20:38.043Z appoptics:error Can not set lastEvent. Context may be lost.
        17) should insert
2022-04-21T16:20:38.047Z appoptics:debug span.exit - no last event outer outer:entry 2b-00e0fbc9c87212875d1c07c39760b69679471a67-5644023f06db3776-01 outer:exit 2b-00e0fbc9c87212875d1c07c39760b69679471a67-03bf17247231dad5-01
2022-04-21T16:20:38.047Z appoptics:error Can not set lastEvent. Context may be lost.
        18) should update
2022-04-21T16:20:38.052Z appoptics:debug span.exit - no last event outer outer:entry 2b-47fdd8f928a1b85871f0fc6df0ef7b400dce93cc-09da621fc2cf2c59-01 outer:exit 2b-47fdd8f928a1b85871f0fc6df0ef7b400dce93cc-375d9e034823f3ad-01
2022-04-21T16:20:38.052Z appoptics:error Can not set lastEvent. Context may be lost.
        19) should findAndModify
2022-04-21T16:20:38.054Z appoptics:debug span.exit - no last event outer outer:entry 2b-8b59d266df05b8d8262fc0d2c0bdef9ecc5e7ba7-39b559345d000673-01 outer:exit 2b-8b59d266df05b8d8262fc0d2c0bdef9ecc5e7ba7-ba83ab9cdae3a150-01
2022-04-21T16:20:38.054Z appoptics:error Can not set lastEvent. Context may be lost.
        20) should distinct
2022-04-21T16:20:38.056Z appoptics:debug span.exit - no last event outer outer:entry 2b-e7305ddfb57efd39eb2a6076f0a88ec999affbf0-81026a64d3c2666c-01 outer:exit 2b-e7305ddfb57efd39eb2a6076f0a88ec999affbf0-ed56847e0cadcd3a-01
2022-04-21T16:20:38.057Z appoptics:error Can not set lastEvent. Context may be lost.
        21) should count
2022-04-21T16:20:38.060Z appoptics:debug span.exit - no last event outer outer:entry 2b-1f7837de8361a8e7b2127d0cd18b2e1a321b87b9-84819f2a649d51fa-01 outer:exit 2b-1f7837de8361a8e7b2127d0cd18b2e1a321b87b9-293c0c080cc9729d-01
2022-04-21T16:20:38.060Z appoptics:error Can not set lastEvent. Context may be lost.
        22) should remove
      indexes
2022-04-21T16:20:38.067Z appoptics:debug span.exit - no last event outer outer:entry 2b-aa99e1628897ad17ebfcdb44441039538650c3e8-36e3f40f82313342-01 outer:exit 2b-aa99e1628897ad17ebfcdb44441039538650c3e8-600381bab3de4047-01
2022-04-21T16:20:38.067Z appoptics:error Can not set lastEvent. Context may be lost.
        23) should create_indexes
2022-04-21T16:20:38.074Z appoptics:debug span.exit - no last event outer outer:entry 2b-cd90466aa6c22d7c69097ae50b10b88a782323e7-fd733af75f5ebc6e-01 outer:exit 2b-cd90466aa6c22d7c69097ae50b10b88a782323e7-bfe6fa8fed7d03cf-01
2022-04-21T16:20:38.074Z appoptics:error Can not set lastEvent. Context may be lost.
        24) should reindex
2022-04-21T16:20:38.079Z appoptics:debug span.exit - no last event outer outer:entry 2b-3e1ba8ac5ebb58fbce2148e8878ddc7b9dab7147-f5ba559090984744-01 outer:exit 2b-3e1ba8ac5ebb58fbce2148e8878ddc7b9dab7147-cde355288ba55c2f-01
2022-04-21T16:20:38.079Z appoptics:error Can not set lastEvent. Context may be lost.
        25) should drop_indexes
      cursors
2022-04-21T16:20:38.082Z appoptics:debug span.exit - no last event outer outer:entry 2b-89c550832f40d561476bf91fe2a01b6e7895452f-9be94ca3c58c0b3b-01 outer:exit 2b-89c550832f40d561476bf91fe2a01b6e7895452f-4a37468eaedfa0b6-01
2022-04-21T16:20:38.082Z appoptics:error Can not set lastEvent. Context may be lost.
        26) should find
      aggregations
2022-04-21T16:20:38.088Z appoptics:debug span.exit - no last event outer outer:entry 2b-3dfda36b1a33654066b856d0117023d581d55cd9-dc0d166deace6351-01 outer:exit 2b-3dfda36b1a33654066b856d0117023d581d55cd9-061ac2cee68d135f-01
2022-04-21T16:20:38.088Z appoptics:error Can not set lastEvent. Context may be lost.
        27) should group
2022-04-21T16:20:38.096Z appoptics:debug span.exit - no last event outer outer:entry 2b-8175921baeb9df06f5c1978dcf2f8979cacd7728-e4b947735d1cc042-01 outer:exit 2b-8175921baeb9df06f5c1978dcf2f8979cacd7728-07c0b1858826496c-01
2022-04-21T16:20:38.096Z appoptics:error Can not set lastEvent. Context may be lost.
        28) should map_reduce
    3.0
      databases
2022-04-21T16:20:38.105Z appoptics:debug span.exit - no last event outer outer:entry 2b-ba19f601b30a6dd79757c882720f37f0f92e9bec-868835175777bf0e-01 outer:exit 2b-ba19f601b30a6dd79757c882720f37f0f92e9bec-cc818a22a5523bf6-01
2022-04-21T16:20:38.105Z appoptics:error Can not set lastEvent. Context may be lost.
        29) should drop
      collections
2022-04-21T16:20:38.111Z appoptics:debug span.exit - no last event outer outer:entry 2b-2a8c7556a27f761b51e5f7b6cefde69b6c70befd-0fd92695f55f8ff0-01 outer:exit 2b-2a8c7556a27f761b51e5f7b6cefde69b6c70befd-67ab82615d95b120-01
2022-04-21T16:20:38.111Z appoptics:error Can not set lastEvent. Context may be lost.
        30) should create
2022-04-21T16:20:38.113Z appoptics:debug span.exit - no last event outer outer:entry 2b-870d3b7aa77f651abb20f806d5ef839749ae1610-96e4bec548d8b157-01 outer:exit 2b-870d3b7aa77f651abb20f806d5ef839749ae1610-fb5f5945af86d6e6-01
2022-04-21T16:20:38.113Z appoptics:error Can not set lastEvent. Context may be lost.
        31) should rename
2022-04-21T16:20:38.116Z appoptics:debug span.exit - no last event outer outer:entry 2b-b89880625dfc5baf7c968647a5278bb384350336-761352d8c83e60dc-01 outer:exit 2b-b89880625dfc5baf7c968647a5278bb384350336-ed778a64efe7ae61-01
2022-04-21T16:20:38.116Z appoptics:error Can not set lastEvent. Context may be lost.
        32) should drop
      queries
2022-04-21T16:20:38.124Z appoptics:debug span.exit - no last event outer outer:entry 2b-dae9b002de5a7eede71f7a646195318e9f0f7b2e-400e71273e6017de-01 outer:exit 2b-dae9b002de5a7eede71f7a646195318e9f0f7b2e-8cdd0d7871bd7b17-01
2022-04-21T16:20:38.124Z appoptics:error Can not set lastEvent. Context may be lost.
        33) should insert
2022-04-21T16:20:38.126Z appoptics:debug span.exit - no last event outer outer:entry 2b-a155e886c637bf2276215ae42cf3cba3700917d5-d0e10356466d130c-01 outer:exit 2b-a155e886c637bf2276215ae42cf3cba3700917d5-4fbbc8b119ca5467-01
2022-04-21T16:20:38.126Z appoptics:error Can not set lastEvent. Context may be lost.
        34) should update
2022-04-21T16:20:38.128Z appoptics:debug span.exit - no last event outer outer:entry 2b-dd2d08dd68045ebeb8c4bc624b4b199d5e91dfc7-43a5db24f2dbe329-01 outer:exit 2b-dd2d08dd68045ebeb8c4bc624b4b199d5e91dfc7-af7a95653dbdf6bc-01
2022-04-21T16:20:38.128Z appoptics:error Can not set lastEvent. Context may be lost.
        35) should findAndModify
2022-04-21T16:20:38.129Z appoptics:debug span.exit - no last event outer outer:entry 2b-216ee661e3284944b4d22bd5e4f05b305bb4a528-77ed5d57c4cb6bd2-01 outer:exit 2b-216ee661e3284944b4d22bd5e4f05b305bb4a528-ee0efdf083d52301-01
2022-04-21T16:20:38.129Z appoptics:error Can not set lastEvent. Context may be lost.
        36) should distinct
2022-04-21T16:20:38.133Z appoptics:debug span.exit - no last event outer outer:entry 2b-228f2c097ee22fc95d6caacfc49e2bbc84080a13-59b756ae3a5f587d-01 outer:exit 2b-228f2c097ee22fc95d6caacfc49e2bbc84080a13-527ac572cb7a41b5-01
2022-04-21T16:20:38.133Z appoptics:error Can not set lastEvent. Context may be lost.
        37) should count
2022-04-21T16:20:38.135Z appoptics:debug span.exit - no last event outer outer:entry 2b-74c330b2f645276a6e28ec17c23eb0caa1b29ffb-124efec49bc23cdf-01 outer:exit 2b-74c330b2f645276a6e28ec17c23eb0caa1b29ffb-2953cfe20e308949-01
2022-04-21T16:20:38.135Z appoptics:error Can not set lastEvent. Context may be lost.
        38) should remove
      indexes
2022-04-21T16:20:38.144Z appoptics:debug span.exit - no last event outer outer:entry 2b-c2cb12bfba66ec81ac3be4ae5602ac2c57881fcf-c10c670fb286bb3a-01 outer:exit 2b-c2cb12bfba66ec81ac3be4ae5602ac2c57881fcf-116726ef79a236ef-01
2022-04-21T16:20:38.144Z appoptics:error Can not set lastEvent. Context may be lost.
        39) should create_indexes
2022-04-21T16:20:38.153Z appoptics:debug span.exit - no last event outer outer:entry 2b-4d851318cdea20291321296635f45f99ffee1259-2a2c60c365969f08-01 outer:exit 2b-4d851318cdea20291321296635f45f99ffee1259-9e8cdab747f1dcda-01
2022-04-21T16:20:38.153Z appoptics:error Can not set lastEvent. Context may be lost.
        40) should reindex
2022-04-21T16:20:38.156Z appoptics:debug span.exit - no last event outer outer:entry 2b-9fdd17273e930906a0ff15d8b6ed48f7d0db3d04-124b2a4a8e221a0c-01 outer:exit 2b-9fdd17273e930906a0ff15d8b6ed48f7d0db3d04-9bc2d69e4d787423-01
2022-04-21T16:20:38.156Z appoptics:error Can not set lastEvent. Context may be lost.
        41) should drop_indexes
      cursors
2022-04-21T16:20:38.159Z appoptics:debug span.exit - no last event outer outer:entry 2b-d595d72c9ec4f319888bf2ecc086da0506cf597e-1b63c1fa95d357d0-01 outer:exit 2b-d595d72c9ec4f319888bf2ecc086da0506cf597e-0fc9c5473b1e0814-01
2022-04-21T16:20:38.159Z appoptics:error Can not set lastEvent. Context may be lost.
        42) should find
      aggregations
2022-04-21T16:20:38.162Z appoptics:debug span.exit - no last event outer outer:entry 2b-93a0a1de973fb967ab607bf601de01e14084c241-85c3090f5a9c998e-01 outer:exit 2b-93a0a1de973fb967ab607bf601de01e14084c241-bc92078a0458c9a4-01
2022-04-21T16:20:38.162Z appoptics:error Can not set lastEvent. Context may be lost.
        43) should group
2022-04-21T16:20:38.197Z appoptics:debug span.exit - no last event outer outer:entry 2b-5093c8c8701c726347cd75de0fb6d48d762a2c37-35cc3eaae4c18cc8-01 outer:exit 2b-5093c8c8701c726347cd75de0fb6d48d762a2c37-93839ad63f0aac8e-01
2022-04-21T16:20:38.197Z appoptics:error Can not set lastEvent. Context may be lost.
        44) should map_reduce


  1 passing (392ms)
  4 pending
  44 failing

  1) probes.mongodb-core 2.1.20
       2.4
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  2) probes.mongodb-core 2.1.20
       2.4
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  3) probes.mongodb-core 2.1.20
       2.4
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  4) probes.mongodb-core 2.1.20
       2.4
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  5) probes.mongodb-core 2.1.20
       2.4
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  6) probes.mongodb-core 2.1.20
       2.4
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  7) probes.mongodb-core 2.1.20
       2.4
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  8) probes.mongodb-core 2.1.20
       2.4
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  9) probes.mongodb-core 2.1.20
       2.4
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  10) probes.mongodb-core 2.1.20
       2.4
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  11) probes.mongodb-core 2.1.20
       2.4
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  12) probes.mongodb-core 2.1.20
       2.4
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  13) probes.mongodb-core 2.1.20
       2.6
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  14) probes.mongodb-core 2.1.20
       2.6
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  15) probes.mongodb-core 2.1.20
       2.6
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  16) probes.mongodb-core 2.1.20
       2.6
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  17) probes.mongodb-core 2.1.20
       2.6
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  18) probes.mongodb-core 2.1.20
       2.6
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  19) probes.mongodb-core 2.1.20
       2.6
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  20) probes.mongodb-core 2.1.20
       2.6
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  21) probes.mongodb-core 2.1.20
       2.6
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  22) probes.mongodb-core 2.1.20
       2.6
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  23) probes.mongodb-core 2.1.20
       2.6
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  24) probes.mongodb-core 2.1.20
       2.6
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  25) probes.mongodb-core 2.1.20
       2.6
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  26) probes.mongodb-core 2.1.20
       2.6
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  27) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  28) probes.mongodb-core 2.1.20
       2.6
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  29) probes.mongodb-core 2.1.20
       3.0
         databases
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:239:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  30) probes.mongodb-core 2.1.20
       3.0
         collections
           should create:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:271:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  31) probes.mongodb-core 2.1.20
       3.0
         collections
           should rename:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:304:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  32) probes.mongodb-core 2.1.20
       3.0
         collections
           should drop:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:342:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  33) probes.mongodb-core 2.1.20
       3.0
         queries
           should insert:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:379:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  34) probes.mongodb-core 2.1.20
       3.0
         queries
           should update:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:407:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  35) probes.mongodb-core 2.1.20
       3.0
         queries
           should findAndModify:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:438:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  36) probes.mongodb-core 2.1.20
       3.0
         queries
           should distinct:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:471:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  37) probes.mongodb-core 2.1.20
       3.0
         queries
           should count:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:502:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  38) probes.mongodb-core 2.1.20
       3.0
         queries
           should remove:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:531:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  39) probes.mongodb-core 2.1.20
       3.0
         indexes
           should create_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:572:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  40) probes.mongodb-core 2.1.20
       3.0
         indexes
           should reindex:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:599:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  41) probes.mongodb-core 2.1.20
       3.0
         indexes
           should drop_indexes:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:626:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  42) probes.mongodb-core 2.1.20
       3.0
         cursors
           should find:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at /__w/appoptics-apm-node/appoptics-apm-node/test/probes/mongodb-core.test.js:662:19
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  43) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should group:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:683:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)

  44) probes.mongodb-core 2.1.20
       3.0
         aggregations
           should map_reduce:

      message Layer and Label must be correct
      + expected - actual

      -outer:exit
      +mongodb-core:entry
      
      at Object.entry (test/probes/mongodb-core.test.js:223:24)
      at entry (test/probes/mongodb-core.test.js:721:17)
      at EventEmitter.onMessage (test/helper.js:170:9)
      at EventEmitter.emit (node:events:527:28)
      at Socket.<anonymous> (test/helper.js:112:13)
      at Socket.emit (node:events:527:28)
      at UDP.onMessage [as onmessage] (node:dgram:922:8)
      at UDP.callbackTrampoline (node:internal/async_hooks:130:17)




changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:44.409Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:44.409Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:44.409Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:44.410Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:44.467Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:44.576Z appoptics:patching patched crypto 
2022-04-21T16:20:44.593Z appoptics:patching patched https 
2022-04-21T16:20:44.594Z appoptics:patching patched http 
2022-04-21T16:20:44.632Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:44.632Z appoptics:patching patched fs 
2022-04-21T16:20:44.641Z appoptics:patching patched zlib 
2022-04-21T16:20:44.661Z appoptics:patching patched mongodb-core 3.0.0
2022-04-21T16:20:44.666Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (312ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:51.329Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:51.330Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:51.330Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:51.331Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:51.392Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:51.500Z appoptics:patching patched crypto 
2022-04-21T16:20:51.517Z appoptics:patching patched https 
2022-04-21T16:20:51.517Z appoptics:patching patched http 
2022-04-21T16:20:51.559Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:51.559Z appoptics:patching patched fs 
2022-04-21T16:20:51.568Z appoptics:patching patched zlib 
2022-04-21T16:20:51.587Z appoptics:patching patched mongodb-core 3.0.1
2022-04-21T16:20:51.592Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (247ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:20:57.714Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:20:57.714Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:20:57.714Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:20:57.715Z appoptics:debug using context provider: ace-context
2022-04-21T16:20:57.772Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:20:57.883Z appoptics:patching patched crypto 
2022-04-21T16:20:57.900Z appoptics:patching patched https 
2022-04-21T16:20:57.901Z appoptics:patching patched http 
2022-04-21T16:20:57.940Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:20:57.940Z appoptics:patching patched fs 
2022-04-21T16:20:57.949Z appoptics:patching patched zlib 
2022-04-21T16:20:57.970Z appoptics:patching patched mongodb-core 3.0.2
2022-04-21T16:20:57.975Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (273ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:04.805Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:04.805Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:04.805Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:04.806Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:04.863Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:04.971Z appoptics:patching patched crypto 
2022-04-21T16:21:04.989Z appoptics:patching patched https 
2022-04-21T16:21:04.990Z appoptics:patching patched http 
2022-04-21T16:21:05.049Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:05.050Z appoptics:patching patched fs 
2022-04-21T16:21:05.059Z appoptics:patching patched zlib 
2022-04-21T16:21:05.083Z appoptics:patching patched mongodb-core 3.0.3
2022-04-21T16:21:05.088Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (252ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:11.229Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:11.229Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:11.229Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:11.230Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:11.288Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:11.397Z appoptics:patching patched crypto 
2022-04-21T16:21:11.415Z appoptics:patching patched https 
2022-04-21T16:21:11.415Z appoptics:patching patched http 
2022-04-21T16:21:11.455Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:11.456Z appoptics:patching patched fs 
2022-04-21T16:21:11.464Z appoptics:patching patched zlib 
2022-04-21T16:21:11.485Z appoptics:patching patched mongodb-core 3.0.4
2022-04-21T16:21:11.490Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (277ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:18.251Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:18.252Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:18.252Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:18.252Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:18.310Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:18.422Z appoptics:patching patched crypto 
2022-04-21T16:21:18.439Z appoptics:patching patched https 
2022-04-21T16:21:18.440Z appoptics:patching patched http 
2022-04-21T16:21:18.481Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:18.482Z appoptics:patching patched fs 
2022-04-21T16:21:18.491Z appoptics:patching patched zlib 
2022-04-21T16:21:18.512Z appoptics:patching patched mongodb-core 3.0.5
2022-04-21T16:21:18.517Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (244ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:25.094Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:25.095Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:25.095Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:25.096Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:25.154Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:25.276Z appoptics:patching patched crypto 
2022-04-21T16:21:25.301Z appoptics:patching patched https 
2022-04-21T16:21:25.302Z appoptics:patching patched http 
2022-04-21T16:21:25.388Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:25.388Z appoptics:patching patched fs 
2022-04-21T16:21:25.397Z appoptics:patching patched zlib 
2022-04-21T16:21:25.439Z appoptics:patching patched mongodb-core 3.0.6
2022-04-21T16:21:25.448Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (42ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (291ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:31.949Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:31.949Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:31.949Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:31.950Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:32.025Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:32.147Z appoptics:patching patched crypto 
2022-04-21T16:21:32.186Z appoptics:patching patched https 
2022-04-21T16:21:32.186Z appoptics:patching patched http 
2022-04-21T16:21:32.225Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:32.225Z appoptics:patching patched fs 
2022-04-21T16:21:32.234Z appoptics:patching patched zlib 
2022-04-21T16:21:32.262Z appoptics:patching patched mongodb-core 3.0.7
2022-04-21T16:21:32.267Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (253ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:38.861Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:38.862Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:38.862Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:38.863Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:38.950Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:39.108Z appoptics:patching patched crypto 
2022-04-21T16:21:39.147Z appoptics:patching patched https 
2022-04-21T16:21:39.148Z appoptics:patching patched http 
2022-04-21T16:21:39.189Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:39.189Z appoptics:patching patched fs 
2022-04-21T16:21:39.198Z appoptics:patching patched zlib 
2022-04-21T16:21:39.223Z appoptics:patching patched mongodb-core 3.0.8
2022-04-21T16:21:39.228Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (232ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:45.639Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:45.640Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:45.640Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:45.641Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:45.714Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:45.839Z appoptics:patching patched crypto 
2022-04-21T16:21:45.857Z appoptics:patching patched https 
2022-04-21T16:21:45.858Z appoptics:patching patched http 
2022-04-21T16:21:45.898Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:45.898Z appoptics:patching patched fs 
2022-04-21T16:21:45.907Z appoptics:patching patched zlib 
2022-04-21T16:21:45.930Z appoptics:patching patched mongodb-core 3.0.9
2022-04-21T16:21:45.935Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (242ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:52.510Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:52.511Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:52.511Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:52.512Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:52.568Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:52.675Z appoptics:patching patched crypto 
2022-04-21T16:21:52.692Z appoptics:patching patched https 
2022-04-21T16:21:52.693Z appoptics:patching patched http 
2022-04-21T16:21:52.732Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:52.732Z appoptics:patching patched fs 
2022-04-21T16:21:52.741Z appoptics:patching patched zlib 
2022-04-21T16:21:52.762Z appoptics:patching patched mongodb-core 3.0.11
2022-04-21T16:21:52.767Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.0.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (235ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:21:58.953Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:21:58.954Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:21:58.954Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:21:58.954Z appoptics:debug using context provider: ace-context
2022-04-21T16:21:59.012Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:21:59.123Z appoptics:patching patched crypto 
2022-04-21T16:21:59.141Z appoptics:patching patched https 
2022-04-21T16:21:59.141Z appoptics:patching patched http 
2022-04-21T16:21:59.182Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:21:59.182Z appoptics:patching patched fs 
2022-04-21T16:21:59.191Z appoptics:patching patched zlib 
2022-04-21T16:21:59.216Z appoptics:patching patched mongodb-core 3.1.0
2022-04-21T16:21:59.221Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (272ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

11 vulnerabilities (8 moderate, 3 high)

To address issues that do not require attention, run:
  npm audit fix

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:06.282Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:06.282Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:06.282Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:06.283Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:06.342Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:06.451Z appoptics:patching patched crypto 
2022-04-21T16:22:06.469Z appoptics:patching patched https 
2022-04-21T16:22:06.470Z appoptics:patching patched http 
2022-04-21T16:22:06.510Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:06.510Z appoptics:patching patched fs 
2022-04-21T16:22:06.519Z appoptics:patching patched zlib 
2022-04-21T16:22:06.545Z appoptics:patching patched mongodb-core 3.1.1
2022-04-21T16:22:06.550Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (281ms)


changed 2 packages, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:12.507Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:12.508Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:12.508Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:12.509Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:12.566Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:12.674Z appoptics:patching patched crypto 
2022-04-21T16:22:12.692Z appoptics:patching patched https 
2022-04-21T16:22:12.693Z appoptics:patching patched http 
2022-04-21T16:22:12.730Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:12.730Z appoptics:patching patched fs 
2022-04-21T16:22:12.739Z appoptics:patching patched zlib 
2022-04-21T16:22:12.764Z appoptics:patching patched mongodb-core 3.1.2
2022-04-21T16:22:12.769Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (239ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:19.583Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:19.584Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:19.584Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:19.584Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:19.641Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:19.749Z appoptics:patching patched crypto 
2022-04-21T16:22:19.767Z appoptics:patching patched https 
2022-04-21T16:22:19.767Z appoptics:patching patched http 
2022-04-21T16:22:19.805Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:19.805Z appoptics:patching patched fs 
2022-04-21T16:22:19.815Z appoptics:patching patched zlib 
2022-04-21T16:22:19.840Z appoptics:patching patched mongodb-core 3.1.3
2022-04-21T16:22:19.845Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (270ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:26.164Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:26.165Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:26.165Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:26.166Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:26.296Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:26.515Z appoptics:patching patched crypto 
2022-04-21T16:22:26.568Z appoptics:patching patched https 
2022-04-21T16:22:26.569Z appoptics:patching patched http 
2022-04-21T16:22:26.622Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:26.622Z appoptics:patching patched fs 
2022-04-21T16:22:26.639Z appoptics:patching patched zlib 
2022-04-21T16:22:26.695Z appoptics:patching patched mongodb-core 3.1.4
2022-04-21T16:22:26.701Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (48ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (831ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:33.123Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:33.124Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:33.124Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:33.124Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:33.181Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:33.287Z appoptics:patching patched crypto 
2022-04-21T16:22:33.305Z appoptics:patching patched https 
2022-04-21T16:22:33.305Z appoptics:patching patched http 
2022-04-21T16:22:33.346Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:33.347Z appoptics:patching patched fs 
2022-04-21T16:22:33.357Z appoptics:patching patched zlib 
2022-04-21T16:22:33.381Z appoptics:patching patched mongodb-core 3.1.5
2022-04-21T16:22:33.386Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (259ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:40.403Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:40.403Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:40.403Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:40.404Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:40.460Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:40.567Z appoptics:patching patched crypto 
2022-04-21T16:22:40.584Z appoptics:patching patched https 
2022-04-21T16:22:40.584Z appoptics:patching patched http 
2022-04-21T16:22:40.622Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:40.622Z appoptics:patching patched fs 
2022-04-21T16:22:40.632Z appoptics:patching patched zlib 
2022-04-21T16:22:40.658Z appoptics:patching patched mongodb-core 3.1.6
2022-04-21T16:22:40.663Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (270ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:46.590Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:46.591Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:46.591Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:46.591Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:46.651Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:46.775Z appoptics:patching patched crypto 
2022-04-21T16:22:46.792Z appoptics:patching patched https 
2022-04-21T16:22:46.793Z appoptics:patching patched http 
2022-04-21T16:22:46.832Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:46.832Z appoptics:patching patched fs 
2022-04-21T16:22:46.842Z appoptics:patching patched zlib 
2022-04-21T16:22:46.867Z appoptics:patching patched mongodb-core 3.1.7
2022-04-21T16:22:46.872Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (234ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:53.418Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:53.418Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:53.419Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:53.419Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:53.476Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:53.582Z appoptics:patching patched crypto 
2022-04-21T16:22:53.599Z appoptics:patching patched https 
2022-04-21T16:22:53.599Z appoptics:patching patched http 
2022-04-21T16:22:53.637Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:22:53.637Z appoptics:patching patched fs 
2022-04-21T16:22:53.646Z appoptics:patching patched zlib 
2022-04-21T16:22:53.671Z appoptics:patching patched mongodb-core 3.1.8
2022-04-21T16:22:53.676Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.8
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce (80ms)


  33 passing (299ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:22:59.832Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:22:59.832Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:22:59.832Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:22:59.833Z appoptics:debug using context provider: ace-context
2022-04-21T16:22:59.891Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:22:59.998Z appoptics:patching patched crypto 
2022-04-21T16:23:00.015Z appoptics:patching patched https 
2022-04-21T16:23:00.015Z appoptics:patching patched http 
2022-04-21T16:23:00.052Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:00.053Z appoptics:patching patched fs 
2022-04-21T16:23:00.062Z appoptics:patching patched zlib 
2022-04-21T16:23:00.087Z appoptics:patching patched mongodb-core 3.1.9
2022-04-21T16:23:00.092Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.9
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (239ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:06.509Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:06.510Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:06.510Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:06.510Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:06.567Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:06.674Z appoptics:patching patched crypto 
2022-04-21T16:23:06.691Z appoptics:patching patched https 
2022-04-21T16:23:06.692Z appoptics:patching patched http 
2022-04-21T16:23:06.730Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:06.730Z appoptics:patching patched fs 
2022-04-21T16:23:06.740Z appoptics:patching patched zlib 
2022-04-21T16:23:06.764Z appoptics:patching patched mongodb-core 3.1.10
2022-04-21T16:23:06.769Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.10
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (255ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:12.816Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:12.816Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:12.816Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:12.817Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:12.873Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:12.980Z appoptics:patching patched crypto 
2022-04-21T16:23:12.997Z appoptics:patching patched https 
2022-04-21T16:23:12.998Z appoptics:patching patched http 
2022-04-21T16:23:13.036Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:13.037Z appoptics:patching patched fs 
2022-04-21T16:23:13.046Z appoptics:patching patched zlib 
2022-04-21T16:23:13.071Z appoptics:patching patched mongodb-core 3.1.11
2022-04-21T16:23:13.076Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.1.11
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (238ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:19.946Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:19.946Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:19.946Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:19.947Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:20.004Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:20.112Z appoptics:patching patched crypto 
2022-04-21T16:23:20.129Z appoptics:patching patched https 
2022-04-21T16:23:20.130Z appoptics:patching patched http 
2022-04-21T16:23:20.172Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:20.172Z appoptics:patching patched fs 
2022-04-21T16:23:20.184Z appoptics:patching patched zlib 
2022-04-21T16:23:20.216Z appoptics:patching patched mongodb-core 3.2.0
2022-04-21T16:23:20.221Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.0
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (241ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:26.609Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:26.610Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:26.610Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:26.610Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:26.684Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:26.810Z appoptics:patching patched crypto 
2022-04-21T16:23:26.849Z appoptics:patching patched https 
2022-04-21T16:23:26.849Z appoptics:patching patched http 
2022-04-21T16:23:26.887Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:26.888Z appoptics:patching patched fs 
2022-04-21T16:23:26.898Z appoptics:patching patched zlib 
2022-04-21T16:23:26.934Z appoptics:patching patched mongodb-core 3.2.1
2022-04-21T16:23:26.939Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.1
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group (66ms)
        ✓ should map_reduce (54ms)


  33 passing (423ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:33.262Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:33.262Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:33.262Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:33.263Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:33.320Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:33.428Z appoptics:patching patched crypto 
2022-04-21T16:23:33.445Z appoptics:patching patched https 
2022-04-21T16:23:33.445Z appoptics:patching patched http 
2022-04-21T16:23:33.484Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:33.484Z appoptics:patching patched fs 
2022-04-21T16:23:33.494Z appoptics:patching patched zlib 
2022-04-21T16:23:33.524Z appoptics:patching patched mongodb-core 3.2.2
2022-04-21T16:23:33.529Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.2
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (235ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:40.010Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:40.010Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:40.010Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:40.011Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:40.068Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:40.177Z appoptics:patching patched crypto 
2022-04-21T16:23:40.195Z appoptics:patching patched https 
2022-04-21T16:23:40.195Z appoptics:patching patched http 
2022-04-21T16:23:40.232Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:40.233Z appoptics:patching patched fs 
2022-04-21T16:23:40.243Z appoptics:patching patched zlib 
2022-04-21T16:23:40.273Z appoptics:patching patched mongodb-core 3.2.3
2022-04-21T16:23:40.277Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.3
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (266ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:46.493Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:46.493Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:46.494Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:46.494Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:46.552Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:46.660Z appoptics:patching patched crypto 
2022-04-21T16:23:46.678Z appoptics:patching patched https 
2022-04-21T16:23:46.678Z appoptics:patching patched http 
2022-04-21T16:23:46.715Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:46.715Z appoptics:patching patched fs 
2022-04-21T16:23:46.726Z appoptics:patching patched zlib 
2022-04-21T16:23:46.756Z appoptics:patching patched mongodb-core 3.2.4
2022-04-21T16:23:46.760Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.4
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (275ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:53.284Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:53.284Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:53.284Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:53.285Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:53.346Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:53.464Z appoptics:patching patched crypto 
2022-04-21T16:23:53.498Z appoptics:patching patched https 
2022-04-21T16:23:53.499Z appoptics:patching patched http 
2022-04-21T16:23:53.535Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:53.536Z appoptics:patching patched fs 
2022-04-21T16:23:53.546Z appoptics:patching patched zlib 
2022-04-21T16:23:53.581Z appoptics:patching patched mongodb-core 3.2.5
2022-04-21T16:23:53.586Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.5
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create (38ms)
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (254ms)


changed 1 package, and audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:23:59.563Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:23:59.563Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:23:59.563Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:23:59.564Z appoptics:debug using context provider: ace-context
2022-04-21T16:23:59.621Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:23:59.728Z appoptics:patching patched crypto 
2022-04-21T16:23:59.745Z appoptics:patching patched https 
2022-04-21T16:23:59.746Z appoptics:patching patched http 
2022-04-21T16:23:59.783Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:23:59.783Z appoptics:patching patched fs 
2022-04-21T16:23:59.794Z appoptics:patching patched zlib 
2022-04-21T16:23:59.823Z appoptics:patching patched mongodb-core 3.2.6
2022-04-21T16:23:59.828Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.6
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (237ms)


changed 1 package, and audited 927 packages in 6s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
2022-04-21T16:24:06.419Z appoptics:debug read config from /__w/appoptics-apm-node/appoptics-apm-node/appoptics-apm-config
2022-04-21T16:24:06.420Z appoptics:debug guc ignoring APPOPTICS_LOG_SETTINGS
2022-04-21T16:24:06.420Z appoptics:debug serviceKey dIOz...wWK0:node-agent-test
2022-04-21T16:24:06.420Z appoptics:debug using context provider: ace-context
2022-04-21T16:24:06.482Z appoptics:debug apm 10.2.2-ao.0, bindings 11.2.0, oboe 10.2.0
2022-04-21T16:24:06.612Z appoptics:patching patched crypto 
2022-04-21T16:24:06.656Z appoptics:patching patched https 
2022-04-21T16:24:06.657Z appoptics:patching patched http 
2022-04-21T16:24:06.692Z appoptics:patching fs.realpath - adding native method
2022-04-21T16:24:06.693Z appoptics:patching patched fs 
2022-04-21T16:24:06.703Z appoptics:patching patched zlib 
2022-04-21T16:24:06.735Z appoptics:patching patched mongodb-core 3.2.7
2022-04-21T16:24:06.740Z appoptics:debug starting runtimeMetrics


  probes.mongodb-core UDP
    ✓ UDP might lose a message

  probes.mongodb-core 3.2.7
    2.6
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce
    3.0
      databases
        ✓ should drop
      collections
        ✓ should create
        ✓ should rename
        ✓ should drop
      queries
        ✓ should insert
        ✓ should update
        ✓ should findAndModify
        ✓ should distinct
        ✓ should count
        ✓ should remove
      indexes
        ✓ should create_indexes
        ✓ should reindex
        ✓ should drop_indexes
      cursors
        ✓ should find
      aggregations
        ✓ should group
        ✓ should map_reduce


  33 passing (230ms)


up to date, audited 927 packages in 5s

86 packages are looking for funding
  run `npm fund` for details

9 vulnerabilities (6 moderate, 3 high)

To address all issues possible (including breaking changes), run:
  npm audit fix --force

Some issues need review, and may require choosing
a different dependency.

Run `npm audit` for details.
